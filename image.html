<!DOCTYPE html>
<style>
	html,
	body {
		margin: 0;
		padding: 0;
		width: 100%;
		height: 100%;
	}
	img {
		width: 100%;
		height: 100%;
		outline: none;
		display: block;
		user-select: none;
	}
</style>
<html lang="en">
	<script>
		window.electronAPI.sendImage(async (event, data) => {
			// 调用主进程截图
			const imgBuffer = data;

			// 将 ArrayBuffer 转换为 Uint8Array
			const uint8Array = new Uint8Array(imgBuffer);

			// 将 Uint8Array 转换为 Base64 字符串
			let binary = "";
			for (let i = 0; i < uint8Array.length; i++) {
				binary += String.fromCharCode(uint8Array[i]);
			}
			const base64String = window.btoa(binary);

			// 显示截图
			const img = new Image();
			img.src = `data:image/png;base64,${base64String}`;

			document.body.appendChild(img);
		});
	</script>
	<body></body>
</html>
