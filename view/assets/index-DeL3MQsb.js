(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const P of document.querySelectorAll('link[rel="modulepreload"]'))m(P);new MutationObserver(P=>{for(const d of P)if(d.type==="childList")for(const k of d.addedNodes)k.tagName==="LINK"&&k.rel==="modulepreload"&&m(k)}).observe(document,{childList:!0,subtree:!0});function f(P){const d={};return P.integrity&&(d.integrity=P.integrity),P.referrerPolicy&&(d.referrerPolicy=P.referrerPolicy),P.crossOrigin==="use-credentials"?d.credentials="include":P.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function m(P){if(P.ep)return;P.ep=!0;const d=f(P);fetch(P.href,d)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Vr(r,a){const f=new Set(r.split(","));return m=>f.has(m)}const ee={},jn=[],Ne=()=>{},Hu=()=>!1,Ui=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),Hr=r=>r.startsWith("onUpdate:"),Pe=Object.assign,qr=(r,a)=>{const f=r.indexOf(a);f>-1&&r.splice(f,1)},qu=Object.prototype.hasOwnProperty,Zt=(r,a)=>qu.call(r,a),Ft=Array.isArray,si=r=>ji(r)==="[object Map]",Uu=r=>ji(r)==="[object Set]",Vt=r=>typeof r=="function",pe=r=>typeof r=="string",Xn=r=>typeof r=="symbol",ue=r=>r!==null&&typeof r=="object",sa=r=>(ue(r)||Vt(r))&&Vt(r.then)&&Vt(r.catch),ju=Object.prototype.toString,ji=r=>ju.call(r),Wu=r=>ji(r).slice(8,-1),Zu=r=>ji(r)==="[object Object]",Ur=r=>pe(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,ai=Vr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wi=r=>{const a=Object.create(null);return f=>a[f]||(a[f]=r(f))},Ku=/-(\w)/g,Rn=Wi(r=>r.replace(Ku,(a,f)=>f?f.toUpperCase():"")),Gu=/\B([A-Z])/g,Fn=Wi(r=>r.replace(Gu,"-$1").toLowerCase()),aa=Wi(r=>r.charAt(0).toUpperCase()+r.slice(1)),yr=Wi(r=>r?`on${aa(r)}`:""),mn=(r,a)=>!Object.is(r,a),wr=(r,...a)=>{for(let f=0;f<r.length;f++)r[f](...a)},ua=(r,a,f,m=!1)=>{Object.defineProperty(r,a,{configurable:!0,enumerable:!1,writable:m,value:f})},Ju=r=>{const a=parseFloat(r);return isNaN(a)?r:a};let Is;const oa=()=>Is||(Is=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zi(r){if(Ft(r)){const a={};for(let f=0;f<r.length;f++){const m=r[f],P=pe(m)?$u(m):Zi(m);if(P)for(const d in P)a[d]=P[d]}return a}else if(pe(r)||ue(r))return r}const Xu=/;(?![^(]*\))/g,Yu=/:([^]+)/,Qu=/\/\*[^]*?\*\//g;function $u(r){const a={};return r.replace(Qu,"").split(Xu).forEach(f=>{if(f){const m=f.split(Yu);m.length>1&&(a[m[0].trim()]=m[1].trim())}}),a}function Ki(r){let a="";if(pe(r))a=r;else if(Ft(r))for(let f=0;f<r.length;f++){const m=Ki(r[f]);m&&(a+=m+" ")}else if(ue(r))for(const f in r)r[f]&&(a+=f+" ");return a.trim()}const to="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",eo=Vr(to);function la(r){return!!r||r===""}/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let We;class no{constructor(a=!1){this.detached=a,this._active=!0,this.effects=[],this.cleanups=[],this.parent=We,!a&&We&&(this.index=(We.scopes||(We.scopes=[])).push(this)-1)}get active(){return this._active}run(a){if(this._active){const f=We;try{return We=this,a()}finally{We=f}}}on(){We=this}off(){We=this.parent}stop(a){if(this._active){let f,m;for(f=0,m=this.effects.length;f<m;f++)this.effects[f].stop();for(f=0,m=this.cleanups.length;f<m;f++)this.cleanups[f]();if(this.scopes)for(f=0,m=this.scopes.length;f<m;f++)this.scopes[f].stop(!0);if(!this.detached&&this.parent&&!a){const P=this.parent.scopes.pop();P&&P!==this&&(this.parent.scopes[this.index]=P,P.index=this.index)}this.parent=void 0,this._active=!1}}}function io(r,a=We){a&&a.active&&a.effects.push(r)}function ro(){return We}let Ln;class jr{constructor(a,f,m,P){this.fn=a,this.trigger=f,this.scheduler=m,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,io(this,P)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,yn();for(let a=0;a<this._depsLength;a++){const f=this.deps[a];if(f.computed&&(so(f.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),wn()}return this._dirtyLevel>=4}set dirty(a){this._dirtyLevel=a?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let a=pn,f=Ln;try{return pn=!0,Ln=this,this._runnings++,Ts(this),this.fn()}finally{Os(this),this._runnings--,Ln=f,pn=a}}stop(){this.active&&(Ts(this),Os(this),this.onStop&&this.onStop(),this.active=!1)}}function so(r){return r.value}function Ts(r){r._trackId++,r._depsLength=0}function Os(r){if(r.deps.length>r._depsLength){for(let a=r._depsLength;a<r.deps.length;a++)fa(r.deps[a],r);r.deps.length=r._depsLength}}function fa(r,a){const f=r.get(a);f!==void 0&&a._trackId!==f&&(r.delete(a),r.size===0&&r.cleanup())}let pn=!0,Er=0;const ha=[];function yn(){ha.push(pn),pn=!1}function wn(){const r=ha.pop();pn=r===void 0?!0:r}function Wr(){Er++}function Zr(){for(Er--;!Er&&Mr.length;)Mr.shift()()}function ca(r,a,f){if(a.get(r)!==r._trackId){a.set(r,r._trackId);const m=r.deps[r._depsLength];m!==a?(m&&fa(m,r),r.deps[r._depsLength++]=a):r._depsLength++}}const Mr=[];function da(r,a,f){Wr();for(const m of r.keys()){let P;m._dirtyLevel<a&&(P??(P=r.get(m)===m._trackId))&&(m._shouldSchedule||(m._shouldSchedule=m._dirtyLevel===0),m._dirtyLevel=a),m._shouldSchedule&&(P??(P=r.get(m)===m._trackId))&&(m.trigger(),(!m._runnings||m.allowRecurse)&&m._dirtyLevel!==2&&(m._shouldSchedule=!1,m.scheduler&&Mr.push(m.scheduler)))}Zr()}const _a=(r,a)=>{const f=new Map;return f.cleanup=r,f.computed=a,f},Ar=new WeakMap,zn=Symbol(""),Lr=Symbol("");function Me(r,a,f){if(pn&&Ln){let m=Ar.get(r);m||Ar.set(r,m=new Map);let P=m.get(f);P||m.set(f,P=_a(()=>m.delete(f))),ca(Ln,P)}}function sn(r,a,f,m,P,d){const k=Ar.get(r);if(!k)return;let q=[];if(a==="clear")q=[...k.values()];else if(f==="length"&&Ft(r)){const Z=Number(m);k.forEach((tt,Y)=>{(Y==="length"||!Xn(Y)&&Y>=Z)&&q.push(tt)})}else switch(f!==void 0&&q.push(k.get(f)),a){case"add":Ft(r)?Ur(f)&&q.push(k.get("length")):(q.push(k.get(zn)),si(r)&&q.push(k.get(Lr)));break;case"delete":Ft(r)||(q.push(k.get(zn)),si(r)&&q.push(k.get(Lr)));break;case"set":si(r)&&q.push(k.get(zn));break}Wr();for(const Z of q)Z&&da(Z,4);Zr()}const ao=Vr("__proto__,__v_isRef,__isVue"),ga=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Xn)),Es=uo();function uo(){const r={};return["includes","indexOf","lastIndexOf"].forEach(a=>{r[a]=function(...f){const m=Jt(this);for(let d=0,k=this.length;d<k;d++)Me(m,"get",d+"");const P=m[a](...f);return P===-1||P===!1?m[a](...f.map(Jt)):P}}),["push","pop","shift","unshift","splice"].forEach(a=>{r[a]=function(...f){yn(),Wr();const m=Jt(this)[a].apply(this,f);return Zr(),wn(),m}}),r}function oo(r){Xn(r)||(r=String(r));const a=Jt(this);return Me(a,"has",r),a.hasOwnProperty(r)}class pa{constructor(a=!1,f=!1){this._isReadonly=a,this._isShallow=f}get(a,f,m){const P=this._isReadonly,d=this._isShallow;if(f==="__v_isReactive")return!P;if(f==="__v_isReadonly")return P;if(f==="__v_isShallow")return d;if(f==="__v_raw")return m===(P?d?xo:wa:d?ya:ma).get(a)||Object.getPrototypeOf(a)===Object.getPrototypeOf(m)?a:void 0;const k=Ft(a);if(!P){if(k&&Zt(Es,f))return Reflect.get(Es,f,m);if(f==="hasOwnProperty")return oo}const q=Reflect.get(a,f,m);return(Xn(f)?ga.has(f):ao(f))||(P||Me(a,"get",f),d)?q:Ae(q)?k&&Ur(f)?q:q.value:ue(q)?P?ba(q):Jr(q):q}}class va extends pa{constructor(a=!1){super(!1,a)}set(a,f,m,P){let d=a[f];if(!this._isShallow){const Z=Nn(d);if(!Gn(m)&&!Nn(m)&&(d=Jt(d),m=Jt(m)),!Ft(a)&&Ae(d)&&!Ae(m))return Z?!1:(d.value=m,!0)}const k=Ft(a)&&Ur(f)?Number(f)<a.length:Zt(a,f),q=Reflect.set(a,f,m,P);return a===Jt(P)&&(k?mn(m,d)&&sn(a,"set",f,m):sn(a,"add",f,m)),q}deleteProperty(a,f){const m=Zt(a,f);a[f];const P=Reflect.deleteProperty(a,f);return P&&m&&sn(a,"delete",f,void 0),P}has(a,f){const m=Reflect.has(a,f);return(!Xn(f)||!ga.has(f))&&Me(a,"has",f),m}ownKeys(a){return Me(a,"iterate",Ft(a)?"length":zn),Reflect.ownKeys(a)}}class lo extends pa{constructor(a=!1){super(!0,a)}set(a,f){return!0}deleteProperty(a,f){return!0}}const fo=new va,ho=new lo,co=new va(!0);const Kr=r=>r,Gi=r=>Reflect.getPrototypeOf(r);function Oi(r,a,f=!1,m=!1){r=r.__v_raw;const P=Jt(r),d=Jt(a);f||(mn(a,d)&&Me(P,"get",a),Me(P,"get",d));const{has:k}=Gi(P),q=m?Kr:f?Yr:fi;if(k.call(P,a))return q(r.get(a));if(k.call(P,d))return q(r.get(d));r!==P&&r.get(a)}function Ei(r,a=!1){const f=this.__v_raw,m=Jt(f),P=Jt(r);return a||(mn(r,P)&&Me(m,"has",r),Me(m,"has",P)),r===P?f.has(r):f.has(r)||f.has(P)}function Mi(r,a=!1){return r=r.__v_raw,!a&&Me(Jt(r),"iterate",zn),Reflect.get(r,"size",r)}function Ms(r,a=!1){!a&&!Gn(r)&&!Nn(r)&&(r=Jt(r));const f=Jt(this);return Gi(f).has.call(f,r)||(f.add(r),sn(f,"add",r,r)),this}function As(r,a,f=!1){!f&&!Gn(a)&&!Nn(a)&&(a=Jt(a));const m=Jt(this),{has:P,get:d}=Gi(m);let k=P.call(m,r);k||(r=Jt(r),k=P.call(m,r));const q=d.call(m,r);return m.set(r,a),k?mn(a,q)&&sn(m,"set",r,a):sn(m,"add",r,a),this}function Ls(r){const a=Jt(this),{has:f,get:m}=Gi(a);let P=f.call(a,r);P||(r=Jt(r),P=f.call(a,r)),m&&m.call(a,r);const d=a.delete(r);return P&&sn(a,"delete",r,void 0),d}function zs(){const r=Jt(this),a=r.size!==0,f=r.clear();return a&&sn(r,"clear",void 0,void 0),f}function Ai(r,a){return function(m,P){const d=this,k=d.__v_raw,q=Jt(k),Z=a?Kr:r?Yr:fi;return!r&&Me(q,"iterate",zn),k.forEach((tt,Y)=>m.call(P,Z(tt),Z(Y),d))}}function Li(r,a,f){return function(...m){const P=this.__v_raw,d=Jt(P),k=si(d),q=r==="entries"||r===Symbol.iterator&&k,Z=r==="keys"&&k,tt=P[r](...m),Y=f?Kr:a?Yr:fi;return!a&&Me(d,"iterate",Z?Lr:zn),{next(){const{value:nt,done:Ct}=tt.next();return Ct?{value:nt,done:Ct}:{value:q?[Y(nt[0]),Y(nt[1])]:Y(nt),done:Ct}},[Symbol.iterator](){return this}}}}function cn(r){return function(...a){return r==="delete"?!1:r==="clear"?void 0:this}}function _o(){const r={get(d){return Oi(this,d)},get size(){return Mi(this)},has:Ei,add:Ms,set:As,delete:Ls,clear:zs,forEach:Ai(!1,!1)},a={get(d){return Oi(this,d,!1,!0)},get size(){return Mi(this)},has:Ei,add(d){return Ms.call(this,d,!0)},set(d,k){return As.call(this,d,k,!0)},delete:Ls,clear:zs,forEach:Ai(!1,!0)},f={get(d){return Oi(this,d,!0)},get size(){return Mi(this,!0)},has(d){return Ei.call(this,d,!0)},add:cn("add"),set:cn("set"),delete:cn("delete"),clear:cn("clear"),forEach:Ai(!0,!1)},m={get(d){return Oi(this,d,!0,!0)},get size(){return Mi(this,!0)},has(d){return Ei.call(this,d,!0)},add:cn("add"),set:cn("set"),delete:cn("delete"),clear:cn("clear"),forEach:Ai(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{r[d]=Li(d,!1,!1),f[d]=Li(d,!0,!1),a[d]=Li(d,!1,!0),m[d]=Li(d,!0,!0)}),[r,f,a,m]}const[go,po,vo,mo]=_o();function Gr(r,a){const f=a?r?mo:vo:r?po:go;return(m,P,d)=>P==="__v_isReactive"?!r:P==="__v_isReadonly"?r:P==="__v_raw"?m:Reflect.get(Zt(f,P)&&P in m?f:m,P,d)}const yo={get:Gr(!1,!1)},wo={get:Gr(!1,!0)},bo={get:Gr(!0,!1)};const ma=new WeakMap,ya=new WeakMap,wa=new WeakMap,xo=new WeakMap;function Co(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function So(r){return r.__v_skip||!Object.isExtensible(r)?0:Co(Wu(r))}function Jr(r){return Nn(r)?r:Xr(r,!1,fo,yo,ma)}function Po(r){return Xr(r,!1,co,wo,ya)}function ba(r){return Xr(r,!0,ho,bo,wa)}function Xr(r,a,f,m,P){if(!ue(r)||r.__v_raw&&!(a&&r.__v_isReactive))return r;const d=P.get(r);if(d)return d;const k=So(r);if(k===0)return r;const q=new Proxy(r,k===2?m:f);return P.set(r,q),q}function ui(r){return Nn(r)?ui(r.__v_raw):!!(r&&r.__v_isReactive)}function Nn(r){return!!(r&&r.__v_isReadonly)}function Gn(r){return!!(r&&r.__v_isShallow)}function xa(r){return r?!!r.__v_raw:!1}function Jt(r){const a=r&&r.__v_raw;return a?Jt(a):r}function Io(r){return Object.isExtensible(r)&&ua(r,"__v_skip",!0),r}const fi=r=>ue(r)?Jr(r):r,Yr=r=>ue(r)?ba(r):r;class Ca{constructor(a,f,m,P){this.getter=a,this._setter=f,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new jr(()=>a(this._value),()=>ki(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!P,this.__v_isReadonly=m}get value(){const a=Jt(this);return(!a._cacheable||a.effect.dirty)&&mn(a._value,a._value=a.effect.run())&&ki(a,4),Sa(a),a.effect._dirtyLevel>=2&&ki(a,2),a._value}set value(a){this._setter(a)}get _dirty(){return this.effect.dirty}set _dirty(a){this.effect.dirty=a}}function To(r,a,f=!1){let m,P;const d=Vt(r);return d?(m=r,P=Ne):(m=r.get,P=r.set),new Ca(m,P,d||!P,f)}function Sa(r){var a;pn&&Ln&&(r=Jt(r),ca(Ln,(a=r.dep)!=null?a:r.dep=_a(()=>r.dep=void 0,r instanceof Ca?r:void 0)))}function ki(r,a=4,f,m){r=Jt(r);const P=r.dep;P&&da(P,a)}function Ae(r){return!!(r&&r.__v_isRef===!0)}function br(r){return Oo(r,!1)}function Oo(r,a){return Ae(r)?r:new Eo(r,a)}class Eo{constructor(a,f){this.__v_isShallow=f,this.dep=void 0,this.__v_isRef=!0,this._rawValue=f?a:Jt(a),this._value=f?a:fi(a)}get value(){return Sa(this),this._value}set value(a){const f=this.__v_isShallow||Gn(a)||Nn(a);a=f?a:Jt(a),mn(a,this._rawValue)&&(this._rawValue,this._rawValue=a,this._value=f?a:fi(a),ki(this,4))}}function Mo(r){return Ae(r)?r.value:r}const Ao={get:(r,a,f)=>Mo(Reflect.get(r,a,f)),set:(r,a,f,m)=>{const P=r[a];return Ae(P)&&!Ae(f)?(P.value=f,!0):Reflect.set(r,a,f,m)}};function Pa(r){return ui(r)?r:new Proxy(r,Ao)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vn(r,a,f,m){try{return m?r(...m):r()}catch(P){Ji(P,a,f)}}function Ke(r,a,f,m){if(Vt(r)){const P=vn(r,a,f,m);return P&&sa(P)&&P.catch(d=>{Ji(d,a,f)}),P}if(Ft(r)){const P=[];for(let d=0;d<r.length;d++)P.push(Ke(r[d],a,f,m));return P}}function Ji(r,a,f,m=!0){const P=a?a.vnode:null;if(a){let d=a.parent;const k=a.proxy,q=`https://vuejs.org/error-reference/#runtime-${f}`;for(;d;){const tt=d.ec;if(tt){for(let Y=0;Y<tt.length;Y++)if(tt[Y](r,k,q)===!1)return}d=d.parent}const Z=a.appContext.config.errorHandler;if(Z){yn(),vn(Z,null,10,[r,k,q]),wn();return}}Lo(r,f,P,m)}function Lo(r,a,f,m=!0){console.error(r)}let hi=!1,zr=!1;const we=[];let tn=0;const Wn=[];let dn=null,An=0;const Ia=Promise.resolve();let Qr=null;function Ta(r){const a=Qr||Ia;return r?a.then(this?r.bind(this):r):a}function zo(r){let a=tn+1,f=we.length;for(;a<f;){const m=a+f>>>1,P=we[m],d=ci(P);d<r||d===r&&P.pre?a=m+1:f=m}return a}function $r(r){(!we.length||!we.includes(r,hi&&r.allowRecurse?tn+1:tn))&&(r.id==null?we.push(r):we.splice(zo(r.id),0,r),Oa())}function Oa(){!hi&&!zr&&(zr=!0,Qr=Ia.then(Ma))}function ko(r){const a=we.indexOf(r);a>tn&&we.splice(a,1)}function Ro(r){Ft(r)?Wn.push(...r):(!dn||!dn.includes(r,r.allowRecurse?An+1:An))&&Wn.push(r),Oa()}function ks(r,a,f=hi?tn+1:0){for(;f<we.length;f++){const m=we[f];if(m&&m.pre){if(r&&m.id!==r.uid)continue;we.splice(f,1),f--,m()}}}function Ea(r){if(Wn.length){const a=[...new Set(Wn)].sort((f,m)=>ci(f)-ci(m));if(Wn.length=0,dn){dn.push(...a);return}for(dn=a,An=0;An<dn.length;An++){const f=dn[An];f.active!==!1&&f()}dn=null,An=0}}const ci=r=>r.id==null?1/0:r.id,No=(r,a)=>{const f=ci(r)-ci(a);if(f===0){if(r.pre&&!a.pre)return-1;if(a.pre&&!r.pre)return 1}return f};function Ma(r){zr=!1,hi=!0,we.sort(No);try{for(tn=0;tn<we.length;tn++){const a=we[tn];a&&a.active!==!1&&vn(a,a.i,a.i?15:14)}}finally{tn=0,we.length=0,Ea(),hi=!1,Qr=null,(we.length||Wn.length)&&Ma()}}let Fe=null,Aa=null;function Di(r){const a=Fe;return Fe=r,Aa=r&&r.type.__scopeId||null,a}function Fo(r,a=Fe,f){if(!a||r._n)return r;const m=(...P)=>{m._d&&Us(-1);const d=Di(a);let k;try{k=r(...P)}finally{Di(d),m._d&&Us(1)}return k};return m._n=!0,m._c=!0,m._d=!0,m}function Bo(r,a){if(Fe===null)return r;const f=tr(Fe),m=r.dirs||(r.dirs=[]);for(let P=0;P<a.length;P++){let[d,k,q,Z=ee]=a[P];d&&(Vt(d)&&(d={mounted:d,updated:d}),d.deep&&gn(k),m.push({dir:d,instance:f,value:k,oldValue:void 0,arg:q,modifiers:Z}))}return r}function En(r,a,f,m){const P=r.dirs,d=a&&a.dirs;for(let k=0;k<P.length;k++){const q=P[k];d&&(q.oldValue=d[k].value);let Z=q.dir[m];Z&&(yn(),Ke(Z,f,8,[r.el,q,r,a]),wn())}}function La(r,a){r.shapeFlag&6&&r.component?La(r.component.subTree,a):r.shapeFlag&128?(r.ssContent.transition=a.clone(r.ssContent),r.ssFallback.transition=a.clone(r.ssFallback)):r.transition=a}const Ri=r=>!!r.type.__asyncLoader,za=r=>r.type.__isKeepAlive;function Do(r,a){ka(r,"a",a)}function Vo(r,a){ka(r,"da",a)}function ka(r,a,f=Se){const m=r.__wdc||(r.__wdc=()=>{let P=f;for(;P;){if(P.isDeactivated)return;P=P.parent}return r()});if(Xi(a,m,f),f){let P=f.parent;for(;P&&P.parent;)za(P.parent.vnode)&&Ho(m,a,f,P),P=P.parent}}function Ho(r,a,f,m){const P=Xi(a,r,m,!0);Na(()=>{qr(m[a],P)},f)}function Xi(r,a,f=Se,m=!1){if(f){const P=f[r]||(f[r]=[]),d=a.__weh||(a.__weh=(...k)=>{yn();const q=gi(f),Z=Ke(a,f,r,k);return q(),wn(),Z});return m?P.unshift(d):P.push(d),d}}const an=r=>(a,f=Se)=>{(!$i||r==="sp")&&Xi(r,(...m)=>a(...m),f)},qo=an("bm"),Ra=an("m"),Uo=an("bu"),jo=an("u"),Wo=an("bum"),Na=an("um"),Zo=an("sp"),Ko=an("rtg"),Go=an("rtc");function Jo(r,a=Se){Xi("ec",r,a)}const Xo=Symbol.for("v-ndc");function Yo(r,a,f,m){let P;const d=f;if(Ft(r)||pe(r)){P=new Array(r.length);for(let k=0,q=r.length;k<q;k++)P[k]=a(r[k],k,void 0,d)}else if(typeof r=="number"){P=new Array(r);for(let k=0;k<r;k++)P[k]=a(k+1,k,void 0,d)}else if(ue(r))if(r[Symbol.iterator])P=Array.from(r,(k,q)=>a(k,q,void 0,d));else{const k=Object.keys(r);P=new Array(k.length);for(let q=0,Z=k.length;q<Z;q++){const tt=k[q];P[q]=a(r[tt],tt,q,d)}}else P=[];return P}const kr=r=>r?tu(r)?tr(r):kr(r.parent):null,oi=Pe(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>kr(r.parent),$root:r=>kr(r.root),$emit:r=>r.emit,$options:r=>ts(r),$forceUpdate:r=>r.f||(r.f=()=>{r.effect.dirty=!0,$r(r.update)}),$nextTick:r=>r.n||(r.n=Ta.bind(r.proxy)),$watch:r=>bl.bind(r)}),xr=(r,a)=>r!==ee&&!r.__isScriptSetup&&Zt(r,a),Qo={get({_:r},a){if(a==="__v_skip")return!0;const{ctx:f,setupState:m,data:P,props:d,accessCache:k,type:q,appContext:Z}=r;let tt;if(a[0]!=="$"){const N=k[a];if(N!==void 0)switch(N){case 1:return m[a];case 2:return P[a];case 4:return f[a];case 3:return d[a]}else{if(xr(m,a))return k[a]=1,m[a];if(P!==ee&&Zt(P,a))return k[a]=2,P[a];if((tt=r.propsOptions[0])&&Zt(tt,a))return k[a]=3,d[a];if(f!==ee&&Zt(f,a))return k[a]=4,f[a];Rr&&(k[a]=0)}}const Y=oi[a];let nt,Ct;if(Y)return a==="$attrs"&&Me(r.attrs,"get",""),Y(r);if((nt=q.__cssModules)&&(nt=nt[a]))return nt;if(f!==ee&&Zt(f,a))return k[a]=4,f[a];if(Ct=Z.config.globalProperties,Zt(Ct,a))return Ct[a]},set({_:r},a,f){const{data:m,setupState:P,ctx:d}=r;return xr(P,a)?(P[a]=f,!0):m!==ee&&Zt(m,a)?(m[a]=f,!0):Zt(r.props,a)||a[0]==="$"&&a.slice(1)in r?!1:(d[a]=f,!0)},has({_:{data:r,setupState:a,accessCache:f,ctx:m,appContext:P,propsOptions:d}},k){let q;return!!f[k]||r!==ee&&Zt(r,k)||xr(a,k)||(q=d[0])&&Zt(q,k)||Zt(m,k)||Zt(oi,k)||Zt(P.config.globalProperties,k)},defineProperty(r,a,f){return f.get!=null?r._.accessCache[a]=0:Zt(f,"value")&&this.set(r,a,f.value,null),Reflect.defineProperty(r,a,f)}};function Rs(r){return Ft(r)?r.reduce((a,f)=>(a[f]=null,a),{}):r}let Rr=!0;function $o(r){const a=ts(r),f=r.proxy,m=r.ctx;Rr=!1,a.beforeCreate&&Ns(a.beforeCreate,r,"bc");const{data:P,computed:d,methods:k,watch:q,provide:Z,inject:tt,created:Y,beforeMount:nt,mounted:Ct,beforeUpdate:N,updated:Ht,activated:ct,deactivated:Ot,beforeDestroy:ht,beforeUnmount:Rt,destroyed:mt,unmounted:It,render:qt,renderTracked:_t,renderTriggered:Kt,errorCaptured:oe,serverPrefetch:ie,expose:be,inheritAttrs:Be,components:Yt,directives:Ie,filters:Pt}=a;if(tt&&tl(tt,m,null),k)for(const Ut in k){const jt=k[Ut];Vt(jt)&&(m[Ut]=jt.bind(f))}if(P){const Ut=P.call(f,f);ue(Ut)&&(r.data=Jr(Ut))}if(Rr=!0,d)for(const Ut in d){const jt=d[Ut],Bt=Vt(jt)?jt.bind(f,f):Vt(jt.get)?jt.get.bind(f,f):Ne,xe=!Vt(jt)&&Vt(jt.set)?jt.set.bind(f):Ne,Ge=Wl({get:Bt,set:xe});Object.defineProperty(m,Ut,{enumerable:!0,configurable:!0,get:()=>Ge.value,set:ke=>Ge.value=ke})}if(q)for(const Ut in q)Fa(q[Ut],m,f,Ut);if(Z){const Ut=Vt(Z)?Z.call(f):Z;Reflect.ownKeys(Ut).forEach(jt=>{al(jt,Ut[jt])})}Y&&Ns(Y,r,"c");function st(Ut,jt){Ft(jt)?jt.forEach(Bt=>Ut(Bt.bind(f))):jt&&Ut(jt.bind(f))}if(st(qo,nt),st(Ra,Ct),st(Uo,N),st(jo,Ht),st(Do,ct),st(Vo,Ot),st(Jo,oe),st(Go,_t),st(Ko,Kt),st(Wo,Rt),st(Na,It),st(Zo,ie),Ft(be))if(be.length){const Ut=r.exposed||(r.exposed={});be.forEach(jt=>{Object.defineProperty(Ut,jt,{get:()=>f[jt],set:Bt=>f[jt]=Bt})})}else r.exposed||(r.exposed={});qt&&r.render===Ne&&(r.render=qt),Be!=null&&(r.inheritAttrs=Be),Yt&&(r.components=Yt),Ie&&(r.directives=Ie)}function tl(r,a,f=Ne){Ft(r)&&(r=Nr(r));for(const m in r){const P=r[m];let d;ue(P)?"default"in P?d=Ni(P.from||m,P.default,!0):d=Ni(P.from||m):d=Ni(P),Ae(d)?Object.defineProperty(a,m,{enumerable:!0,configurable:!0,get:()=>d.value,set:k=>d.value=k}):a[m]=d}}function Ns(r,a,f){Ke(Ft(r)?r.map(m=>m.bind(a.proxy)):r.bind(a.proxy),a,f)}function Fa(r,a,f,m){const P=m.includes(".")?Ya(f,m):()=>f[m];if(pe(r)){const d=a[r];Vt(d)&&Sr(P,d)}else if(Vt(r))Sr(P,r.bind(f));else if(ue(r))if(Ft(r))r.forEach(d=>Fa(d,a,f,m));else{const d=Vt(r.handler)?r.handler.bind(f):a[r.handler];Vt(d)&&Sr(P,d,r)}}function ts(r){const a=r.type,{mixins:f,extends:m}=a,{mixins:P,optionsCache:d,config:{optionMergeStrategies:k}}=r.appContext,q=d.get(a);let Z;return q?Z=q:!P.length&&!f&&!m?Z=a:(Z={},P.length&&P.forEach(tt=>Vi(Z,tt,k,!0)),Vi(Z,a,k)),ue(a)&&d.set(a,Z),Z}function Vi(r,a,f,m=!1){const{mixins:P,extends:d}=a;d&&Vi(r,d,f,!0),P&&P.forEach(k=>Vi(r,k,f,!0));for(const k in a)if(!(m&&k==="expose")){const q=el[k]||f&&f[k];r[k]=q?q(r[k],a[k]):a[k]}return r}const el={data:Fs,props:Bs,emits:Bs,methods:ri,computed:ri,beforeCreate:Ce,created:Ce,beforeMount:Ce,mounted:Ce,beforeUpdate:Ce,updated:Ce,beforeDestroy:Ce,beforeUnmount:Ce,destroyed:Ce,unmounted:Ce,activated:Ce,deactivated:Ce,errorCaptured:Ce,serverPrefetch:Ce,components:ri,directives:ri,watch:il,provide:Fs,inject:nl};function Fs(r,a){return a?r?function(){return Pe(Vt(r)?r.call(this,this):r,Vt(a)?a.call(this,this):a)}:a:r}function nl(r,a){return ri(Nr(r),Nr(a))}function Nr(r){if(Ft(r)){const a={};for(let f=0;f<r.length;f++)a[r[f]]=r[f];return a}return r}function Ce(r,a){return r?[...new Set([].concat(r,a))]:a}function ri(r,a){return r?Pe(Object.create(null),r,a):a}function Bs(r,a){return r?Ft(r)&&Ft(a)?[...new Set([...r,...a])]:Pe(Object.create(null),Rs(r),Rs(a??{})):a}function il(r,a){if(!r)return a;if(!a)return r;const f=Pe(Object.create(null),r);for(const m in a)f[m]=Ce(r[m],a[m]);return f}function Ba(){return{app:null,config:{isNativeTag:Hu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rl=0;function sl(r,a){return function(m,P=null){Vt(m)||(m=Pe({},m)),P!=null&&!ue(P)&&(P=null);const d=Ba(),k=new WeakSet;let q=!1;const Z=d.app={_uid:rl++,_component:m,_props:P,_container:null,_context:d,_instance:null,version:Zl,get config(){return d.config},set config(tt){},use(tt,...Y){return k.has(tt)||(tt&&Vt(tt.install)?(k.add(tt),tt.install(Z,...Y)):Vt(tt)&&(k.add(tt),tt(Z,...Y))),Z},mixin(tt){return d.mixins.includes(tt)||d.mixins.push(tt),Z},component(tt,Y){return Y?(d.components[tt]=Y,Z):d.components[tt]},directive(tt,Y){return Y?(d.directives[tt]=Y,Z):d.directives[tt]},mount(tt,Y,nt){if(!q){const Ct=kn(m,P);return Ct.appContext=d,nt===!0?nt="svg":nt===!1&&(nt=void 0),Y&&a?a(Ct,tt):r(Ct,tt,nt),q=!0,Z._container=tt,tt.__vue_app__=Z,tr(Ct.component)}},unmount(){q&&(r(null,Z._container),delete Z._container.__vue_app__)},provide(tt,Y){return d.provides[tt]=Y,Z},runWithContext(tt){const Y=Zn;Zn=Z;try{return tt()}finally{Zn=Y}}};return Z}}let Zn=null;function al(r,a){if(Se){let f=Se.provides;const m=Se.parent&&Se.parent.provides;m===f&&(f=Se.provides=Object.create(m)),f[r]=a}}function Ni(r,a,f=!1){const m=Se||Fe;if(m||Zn){const P=Zn?Zn._context.provides:m?m.parent==null?m.vnode.appContext&&m.vnode.appContext.provides:m.parent.provides:void 0;if(P&&r in P)return P[r];if(arguments.length>1)return f&&Vt(a)?a.call(m&&m.proxy):a}}const Da={},Va=()=>Object.create(Da),Ha=r=>Object.getPrototypeOf(r)===Da;function ul(r,a,f,m=!1){const P={},d=Va();r.propsDefaults=Object.create(null),qa(r,a,P,d);for(const k in r.propsOptions[0])k in P||(P[k]=void 0);f?r.props=m?P:Po(P):r.type.props?r.props=P:r.props=d,r.attrs=d}function ol(r,a,f,m){const{props:P,attrs:d,vnode:{patchFlag:k}}=r,q=Jt(P),[Z]=r.propsOptions;let tt=!1;if((m||k>0)&&!(k&16)){if(k&8){const Y=r.vnode.dynamicProps;for(let nt=0;nt<Y.length;nt++){let Ct=Y[nt];if(Yi(r.emitsOptions,Ct))continue;const N=a[Ct];if(Z)if(Zt(d,Ct))N!==d[Ct]&&(d[Ct]=N,tt=!0);else{const Ht=Rn(Ct);P[Ht]=Fr(Z,q,Ht,N,r,!1)}else N!==d[Ct]&&(d[Ct]=N,tt=!0)}}}else{qa(r,a,P,d)&&(tt=!0);let Y;for(const nt in q)(!a||!Zt(a,nt)&&((Y=Fn(nt))===nt||!Zt(a,Y)))&&(Z?f&&(f[nt]!==void 0||f[Y]!==void 0)&&(P[nt]=Fr(Z,q,nt,void 0,r,!0)):delete P[nt]);if(d!==q)for(const nt in d)(!a||!Zt(a,nt))&&(delete d[nt],tt=!0)}tt&&sn(r.attrs,"set","")}function qa(r,a,f,m){const[P,d]=r.propsOptions;let k=!1,q;if(a)for(let Z in a){if(ai(Z))continue;const tt=a[Z];let Y;P&&Zt(P,Y=Rn(Z))?!d||!d.includes(Y)?f[Y]=tt:(q||(q={}))[Y]=tt:Yi(r.emitsOptions,Z)||(!(Z in m)||tt!==m[Z])&&(m[Z]=tt,k=!0)}if(d){const Z=Jt(f),tt=q||ee;for(let Y=0;Y<d.length;Y++){const nt=d[Y];f[nt]=Fr(P,Z,nt,tt[nt],r,!Zt(tt,nt))}}return k}function Fr(r,a,f,m,P,d){const k=r[f];if(k!=null){const q=Zt(k,"default");if(q&&m===void 0){const Z=k.default;if(k.type!==Function&&!k.skipFactory&&Vt(Z)){const{propsDefaults:tt}=P;if(f in tt)m=tt[f];else{const Y=gi(P);m=tt[f]=Z.call(null,a),Y()}}else m=Z}k[0]&&(d&&!q?m=!1:k[1]&&(m===""||m===Fn(f))&&(m=!0))}return m}const ll=new WeakMap;function Ua(r,a,f=!1){const m=f?ll:a.propsCache,P=m.get(r);if(P)return P;const d=r.props,k={},q=[];let Z=!1;if(!Vt(r)){const Y=nt=>{Z=!0;const[Ct,N]=Ua(nt,a,!0);Pe(k,Ct),N&&q.push(...N)};!f&&a.mixins.length&&a.mixins.forEach(Y),r.extends&&Y(r.extends),r.mixins&&r.mixins.forEach(Y)}if(!d&&!Z)return ue(r)&&m.set(r,jn),jn;if(Ft(d))for(let Y=0;Y<d.length;Y++){const nt=Rn(d[Y]);Ds(nt)&&(k[nt]=ee)}else if(d)for(const Y in d){const nt=Rn(Y);if(Ds(nt)){const Ct=d[Y],N=k[nt]=Ft(Ct)||Vt(Ct)?{type:Ct}:Pe({},Ct),Ht=N.type;let ct=!1,Ot=!0;if(Ft(Ht))for(let ht=0;ht<Ht.length;++ht){const Rt=Ht[ht],mt=Vt(Rt)&&Rt.name;if(mt==="Boolean"){ct=!0;break}else mt==="String"&&(Ot=!1)}else ct=Vt(Ht)&&Ht.name==="Boolean";N[0]=ct,N[1]=Ot,(ct||Zt(N,"default"))&&q.push(nt)}}const tt=[k,q];return ue(r)&&m.set(r,tt),tt}function Ds(r){return r[0]!=="$"&&!ai(r)}const ja=r=>r[0]==="_"||r==="$stable",es=r=>Ft(r)?r.map($e):[$e(r)],fl=(r,a,f)=>{if(a._n)return a;const m=Fo((...P)=>es(a(...P)),f);return m._c=!1,m},Wa=(r,a,f)=>{const m=r._ctx;for(const P in r){if(ja(P))continue;const d=r[P];if(Vt(d))a[P]=fl(P,d,m);else if(d!=null){const k=es(d);a[P]=()=>k}}},Za=(r,a)=>{const f=es(a);r.slots.default=()=>f},Ka=(r,a,f)=>{for(const m in a)(f||m!=="_")&&(r[m]=a[m])},hl=(r,a,f)=>{const m=r.slots=Va();if(r.vnode.shapeFlag&32){const P=a._;P?(Ka(m,a,f),f&&ua(m,"_",P,!0)):Wa(a,m)}else a&&Za(r,a)},cl=(r,a,f)=>{const{vnode:m,slots:P}=r;let d=!0,k=ee;if(m.shapeFlag&32){const q=a._;q?f&&q===1?d=!1:Ka(P,a,f):(d=!a.$stable,Wa(a,P)),k=a}else a&&(Za(r,a),k={default:1});if(d)for(const q in P)!ja(q)&&k[q]==null&&delete P[q]};function Br(r,a,f,m,P=!1){if(Ft(r)){r.forEach((Ct,N)=>Br(Ct,a&&(Ft(a)?a[N]:a),f,m,P));return}if(Ri(m)&&!P)return;const d=m.shapeFlag&4?tr(m.component):m.el,k=P?null:d,{i:q,r:Z}=r,tt=a&&a.r,Y=q.refs===ee?q.refs={}:q.refs,nt=q.setupState;if(tt!=null&&tt!==Z&&(pe(tt)?(Y[tt]=null,Zt(nt,tt)&&(nt[tt]=null)):Ae(tt)&&(tt.value=null)),Vt(Z))vn(Z,q,12,[k,Y]);else{const Ct=pe(Z),N=Ae(Z);if(Ct||N){const Ht=()=>{if(r.f){const ct=Ct?Zt(nt,Z)?nt[Z]:Y[Z]:Z.value;P?Ft(ct)&&qr(ct,d):Ft(ct)?ct.includes(d)||ct.push(d):Ct?(Y[Z]=[d],Zt(nt,Z)&&(nt[Z]=Y[Z])):(Z.value=[d],r.k&&(Y[r.k]=Z.value))}else Ct?(Y[Z]=k,Zt(nt,Z)&&(nt[Z]=k)):N&&(Z.value=k,r.k&&(Y[r.k]=k))};k?(Ht.id=-1,Ee(Ht,f)):Ht()}}}const dl=Symbol("_vte"),_l=r=>r.__isTeleport,Ee=El;function gl(r){return pl(r)}function pl(r,a){const f=oa();f.__VUE__=!0;const{insert:m,remove:P,patchProp:d,createElement:k,createText:q,createComment:Z,setText:tt,setElementText:Y,parentNode:nt,nextSibling:Ct,setScopeId:N=Ne,insertStaticContent:Ht}=r,ct=(B,U,X,ut=null,it=null,lt=null,yt=void 0,vt=null,at=!!U.dynamicChildren)=>{if(B===U)return;B&&!ni(B,U)&&(ut=un(B),ke(B,it,lt,!0),B=null),U.patchFlag===-2&&(at=!1,U.dynamicChildren=null);const{type:rt,ref:dt,shapeFlag:St}=U;switch(rt){case Qi:Ot(B,U,X,ut);break;case di:ht(B,U,X,ut);break;case Ir:B==null&&Rt(U,X,ut,yt);break;case Ze:Yt(B,U,X,ut,it,lt,yt,vt,at);break;default:St&1?qt(B,U,X,ut,it,lt,yt,vt,at):St&6?Ie(B,U,X,ut,it,lt,yt,vt,at):(St&64||St&128)&&rt.process(B,U,X,ut,it,lt,yt,vt,at,Qt)}dt!=null&&it&&Br(dt,B&&B.ref,lt,U||B,!U)},Ot=(B,U,X,ut)=>{if(B==null)m(U.el=q(U.children),X,ut);else{const it=U.el=B.el;U.children!==B.children&&tt(it,U.children)}},ht=(B,U,X,ut)=>{B==null?m(U.el=Z(U.children||""),X,ut):U.el=B.el},Rt=(B,U,X,ut)=>{[B.el,B.anchor]=Ht(B.children,U,X,ut,B.el,B.anchor)},mt=({el:B,anchor:U},X,ut)=>{let it;for(;B&&B!==U;)it=Ct(B),m(B,X,ut),B=it;m(U,X,ut)},It=({el:B,anchor:U})=>{let X;for(;B&&B!==U;)X=Ct(B),P(B),B=X;P(U)},qt=(B,U,X,ut,it,lt,yt,vt,at)=>{U.type==="svg"?yt="svg":U.type==="math"&&(yt="mathml"),B==null?_t(U,X,ut,it,lt,yt,vt,at):ie(B,U,it,lt,yt,vt,at)},_t=(B,U,X,ut,it,lt,yt,vt)=>{let at,rt;const{props:dt,shapeFlag:St,transition:ot,dirs:t}=B;if(at=B.el=k(B.type,lt,dt&&dt.is,dt),St&8?Y(at,B.children):St&16&&oe(B.children,at,null,ut,it,Cr(B,lt),yt,vt),t&&En(B,null,ut,"created"),Kt(at,B,B.scopeId,yt,ut),dt){for(const n in dt)n!=="value"&&!ai(n)&&d(at,n,null,dt[n],lt,ut);"value"in dt&&d(at,"value",null,dt.value,lt),(rt=dt.onVnodeBeforeMount)&&Qe(rt,ut,B)}t&&En(B,null,ut,"beforeMount");const e=vl(it,ot);e&&ot.beforeEnter(at),m(at,U,X),((rt=dt&&dt.onVnodeMounted)||e||t)&&Ee(()=>{rt&&Qe(rt,ut,B),e&&ot.enter(at),t&&En(B,null,ut,"mounted")},it)},Kt=(B,U,X,ut,it)=>{if(X&&N(B,X),ut)for(let lt=0;lt<ut.length;lt++)N(B,ut[lt]);if(it){let lt=it.subTree;if(U===lt){const yt=it.vnode;Kt(B,yt,yt.scopeId,yt.slotScopeIds,it.parent)}}},oe=(B,U,X,ut,it,lt,yt,vt,at=0)=>{for(let rt=at;rt<B.length;rt++){const dt=B[rt]=vt?_n(B[rt]):$e(B[rt]);ct(null,dt,U,X,ut,it,lt,yt,vt)}},ie=(B,U,X,ut,it,lt,yt)=>{const vt=U.el=B.el;let{patchFlag:at,dynamicChildren:rt,dirs:dt}=U;at|=B.patchFlag&16;const St=B.props||ee,ot=U.props||ee;let t;if(X&&Mn(X,!1),(t=ot.onVnodeBeforeUpdate)&&Qe(t,X,U,B),dt&&En(U,B,X,"beforeUpdate"),X&&Mn(X,!0),(St.innerHTML&&ot.innerHTML==null||St.textContent&&ot.textContent==null)&&Y(vt,""),rt?be(B.dynamicChildren,rt,vt,X,ut,Cr(U,it),lt):yt||jt(B,U,vt,null,X,ut,Cr(U,it),lt,!1),at>0){if(at&16)Be(vt,St,ot,X,it);else if(at&2&&St.class!==ot.class&&d(vt,"class",null,ot.class,it),at&4&&d(vt,"style",St.style,ot.style,it),at&8){const e=U.dynamicProps;for(let n=0;n<e.length;n++){const i=e[n],s=St[i],u=ot[i];(u!==s||i==="value")&&d(vt,i,s,u,it,X)}}at&1&&B.children!==U.children&&Y(vt,U.children)}else!yt&&rt==null&&Be(vt,St,ot,X,it);((t=ot.onVnodeUpdated)||dt)&&Ee(()=>{t&&Qe(t,X,U,B),dt&&En(U,B,X,"updated")},ut)},be=(B,U,X,ut,it,lt,yt)=>{for(let vt=0;vt<U.length;vt++){const at=B[vt],rt=U[vt],dt=at.el&&(at.type===Ze||!ni(at,rt)||at.shapeFlag&70)?nt(at.el):X;ct(at,rt,dt,null,ut,it,lt,yt,!0)}},Be=(B,U,X,ut,it)=>{if(U!==X){if(U!==ee)for(const lt in U)!ai(lt)&&!(lt in X)&&d(B,lt,U[lt],null,it,ut);for(const lt in X){if(ai(lt))continue;const yt=X[lt],vt=U[lt];yt!==vt&&lt!=="value"&&d(B,lt,vt,yt,it,ut)}"value"in X&&d(B,"value",U.value,X.value,it)}},Yt=(B,U,X,ut,it,lt,yt,vt,at)=>{const rt=U.el=B?B.el:q(""),dt=U.anchor=B?B.anchor:q("");let{patchFlag:St,dynamicChildren:ot,slotScopeIds:t}=U;t&&(vt=vt?vt.concat(t):t),B==null?(m(rt,X,ut),m(dt,X,ut),oe(U.children||[],X,dt,it,lt,yt,vt,at)):St>0&&St&64&&ot&&B.dynamicChildren?(be(B.dynamicChildren,ot,X,it,lt,yt,vt),(U.key!=null||it&&U===it.subTree)&&Ga(B,U,!0)):jt(B,U,X,dt,it,lt,yt,vt,at)},Ie=(B,U,X,ut,it,lt,yt,vt,at)=>{U.slotScopeIds=vt,B==null?U.shapeFlag&512?it.ctx.activate(U,X,ut,yt,at):Pt(U,X,ut,it,lt,yt,at):Bn(B,U,at)},Pt=(B,U,X,ut,it,lt,yt)=>{const vt=B.component=Dl(B,ut,it);if(za(B)&&(vt.ctx.renderer=Qt),Vl(vt,!1,yt),vt.asyncDep){if(it&&it.registerDep(vt,st,yt),!B.el){const at=vt.subTree=kn(di);ht(null,at,U,X)}}else st(vt,B,U,X,it,lt,yt)},Bn=(B,U,X)=>{const ut=U.component=B.component;if(Il(B,U,X))if(ut.asyncDep&&!ut.asyncResolved){Ut(ut,U,X);return}else ut.next=U,ko(ut.update),ut.effect.dirty=!0,ut.update();else U.el=B.el,ut.vnode=U},st=(B,U,X,ut,it,lt,yt)=>{const vt=()=>{if(B.isMounted){let{next:dt,bu:St,u:ot,parent:t,vnode:e}=B;{const l=Ja(B);if(l){dt&&(dt.el=e.el,Ut(B,dt,yt)),l.asyncDep.then(()=>{B.isUnmounted||vt()});return}}let n=dt,i;Mn(B,!1),dt?(dt.el=e.el,Ut(B,dt,yt)):dt=e,St&&wr(St),(i=dt.props&&dt.props.onVnodeBeforeUpdate)&&Qe(i,t,dt,e),Mn(B,!0);const s=Pr(B),u=B.subTree;B.subTree=s,ct(u,s,nt(u.el),un(u),B,it,lt),dt.el=s.el,n===null&&Tl(B,s.el),ot&&Ee(ot,it),(i=dt.props&&dt.props.onVnodeUpdated)&&Ee(()=>Qe(i,t,dt,e),it)}else{let dt;const{el:St,props:ot}=U,{bm:t,m:e,parent:n}=B,i=Ri(U);if(Mn(B,!1),t&&wr(t),!i&&(dt=ot&&ot.onVnodeBeforeMount)&&Qe(dt,n,U),Mn(B,!0),St&&pi){const s=()=>{B.subTree=Pr(B),pi(St,B.subTree,B,it,null)};i?U.type.__asyncLoader().then(()=>!B.isUnmounted&&s()):s()}else{const s=B.subTree=Pr(B);ct(null,s,X,ut,B,it,lt),U.el=s.el}if(e&&Ee(e,it),!i&&(dt=ot&&ot.onVnodeMounted)){const s=U;Ee(()=>Qe(dt,n,s),it)}(U.shapeFlag&256||n&&Ri(n.vnode)&&n.vnode.shapeFlag&256)&&B.a&&Ee(B.a,it),B.isMounted=!0,U=X=ut=null}},at=B.effect=new jr(vt,Ne,()=>$r(rt),B.scope),rt=B.update=()=>{at.dirty&&at.run()};rt.i=B,rt.id=B.uid,Mn(B,!0),rt()},Ut=(B,U,X)=>{U.component=B;const ut=B.vnode.props;B.vnode=U,B.next=null,ol(B,U.props,ut,X),cl(B,U.children,X),yn(),ks(B),wn()},jt=(B,U,X,ut,it,lt,yt,vt,at=!1)=>{const rt=B&&B.children,dt=B?B.shapeFlag:0,St=U.children,{patchFlag:ot,shapeFlag:t}=U;if(ot>0){if(ot&128){xe(rt,St,X,ut,it,lt,yt,vt,at);return}else if(ot&256){Bt(rt,St,X,ut,it,lt,yt,vt,at);return}}t&8?(dt&16&&Je(rt,it,lt),St!==rt&&Y(X,St)):dt&16?t&16?xe(rt,St,X,ut,it,lt,yt,vt,at):Je(rt,it,lt,!0):(dt&8&&Y(X,""),t&16&&oe(St,X,ut,it,lt,yt,vt,at))},Bt=(B,U,X,ut,it,lt,yt,vt,at)=>{B=B||jn,U=U||jn;const rt=B.length,dt=U.length,St=Math.min(rt,dt);let ot;for(ot=0;ot<St;ot++){const t=U[ot]=at?_n(U[ot]):$e(U[ot]);ct(B[ot],t,X,null,it,lt,yt,vt,at)}rt>dt?Je(B,it,lt,!0,!1,St):oe(U,X,ut,it,lt,yt,vt,at,St)},xe=(B,U,X,ut,it,lt,yt,vt,at)=>{let rt=0;const dt=U.length;let St=B.length-1,ot=dt-1;for(;rt<=St&&rt<=ot;){const t=B[rt],e=U[rt]=at?_n(U[rt]):$e(U[rt]);if(ni(t,e))ct(t,e,X,null,it,lt,yt,vt,at);else break;rt++}for(;rt<=St&&rt<=ot;){const t=B[St],e=U[ot]=at?_n(U[ot]):$e(U[ot]);if(ni(t,e))ct(t,e,X,null,it,lt,yt,vt,at);else break;St--,ot--}if(rt>St){if(rt<=ot){const t=ot+1,e=t<dt?U[t].el:ut;for(;rt<=ot;)ct(null,U[rt]=at?_n(U[rt]):$e(U[rt]),X,e,it,lt,yt,vt,at),rt++}}else if(rt>ot)for(;rt<=St;)ke(B[rt],it,lt,!0),rt++;else{const t=rt,e=rt,n=new Map;for(rt=e;rt<=ot;rt++){const v=U[rt]=at?_n(U[rt]):$e(U[rt]);v.key!=null&&n.set(v.key,rt)}let i,s=0;const u=ot-e+1;let l=!1,o=0;const h=new Array(u);for(rt=0;rt<u;rt++)h[rt]=0;for(rt=t;rt<=St;rt++){const v=B[rt];if(s>=u){ke(v,it,lt,!0);continue}let y;if(v.key!=null)y=n.get(v.key);else for(i=e;i<=ot;i++)if(h[i-e]===0&&ni(v,U[i])){y=i;break}y===void 0?ke(v,it,lt,!0):(h[y-e]=rt+1,y>=o?o=y:l=!0,ct(v,U[y],X,null,it,lt,yt,vt,at),s++)}const c=l?ml(h):jn;for(i=c.length-1,rt=u-1;rt>=0;rt--){const v=e+rt,y=U[v],p=v+1<dt?U[v+1].el:ut;h[rt]===0?ct(null,y,X,p,it,lt,yt,vt,at):l&&(i<0||rt!==c[i]?Ge(y,X,p,2):i--)}}},Ge=(B,U,X,ut,it=null)=>{const{el:lt,type:yt,transition:vt,children:at,shapeFlag:rt}=B;if(rt&6){Ge(B.component.subTree,U,X,ut);return}if(rt&128){B.suspense.move(U,X,ut);return}if(rt&64){yt.move(B,U,X,Qt);return}if(yt===Ze){m(lt,U,X);for(let St=0;St<at.length;St++)Ge(at[St],U,X,ut);m(B.anchor,U,X);return}if(yt===Ir){mt(B,U,X);return}if(ut!==2&&rt&1&&vt)if(ut===0)vt.beforeEnter(lt),m(lt,U,X),Ee(()=>vt.enter(lt),it);else{const{leave:St,delayLeave:ot,afterLeave:t}=vt,e=()=>m(lt,U,X),n=()=>{St(lt,()=>{e(),t&&t()})};ot?ot(lt,e,n):n()}else m(lt,U,X)},ke=(B,U,X,ut=!1,it=!1)=>{const{type:lt,props:yt,ref:vt,children:at,dynamicChildren:rt,shapeFlag:dt,patchFlag:St,dirs:ot,cacheIndex:t}=B;if(St===-2&&(it=!1),vt!=null&&Br(vt,null,X,B,!0),t!=null&&(U.renderCache[t]=void 0),dt&256){U.ctx.deactivate(B);return}const e=dt&1&&ot,n=!Ri(B);let i;if(n&&(i=yt&&yt.onVnodeBeforeUnmount)&&Qe(i,U,B),dt&6)re(B.component,X,ut);else{if(dt&128){B.suspense.unmount(X,ut);return}e&&En(B,null,U,"beforeUnmount"),dt&64?B.type.remove(B,U,X,Qt,ut):rt&&!rt.hasOnce&&(lt!==Ze||St>0&&St&64)?Je(rt,U,X,!1,!0):(lt===Ze&&St&384||!it&&dt&16)&&Je(at,U,X),ut&&bn(B)}(n&&(i=yt&&yt.onVnodeUnmounted)||e)&&Ee(()=>{i&&Qe(i,U,B),e&&En(B,null,U,"unmounted")},X)},bn=B=>{const{type:U,el:X,anchor:ut,transition:it}=B;if(U===Ze){er(X,ut);return}if(U===Ir){It(B);return}const lt=()=>{P(X),it&&!it.persisted&&it.afterLeave&&it.afterLeave()};if(B.shapeFlag&1&&it&&!it.persisted){const{leave:yt,delayLeave:vt}=it,at=()=>yt(X,lt);vt?vt(B.el,lt,at):at()}else lt()},er=(B,U)=>{let X;for(;B!==U;)X=Ct(B),P(B),B=X;P(U)},re=(B,U,X)=>{const{bum:ut,scope:it,update:lt,subTree:yt,um:vt,m:at,a:rt}=B;Vs(at),Vs(rt),ut&&wr(ut),it.stop(),lt&&(lt.active=!1,ke(yt,B,U,X)),vt&&Ee(vt,U),Ee(()=>{B.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve())},Je=(B,U,X,ut=!1,it=!1,lt=0)=>{for(let yt=lt;yt<B.length;yt++)ke(B[yt],U,X,ut,it)},un=B=>{if(B.shapeFlag&6)return un(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const U=Ct(B.anchor||B.el),X=U&&U[dl];return X?Ct(X):U};let xn=!1;const te=(B,U,X)=>{B==null?U._vnode&&ke(U._vnode,null,null,!0):ct(U._vnode||null,B,U,null,null,null,X),U._vnode=B,xn||(xn=!0,ks(),Ea(),xn=!1)},Qt={p:ct,um:ke,m:Ge,r:bn,mt:Pt,mc:oe,pc:jt,pbc:be,n:un,o:r};let $t,pi;return{render:te,hydrate:$t,createApp:sl(te,$t)}}function Cr({type:r,props:a},f){return f==="svg"&&r==="foreignObject"||f==="mathml"&&r==="annotation-xml"&&a&&a.encoding&&a.encoding.includes("html")?void 0:f}function Mn({effect:r,update:a},f){r.allowRecurse=a.allowRecurse=f}function vl(r,a){return(!r||r&&!r.pendingBranch)&&a&&!a.persisted}function Ga(r,a,f=!1){const m=r.children,P=a.children;if(Ft(m)&&Ft(P))for(let d=0;d<m.length;d++){const k=m[d];let q=P[d];q.shapeFlag&1&&!q.dynamicChildren&&((q.patchFlag<=0||q.patchFlag===32)&&(q=P[d]=_n(P[d]),q.el=k.el),!f&&q.patchFlag!==-2&&Ga(k,q)),q.type===Qi&&(q.el=k.el)}}function ml(r){const a=r.slice(),f=[0];let m,P,d,k,q;const Z=r.length;for(m=0;m<Z;m++){const tt=r[m];if(tt!==0){if(P=f[f.length-1],r[P]<tt){a[m]=P,f.push(m);continue}for(d=0,k=f.length-1;d<k;)q=d+k>>1,r[f[q]]<tt?d=q+1:k=q;tt<r[f[d]]&&(d>0&&(a[m]=f[d-1]),f[d]=m)}}for(d=f.length,k=f[d-1];d-- >0;)f[d]=k,k=a[k];return f}function Ja(r){const a=r.subTree.component;if(a)return a.asyncDep&&!a.asyncResolved?a:Ja(a)}function Vs(r){if(r)for(let a=0;a<r.length;a++)r[a].active=!1}const yl=Symbol.for("v-scx"),wl=()=>Ni(yl),zi={};function Sr(r,a,f){return Xa(r,a,f)}function Xa(r,a,{immediate:f,deep:m,flush:P,once:d,onTrack:k,onTrigger:q}=ee){if(a&&d){const _t=a;a=(...Kt)=>{_t(...Kt),qt()}}const Z=Se,tt=_t=>m===!0?_t:gn(_t,m===!1?1:void 0);let Y,nt=!1,Ct=!1;if(Ae(r)?(Y=()=>r.value,nt=Gn(r)):ui(r)?(Y=()=>tt(r),nt=!0):Ft(r)?(Ct=!0,nt=r.some(_t=>ui(_t)||Gn(_t)),Y=()=>r.map(_t=>{if(Ae(_t))return _t.value;if(ui(_t))return tt(_t);if(Vt(_t))return vn(_t,Z,2)})):Vt(r)?a?Y=()=>vn(r,Z,2):Y=()=>(N&&N(),Ke(r,Z,3,[Ht])):Y=Ne,a&&m){const _t=Y;Y=()=>gn(_t())}let N,Ht=_t=>{N=mt.onStop=()=>{vn(_t,Z,4),N=mt.onStop=void 0}},ct;if($i)if(Ht=Ne,a?f&&Ke(a,Z,3,[Y(),Ct?[]:void 0,Ht]):Y(),P==="sync"){const _t=wl();ct=_t.__watcherHandles||(_t.__watcherHandles=[])}else return Ne;let Ot=Ct?new Array(r.length).fill(zi):zi;const ht=()=>{if(!(!mt.active||!mt.dirty))if(a){const _t=mt.run();(m||nt||(Ct?_t.some((Kt,oe)=>mn(Kt,Ot[oe])):mn(_t,Ot)))&&(N&&N(),Ke(a,Z,3,[_t,Ot===zi?void 0:Ct&&Ot[0]===zi?[]:Ot,Ht]),Ot=_t)}else mt.run()};ht.allowRecurse=!!a;let Rt;P==="sync"?Rt=ht:P==="post"?Rt=()=>Ee(ht,Z&&Z.suspense):(ht.pre=!0,Z&&(ht.id=Z.uid),Rt=()=>$r(ht));const mt=new jr(Y,Ne,Rt),It=ro(),qt=()=>{mt.stop(),It&&qr(It.effects,mt)};return a?f?ht():Ot=mt.run():P==="post"?Ee(mt.run.bind(mt),Z&&Z.suspense):mt.run(),ct&&ct.push(qt),qt}function bl(r,a,f){const m=this.proxy,P=pe(r)?r.includes(".")?Ya(m,r):()=>m[r]:r.bind(m,m);let d;Vt(a)?d=a:(d=a.handler,f=a);const k=gi(this),q=Xa(P,d.bind(m),f);return k(),q}function Ya(r,a){const f=a.split(".");return()=>{let m=r;for(let P=0;P<f.length&&m;P++)m=m[f[P]];return m}}function gn(r,a=1/0,f){if(a<=0||!ue(r)||r.__v_skip||(f=f||new Set,f.has(r)))return r;if(f.add(r),a--,Ae(r))gn(r.value,a,f);else if(Ft(r))for(let m=0;m<r.length;m++)gn(r[m],a,f);else if(Uu(r)||si(r))r.forEach(m=>{gn(m,a,f)});else if(Zu(r)){for(const m in r)gn(r[m],a,f);for(const m of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,m)&&gn(r[m],a,f)}return r}const xl=(r,a)=>a==="modelValue"||a==="model-value"?r.modelModifiers:r[`${a}Modifiers`]||r[`${Rn(a)}Modifiers`]||r[`${Fn(a)}Modifiers`];function Cl(r,a,...f){if(r.isUnmounted)return;const m=r.vnode.props||ee;let P=f;const d=a.startsWith("update:"),k=d&&xl(m,a.slice(7));k&&(k.trim&&(P=f.map(Y=>pe(Y)?Y.trim():Y)),k.number&&(P=f.map(Ju)));let q,Z=m[q=yr(a)]||m[q=yr(Rn(a))];!Z&&d&&(Z=m[q=yr(Fn(a))]),Z&&Ke(Z,r,6,P);const tt=m[q+"Once"];if(tt){if(!r.emitted)r.emitted={};else if(r.emitted[q])return;r.emitted[q]=!0,Ke(tt,r,6,P)}}function Qa(r,a,f=!1){const m=a.emitsCache,P=m.get(r);if(P!==void 0)return P;const d=r.emits;let k={},q=!1;if(!Vt(r)){const Z=tt=>{const Y=Qa(tt,a,!0);Y&&(q=!0,Pe(k,Y))};!f&&a.mixins.length&&a.mixins.forEach(Z),r.extends&&Z(r.extends),r.mixins&&r.mixins.forEach(Z)}return!d&&!q?(ue(r)&&m.set(r,null),null):(Ft(d)?d.forEach(Z=>k[Z]=null):Pe(k,d),ue(r)&&m.set(r,k),k)}function Yi(r,a){return!r||!Ui(a)?!1:(a=a.slice(2).replace(/Once$/,""),Zt(r,a[0].toLowerCase()+a.slice(1))||Zt(r,Fn(a))||Zt(r,a))}function Pr(r){const{type:a,vnode:f,proxy:m,withProxy:P,propsOptions:[d],slots:k,attrs:q,emit:Z,render:tt,renderCache:Y,props:nt,data:Ct,setupState:N,ctx:Ht,inheritAttrs:ct}=r,Ot=Di(r);let ht,Rt;try{if(f.shapeFlag&4){const It=P||m,qt=It;ht=$e(tt.call(qt,It,Y,nt,N,Ct,Ht)),Rt=q}else{const It=a;ht=$e(It.length>1?It(nt,{attrs:q,slots:k,emit:Z}):It(nt,null)),Rt=a.props?q:Sl(q)}}catch(It){li.length=0,Ji(It,r,1),ht=kn(di)}let mt=ht;if(Rt&&ct!==!1){const It=Object.keys(Rt),{shapeFlag:qt}=mt;It.length&&qt&7&&(d&&It.some(Hr)&&(Rt=Pl(Rt,d)),mt=Jn(mt,Rt,!1,!0))}return f.dirs&&(mt=Jn(mt,null,!1,!0),mt.dirs=mt.dirs?mt.dirs.concat(f.dirs):f.dirs),f.transition&&(mt.transition=f.transition),ht=mt,Di(Ot),ht}const Sl=r=>{let a;for(const f in r)(f==="class"||f==="style"||Ui(f))&&((a||(a={}))[f]=r[f]);return a},Pl=(r,a)=>{const f={};for(const m in r)(!Hr(m)||!(m.slice(9)in a))&&(f[m]=r[m]);return f};function Il(r,a,f){const{props:m,children:P,component:d}=r,{props:k,children:q,patchFlag:Z}=a,tt=d.emitsOptions;if(a.dirs||a.transition)return!0;if(f&&Z>=0){if(Z&1024)return!0;if(Z&16)return m?Hs(m,k,tt):!!k;if(Z&8){const Y=a.dynamicProps;for(let nt=0;nt<Y.length;nt++){const Ct=Y[nt];if(k[Ct]!==m[Ct]&&!Yi(tt,Ct))return!0}}}else return(P||q)&&(!q||!q.$stable)?!0:m===k?!1:m?k?Hs(m,k,tt):!0:!!k;return!1}function Hs(r,a,f){const m=Object.keys(a);if(m.length!==Object.keys(r).length)return!0;for(let P=0;P<m.length;P++){const d=m[P];if(a[d]!==r[d]&&!Yi(f,d))return!0}return!1}function Tl({vnode:r,parent:a},f){for(;a;){const m=a.subTree;if(m.suspense&&m.suspense.activeBranch===r&&(m.el=r.el),m===r)(r=a.vnode).el=f,a=a.parent;else break}}const Ol=r=>r.__isSuspense;function El(r,a){a&&a.pendingBranch?Ft(r)?a.effects.push(...r):a.effects.push(r):Ro(r)}const Ze=Symbol.for("v-fgt"),Qi=Symbol.for("v-txt"),di=Symbol.for("v-cmt"),Ir=Symbol.for("v-stc"),li=[];let ze=null;function qs(r=!1){li.push(ze=r?null:[])}function Ml(){li.pop(),ze=li[li.length-1]||null}let _i=1;function Us(r){_i+=r,r<0&&ze&&(ze.hasOnce=!0)}function Al(r){return r.dynamicChildren=_i>0?ze||jn:null,Ml(),_i>0&&ze&&ze.push(r),r}function js(r,a,f,m,P,d){return Al(Kn(r,a,f,m,P,d,!0))}function Ll(r){return r?r.__v_isVNode===!0:!1}function ni(r,a){return r.type===a.type&&r.key===a.key}const $a=({key:r})=>r??null,Fi=({ref:r,ref_key:a,ref_for:f})=>(typeof r=="number"&&(r=""+r),r!=null?pe(r)||Ae(r)||Vt(r)?{i:Fe,r,k:a,f:!!f}:r:null);function Kn(r,a=null,f=null,m=0,P=null,d=r===Ze?0:1,k=!1,q=!1){const Z={__v_isVNode:!0,__v_skip:!0,type:r,props:a,key:a&&$a(a),ref:a&&Fi(a),scopeId:Aa,slotScopeIds:null,children:f,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:m,dynamicProps:P,dynamicChildren:null,appContext:null,ctx:Fe};return q?(ns(Z,f),d&128&&r.normalize(Z)):f&&(Z.shapeFlag|=pe(f)?8:16),_i>0&&!k&&ze&&(Z.patchFlag>0||d&6)&&Z.patchFlag!==32&&ze.push(Z),Z}const kn=zl;function zl(r,a=null,f=null,m=0,P=null,d=!1){if((!r||r===Xo)&&(r=di),Ll(r)){const q=Jn(r,a,!0);return f&&ns(q,f),_i>0&&!d&&ze&&(q.shapeFlag&6?ze[ze.indexOf(r)]=q:ze.push(q)),q.patchFlag=-2,q}if(jl(r)&&(r=r.__vccOpts),a){a=kl(a);let{class:q,style:Z}=a;q&&!pe(q)&&(a.class=Ki(q)),ue(Z)&&(xa(Z)&&!Ft(Z)&&(Z=Pe({},Z)),a.style=Zi(Z))}const k=pe(r)?1:Ol(r)?128:_l(r)?64:ue(r)?4:Vt(r)?2:0;return Kn(r,a,f,m,P,k,d,!0)}function kl(r){return r?xa(r)||Ha(r)?Pe({},r):r:null}function Jn(r,a,f=!1,m=!1){const{props:P,ref:d,patchFlag:k,children:q,transition:Z}=r,tt=a?Nl(P||{},a):P,Y={__v_isVNode:!0,__v_skip:!0,type:r.type,props:tt,key:tt&&$a(tt),ref:a&&a.ref?f&&d?Ft(d)?d.concat(Fi(a)):[d,Fi(a)]:Fi(a):d,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:q,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:a&&r.type!==Ze?k===-1?16:k|16:k,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:Z,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Jn(r.ssContent),ssFallback:r.ssFallback&&Jn(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return Z&&m&&La(Y,Z.clone(Y)),Y}function Rl(r=" ",a=0){return kn(Qi,null,r,a)}function $e(r){return r==null||typeof r=="boolean"?kn(di):Ft(r)?kn(Ze,null,r.slice()):typeof r=="object"?_n(r):kn(Qi,null,String(r))}function _n(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Jn(r)}function ns(r,a){let f=0;const{shapeFlag:m}=r;if(a==null)a=null;else if(Ft(a))f=16;else if(typeof a=="object")if(m&65){const P=a.default;P&&(P._c&&(P._d=!1),ns(r,P()),P._c&&(P._d=!0));return}else{f=32;const P=a._;!P&&!Ha(a)?a._ctx=Fe:P===3&&Fe&&(Fe.slots._===1?a._=1:(a._=2,r.patchFlag|=1024))}else Vt(a)?(a={default:a,_ctx:Fe},f=32):(a=String(a),m&64?(f=16,a=[Rl(a)]):f=8);r.children=a,r.shapeFlag|=f}function Nl(...r){const a={};for(let f=0;f<r.length;f++){const m=r[f];for(const P in m)if(P==="class")a.class!==m.class&&(a.class=Ki([a.class,m.class]));else if(P==="style")a.style=Zi([a.style,m.style]);else if(Ui(P)){const d=a[P],k=m[P];k&&d!==k&&!(Ft(d)&&d.includes(k))&&(a[P]=d?[].concat(d,k):k)}else P!==""&&(a[P]=m[P])}return a}function Qe(r,a,f,m=null){Ke(r,a,7,[f,m])}const Fl=Ba();let Bl=0;function Dl(r,a,f){const m=r.type,P=(a?a.appContext:r.appContext)||Fl,d={uid:Bl++,vnode:r,type:m,parent:a,appContext:P,root:null,next:null,subTree:null,effect:null,update:null,scope:new no(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:a?a.provides:Object.create(P.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ua(m,P),emitsOptions:Qa(m,P),emit:null,emitted:null,propsDefaults:ee,inheritAttrs:m.inheritAttrs,ctx:ee,data:ee,props:ee,attrs:ee,slots:ee,refs:ee,setupState:ee,setupContext:null,suspense:f,suspenseId:f?f.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=a?a.root:d,d.emit=Cl.bind(null,d),r.ce&&r.ce(d),d}let Se=null,Hi,Dr;{const r=oa(),a=(f,m)=>{let P;return(P=r[f])||(P=r[f]=[]),P.push(m),d=>{P.length>1?P.forEach(k=>k(d)):P[0](d)}};Hi=a("__VUE_INSTANCE_SETTERS__",f=>Se=f),Dr=a("__VUE_SSR_SETTERS__",f=>$i=f)}const gi=r=>{const a=Se;return Hi(r),r.scope.on(),()=>{r.scope.off(),Hi(a)}},Ws=()=>{Se&&Se.scope.off(),Hi(null)};function tu(r){return r.vnode.shapeFlag&4}let $i=!1;function Vl(r,a=!1,f=!1){a&&Dr(a);const{props:m,children:P}=r.vnode,d=tu(r);ul(r,m,d,a),hl(r,P,f);const k=d?Hl(r,a):void 0;return a&&Dr(!1),k}function Hl(r,a){const f=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,Qo);const{setup:m}=f;if(m){const P=r.setupContext=m.length>1?Ul(r):null,d=gi(r);yn();const k=vn(m,r,0,[r.props,P]);if(wn(),d(),sa(k)){if(k.then(Ws,Ws),a)return k.then(q=>{Zs(r,q,a)}).catch(q=>{Ji(q,r,0)});r.asyncDep=k}else Zs(r,k,a)}else eu(r,a)}function Zs(r,a,f){Vt(a)?r.type.__ssrInlineRender?r.ssrRender=a:r.render=a:ue(a)&&(r.setupState=Pa(a)),eu(r,f)}let Ks;function eu(r,a,f){const m=r.type;if(!r.render){if(!a&&Ks&&!m.render){const P=m.template||ts(r).template;if(P){const{isCustomElement:d,compilerOptions:k}=r.appContext.config,{delimiters:q,compilerOptions:Z}=m,tt=Pe(Pe({isCustomElement:d,delimiters:q},k),Z);m.render=Ks(P,tt)}}r.render=m.render||Ne}{const P=gi(r);yn();try{$o(r)}finally{wn(),P()}}}const ql={get(r,a){return Me(r,"get",""),r[a]}};function Ul(r){const a=f=>{r.exposed=f||{}};return{attrs:new Proxy(r.attrs,ql),slots:r.slots,emit:r.emit,expose:a}}function tr(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(Pa(Io(r.exposed)),{get(a,f){if(f in a)return a[f];if(f in oi)return oi[f](r)},has(a,f){return f in a||f in oi}})):r.proxy}function jl(r){return Vt(r)&&"__vccOpts"in r}const Wl=(r,a)=>To(r,a,$i),Zl="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Kl="http://www.w3.org/2000/svg",Gl="http://www.w3.org/1998/Math/MathML",rn=typeof document<"u"?document:null,Gs=rn&&rn.createElement("template"),Jl={insert:(r,a,f)=>{a.insertBefore(r,f||null)},remove:r=>{const a=r.parentNode;a&&a.removeChild(r)},createElement:(r,a,f,m)=>{const P=a==="svg"?rn.createElementNS(Kl,r):a==="mathml"?rn.createElementNS(Gl,r):f?rn.createElement(r,{is:f}):rn.createElement(r);return r==="select"&&m&&m.multiple!=null&&P.setAttribute("multiple",m.multiple),P},createText:r=>rn.createTextNode(r),createComment:r=>rn.createComment(r),setText:(r,a)=>{r.nodeValue=a},setElementText:(r,a)=>{r.textContent=a},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>rn.querySelector(r),setScopeId(r,a){r.setAttribute(a,"")},insertStaticContent(r,a,f,m,P,d){const k=f?f.previousSibling:a.lastChild;if(P&&(P===d||P.nextSibling))for(;a.insertBefore(P.cloneNode(!0),f),!(P===d||!(P=P.nextSibling)););else{Gs.innerHTML=m==="svg"?`<svg>${r}</svg>`:m==="mathml"?`<math>${r}</math>`:r;const q=Gs.content;if(m==="svg"||m==="mathml"){const Z=q.firstChild;for(;Z.firstChild;)q.appendChild(Z.firstChild);q.removeChild(Z)}a.insertBefore(q,f)}return[k?k.nextSibling:a.firstChild,f?f.previousSibling:a.lastChild]}},Xl=Symbol("_vtc");function Yl(r,a,f){const m=r[Xl];m&&(a=(a?[a,...m]:[...m]).join(" ")),a==null?r.removeAttribute("class"):f?r.setAttribute("class",a):r.className=a}const qi=Symbol("_vod"),nu=Symbol("_vsh"),Ql={beforeMount(r,{value:a},{transition:f}){r[qi]=r.style.display==="none"?"":r.style.display,f&&a?f.beforeEnter(r):ii(r,a)},mounted(r,{value:a},{transition:f}){f&&a&&f.enter(r)},updated(r,{value:a,oldValue:f},{transition:m}){!a!=!f&&(m?a?(m.beforeEnter(r),ii(r,!0),m.enter(r)):m.leave(r,()=>{ii(r,!1)}):ii(r,a))},beforeUnmount(r,{value:a}){ii(r,a)}};function ii(r,a){r.style.display=a?r[qi]:"none",r[nu]=!a}const $l=Symbol(""),tf=/(^|;)\s*display\s*:/;function ef(r,a,f){const m=r.style,P=pe(f);let d=!1;if(f&&!P){if(a)if(pe(a))for(const k of a.split(";")){const q=k.slice(0,k.indexOf(":")).trim();f[q]==null&&Bi(m,q,"")}else for(const k in a)f[k]==null&&Bi(m,k,"");for(const k in f)k==="display"&&(d=!0),Bi(m,k,f[k])}else if(P){if(a!==f){const k=m[$l];k&&(f+=";"+k),m.cssText=f,d=tf.test(f)}}else a&&r.removeAttribute("style");qi in r&&(r[qi]=d?m.display:"",r[nu]&&(m.display="none"))}const Js=/\s*!important$/;function Bi(r,a,f){if(Ft(f))f.forEach(m=>Bi(r,a,m));else if(f==null&&(f=""),a.startsWith("--"))r.setProperty(a,f);else{const m=nf(r,a);Js.test(f)?r.setProperty(Fn(m),f.replace(Js,""),"important"):r[m]=f}}const Xs=["Webkit","Moz","ms"],Tr={};function nf(r,a){const f=Tr[a];if(f)return f;let m=Rn(a);if(m!=="filter"&&m in r)return Tr[a]=m;m=aa(m);for(let P=0;P<Xs.length;P++){const d=Xs[P]+m;if(d in r)return Tr[a]=d}return a}const Ys="http://www.w3.org/1999/xlink";function Qs(r,a,f,m,P,d=eo(a)){m&&a.startsWith("xlink:")?f==null?r.removeAttributeNS(Ys,a.slice(6,a.length)):r.setAttributeNS(Ys,a,f):f==null||d&&!la(f)?r.removeAttribute(a):r.setAttribute(a,d?"":Xn(f)?String(f):f)}function rf(r,a,f,m){if(a==="innerHTML"||a==="textContent"){if(f==null)return;r[a]=f;return}const P=r.tagName;if(a==="value"&&P!=="PROGRESS"&&!P.includes("-")){const k=P==="OPTION"?r.getAttribute("value")||"":r.value,q=f==null?"":String(f);(k!==q||!("_value"in r))&&(r.value=q),f==null&&r.removeAttribute(a),r._value=f;return}let d=!1;if(f===""||f==null){const k=typeof r[a];k==="boolean"?f=la(f):f==null&&k==="string"?(f="",d=!0):k==="number"&&(f=0,d=!0)}try{r[a]=f}catch{}d&&r.removeAttribute(a)}function sf(r,a,f,m){r.addEventListener(a,f,m)}function af(r,a,f,m){r.removeEventListener(a,f,m)}const $s=Symbol("_vei");function uf(r,a,f,m,P=null){const d=r[$s]||(r[$s]={}),k=d[a];if(m&&k)k.value=m;else{const[q,Z]=of(a);if(m){const tt=d[a]=hf(m,P);sf(r,q,tt,Z)}else k&&(af(r,q,k,Z),d[a]=void 0)}}const ta=/(?:Once|Passive|Capture)$/;function of(r){let a;if(ta.test(r)){a={};let m;for(;m=r.match(ta);)r=r.slice(0,r.length-m[0].length),a[m[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Fn(r.slice(2)),a]}let Or=0;const lf=Promise.resolve(),ff=()=>Or||(lf.then(()=>Or=0),Or=Date.now());function hf(r,a){const f=m=>{if(!m._vts)m._vts=Date.now();else if(m._vts<=f.attached)return;Ke(cf(m,f.value),a,5,[m])};return f.value=r,f.attached=ff(),f}function cf(r,a){if(Ft(a)){const f=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{f.call(r),r._stopped=!0},a.map(m=>P=>!P._stopped&&m&&m(P))}else return a}const ea=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,df=(r,a,f,m,P,d)=>{const k=P==="svg";a==="class"?Yl(r,m,k):a==="style"?ef(r,f,m):Ui(a)?Hr(a)||uf(r,a,f,m,d):(a[0]==="."?(a=a.slice(1),!0):a[0]==="^"?(a=a.slice(1),!1):_f(r,a,m,k))?(rf(r,a,m),!r.tagName.includes("-")&&(a==="value"||a==="checked"||a==="selected")&&Qs(r,a,m,k,d,a!=="value")):(a==="true-value"?r._trueValue=m:a==="false-value"&&(r._falseValue=m),Qs(r,a,m,k))};function _f(r,a,f,m){if(m)return!!(a==="innerHTML"||a==="textContent"||a in r&&ea(a)&&Vt(f));if(a==="spellcheck"||a==="draggable"||a==="translate"||a==="form"||a==="list"&&r.tagName==="INPUT"||a==="type"&&r.tagName==="TEXTAREA")return!1;if(a==="width"||a==="height"){const P=r.tagName;if(P==="IMG"||P==="VIDEO"||P==="CANVAS"||P==="SOURCE")return!1}return ea(a)&&pe(f)?!1:a in r}const gf=Pe({patchProp:df},Jl);let na;function pf(){return na||(na=gl(gf))}const vf=(...r)=>{const a=pf().createApp(...r),{mount:f}=a;return a.mount=m=>{const P=yf(m);if(!P)return;const d=a._component;!Vt(d)&&!d.render&&!d.template&&(d.template=P.innerHTML),P.innerHTML="";const k=f(P,!1,mf(P));return P instanceof Element&&(P.removeAttribute("v-cloak"),P.setAttribute("data-v-app","")),k},a};function mf(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function yf(r){return pe(r)?document.querySelector(r):r}var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function xf(r){if(r.__esModule)return r;var a=r.default;if(typeof a=="function"){var f=function m(){return this instanceof m?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};f.prototype=a.prototype}else f={};return Object.defineProperty(f,"__esModule",{value:!0}),Object.keys(r).forEach(function(m){var P=Object.getOwnPropertyDescriptor(r,m);Object.defineProperty(f,m,P.get?P:{enumerable:!0,get:function(){return r[m]}})}),f}function Cf(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var iu={exports:{}};const Sf={},Pf=Object.freeze(Object.defineProperty({__proto__:null,default:Sf},Symbol.toStringTag,{value:"Module"})),ia=xf(Pf);/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(r){(function(a,f){a=a||ia;var m=a.window,P=a.document,d=new function(){var t=/^(statics|enumerable|beans|preserve)$/,e=[],n=e.slice,i=Object.create,s=Object.getOwnPropertyDescriptor,u=Object.defineProperty,l=e.forEach||function(p,g){for(var I=0,b=this.length;I<b;I++)p.call(g,this[I],I,this)},o=function(p,g){for(var I in this)this.hasOwnProperty(I)&&p.call(g,this[I],I,this)},h=Object.assign||function(p){for(var g=1,I=arguments.length;g<I;g++){var b=arguments[g];for(var T in b)b.hasOwnProperty(T)&&(p[T]=b[T])}return p},c=function(p,g,I){if(p){var b=s(p,"length");(b&&typeof b.value=="number"?l:o).call(p,g,I=I||p)}return I};function v(p,g,I,b,T){var w={};function C(S,M){M=M||(M=s(g,S))&&(M.get?M:M.value),typeof M=="string"&&M[0]==="#"&&(M=p[M.substring(1)]||M);var L=typeof M=="function",z=M,D=T||L&&!M.base?M&&M.get?S in p:p[S]:null,A;(!T||!D)&&(L&&D&&(M.base=D),L&&b!==!1&&(A=S.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(w[A[3].toLowerCase()+A[4]]=A[2]),(!z||L||!z.get||typeof z.get!="function"||!y.isPlainObject(z))&&(z={value:z,writable:!0}),(s(p,S)||{configurable:!0}).configurable&&(z.configurable=!0,z.enumerable=I??!A),u(p,S,z))}if(g){for(var _ in g)g.hasOwnProperty(_)&&!t.test(_)&&C(_);for(var _ in w){var x=w[_],O=p["set"+x],E=p["get"+x]||O&&p["is"+x];E&&(b===!0||E.length===0)&&C(_,{get:E,set:O})}}return p}function y(){for(var p=0,g=arguments.length;p<g;p++){var I=arguments[p];I&&h(this,I)}return this}return v(y,{inject:function(p){if(p){var g=p.statics===!0?p:p.statics,I=p.beans,b=p.preserve;g!==p&&v(this.prototype,p,p.enumerable,I,b),v(this,g,null,I,b)}for(var T=1,w=arguments.length;T<w;T++)this.inject(arguments[T]);return this},extend:function(){for(var p=this,g,I,b=0,T,w=arguments.length;b<w&&!(g&&I);b++)T=arguments[b],g=g||T.initialize,I=I||T.prototype;return g=g||function(){p.apply(this,arguments)},I=g.prototype=I||i(this.prototype),u(I,"constructor",{value:g,writable:!0,configurable:!0}),v(g,this),arguments.length&&this.inject.apply(g,arguments),g.base=p,g}}).inject({enumerable:!1,initialize:y,set:y,inject:function(){for(var p=0,g=arguments.length;p<g;p++){var I=arguments[p];I&&v(this,I,I.enumerable,I.beans,I.preserve)}return this},extend:function(){var p=i(this);return p.inject.apply(p,arguments)},each:function(p,g){return c(this,p,g)},clone:function(){return new this.constructor(this)},statics:{set:h,each:c,create:i,define:u,describe:s,clone:function(p){return h(new p.constructor,p)},isPlainObject:function(p){var g=p!=null&&p.constructor;return g&&(g===Object||g===y||g.name==="Object")},pick:function(p,g){return p!==f?p:g},slice:function(p,g,I){return n.call(p,g,I)}}})};r.exports=d,d.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+d.each(this,function(t,e){if(!/^_/.test(e)){var n=typeof t;this.push(e+": "+(n==="number"?Y.instance.number(t):n==="string"?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return d.importJSON(t,this)},exportJSON:function(t){return d.exportJSON(this,t)},toJSON:function(){return d.serialize(this)},set:function(t,e){return t&&d.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),n=e.prototype._class;return n&&!d.exports[n]&&(d.exports[n]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&typeof t=="object"&&typeof e=="object"){if(Array.isArray(t)&&Array.isArray(e)){var n=t.length;if(n!==e.length)return!1;for(;n--;)if(!d.equals(t[n],e[n]))return!1}else{var i=Object.keys(t),n=i.length;if(n!==Object.keys(e).length)return!1;for(;n--;){var s=i[n];if(!(e.hasOwnProperty(s)&&d.equals(t[s],e[s])))return!1}}return!0}return!1},read:function(t,e,n,i){if(this===d){var s=this.peek(t,e);return t.__index++,s}var u=this.prototype,l=u._readIndex,o=e||l&&t.__index||0,h=t.length,c=t[o];if(i=i||h-o,c instanceof this||n&&n.readNull&&c==null&&i<=1)return l&&(t.__index=o+1),c&&n&&n.clone?c.clone():c;if(c=d.create(u),l&&(c.__read=!0),c=c.initialize.apply(c,o>0||o+i<h?d.slice(t,o,o+i):t)||c,l){t.__index=o+c.__read;var v=c.__filtered;v&&(t.__filtered=v,c.__filtered=f),c.__read=f}return c},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,n,i){for(var s=[],u,l=e||0,o=i?l+i:t.length,h=l;h<o;h++)s.push(Array.isArray(u=t[h])?this.read(u,0,n):this.read(t,h,n,1));return s},readNamed:function(t,e,n,i,s){var u=this.getNamed(t,e),l=u!==f;if(l){var o=t.__filtered;if(!o){var h=this.getSource(t);o=t.__filtered=d.create(h),o.__unfiltered=h}o[e]=f}return this.read(l?[u]:t,n,i,s)},readSupported:function(t,e){var n=this.getSource(t),i=this,s=!1;return n&&Object.keys(n).forEach(function(u){if(u in e){var l=i.readNamed(t,u);l!==f&&(e[u]=l),s=!0}}),s},getSource:function(t){var e=t.__source;if(e===f){var n=t.length===1&&t[0];e=t.__source=n&&d.isPlainObject(n)?n:null}return e},getNamed:function(t,e){var n=this.getSource(t);if(n)return e?n[e]:t.__filtered||n},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,n,i){var s;function u(v){if(!(n&&v in n)&&!(s&&v in s)){var y=e[v];y!==f&&(t[v]=y)}}if(i){for(var l={},o=0,h,c=i.length;o<c;o++)(h=i[o])in e&&(u(h),l[h]=!0);s=l}return Object.keys(e.__unfiltered||e).forEach(u),t},isPlainValue:function(t,e){return d.isPlainObject(t)||Array.isArray(t)||e&&typeof t=="string"},serialize:function(t,e,n,i){e=e||{};var s=!i,u;if(s&&(e.formatter=new Y(e.precision),i={length:0,definitions:{},references:{},add:function(y,p){var g="#"+y._id,I=this.references[g];if(!I){this.length++;var b=p.call(y),T=y._class;T&&b[0]!==T&&b.unshift(T),this.definitions[g]=b,I=this.references[g]=[g]}return I}}),t&&t._serialize){u=t._serialize(e,i);var l=t._class;l&&!t._compactSerialize&&(s||!n)&&u[0]!==l&&u.unshift(l)}else if(Array.isArray(t)){u=[];for(var o=0,h=t.length;o<h;o++)u[o]=d.serialize(t[o],e,n,i)}else if(d.isPlainObject(t)){u={};for(var c=Object.keys(t),o=0,h=c.length;o<h;o++){var v=c[o];u[v]=d.serialize(t[v],e,n,i)}}else typeof t=="number"?u=e.formatter.number(t,e.precision):u=t;return s&&i.length>0?[["dictionary",i.definitions],u]:u},deserialize:function(t,e,n,i,s){var u=t,l=!n,o=l&&t&&t.length&&t[0][0]==="dictionary";if(n=n||{},Array.isArray(t)){var h=t[0],c=h==="dictionary";if(t.length==1&&/^#/.test(h))return n.dictionary[h];h=d.exports[h],u=[];for(var v=h?1:0,y=t.length;v<y;v++)u.push(d.deserialize(t[v],e,n,c,o));if(h){var p=u;e?u=e(h,p,l||s):u=new h(p)}}else if(d.isPlainObject(t)){u={},i&&(n.dictionary=u);for(var g in t)u[g]=d.deserialize(t[g],e,n)}return o?u[1]:u},exportJSON:function(t,e){var n=d.serialize(t,e);return e&&e.asString==!1?n:JSON.stringify(n)},importJSON:function(t,e){return d.deserialize(typeof t=="string"?JSON.parse(t):t,function(n,i,s){var u=s&&e&&e.constructor===n,l=u?e:d.create(n.prototype);if(i.length===1&&l instanceof _t&&(u||!(l instanceof oe))){var o=i[0];d.isPlainObject(o)&&(o.insert=!1,u&&(i=i.concat([_t.INSERT])))}return(u?l.set:n).apply(l,i),u&&(e=null),l})},push:function(t,e){var n=e.length;if(n<4096)t.push.apply(t,e);else{var i=t.length;t.length+=n;for(var s=0;s<n;s++)t[i+s]=e[s]}return t},splice:function(t,e,n,i){var s=e&&e.length,u=n===f;n=u?t.length:n,n>t.length&&(n=t.length);for(var l=0;l<s;l++)e[l]._index=n+l;if(u)return d.push(t,e),[];var o=[n,i];e&&d.push(o,e);for(var h=t.splice.apply(t,o),l=0,c=h.length;l<c;l++)h[l]._index=f;for(var l=n+s,c=t.length;l<c;l++)t[l]._index=l;return h},capitalize:function(t){return t.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var k={on:function(t,e){if(typeof t!="string")d.each(t,function(u,l){this.on(l,u)},this);else{var n=this._eventTypes,i=n&&n[t],s=this._callbacks=this._callbacks||{};s=s[t]=s[t]||[],s.indexOf(e)===-1&&(s.push(e),i&&i.install&&s.length===1&&i.install.call(this,t))}return this},off:function(t,e){if(typeof t!="string"){d.each(t,function(l,o){this.off(o,l)},this);return}var n=this._eventTypes,i=n&&n[t],s=this._callbacks&&this._callbacks[t],u;return s&&(!e||(u=s.indexOf(e))!==-1&&s.length===1?(i&&i.uninstall&&i.uninstall.call(this,t),delete this._callbacks[t]):u!==-1&&s.splice(u,1)),this},once:function(t,e){return this.on(t,function n(){e.apply(this,arguments),this.off(t,n)})},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];if(!n)return!1;var i=d.slice(arguments,1),s=e&&e.target&&!e.currentTarget;n=n.slice(),s&&(e.currentTarget=this);for(var u=0,l=n.length;u<l;u++)if(n[u].apply(this,i)==!1){e&&e.stop&&e.stop();break}return s&&delete e.currentTarget,!0},responds:function(t){return!!(this._callbacks&&this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,n=this._callbacks,i=t?"install":"uninstall";if(e){for(var s in n)if(n[s].length>0){var u=e[s],l=u&&u[i];l&&l.call(this,s)}}},statics:{inject:function t(e){var n=e._events;if(n){var i={};d.each(n,function(s,u){var l=typeof s=="string",o=l?s:u,h=d.capitalize(o),c=o.substring(2).toLowerCase();i[c]=l?{}:s,o="_"+o,e["get"+h]=function(){return this[o]},e["set"+h]=function(v){var y=this[o];y&&this.off(c,y),v&&this.on(c,v),this[o]=v}}),e._eventTypes=i}return t.base.apply(this,arguments)}}},q=d.extend({_class:"PaperScope",initialize:function t(){ot=this,this.settings=new d({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var n=at.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:rt.nativeModes},at.release(n)}if(!this.agent){var i=a.navigator.userAgent.toLowerCase(),s=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],u=s==="darwin"?"mac":s,l=e.agent=e.browser={platform:u};u&&(l[u]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(o,h,c,v,y){if(!l.chrome){var p=h==="opera"?v:/^(node|trident)$/.test(h)?y:c;l.version=p,l.versionNumber=parseFloat(p),h={trident:"msie",jsdom:"node"}[h]||h,l.name=h,l[h]=!0}}),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.12.18",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){var n=ot.PaperScript.execute(t,this,e);return $t.updateFocus(),n},install:function(t){var e=this;d.each(["project","view","tool"],function(i){d.define(t,i,{configurable:!0,get:function(){return e[i]}})});for(var n in this)!/^_/.test(n)&&this[n]&&(t[n]=this[n])},setup:function(t){return ot=this,this.project=new qt(t),this},createCanvas:function(t,e){return at.getCanvas(t,e)},activate:function(){ot=this},clear:function(){for(var t=this.projects,e=this.tools,n=t.length-1;n>=0;n--)t[n].remove();for(var n=e.length-1;n>=0;n--)e[n].remove()},remove:function(){this.clear(),delete q._scopes[this._id]},statics:new function(){function t(e){return e+="Attribute",function(n,i){return n[e](i)||n[e]("data-paper-"+i)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),Z=d.extend(k,{initialize:function(t){this._scope=ot,this._index=this._scope[this._list].push(this)-1,(t||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(d.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),tt={findItemBoundsCollisions:function(t,e,n){function i(l){for(var o=new Array(l.length),h=0;h<l.length;h++){var c=l[h].getBounds();o[h]=[c.left,c.top,c.right,c.bottom]}return o}var s=i(t),u=!e||e===t?s:i(e);return this.findBoundsCollisions(s,u,n||0)},findCurveBoundsCollisions:function(t,e,n,i){function s(p){for(var g=Math.min,I=Math.max,b=new Array(p.length),T=0;T<p.length;T++){var w=p[T];b[T]=[g(w[0],w[2],w[4],w[6]),g(w[1],w[3],w[5],w[7]),I(w[0],w[2],w[4],w[6]),I(w[1],w[3],w[5],w[7])]}return b}var u=s(t),l=!e||e===t?u:s(e);if(i){for(var o=this.findBoundsCollisions(u,l,n||0,!1,!0),h=this.findBoundsCollisions(u,l,n||0,!0,!0),c=[],v=0,y=o.length;v<y;v++)c[v]={hor:o[v],ver:h[v]};return c}return this.findBoundsCollisions(u,l,n||0)},findBoundsCollisions:function(t,e,n,i,s){var u=!e||t===e,l=u?t:t.concat(e),o=t.length,h=l.length;function c(ft,gt,wt){for(var J=0,Q=ft.length;J<Q;){var pt=Q+J>>>1;l[ft[pt]][gt]<wt?J=pt+1:Q=pt}return J-1}for(var v=i?1:0,y=v+2,p=i?0:1,g=p+2,I=new Array(h),b=0;b<h;b++)I[b]=b;I.sort(function(ft,gt){return l[ft][v]-l[gt][v]});for(var T=[],w=new Array(o),b=0;b<h;b++){var C=I[b],_=l[C],x=u?C:C-o,O=C<o,E=u||!O,S=O?[]:null;if(T.length){var M=c(T,y,_[v]-n)+1;if(T.splice(0,M),u&&s){S=S.concat(T);for(var L=0;L<T.length;L++){var z=T[L];w[z].push(x)}}else for(var D=_[g],A=_[p],L=0;L<T.length;L++){var z=T[L],F=l[z],V=z<o,j=u||z>=o;(s||(O&&j||E&&V)&&D>=F[p]-n&&A<=F[g]+n)&&(O&&j&&S.push(u?z:z-o),E&&V&&w[z].push(x))}}if(O&&(t===e&&S.push(C),w[C]=S),T.length){var W=_[y],K=c(T,y,W);T.splice(K+1,0,C)}else T.push(C)}for(var b=0;b<w.length;b++){var et=w[b];et&&et.sort(function(gt,wt){return gt-wt})}return w}},Y=d.extend({initialize:function(t){this.precision=d.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,n){return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});Y.instance=new Y;var nt=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,i=Math.sqrt,s=Math.pow,u=Math.log2||function(y){return Math.log(y)*Math.LOG2E},l=1e-12,o=112e-18;function h(y,p,g){return y<p?p:y>g?g:y}function c(y,p,g){function I(M){var L=M*134217729,z=M-L,D=z+L,A=M-D;return[D,A]}var b=p*p-y*g,T=p*p+y*g;if(n(b)*3<T){var w=I(y),C=I(p),_=I(g),x=p*p,O=C[0]*C[0]-x+2*C[0]*C[1]+C[1]*C[1],E=y*g,S=w[0]*_[0]-E+w[0]*_[1]+w[1]*_[0]+w[1]*_[1];b=x-E+(O-S)}return b}function v(){var y=Math.max.apply(Math,arguments);return y&&(y<1e-8||y>1e8)?s(2,-Math.round(u(y))):0}return{EPSILON:l,MACHINE_EPSILON:o,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(i(2)-1)/3,isZero:function(y){return y>=-l&&y<=l},isMachineZero:function(y){return y>=-o&&y<=o},clamp:h,integrate:function(y,p,g,I){for(var b=t[I-2],T=e[I-2],w=(g-p)*.5,C=w+p,_=0,x=I+1>>1,O=I&1?T[_++]*y(C):0;_<x;){var E=w*b[_];O+=T[_++]*(y(C+E)+y(C-E))}return w*O},findRoot:function(y,p,g,I,b,T,w){for(var C=0;C<T;C++){var _=y(g),x=_/p(g),O=g-x;if(n(x)<w){g=O;break}_>0?(b=g,g=O<=I?(I+b)*.5:O):(I=g,g=O>=b?(I+b)*.5:O)}return h(g,I,b)},solveQuadratic:function(y,p,g,I,b,T){var w,C=1/0;if(n(y)<l){if(n(p)<l)return n(g)<l?-1:0;w=-g/p}else{p*=-.5;var _=c(y,p,g);if(_&&n(_)<o){var x=v(n(y),n(p),n(g));x&&(y*=x,p*=x,g*=x,_=c(y,p,g))}if(_>=-o){var O=_<0?0:i(_),E=p+(p<0?-O:O);E===0?(w=g/y,C=-w):(w=E/y,C=g/E)}}var S=0,M=b==null,L=b-l,z=T+l;return isFinite(w)&&(M||w>L&&w<z)&&(I[S++]=M?w:h(w,b,T)),C!==w&&isFinite(C)&&(M||C>L&&C<z)&&(I[S++]=M?C:h(C,b,T)),S},solveCubic:function(y,p,g,I,b,T,w){var C=v(n(y),n(p),n(g),n(I)),_,x,O,E,S;C&&(y*=C,p*=C,g*=C,I*=C);function M(K){_=K;var et=y*_;x=et+p,O=x*_+g,E=(et+x)*_+O,S=O*_+I}if(n(y)<l)y=p,x=g,O=I,_=1/0;else if(n(I)<l)x=p,O=g,_=0;else{M(-(p/y)/3);var L=S/y,z=s(n(L),1/3),D=L<0?-1:1,A=-E/y,F=A>0?1.324717957244746*Math.max(z,i(A)):z,V=_-D*F;if(V!==_){do M(V),V=E===0?_:_-S/E/(1+o);while(D*V>D*_);n(y)*_*_>n(I/_)&&(O=-I/_,x=(O-g)/_)}}var j=nt.solveQuadratic(y,x,O,b,T,w),W=T==null;return isFinite(_)&&(j===0||j>0&&_!==b[0]&&_!==b[1])&&(W||_>T-l&&_<w+l)&&(b[j++]=W?_:h(_,T,w)),j}}},Ct={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}else return this._id++}},N=d.extend({_class:"Point",_readIndex:!0,initialize:function(e,n){var i=typeof e,s=this.__read,u=0;if(i==="number"){var l=typeof n=="number";this._set(e,l?n:e),s&&(u=l?2:1)}else if(i==="undefined"||e===null)this._set(0,0),s&&(u=e===null?1:0);else{var o=i==="string"?e.split(/[\s,]+/)||[]:e;u=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):"x"in o?this._set(o.x||0,o.y||0):"width"in o?this._set(o.width||0,o.height||0):"angle"in o?(this._set(o.length||0,0),this.setAngle(o.angle||0)):(this._set(0,0),u=0)}return s&&(this.__read=u),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new N(this.x,this.y)},toString:function(){var t=Y.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();nt.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=N.read(arguments),e=this.getLength()*t.getLength();if(nt.isZero(e))return NaN;var n=this.dot(t)/e;return Math.acos(n<-1?-1:n>1?1:n)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=N.read(arguments);return Math.atan2(this.cross(t),this.dot(t))*180/Math.PI},getDistance:function(){var t=arguments,e=N.read(t),n=e.x-this.x,i=e.y-this.y,s=n*n+i*i,u=d.read(t);return u?s:Math.sqrt(s)},normalize:function(t){t===f&&(t=1);var e=this.getLength(),n=e!==0?t/e:0,i=new N(this.x*n,this.y*n);return n>=0&&(i._angle=this._angle),i},rotate:function(t,e){if(t===0)return this.clone();t=t*Math.PI/180;var n=e?this.subtract(e):this,i=Math.sin(t),s=Math.cos(t);return n=new N(n.x*s-n.y*i,n.x*i+n.y*s),e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=N.read(arguments);return new N(this.x+t.x,this.y+t.y)},subtract:function(){var t=N.read(arguments);return new N(this.x-t.x,this.y-t.y)},multiply:function(){var t=N.read(arguments);return new N(this.x*t.x,this.y*t.y)},divide:function(){var t=N.read(arguments);return new N(this.x/t.x,this.y/t.y)},modulo:function(){var t=N.read(arguments);return new N(this.x%t.x,this.y%t.y)},negate:function(){return new N(-this.x,-this.y)},isInside:function(){return ht.read(arguments).contains(this)},isClose:function(){var t=arguments,e=N.read(t),n=d.read(t);return this.getDistance(e)<=n},isCollinear:function(){var t=N.read(arguments);return N.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=N.read(arguments);return N.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=nt.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=N.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=N.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=N.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new N(t.x*e,t.y*e)},statics:{min:function(){var t=arguments,e=N.read(t),n=N.read(t);return new N(Math.min(e.x,n.x),Math.min(e.y,n.y))},max:function(){var t=arguments,e=N.read(t),n=N.read(t);return new N(Math.max(e.x,n.x),Math.max(e.y,n.y))},random:function(){return new N(Math.random(),Math.random())},isCollinear:function(t,e,n,i){return Math.abs(t*i-e*n)<=Math.sqrt((t*t+e*e)*(n*n+i*i))*1e-8},isOrthogonal:function(t,e,n,i){return Math.abs(t*n+e*i)<=Math.sqrt((t*t+e*e)*(n*n+i*i))*1e-8}}},d.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new N(e(this.x),e(this.y))}},{})),Ht=N.extend({initialize:function(e,n,i,s){this._x=e,this._y=n,this._owner=i,this._setter=s},_set:function(t,e,n){return this._x=t,this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),ct=d.extend({_class:"Size",_readIndex:!0,initialize:function(e,n){var i=typeof e,s=this.__read,u=0;if(i==="number"){var l=typeof n=="number";this._set(e,l?n:e),s&&(u=l?2:1)}else if(i==="undefined"||e===null)this._set(0,0),s&&(u=e===null?1:0);else{var o=i==="string"?e.split(/[\s,]+/)||[]:e;u=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):"width"in o?this._set(o.width||0,o.height||0):"x"in o?this._set(o.x||0,o.y||0):(this._set(0,0),u=0)}return s&&(this.__read=u),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new ct(this.width,this.height)},toString:function(){var t=Y.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=ct.read(arguments);return new ct(this.width+t.width,this.height+t.height)},subtract:function(){var t=ct.read(arguments);return new ct(this.width-t.width,this.height-t.height)},multiply:function(){var t=ct.read(arguments);return new ct(this.width*t.width,this.height*t.height)},divide:function(){var t=ct.read(arguments);return new ct(this.width/t.width,this.height/t.height)},modulo:function(){var t=ct.read(arguments);return new ct(this.width%t.width,this.height%t.height)},negate:function(){return new ct(-this.width,-this.height)},isZero:function(){var t=nt.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new ct(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new ct(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new ct(Math.random(),Math.random())}}},d.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new ct(e(this.width),e(this.height))}},{})),Ot=ct.extend({initialize:function(e,n,i,s){this._width=e,this._height=n,this._owner=i,this._setter=s},_set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),ht=d.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,n,i,s){var u=arguments,l=typeof e,o;if(l==="number"?(this._set(e,n,i,s),o=4):l==="undefined"||e===null?(this._set(0,0,0,0),o=e===null?1:0):u.length===1&&(Array.isArray(e)?(this._set.apply(this,e),o=1):e.x!==f||e.width!==f?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),o=1):e.from===f&&e.to===f&&(this._set(0,0,0,0),d.readSupported(u,this)&&(o=1))),o===f){var h=N.readNamed(u,"from"),c=d.peek(u),v=h.x,y=h.y,p,g;if(c&&c.x!==f||d.hasNamed(u,"to")){var I=N.readNamed(u,"to");p=I.x-v,g=I.y-y,p<0&&(v=I.x,p=-p),g<0&&(y=I.y,g=-g)}else{var b=ct.read(u);p=b.width,g=b.height}this._set(v,y,p,g),o=u.__index}var T=u.__filtered;return T&&(this.__filtered=T),this.__read&&(this.__read=o),this},set:"#initialize",_set:function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},clone:function(){return new ht(this.x,this.y,this.width,this.height)},equals:function(t){var e=d.isPlainValue(t)?ht.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=Y.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){var e=t?N:Ht;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var t=N.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?ct:Ot;return new e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=ct.read(arguments),e=this._sx,n=this._sy,i=t.width,s=t.height;e&&(this.x+=(this.width-i)*e),n&&(this.y+=(this.height-s)*n),this.width=i,this.height=s,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=this._sx===.5?e*2:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=this._sy===.5?e*2:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=this._sx===.5?e*2:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=this._sy===.5?e*2:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||this._sx===.5?this.x=t-this.width/2:(this._sx&&(this.x+=(t-this.x)*2*this._sx),this.width=(t-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||this._sy===.5?this.y=t-this.height/2:(this._sy&&(this.y+=(t-this.y)*2*this._sy),this.height=(t-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(t){var e=t?N:Ht;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=N.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(t){return t&&t.width!==f||(Array.isArray(t)?t:arguments).length===4?this._containsRectangle(ht.read(arguments)):this._containsPoint(N.read(arguments))},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e+t.width<=this.x+this.width&&n+t.height<=this.y+this.height},intersects:function(){var t=ht.read(arguments),e=d.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=ht.read(arguments),e=Math.max(this.x,t.x),n=Math.max(this.y,t.y),i=Math.min(this.x+this.width,t.x+t.width),s=Math.min(this.y+this.height,t.y+t.height);return new ht(e,n,i-e,s-n)},unite:function(){var t=ht.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width),s=Math.max(this.y+this.height,t.y+t.height);return new ht(e,n,i-e,s-n)},include:function(){var t=N.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x),s=Math.max(this.y+this.height,t.y);return new ht(e,n,i-e,s-n)},expand:function(){var t=ct.read(arguments),e=t.width,n=t.height;return new ht(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===f?t:e)-this.height)}},d.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var n=t.join(""),i=/^[RL]/.test(n);e>=4&&(t[1]+=i?"Y":"X");var s=t[i?0:1],u=t[i?1:0],l="get"+s,o="get"+u,h="set"+s,c="set"+u,v="get"+n,y="set"+n;this[v]=function(p){var g=p?N:Ht;return new g(this[l](),this[o](),this,y)},this[y]=function(){var p=N.read(arguments);this[h](p.x),this[c](p.y)}},{beans:!0})),Rt=ht.extend({initialize:function(e,n,i,s,u,l){this._set(e,n,i,s,!0),this._owner=u,this._setter=l},_set:function(t,e,n,i,s){return this._x=t,this._y=e,this._width=n,this._height=i,s||this._owner[this._setter](this),this}},new function(){var t=ht.prototype;return d.each(["x","y","width","height"],function(e){var n=d.capitalize(e),i="_"+e;this["get"+n]=function(){return this[i]},this["set"+n]=function(s){this[i]=s,this._dontNotify||this._owner[this._setter](this)}},d.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var n="set"+e;this[n]=function(){this._dontNotify=!0,t[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(e){var n=this._owner;n._changeSelection&&n._changeSelection(2,e)}}))}),mt=d.extend({_class:"Matrix",initialize:function t(e,n){var i=arguments,s=i.length,u=!0;if(s>=6?this._set.apply(this,i):s===1||s===2?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,n):Array.isArray(e)?this._set.apply(this,n?e.concat([n]):e):u=!1:s?u=!1:this.reset(),!u)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,n,i,s,u,l){return this._a=t,this._b=e,this._c=n,this._d=i,this._tx=s,this._ty=u,l||this._changed(),this},_serialize:function(t,e){return d.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new mt(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=Y.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var n=this._owner;return n?(n.transform(null,d.pick(t,!0),e),this.isIdentity()):!1},translate:function(){var t=N.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._c,this._ty+=e*this._b+n*this._d,this._changed(),this},scale:function(){var t=arguments,e=N.read(t),n=N.read(t,0,{readNull:!0});return n&&this.translate(n),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,n&&this.translate(n.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=N.read(arguments,1),n=e.x,i=e.y,s=Math.cos(t),u=Math.sin(t),l=n-n*s+i*u,o=i-n*u-i*s,h=this._a,c=this._b,v=this._c,y=this._d;return this._a=s*h+u*v,this._b=s*c+u*y,this._c=-u*h+s*v,this._d=-u*c+s*y,this._tx+=l*h+o*v,this._ty+=l*c+o*y,this._changed(),this},shear:function(){var t=arguments,e=N.read(t),n=N.read(t,0,{readNull:!0});n&&this.translate(n);var i=this._a,s=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*i,this._d+=e.x*s,n&&this.translate(n.negate()),this._changed(),this},skew:function(){var t=arguments,e=N.read(t),n=N.read(t,0,{readNull:!0}),i=Math.PI/180,s=new N(Math.tan(e.x*i),Math.tan(e.y*i));return this.shear(s,n)},append:function(t,e){if(t){var n=this._a,i=this._b,s=this._c,u=this._d,l=t._a,o=t._c,h=t._b,c=t._d,v=t._tx,y=t._ty;this._a=l*n+h*s,this._c=o*n+c*s,this._b=l*i+h*u,this._d=o*i+c*u,this._tx+=v*n+y*s,this._ty+=v*i+y*u,e||this._changed()}return this},prepend:function(t,e){if(t){var n=this._a,i=this._b,s=this._c,u=this._d,l=this._tx,o=this._ty,h=t._a,c=t._c,v=t._b,y=t._d,p=t._tx,g=t._ty;this._a=h*n+c*i,this._c=h*s+c*u,this._b=v*n+y*i,this._d=v*s+y*u,this._tx=h*l+c*o+p,this._ty=v*l+y*o+g,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,n=this._c,i=this._d,s=this._tx,u=this._ty,l=t*i-e*n,o=null;return l&&!isNaN(l)&&isFinite(s)&&isFinite(u)&&(this._a=i/l,this._b=-e/l,this._c=-n/l,this._d=t/l,this._tx=(n*u-i*s)/l,this._ty=(e*s-t*u)/l,o=this),o},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new mt(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,n){return arguments.length<3?this._transformPoint(N.read(arguments)):this._transformCoordinates(t,e,n)},_transformPoint:function(t,e,n){var i=t.x,s=t.y;return e||(e=new N),e._set(i*this._a+s*this._c+this._tx,i*this._b+s*this._d+this._ty,n)},_transformCoordinates:function(t,e,n){for(var i=0,s=2*n;i<s;i+=2){var u=t[i],l=t[i+1];e[i]=u*this._a+l*this._c+this._tx,e[i+1]=u*this._b+l*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,n=t.y,i=e+t.width,s=n+t.height,u=[e,n,i,n,i,s,e,s];return this._transformCoordinates(u,u,4)},_transformBounds:function(t,e,n){for(var i=this._transformCorners(t),s=i.slice(0,2),u=s.slice(),l=2;l<8;l++){var o=i[l],h=l&1;o<s[h]?s[h]=o:o>u[h]&&(u[h]=o)}return e||(e=new ht),e._set(s[0],s[1],u[0]-s[0],u[1]-s[1],n)},inverseTransform:function(){return this._inverseTransform(N.read(arguments))},_inverseTransform:function(t,e,n){var i=this._a,s=this._b,u=this._c,l=this._d,o=this._tx,h=this._ty,c=i*l-s*u,v=null;if(c&&!isNaN(c)&&isFinite(o)&&isFinite(h)){var y=t.x-this._tx,p=t.y-this._ty;e||(e=new N),v=e._set((y*l-p*u)/c,(p*i-y*s)/c,n)}return v},decompose:function(){var t=this._a,e=this._b,n=this._c,i=this._d,s=t*i-e*n,u=Math.sqrt,l=Math.atan2,o=180/Math.PI,h,c,v;if(t!==0||e!==0){var y=u(t*t+e*e);h=Math.acos(t/y)*(e>0?1:-1),c=[y,s/y],v=[l(t*n+e*i,y*y),0]}else if(n!==0||i!==0){var p=u(n*n+i*i);h=Math.asin(n/p)*(i>0?1:-1),c=[s/p,p],v=[0,l(t*n+e*i,p*p)]}else h=0,v=c=[0,0];return{translation:this.getTranslation(),rotation:h*o,scaling:new N(c),skewing:new N(v[0]*o,v[1]*o)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new N(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},d.each(["a","b","c","d","tx","ty"],function(t){var e=d.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(i){this[n]=i,this._changed()}},{})),It=d.extend({_class:"Line",initialize:function(e,n,i,s,u){var l=!1;arguments.length>=4?(this._px=e,this._py=n,this._vx=i,this._vy=s,l=u):(this._px=e.x,this._py=e.y,this._vx=n.x,this._vy=n.y,l=i),l||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new N(this._px,this._py)},getVector:function(){return new N(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return It.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return It.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return It.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return N.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return N.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,n,i,s,u,l,o,h,c){h||(n-=t,i-=e,l-=s,o-=u);var v=n*o-i*l;if(!nt.isMachineZero(v)){var y=t-s,p=e-u,g=(l*p-o*y)/v,I=(n*p-i*y)/v,b=1e-12,T=-b,w=1+b;if(c||T<g&&g<w&&T<I&&I<w)return c||(g=g<=0?0:g>=1?1:g),new N(t+g*n,e+g*i)}},getSide:function(t,e,n,i,s,u,l,o){l||(n-=t,i-=e);var h=s-t,c=u-e,v=h*i-c*n;return!o&&nt.isMachineZero(v)&&(v=(h*n+h*n)/(n*n+i*i),v>=0&&v<=1&&(v=0)),v<0?-1:v>0?1:0},getSignedDistance:function(t,e,n,i,s,u,l){return l||(n-=t,i-=e),n===0?i>0?s-t:t-s:i===0?n<0?u-e:e-u:((s-t)*i-(u-e)*n)/(i>n?i*Math.sqrt(1+n*n/(i*i)):n*Math.sqrt(1+i*i/(n*n)))},getDistance:function(t,e,n,i,s,u,l){return Math.abs(It.getSignedDistance(t,e,n,i,s,u,l))}}}),qt=Z.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){Z.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new xn(null,null,this),this._view=$t.create(this,e||at.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return d.serialize(this._children,t,!0,e)},_changed:function(t,e){if(t&1){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var i=this._changes;if(i&&e){var s=this._changesById,u=e._id,l=s[u];l?l.flags|=t:i.push(s[u]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return t.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new oe({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:Be,match:function(n){var i=n._definition,s=i._id;return e[s]||(e[s]=!0,t.push(i)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var n in t){var i=t[n],s=i._selection;s&1&&i.isInserted()?e.push(i):s||this._updateSelection(i)}return e},_updateSelection:function(t){var e=t._id,n=this._selectionItems;t._selection?n[e]!==t&&(this._selectionCount++,n[e]=t):n[e]===t&&(this._selectionCount--,delete n[e])},selectAll:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(f,t)},insertLayer:function(t,e){if(e instanceof oe){e._remove(!1,!0),d.splice(this._children,[e],t,0),e._setProject(this,!0);var n=e._name;n&&e.setName(n),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,n){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(f,new oe(_t.NO_INSERT),!0)).insertChild(t,e),n&&e.activate&&e.activate(),e},getItems:function(t){return _t._getItems(this,t)},getItem:function(t){return _t._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return d.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){t==="mouseup"&&(e.mousedrag=null);var n=e[t];if(n){for(var i in n){var s=n[i];for(var u in e){var l=e[u];l&&l!=n&&delete l[s._id]}s.remove()}e[t]=null}}},draw:function(t,e,n){this._updateVersion++,t.save(),e.applyToContext(t);for(var i=this._children,s=new d({offset:new N(0,0),pixelRatio:n,viewMatrix:e.isIdentity()?null:e,matrices:[new mt],updateMatrix:!0}),u=0,l=i.length;u<l;u++)i[u].draw(t,s);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var o=this._selectionItems,h=this._scope.settings.handleSize,c=this._updateVersion;for(var v in o)o[v]._drawSelection(t,e,h,o,c);t.restore()}}}),_t=d.extend(k,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=d.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new mt,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return d.each(t,function(e){this._events[e]={install:function(n){this.getView()._countItemEvent(n,1)},uninstall:function(n){this.getView()._countItemEvent(n,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var n=t&&d.isPlainObject(t),i=n&&t.internal===!0,s=this._matrix=new mt,u=n&&t.project||ot.project,l=ot.settings;return this._id=i?null:Ct.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&l.applyMatrix,e&&s.translate(e),s._owner=this,this._style=new xn(u._currentStyle,this,u),i||n&&t.insert==!1||!l.insertItems&&!(n&&t.insert==!0)?this._setProject(u):(n&&t.parent||u)._insertItem(f,this,!0),n&&t!==_t.NO_INSERT&&t!==_t.INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(t,e){var n={},i=this;function s(u){for(var l in u){var o=i[l];d.equals(o,l==="leading"?u.fontSize*1.2:u[l])||(n[l]=d.serialize(o,t,l!=="data",e))}}return s(this._serializeFields),this instanceof Kt||s(this._style._defaults),[this._class,n]},_changed:function(t){var e=this._symbol,n=this._parent||e,i=this._project;t&8&&(this._bounds=this._position=this._decomposed=f),t&16&&(this._globalMatrix=f),n&&t&72&&_t._clearBoundsCache(n),t&2&&_t._clearBoundsCache(this),i&&i._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var n=e._children,i=e._namedChildren;(i[t]=i[t]||[]).push(this),t in n||(n[t]=this)}this._name=t||f,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},d.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=d.capitalize(t),n="_"+t,i={locked:256,visible:265};this["get"+e]=function(){return this[n]},this["set"+e]=function(s){s!=this[n]&&(this[n]=s,this._changed(i[t]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){if(this._selectChildren){for(var t=this._children,e=0,n=t.length;e<n;e++)if(t[e].isSelected())return!0}return!!(this._selection&1)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(this._selection&1);if(t&&e){for(var n=0,i=t.length;n<i;n++)if(!t[n].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var n=0,i=e.length;n<i;n++)e[n].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=t?N:Ht,n=this._position||(this._position=this._getPositionFromBounds());return new e(n.x,n.y,this,"setPosition")},setPosition:function(){this.translate(N.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new Ht(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=N.read(arguments,0,{clone:!0,readNull:!0}),this._position=f}},d.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(n){return this.getBounds(n,t)}},{beans:!0,getBounds:function(t,e){var n=e||t instanceof mt,i=d.set({},n?e:t,this._boundsOptions);(!i.stroke||this.getStrokeScaling())&&(i.cacheItem=this);var s=this._getCachedBounds(n&&t,i).rect;return arguments.length?s:new Rt(s.x,s.y,s.width,s.height,this,"setBounds")},setBounds:function(){var t=ht.read(arguments),e=this.getBounds(),n=this._matrix,i=new mt,s=t.getCenter();i.translate(s),(t.width!=e.width||t.height!=e.height)&&(n.isInvertible()||(n.set(n._backup||new mt().translate(n.getTranslation())),e=this.getBounds()),i.scale(e.width!==0?t.width/e.width:0,e.height!==0?t.height/e.height:0)),s=e.getCenter(),i.translate(-s.x,-s.y),this.transform(i)},_getBounds:function(t,e){var n=this._children;return!n||!n.length?new ht:(_t._updateBoundsCache(this,e.cacheItem),_t._getBounds(n,t,e))},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,n){t=t&&t._orNullIfIdentity();var i=e.internal&&!n,s=e.cacheItem,u=i?null:this._matrix._orNullIfIdentity(),l=s&&(!t||t.equals(u))&&this._getBoundsCacheKey(e,i),o=this._bounds;if(_t._updateBoundsCache(this._parent||this._symbol,s),l&&o&&l in o){var h=o[l];return{rect:h.rect.clone(),nonscaling:h.nonscaling}}var c=this._getBounds(t||u,e),v=c.rect||c,y=this._style,p=c.nonscaling||y.hasStroke()&&!y.getStrokeScaling();if(l){o||(this._bounds=o={});var h=o[l]={rect:v.clone(),nonscaling:p,internal:i}}return{rect:v,nonscaling:p}},_getStrokeMatrix:function(t,e){var n=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,i=n?n.getViewMatrix().invert():t;return i&&i._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var n=e._id,i=t._boundsCache=t._boundsCache||{ids:{},list:[]};i.ids[n]||(i.list.push(e),i.ids[n]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=f;for(var n=0,i=e.list,s=i.length;n<s;n++){var u=i[n];u!==t&&(u._bounds=u._position=f,u._boundsCache&&_t._clearBoundsCache(u))}}},_getBounds:function(t,e,n){var i=1/0,s=-i,u=i,l=s,o=!1;n=n||{};for(var h=0,c=t.length;h<c;h++){var v=t[h];if(v._visible&&!v.isEmpty(!0)){var y=v._getCachedBounds(e&&e.appended(v._matrix),n,!0),p=y.rect;i=Math.min(p.x,i),u=Math.min(p.y,u),s=Math.max(p.x+p.width,s),l=Math.max(p.y+p.height,l),y.nonscaling&&(o=!0)}}return{rect:isFinite(i)?new ht(i,u,s-i,l-u):new ht,nonscaling:o}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(e!=null&&t!=null){var n=this._decomposed;this.rotate(t-e),n&&(n.rotation=t,this._decomposed=n)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new Ht(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=N.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var n=this.getRotation(),i=this._decomposed,s=new mt,u=nt.isZero;if(u(t.x)||u(t.y))s.translate(i.translation),n&&s.rotate(n),s.scale(e.x,e.y),this._matrix.set(s);else{var l=this.getPosition(!0);s.translate(l),n&&s.rotate(n),s.scale(e.x/t.x,e.y/t.y),n&&s.rotate(-n),s.translate(l.negate()),this.transform(s)}i&&(i.scaling=e,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix;if(e)for(var n=this._parent,i=[];n;){if(!n._globalMatrix){e=null;for(var s=0,u=i.length;s<u;s++)i[s]._globalMatrix=null;break}i.push(n),n=n._parent}if(!e){e=this._globalMatrix=this._matrix.clone();var n=this._parent;n&&e.prepend(n.getGlobalMatrix(!0))}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var n=this._children,i=0,s=n&&n.length;i<s;i++)n[i]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var n=this._children,i=0,s=n&&n.length;i<s;i++)n[i]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof oe)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(t){var e=this._parent,n=e&&e._children;n&&e.insertChildren(t in n?t:f,[this])},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return d.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(_t.NO_INSERT),n=this._children,i=d.pick(t?t.insert:f,t===f||t===!0),s=d.pick(t?t.deep:f,!0);n&&e.copyAttributes(this),(!n||s)&&e.copyContent(this),n||e.copyAttributes(this),i&&e.insertAbove(this);var u=this._name,l=this._parent;if(u&&l){for(var n=l._children,o=u,h=1;n[u];)u=o+" "+h++;u!==o&&e.setName(u)}return e},copyContent:function(t){for(var e=t._children,n=0,i=e&&e.length;n<i;n++)this.addChild(e[n].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,s=n.length;i<s;i++){var u=n[i];t.hasOwnProperty(u)&&(this[u]=t[u])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var l=t._data,o=t._name;this._data=l?d.clone(l):null,o&&this.setName(o)},rasterize:function(t,e){var n,i,s;d.isPlainObject(t)?(n=t.resolution,i=t.insert,s=t.raster):(n=t,i=e),s||(s=new be(_t.NO_INSERT));var u=this.getStrokeBounds(),l=(n||this.getView().getResolution())/72,o=u.getTopLeft().floor(),h=u.getBottomRight().ceil(),c=new ct(h.subtract(o)),v=c.multiply(l);if(s.setSize(v,!0),!v.isZero()){var y=s.getContext(!0),p=new mt().scale(l).translate(o.negate());y.save(),p.applyToContext(y),this.draw(y,new d({matrices:[p]})),y.restore()}return s._matrix.set(new mt().translate(o.add(c.divide(2))).scale(1/l)),(i===f||i)&&s.insertAbove(this),s},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(N.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var n=e.length-1;n>=0;n--)if(e[n].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return ht.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Bt.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof _t?this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0:!1}},new function(){function t(){var i=arguments;return this._hitTest(N.read(i),Ie.getOptions(i))}function e(){var i=arguments,s=N.read(i),u=Ie.getOptions(i),l=[];return this._hitTest(s,new d({all:l},u)),l}function n(i,s,u,l){var o=this._children;if(o)for(var h=o.length-1;h>=0;h--){var c=o[h],v=c!==l&&c._hitTest(i,s,u);if(v&&!s.all)return v}return null}return qt.inject({hitTest:t,hitTestAll:e,_hitTest:n}),{hitTest:t,hitTestAll:e,_hitTestChildren:n}},{_hitTest:function(t,e,n){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var i=this._matrix,s=n?n.appended(i):this.getGlobalMatrix().prepend(this.getView()._matrix),u=Math.max(e.tolerance,1e-12),l=e._tolerancePadding=new ct(Bt._getStrokePadding(u,i._shiftless().invert()));if(t=i._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(t))return null;var o=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==d.hyphenate(this._class)||e.class&&!(this instanceof e.class)),h=e.match,c=this,v,y;function p(_){return _&&h&&!h(_)&&(_=null),_&&e.all&&e.all.push(_),_}function g(_,x){var O=x?v["get"+x]():c.getPosition();if(t.subtract(O).divide(l).length<=1)return new Ie(_,c,{name:x?d.hyphenate(x):_,point:O})}var I=e.position,b=e.center,T=e.bounds;if(o&&this._parent&&(I||b||T)){if((b||T)&&(v=this.getInternalBounds()),y=I&&g("position")||b&&g("center","Center"),!y&&T)for(var w=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],C=0;C<8&&!y;C++)y=g("bounds",w[C]);y=p(y)}return y||(y=this._hitTestChildren(t,e,s)||o&&p(this._hitTestSelf(t,e,s,this.getStrokeScaling()?null:s._shiftless().invert()))||null),y&&y.point&&(y.point=i.transform(y.point)),y},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new Ie("fill",this)},matches:function(t,e){function n(l,o){for(var h in l)if(l.hasOwnProperty(h)){var c=l[h],v=o[h];if(d.isPlainObject(c)&&d.isPlainObject(v)){if(!n(c,v))return!1}else if(!d.equals(c,v))return!1}return!0}var i=typeof t;if(i==="object"){for(var s in t)if(t.hasOwnProperty(s)&&!this.matches(s,t[s]))return!1;return!0}else{if(i==="function")return t(this);if(t==="match")return e(this);var u=/^(empty|editable)$/.test(t)?this["is"+d.capitalize(t)]():t==="type"?d.hyphenate(this._class):this[t];if(t==="class"){if(typeof e=="function")return this instanceof e;u=this._class}if(typeof e=="function")return!!e(u);if(e){if(e.test)return e.test(u);if(d.isPlainObject(e))return n(e,u)}return d.equals(u,e)}},getItems:function(t){return _t._getItems(this,t,this._matrix)},getItem:function(t){return _t._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,n,i,s,u){if(!s){var l=typeof n=="object"&&n,o=l&&l.overlapping,h=l&&l.inside,c=o||h,p=c&&ht.read([c]);s={items:[],recursive:l&&l.recursive!==!1,inside:!!h,overlapping:!!o,rect:p,path:o&&new Bt.Rectangle({rectangle:p,insert:!1})},l&&(n=d.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var v=e._children,y=s.items,p=s.rect;i=p&&(i||new mt);for(var g=0,I=v&&v.length;g<I;g++){var b=v[g],T=i&&i.appended(b._matrix),w=!0;if(p){var c=b.getBounds(T);if(!p.intersects(c))continue;p.contains(c)||s.overlapping&&(c.contains(p)||s.path.intersects(b,T))||(w=!1)}if(w&&b.matches(n)&&(y.push(b),u)||(s.recursive!==!1&&t(b,n,T,s,u),u&&y.length>0))break}return y}}},{importJSON:function(t){var e=d.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(f,t)},insertChild:function(t,e){var n=e?this.insertChildren(t,[e]):null;return n&&n[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var n=this._children;if(n&&e&&e.length>0){e=d.slice(e);for(var i={},s=e.length-1;s>=0;s--){var u=e[s],l=u&&u._id;!u||i[l]?e.splice(s,1):(u._remove(!1,!0),i[l]=!0)}d.splice(n,e,t,0);for(var o=this._project,h=o._changes,s=0,c=e.length;s<c;s++){var u=e[s],v=u._name;u._parent=this,u._setProject(o,!0),v&&u.setName(v),h&&u._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var n=t&&t._getOwner(),i=t!==this&&n?this:null;return i&&(i._remove(!1,!0),n._insertItem(t._index+e,i)),i},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(f,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(f,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&e.length===1){var n=e[0].reduce(t);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,n=t._namedChildren,i=this._name,s=n[i],u=s?s.indexOf(this):-1;u!==-1&&(e[i]==this&&delete e[i],s.splice(u,1),s.length?e[i]=s[0]:delete n[i])}},_remove:function(t,e){var n=this._getOwner(),i=this._project,s=this._index;return this._style&&this._style._dispose(),n?(this._name&&this._removeNamed(),s!=null&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),d.splice(n._children,null,s,1)),this._installEvents(!1),t&&i._changes&&this._changed(5),e&&n._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=d.pick(e,this._children.length);for(var n=d.splice(this._children,null,t,e-t),i=n.length-1;i>=0;i--)n[i]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var e=this._children,n=e?e.length:0;if(t){for(var i=0;i<n;i++)if(!e[i].isEmpty(t))return!1;return!0}return!n},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(l){var o=[];do o.unshift(l);while(l=l._parent);return o}for(var n=e(this),i=e(t),s=0,u=Math.min(n.length,i.length);s<u;s++)if(n[s]!=i[s])return n[s]._index<i[s]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return this._getOrder(t)===1},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return t?t.isDescendant(this):!1},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},d.each(["rotate","scale","shear","skew"],function(t){var e=t==="rotate";this[t]=function(){var n=arguments,i=(e?d:N).read(n),s=N.read(n,0,{readNull:!0});return this.transform(new mt()[t](i,s||this.getPosition(!0)))}},{translate:function(){var t=new mt;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,n){var i=this._matrix,s=t&&!t.isIdentity(),u=n&&this._canApplyMatrix||this._applyMatrix&&(s||!i.isIdentity()||e&&this._children);if(!s&&!u)return this;if(s){!t.isInvertible()&&i.isInvertible()&&(i._backup=i.getValues()),i.prepend(t,!0);var l=this._style,o=l.getFillColor(!0),h=l.getStrokeColor(!0);o&&o.transform(t),h&&h.transform(t)}if(u&&(u=this._transformContent(i,e,n))){var c=this._pivot;c&&i._transformPoint(c,c,!0),i.reset(!0),n&&this._canApplyMatrix&&(this._applyMatrix=!0)}var v=this._bounds,y=this._position;(s||u)&&this._changed(25);var p=s&&v&&t.decompose();if(p&&p.skewing.isZero()&&p.rotation%90===0){for(var g in v){var I=v[g];if(I.nonscaling)delete v[g];else if(u||!I.internal){var b=I.rect;t._transformBounds(b,b)}}this._bounds=v;var T=v[this._getBoundsCacheKey(this._boundsOptions||{})];T&&(this._position=this._getPositionFromBounds(T.rect))}else s&&y&&this._pivot&&(this._position=t._transformPoint(y,y));return this},_transformContent:function(t,e,n){var i=this._children;if(i){for(var s=0,u=i.length;s<u;s++)i[s].transform(t,e,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(N.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(N.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(N.read(arguments))},localToParent:function(){return this._matrix._transformPoint(N.read(arguments))},fitBounds:function(t,e){t=ht.read(arguments);var n=this.getBounds(),i=n.height/n.width,s=t.height/t.width,u=(e?i>s:i<s)?t.width/n.width:t.height/n.height,l=new ht(new N,new ct(n.width*u,n.height*u));l.setCenter(t.getCenter()),this.setBounds(l)}}),{_setStyles:function(t,e,n){var i=this._style,s=this._matrix;if(i.hasFill()&&(t.fillStyle=i.getFillColor().toCanvasStyle(t,s)),i.hasStroke()){t.strokeStyle=i.getStrokeColor().toCanvasStyle(t,s),t.lineWidth=i.getStrokeWidth();var u=i.getStrokeJoin(),l=i.getStrokeCap(),o=i.getMiterLimit();if(u&&(t.lineJoin=u),l&&(t.lineCap=l),o&&(t.miterLimit=o),ot.support.nativeDash){var h=i.getDashArray(),c=i.getDashOffset();h&&h.length&&("setLineDash"in t?(t.setLineDash(h),t.lineDashOffset=c):(t.mozDash=h,t.mozDashOffset=c))}}if(i.hasShadow()){var v=e.pixelRatio||1,y=n._shiftless().prepend(new mt().scale(v,v)),p=y.transform(new N(i.getShadowBlur(),0)),g=y.transform(this.getShadowOffset());t.shadowColor=i.getShadowColor().toCanvasStyle(t),t.shadowBlur=p.getLength(),t.shadowOffsetX=g.x,t.shadowOffsetY=g.y}},draw:function(t,e,n){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var i=e.matrices,s=e.viewMatrix,u=this._matrix,l=i[i.length-1].appended(u);if(l.isInvertible()){s=s?s.appended(l):l,i.push(l),e.updateMatrix&&(this._globalMatrix=l);var o=this._blendMode,h=nt.clamp(this._opacity,0,1),c=o==="normal",v=rt.nativeModes[o],y=c&&h===1||e.dontStart||e.clip||(v||c&&h<1)&&this._canComposite(),p=e.pixelRatio||1,g,I,b;if(!y){var T=this.getStrokeBounds(s);if(!T.width||!T.height){i.pop();return}b=e.offset,I=e.offset=T.getTopLeft().floor(),g=t,t=at.getContext(T.getSize().ceil().add(1).multiply(p)),p!==1&&t.scale(p,p)}t.save();var w=n?n.appended(u):this._canScaleStroke&&!this.getStrokeScaling(!0)&&s,C=!y&&e.clipItem,_=!w||C;if(y?(t.globalAlpha=h,v&&(t.globalCompositeOperation=o)):_&&t.translate(-I.x,-I.y),_&&(y?u:s).applyToContext(t),C&&e.clipItem.draw(t,e.extend({clip:!0})),w){t.setTransform(p,0,0,p,0,0);var x=e.offset;x&&t.translate(-x.x,-x.y)}this._draw(t,e,s,w),t.restore(),i.pop(),e.clip&&!e.dontFinish&&t.clip(this.getFillRule()),y||(rt.process(o,t,g,h,I.subtract(b).multiply(p)),at.release(t),e.offset=b)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof xe)return e._isUpdated(t);var n=this._updateVersion===t;return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,i,s){var u=this._selection,l=u&1,o=u&2||l&&this._selectBounds,h=u&4;if(this._drawSelected||(l=!1),(l||o||h)&&this._isUpdated(s)){var c,v=this.getSelectedColor(!0)||(c=this.getLayer())&&c.getSelectedColor(!0),y=e.appended(this.getGlobalMatrix(!0)),p=n/2;if(t.strokeStyle=t.fillStyle=v?v.toCanvasStyle(t):"#009dec",l&&this._drawSelected(t,y,i),h){var g=this.getPosition(!0),I=this._parent,b=I?I.localToGlobal(g):g,T=b.x,w=b.y;t.beginPath(),t.arc(T,w,p,0,Math.PI*2,!0),t.stroke();for(var C=[[0,-1],[1,0],[0,1],[-1,0]],_=p,x=n+1,O=0;O<4;O++){var E=C[O],S=E[0],M=E[1];t.moveTo(T+S*_,w+M*_),t.lineTo(T+S*x,w+M*x),t.stroke()}}if(o){var L=y._transformCorners(this.getInternalBounds());t.beginPath();for(var O=0;O<8;O++)t[O?"lineTo":"moveTo"](L[O],L[++O]);t.closePath(),t.stroke();for(var O=0;O<8;O++)t.fillRect(L[O]-p,L[++O]-p,n,n)}}},_canComposite:function(){return!1}},d.each(["down","drag","up","move"],function(t){this["removeOn"+d.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var n="mouse"+e,i=this._project,s=i._removeSets=i._removeSets||{};s[n]=s[n]||{},s[n][this._id]=this}return this}}),{tween:function(t,e,n){n||(n=e,e=t,t=null,n||(n=e,e=null));var i=n&&n.easing,s=n&&n.start,u=n!=null&&(typeof n=="number"?n:n.duration),l=new yt(this,t,e,u,i,s);function o(h){l._handleFrame(h.time*1e3),l.running||this.off("frame",o)}return u&&this.on("frame",o),l},tweenTo:function(t,e){return this.tween(null,t,e)},tweenFrom:function(t,e){return this.tween(t,null,e)}}),Kt=_t.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function t(e){t.base.call(this,e),e&2050&&(this._clipItem=f)},_getClipItem:function(){var t=this._clipItem;if(t===f){t=null;for(var e=this._children,n=0,i=e.length;n<i;n++)if(e[n]._clipMask){t=e[n];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,n){var i=this._getClipItem();return i?i._getCachedBounds(i._matrix.prepended(e),d.set({},n,{stroke:!1})):t.base.call(this,e,n)},_hitTestChildren:function t(e,n,i){var s=this._getClipItem();return(!s||s.contains(e))&&t.base.call(this,e,n,i,s)},_draw:function(t,e){var n=e.clip,i=!n&&this._getClipItem();e=e.extend({clipItem:i,clip:!1}),n?(t.beginPath(),e.dontStart=e.dontFinish=!0):i&&i.draw(t,e.extend({clip:!0}));for(var s=this._children,u=0,l=s.length;u<l;u++){var o=s[u];o!==i&&o.draw(t,e)}}}),oe=Kt.extend({_class:"Layer",initialize:function(){Kt.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function t(){return this._parent?t.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),ie=_t.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,n){this._initialize(e,n)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&d.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new Ot(t.width,t.height,this,"setSize")},setSize:function(){var t=ct.read(arguments);if(!this._size)this._size=t.clone();else if(!this._size.equals(t)){var e=this._type,n=t.width,i=t.height;e==="rectangle"?this._radius.set(ct.min(this._radius,t.divide(2).abs())):e==="circle"?(n=i=(n+i)/2,this._radius=n/2):e==="ellipse"&&this._radius._set(n/2,i/2),this._size._set(n,i),this._changed(9)}},getRadius:function(){var t=this._radius;return this._type==="circle"?t:new Ot(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if(e==="circle"){if(t===this._radius)return;var n=t*2;this._radius=t,this._size._set(n,n)}else if(t=ct.read(arguments),!this._radius)this._radius=t.clone();else{if(this._radius.equals(t))return;if(this._radius.set(t),e==="rectangle"){var n=ct.max(this._size,t.multiply(2));this._size.set(n)}else e==="ellipse"&&this._size._set(t.width*2,t.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new Bt[d.capitalize(this._type)]({center:new N,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),ot.settings.applyMatrix&&e.setApplyMatrix(!0),(t===f||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,n,i){var s=this._style,u=s.hasFill(),l=s.hasStroke(),o=e.dontFinish||e.clip,h=!i;if(u||l||o){var c=this._type,v=this._radius,y=c==="circle";if(e.dontStart||t.beginPath(),h&&y)t.arc(0,0,v,0,Math.PI*2,!0);else{var p=y?v:v.width,g=y?v:v.height,I=this._size,b=I.width,T=I.height;if(h&&c==="rectangle"&&p===0&&g===0)t.rect(-b/2,-T/2,b,T);else{var w=b/2,C=T/2,_=1-.5522847498307936,x=p*_,O=g*_,E=[-w,-C+g,-w,-C+O,-w+x,-C,-w+p,-C,w-p,-C,w-x,-C,w,-C+O,w,-C+g,w,C-g,w,C-O,w-x,C,w-p,C,-w+p,C,-w+x,C,-w,C-O,-w,C-g];i&&i.transform(E,E,32),t.moveTo(E[0],E[1]),t.bezierCurveTo(E[2],E[3],E[4],E[5],E[6],E[7]),w!==p&&t.lineTo(E[8],E[9]),t.bezierCurveTo(E[10],E[11],E[12],E[13],E[14],E[15]),C!==g&&t.lineTo(E[16],E[17]),t.bezierCurveTo(E[18],E[19],E[20],E[21],E[22],E[23]),w!==p&&t.lineTo(E[24],E[25]),t.bezierCurveTo(E[26],E[27],E[28],E[29],E[30],E[31])}}t.closePath()}!o&&(u||l)&&(this._setStyles(t,e,n),u&&(t.fill(s.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),l&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var n=new ht(this._size).setCenter(0,0),i=this._style,s=e.stroke&&i.hasStroke()&&i.getStrokeWidth();return t&&(n=t._transformBounds(n)),s?n.expand(Bt._getStrokePadding(s,this._getStrokeMatrix(t,e))):n}},new function(){function t(n,i,s){var u=n._radius;if(!u.isZero())for(var l=n._size.divide(2),o=1;o<=4;o++){var h=new N(o>1&&o<4?-1:1,o>2?-1:1),c=h.multiply(l),v=c.subtract(h.multiply(u)),y=new ht(s?c.add(h.multiply(s)):c,v);if(y.contains(i))return{point:v,quadrant:o}}}function e(n,i,s,u){var l=n.divide(i);return(!u||l.isInQuadrant(u))&&l.subtract(l.normalize()).multiply(i).divide(s).length<=1}return{_contains:function n(i){if(this._type==="rectangle"){var s=t(this,i);return s?i.subtract(s.point).divide(this._radius).getLength()<=1:n.base.call(this,i)}else return i.divide(this.size).getLength()<=.5},_hitTestSelf:function n(i,s,u,l){var o=!1,h=this._style,c=s.stroke&&h.hasStroke(),v=s.fill&&h.hasFill();if(c||v){var y=this._type,p=this._radius,g=c?h.getStrokeWidth()/2:0,I=s._tolerancePadding.add(Bt._getStrokePadding(g,!h.getStrokeScaling()&&l));if(y==="rectangle"){var b=I.multiply(2),T=t(this,i,b);if(T)o=e(i.subtract(T.point),p,I,T.quadrant);else{var w=new ht(this._size).setCenter(0,0),C=w.expand(b),_=w.expand(b.negate());o=C._containsPoint(i)&&!_._containsPoint(i)}}else o=e(i,p,I)}return o?new Ie(c?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function t(e,n,i,s,u){var l=d.create(ie.prototype);return l._type=e,l._size=i,l._radius=s,l._initialize(d.getNamed(u),n),l}return{Circle:function(){var e=arguments,n=N.readNamed(e,"center"),i=d.readNamed(e,"radius");return t("circle",n,new ct(i*2),i,e)},Rectangle:function(){var e=arguments,n=ht.readNamed(e,"rectangle"),i=ct.min(ct.readNamed(e,"radius"),n.getSize(!0).divide(2));return t("rectangle",n.getCenter(!0),n.getSize(!0),i,e)},Ellipse:function(){var e=arguments,n=ie._readEllipse(e),i=n.radius;return t("ellipse",n.center,i.multiply(2),i,e)},_readEllipse:function(e){var n,i;if(d.hasNamed(e,"radius"))n=N.readNamed(e,"center"),i=ct.readNamed(e,"radius");else{var s=ht.readNamed(e,"rectangle");n=s.getCenter(!0),i=s.getSize(!0).divide(2)}return{center:n,radius:i}}}}}),be=_t.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,n){if(!this._initialize(e,n!==f&&N.read(arguments))){var i,s=typeof e,u=s==="string"?P.getElementById(e):s==="object"?e:null;if(u&&u!==_t.NO_INSERT){if(u.getContext||u.naturalHeight!=null)i=u;else if(u){var l=ct.read(arguments);l.isZero()||(i=at.getCanvas(l))}}i?this.setImage(i):this.setSource(e)}this._size||(this._size=new ct,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,n=t._canvas;if(e)this._setImage(e);else if(n){var i=at.getCanvas(t._size);i.getContext("2d").drawImage(n,0,0),this._setImage(i)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new Ot(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,e){var n=ct.read(arguments);if(n.equals(this._size))e&&this.clear();else if(n.width>0&&n.height>0){var i=!e&&this.getElement();this._setImage(at.getCanvas(n)),i&&this.getContext(!0).drawImage(i,0,0,n.width,n.height)}else this._canvas&&at.release(this._canvas),this._size=n.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||t.width===0&&t.height===0},getResolution:function(){var t=this._matrix,e=new N(0,0).transform(t),n=new N(1,0).transform(t).subtract(e),i=new N(0,1).transform(t).subtract(e);return new ct(72/n.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var e=this;function n(i){var s=e.getView(),u=i&&i.type||"load";s&&e.responds(u)&&(ot=s._scope,e.emit(u,new B(i)))}this._setImage(t),this._loaded?setTimeout(n,0):t&&Qt.add(t,{load:function(i){e._setImage(t),n(i)},error:n})},_setImage:function(t){this._canvas&&at.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new ct(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=at.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch{at.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new a.Image,n=this._crossOrigin;n&&(e.crossOrigin=n),t&&(e.src=t),this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing=typeof t=="string"?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=ht.read(arguments),e=at.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=ht.read(arguments),e=new be(_t.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(t){var e=N.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,n;if(t?t instanceof jt?(n=t,e=t.getBounds()):typeof t=="object"&&("width"in t?e=new ht(t):"x"in t&&(e=new ht(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var i=32,s=Math.min(e.width,i),u=Math.min(e.height,i),l=be._sampleContext;l?l.clearRect(0,0,i+1,i+1):l=be._sampleContext=at.getContext(new ct(i)),l.save();var o=new mt().scale(s/e.width,u/e.height).translate(-e.x,-e.y);o.applyToContext(l),n&&n.draw(l,new d({clip:!0,matrices:[o]})),this._matrix.applyToContext(l);var h=this.getElement(),c=this._size;h&&l.drawImage(h,-c.width/2,-c.height/2),l.restore();for(var v=l.getImageData(.5,.5,Math.ceil(s),Math.ceil(u)).data,y=[0,0,0],p=0,g=0,I=v.length;g<I;g+=4){var b=v[g+3];p+=b,b/=255,y[0]+=v[g]*b,y[1]+=v[g+1]*b,y[2]+=v[g+2]*b}for(var g=0;g<3;g++)y[g]/=p;return p?re.read(y):null},getPixel:function(){var t=N.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new re("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=arguments,e=N.read(t),n=re.read(t),i=n._convert("rgb"),s=n._alpha,u=this.getContext(!0),l=u.createImageData(1,1),o=l.data;o[0]=i[0]*255,o[1]=i[1]*255,o[2]=i[2]*255,o[3]=s!=null?s*255:255,u.putImageData(l,e.x,e.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=ct.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=ht.read(arguments);return t.isEmpty()&&(t=new ht(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},putImageData:function(t){var e=N.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},setImageData:function(t){this.setSize(t),this.getContext(!0).putImageData(t,0,0)},_getBounds:function(t,e){var n=new ht(this._size).setCenter(0,0);return t?t._transformBounds(n):n},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new Ie("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t,e,n){var i=this.getElement();if(i&&i.width>0&&i.height>0){t.globalAlpha=nt.clamp(this._opacity,0,1),this._setStyles(t,e,n);var s=this._smoothing,u=s==="off";te.setPrefixed(t,u?"imageSmoothingEnabled":"imageSmoothingQuality",u?!1:s),t.drawImage(i,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Be=_t.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,n){this._initialize(e,n!==f&&N.read(arguments,1))||this.setDefinition(e instanceof Yt?e:new Yt(e))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(t),e)},_hitTestSelf:function(t,e,n){var i=e.extend({all:!1}),s=this._definition._item._hitTest(t,i,n);return s&&(s.item=this),s},_draw:function(t,e){this._definition._item.draw(t,e)}}),Yt=d.extend({_class:"SymbolDefinition",initialize:function(e,n){this._id=Ct.get(),this.project=ot.project,e&&this.setItem(e,n)},_serialize:function(t,e){return e.add(this,function(){return d.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){t&8&&_t._clearBoundsCache(this),t&1&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new N),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new Be(this,t)},clone:function(){return new Yt(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),Ie=d.extend({_class:"HitResult",initialize:function(e,n,i){this.type=e,this.item=n,i&&this.inject(i)},statics:{getOptions:function(t){var e=t&&d.read(t);return new d({type:null,tolerance:ot.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),Pt=d.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,n,i,s,u,l){var o=arguments.length,h,c,v,y;o>0&&(e==null||typeof e=="object"?o===1&&e&&"point"in e?(h=e.point,c=e.handleIn,v=e.handleOut,y=e.selection):(h=e,c=n,v=i,y=s):(h=[e,n],c=i!==f?[i,s]:null,v=u!==f?[u,l]:null)),new Bn(h,this,"_point"),new Bn(c,this,"_handleIn"),new Bn(v,this,"_handleOut"),y&&this.setSelection(y)},_serialize:function(t,e){var n=this._point,i=this._selection,s=i||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return i&&s.push(i),d.serialize(s,t,!0,e)},_changed:function(t){var e=this._path;if(e){var n=e._curves,i=this._index,s;n&&((!t||t===this._point||t===this._handleIn)&&(s=i>0?n[i-1]:e._closed?n[n.length-1]:null)&&s._changed(),(!t||t===this._point||t===this._handleOut)&&(s=n[i])&&s._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(N.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(N.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(N.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,n=this._path;this._selection=t=t||0,n&&t!==e&&(n._updateSelection(this,e,t),n._changed(257))},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){return!!(this._selection&7)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==f?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new Ut(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,n){var i=t||{},s=i.type,u=i.factor,l=this.getPrevious(),o=this.getNext(),h=(l||this)._point,c=this._point,v=(o||this)._point,y=h.getDistance(c),p=c.getDistance(v);if(!s||s==="catmull-rom"){var g=u===f?.5:u,I=Math.pow(y,g),b=I*I,T=Math.pow(p,g),w=T*T;if(!e&&l){var C=2*w+3*T*I+b,_=3*T*(T+I);this.setHandleIn(_!==0?new N((w*h._x+C*c._x-b*v._x)/_-c._x,(w*h._y+C*c._y-b*v._y)/_-c._y):new N)}if(!n&&o){var C=2*b+3*I*T+w,_=3*I*(I+T);this.setHandleOut(_!==0?new N((b*v._x+C*c._x-w*h._x)/_-c._x,(b*v._y+C*c._y-w*h._y)/_-c._y):new N)}}else if(s==="geometric"){if(l&&o){var x=h.subtract(v),O=u===f?.4:u,E=O*y/(y+p);e||this.setHandleIn(x.multiply(E)),n||this.setHandleOut(x.multiply(E-O))}}else throw new Error("Smoothing method '"+s+"' not supported.")},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t.clone();t.set(e),e.set(n)},reversed:function(){return new Pt(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new Pt(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,n){var i=1-n,s=n,u=t._point,l=e._point,o=t._handleIn,h=e._handleIn,c=e._handleOut,v=t._handleOut;this._point._set(i*u._x+s*l._x,i*u._y+s*l._y,!0),this._handleIn._set(i*o._x+s*h._x,i*o._y+s*h._y,!0),this._handleOut._set(i*v._x+s*c._x,i*v._y+s*c._y,!0),this._changed()},_transformCoordinates:function(t,e,n){var i=this._point,s=!n||!this._handleIn.isZero()?this._handleIn:null,u=!n||!this._handleOut.isZero()?this._handleOut:null,l=i._x,o=i._y,h=2;return e[0]=l,e[1]=o,s&&(e[h++]=s._x+l,e[h++]=s._y+o),u&&(e[h++]=u._x+l,e[h++]=u._y+o),t&&(t._transformCoordinates(e,e,h/2),l=e[0],o=e[1],n?(i._x=l,i._y=o,h=2,s&&(s._x=e[h++]-l,s._y=e[h++]-o),u&&(u._x=e[h++]-l,u._y=e[h++]-o)):(s||(e[h++]=l,e[h++]=o),u||(e[h++]=l,e[h++]=o))),e}}),Bn=N.extend({initialize:function(e,n,i){var s,u,l;if(!e)s=u=0;else if((s=e[0])!==f)u=e[1];else{var o=e;(s=o.x)===f&&(o=N.read(arguments),s=o.x),u=o.y,l=o.selected}this._x=s,this._y=u,this._owner=n,n[i]=this,l&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=nt.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),st=d.extend({_class:"Curve",beans:!0,initialize:function(e,n,i,s,u,l,o,h){var c=arguments.length,v,y,p,g,I,b;c===3?(this._path=e,v=n,y=i):c?c===1?"segment1"in e?(v=new Pt(e.segment1),y=new Pt(e.segment2)):"point1"in e?(p=e.point1,I=e.handle1,b=e.handle2,g=e.point2):Array.isArray(e)&&(p=[e[0],e[1]],g=[e[6],e[7]],I=[e[2]-e[0],e[3]-e[1]],b=[e[4]-e[6],e[5]-e[7]]):c===2?(v=new Pt(e),y=new Pt(n)):c===4?(p=e,I=n,b=i,g=s):c===8&&(p=[e,n],g=[o,h],I=[i-e,s-n],b=[u-o,l-h]):(v=new Pt,y=new Pt),this._segment1=v||new Pt(p,null,I),this._segment2=y||new Pt(g,b,null)},_serialize:function(t,e){return d.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=f},clone:function(){return new st(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return st.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(n)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(N.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(N.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(N.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(N.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return st.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],n=0;n<8;n+=2)e.push(new N(t[n],t[n+1]));return e}},{getLength:function(){return this._length==null&&(this._length=st.getLength(this.getValues(),0,1)),this._length},getArea:function(){return st.getArea(this.getValues())},getLine:function(){return new It(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new st(st.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return st.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var n=1e-8,i=1-n,s=null;if(t>=n&&t<=i){var u=st.subdivide(this.getValues(),t),l=u[0],o=u[1],h=e||this.hasHandles(),c=this._segment1,v=this._segment2,y=this._path;h&&(c._handleOut._set(l[2]-l[0],l[3]-l[1]),v._handleIn._set(o[4]-o[6],o[5]-o[7]));var p=l[6],g=l[7],I=new Pt(new N(p,g),h&&new N(l[4]-p,l[5]-g),h&&new N(o[2]-p,o[3]-g));y?(y.insert(c._index+1,I),s=this.getNext()):(this._segment2=I,this._changed(),s=new st(I,v))}return s},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===f?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===f?.5:e?t:this.getTimeAt(t))},reversed:function(){return new st(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,n,i){var s=t._point,u=t._handleOut,l=e._handleIn,o=e._point,h=s.x,c=s.y,v=o.x,y=o.y,p=i?[h,c,h,c,v,y,v,y]:[h,c,h+u._x,c+u._y,v+l._x,y+l._y,v,y];return n&&n._transformCoordinates(p,p,4),p},subdivide:function(t,e){var n=t[0],i=t[1],s=t[2],u=t[3],l=t[4],o=t[5],h=t[6],c=t[7];e===f&&(e=.5);var v=1-e,y=v*n+e*s,p=v*i+e*u,g=v*s+e*l,I=v*u+e*o,b=v*l+e*h,T=v*o+e*c,w=v*y+e*g,C=v*p+e*I,_=v*g+e*b,x=v*I+e*T,O=v*w+e*_,E=v*C+e*x;return[[n,i,y,p,w,C,O,E],[O,E,_,x,b,T,h,c]]},getMonoCurves:function(t,e){var n=[],i=e?0:1,s=t[i+0],u=t[i+2],l=t[i+4],o=t[i+6];if(s>=u==u>=l&&u>=l==l>=o||st.isStraight(t))n.push(t);else{var h=3*(u-l)-s+o,c=2*(s+l)-4*u,v=u-s,y=1e-8,p=1-y,g=[],I=nt.solveQuadratic(h,c,v,g,y,p);if(!I)n.push(t);else{g.sort();var b=g[0],T=st.subdivide(t,b);n.push(T[0]),I>1&&(b=(g[1]-b)/(1-b),T=st.subdivide(T[1],b),n.push(T[0])),n.push(T[1])}}return n},solveCubic:function(t,e,n,i,s,u){var l=t[e],o=t[e+2],h=t[e+4],c=t[e+6],v=0;if(!(l<n&&c<n&&o<n&&h<n||l>n&&c>n&&o>n&&h>n)){var y=3*(o-l),p=3*(h-o)-y,g=c-l-y-p;v=nt.solveCubic(g,p,y,l-n,i,s,u)}return v},getTimeOf:function(t,e){var n=new N(t[0],t[1]),i=new N(t[6],t[7]),s=1e-12,u=1e-7,l=e.isClose(n,s)?0:e.isClose(i,s)?1:null;if(l===null)for(var o=[e.x,e.y],h=[],c=0;c<2;c++)for(var v=st.solveCubic(t,c,o[c],h,0,1),y=0;y<v;y++){var p=h[y];if(e.isClose(st.getPoint(t,p),u))return p}return e.isClose(n,u)?0:e.isClose(i,u)?1:null},getNearestTime:function(t,e){if(st.isStraight(t)){var n=t[0],i=t[1],s=t[6],u=t[7],l=s-n,o=u-i,h=l*l+o*o;if(h===0)return 0;var c=((e.x-n)*l+(e.y-i)*o)/h;return c<1e-12?0:c>.999999999999?1:st.getTimeOf(t,new N(n+c*l,i+c*o))}var v=100,y=1/0,p=0;function g(T){if(T>=0&&T<=1){var w=e.getDistance(st.getPoint(t,T),!0);if(w<y)return y=w,p=T,!0}}for(var I=0;I<=v;I++)g(I/v);for(var b=1/(v*2);b>1e-8;)!g(p-b)&&!g(p+b)&&(b/=2);return p},getPart:function(t,e,n){var i=e>n;if(i){var s=e;e=n,n=s}return e>0&&(t=st.subdivide(t,e)[1]),n<1&&(t=st.subdivide(t,(n-e)/(1-e))[0]),i?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var n=t[0],i=t[1],s=t[2],u=t[3],l=t[4],o=t[5],h=t[6],c=t[7],v=3*s-2*n-h,y=3*u-2*i-c,p=3*l-2*h-n,g=3*o-2*c-i;return Math.max(v*v,p*p)+Math.max(y*y,g*g)<=16*e*e},getArea:function(t){var e=t[0],n=t[1],i=t[2],s=t[3],u=t[4],l=t[5],o=t[6],h=t[7];return 3*((h-n)*(i+u)-(o-e)*(s+l)+s*(e-u)-i*(n-l)+h*(u+e/3)-o*(l+n/3))/20},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),i=[0,0],s=0;s<2;s++)st._addBounds(t[s],t[s+2],t[s+4],t[s+6],s,0,e,n,i);return new ht(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,i,s,u,l,o,h){function c(O,E){var S=O-E,M=O+E;S<l[s]&&(l[s]=S),M>o[s]&&(o[s]=M)}u/=2;var v=l[s]+u,y=o[s]-u;if(t<v||e<v||n<v||i<v||t>y||e>y||n>y||i>y)if(e<t!=e<i&&n<t!=n<i)c(t,0),c(i,0);else{var p=3*(e-n)-t+i,g=2*(t+n)-4*e,I=e-t,b=nt.solveQuadratic(p,g,I,h),T=1e-8,w=1-T;c(i,0);for(var C=0;C<b;C++){var _=h[C],x=1-_;T<=_&&_<=w&&c(x*x*x*t+3*x*x*_*e+3*x*_*_*n+_*_*_*i,u)}}}}},d.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=Bt[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),d.each({isStraight:function(t,e,n,i){if(e.isZero()&&n.isZero())return!0;var s=i.subtract(t);if(s.isZero())return!1;if(s.isCollinear(e)&&s.isCollinear(n)){var u=new It(t,i),l=1e-7;if(u.getDistance(t.add(e))<l&&u.getDistance(i.add(n))<l){var o=s.dot(s),h=s.dot(e)/o,c=s.dot(n)/o;return h>=0&&h<=1&&c<=0&&c>=-1}}return!1},isLinear:function(t,e,n,i){var s=i.subtract(t).divide(3);return e.equals(s)&&n.negate().equals(s)}},function(t,e){this[e]=function(n){var i=this._segment1,s=this._segment2;return t(i._point,i._handleOut,s._handleIn,s._point,n)},this.statics[e]=function(n,i){var s=n[0],u=n[1],l=n[6],o=n[7];return t(new N(s,u),new N(n[2]-s,n[3]-u),new N(n[4]-l,n[5]-o),new N(l,o),i)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return t!=null&&t>=0&&t<=1?new Ut(this,t):null},getTimeAt:function(t,e){return st.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=N.read(arguments);return t.isZero()?[]:st.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(N.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return st.getTimeOf(this.getValues(),N.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=N.read(arguments),e=this.getValues(),n=st.getNearestTime(e,t),i=st.getPoint(e,n);return new Ut(this,n,i,null,t.getDistance(i))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return d.each(t,function(e){this[e+"At"]=function(n,i){var s=this.getValues();return st[e](s,i?n:st.getTimeAt(s,n))},this[e+"AtTime"]=function(n){return st[e](this.getValues(),n)}},{statics:{_evaluateMethods:t}})},new function(){function t(i){var s=i[0],u=i[1],l=i[2],o=i[3],h=i[4],c=i[5],v=i[6],y=i[7],p=9*(l-h)+3*(v-s),g=6*(s+h)-12*l,I=3*(l-s),b=9*(o-c)+3*(y-u),T=6*(u+c)-12*o,w=3*(o-u);return function(C){var _=(p*C+g)*C+I,x=(b*C+T)*C+w;return Math.sqrt(_*_+x*x)}}function e(i,s){return Math.max(2,Math.min(16,Math.ceil(Math.abs(s-i)*32)))}function n(i,s,u,l){if(s==null||s<0||s>1)return null;var o=i[0],h=i[1],c=i[2],v=i[3],y=i[4],p=i[5],g=i[6],I=i[7],b=nt.isZero;b(c-o)&&b(v-h)&&(c=o,v=h),b(y-g)&&b(p-I)&&(y=g,p=I);var T=3*(c-o),w=3*(y-c)-T,C=g-o-T-w,_=3*(v-h),x=3*(p-v)-_,O=I-h-_-x,E,S;if(u===0)E=s===0?o:s===1?g:((C*s+w)*s+T)*s+o,S=s===0?h:s===1?I:((O*s+x)*s+_)*s+h;else{var M=1e-8,L=1-M;if(s<M?(E=T,S=_):s>L?(E=3*(g-y),S=3*(I-p)):(E=(3*C*s+2*w)*s+T,S=(3*O*s+2*x)*s+_),l){E===0&&S===0&&(s<M||s>L)&&(E=y-c,S=p-v);var z=Math.sqrt(E*E+S*S);z&&(E/=z,S/=z)}if(u===3){var y=6*C*s+2*w,p=6*O*s+2*x,D=Math.pow(E*E+S*S,3/2);E=D!==0?(E*p-S*y)/D:0,S=0}}return u===2?new N(S,-E):new N(E,S)}return{statics:{classify:function(i){var s=i[0],u=i[1],l=i[2],o=i[3],h=i[4],c=i[5],v=i[6],y=i[7],p=s*(y-c)+u*(h-v)+v*c-y*h,g=l*(u-y)+o*(v-s)+s*y-u*v,I=h*(o-u)+c*(s-l)+l*u-o*s,b=3*I,T=b-g,w=T-g+p,C=Math.sqrt(w*w+T*T+b*b),_=C!==0?1/C:0,x=nt.isZero,O="serpentine";w*=_,T*=_,b*=_;function E(z,D,A){var F=D!==f,V=F&&D>0&&D<1,j=F&&A>0&&A<1;return F&&(!(V||j)||z==="loop"&&!(V&&j))&&(z="arch",V=j=!1),{type:z,roots:V||j?V&&j?D<A?[D,A]:[A,D]:[V?D:A]:null}}if(x(w))return x(T)?E(x(b)?"line":"quadratic"):E(O,b/(3*T));var S=3*T*T-4*w*b;if(x(S))return E("cusp",T/(2*w));var M=S>0?Math.sqrt(S/3):Math.sqrt(-S),L=2*w;return E(S>0?O:"loop",(T+M)/L,(T-M)/L)},getLength:function(i,s,u,l){if(s===f&&(s=0),u===f&&(u=1),st.isStraight(i)){var o=i;u<1&&(o=st.subdivide(o,u)[0],s/=u),s>0&&(o=st.subdivide(o,s)[1]);var h=o[6]-o[0],c=o[7]-o[1];return Math.sqrt(h*h+c*c)}return nt.integrate(l||t(i),s,u,e(s,u))},getTimeAt:function(i,s,u){if(u===f&&(u=s<0?1:0),s===0)return u;var l=Math.abs,o=1e-12,h=s>0,c=h?u:0,v=h?1:u,y=t(i),p=st.getLength(i,c,v,y),g=l(s)-p;if(l(g)<o)return h?v:c;if(g>o)return null;var I=s/p,b=0;function T(w){return b+=nt.integrate(y,u,w,e(u,w)),u=w,b-s}return nt.findRoot(T,y,u+I,c,v,32,1e-12)},getPoint:function(i,s){return n(i,s,0,!1)},getTangent:function(i,s){return n(i,s,1,!0)},getWeightedTangent:function(i,s){return n(i,s,1,!1)},getNormal:function(i,s){return n(i,s,2,!0)},getWeightedNormal:function(i,s){return n(i,s,2,!1)},getCurvature:function(i,s){return n(i,s,3,!1).x},getPeaks:function(i){var s=i[0],u=i[1],l=i[2],o=i[3],h=i[4],c=i[5],v=i[6],y=i[7],p=-s+3*l-3*h+v,g=3*s-6*l+3*h,I=-3*s+3*l,b=-u+3*o-3*c+y,T=3*u-6*o+3*c,w=-3*u+3*o,C=1e-8,_=1-C,x=[];return nt.solveCubic(9*(p*p+b*b),9*(p*g+T*b),2*(g*g+T*T)+3*(I*p+w*b),I*g+T*w,x,C,_),x.sort()}}}},new function(){function t(g,I,b,T,w,C,_){var x=!_&&b.getPrevious()===w,O=!_&&b!==w&&b.getNext()===w,E=1e-8,S=1-E;if(T!==null&&T>=(x?E:0)&&T<=(O?S:1)&&C!==null&&C>=(O?E:0)&&C<=(x?S:1)){var M=new Ut(b,T,null,_),L=new Ut(w,C,null,_);M._intersection=L,L._intersection=M,(!I||I(M))&&Ut.insert(g,M,!0)}}function e(g,I,b,T,w,C,_,x,O,E,S,M,L){if(++O>=4096||++x>=40)return O;var z=1e-9,D=I[0],A=I[1],F=I[6],V=I[7],j=It.getSignedDistance,W=j(D,A,F,V,I[2],I[3]),K=j(D,A,F,V,I[4],I[5]),et=W*K>0?3/4:4/9,ft=et*Math.min(0,W,K),gt=et*Math.max(0,W,K),wt=j(D,A,F,V,g[0],g[1]),J=j(D,A,F,V,g[2],g[3]),Q=j(D,A,F,V,g[4],g[5]),pt=j(D,A,F,V,g[6],g[7]),xt=n(wt,J,Q,pt),bt=xt[0],Et=xt[1],Tt,zt;if(W===0&&K===0&&wt===0&&J===0&&Q===0&&pt===0||(Tt=i(bt,Et,ft,gt))==null||(zt=i(bt.reverse(),Et.reverse(),ft,gt))==null)return O;var Nt=E+(S-E)*Tt,Lt=E+(S-E)*zt;if(Math.max(L-M,Lt-Nt)<z){var fe=(Nt+Lt)/2,he=(M+L)/2;t(w,C,_?T:b,_?he:fe,_?b:T,_?fe:he)}else{g=st.getPart(g,Tt,zt);var ve=L-M;if(zt-Tt>.8)if(Lt-Nt>ve){var se=st.subdivide(g,.5),fe=(Nt+Lt)/2;O=e(I,se[0],T,b,w,C,!_,x,O,M,L,Nt,fe),O=e(I,se[1],T,b,w,C,!_,x,O,M,L,fe,Lt)}else{var se=st.subdivide(I,.5),he=(M+L)/2;O=e(se[0],g,T,b,w,C,!_,x,O,M,he,Nt,Lt),O=e(se[1],g,T,b,w,C,!_,x,O,he,L,Nt,Lt)}else ve===0||ve>=z?O=e(I,g,T,b,w,C,!_,x,O,M,L,Nt,Lt):O=e(g,I,b,T,w,C,_,x,O,Nt,Lt,M,L)}return O}function n(g,I,b,T){var w=[0,g],C=[1/3,I],_=[2/3,b],x=[1,T],O=I-(2*g+T)/3,E=b-(g+2*T)/3,S;if(O*E<0)S=[[w,C,x],[w,_,x]];else{var M=O/E;S=[M>=2?[w,C,x]:M<=.5?[w,_,x]:[w,C,_,x],[w,x]]}return(O||E)<0?S.reverse():S}function i(g,I,b,T){return g[0][1]<b?s(g,!0,b):I[0][1]>T?s(I,!1,T):g[0][0]}function s(g,I,b){for(var T=g[0][0],w=g[0][1],C=1,_=g.length;C<_;C++){var x=g[C][0],O=g[C][1];if(I?O>=b:O<=b)return O===b?x:T+(b-w)*(x-T)/(O-w);T=x,w=O}return null}function u(g,I,b,T,w){var C=nt.isZero;if(C(T)&&C(w)){var _=st.getTimeOf(g,new N(I,b));return _===null?[]:[_]}for(var x=Math.atan2(-w,T),O=Math.sin(x),E=Math.cos(x),S=[],M=[],L=0;L<8;L+=2){var z=g[L]-I,D=g[L+1]-b;S.push(z*E-D*O,z*O+D*E)}return st.solveCubic(S,1,0,M,0,1),M}function l(g,I,b,T,w,C,_){for(var x=I[0],O=I[1],E=I[6],S=I[7],M=u(g,x,O,E-x,S-O),L=0,z=M.length;L<z;L++){var D=M[L],A=st.getPoint(g,D),F=st.getTimeOf(I,A);F!==null&&t(w,C,_?T:b,_?F:D,_?b:T,_?D:F)}}function o(g,I,b,T,w,C){var _=It.intersect(g[0],g[1],g[6],g[7],I[0],I[1],I[6],I[7]);_&&t(w,C,b,st.getTimeOf(g,_),T,st.getTimeOf(I,_))}function h(g,I,b,T,w,C){var _=1e-12,x=Math.min,O=Math.max;if(O(g[0],g[2],g[4],g[6])+_>x(I[0],I[2],I[4],I[6])&&x(g[0],g[2],g[4],g[6])-_<O(I[0],I[2],I[4],I[6])&&O(g[1],g[3],g[5],g[7])+_>x(I[1],I[3],I[5],I[7])&&x(g[1],g[3],g[5],g[7])-_<O(I[1],I[3],I[5],I[7])){var E=y(g,I);if(E)for(var S=0;S<2;S++){var M=E[S];t(w,C,b,M[0],T,M[1],!0)}else{var L=st.isStraight(g),z=st.isStraight(I),D=L&&z,A=L&&!z,F=w.length;if((D?o:L||z?l:e)(A?I:g,A?g:I,A?T:b,A?b:T,w,C,A,0,0,0,1,0,1),!D||w.length===F)for(var S=0;S<4;S++){var V=S>>1,j=S&1,W=V*6,K=j*6,et=new N(g[W],g[W+1]),ft=new N(I[K],I[K+1]);et.isClose(ft,_)&&t(w,C,b,V,T,j)}}}return w}function c(g,I,b,T){var w=st.classify(g);if(w.type==="loop"){var C=w.roots;t(b,T,I,C[0],I,C[1])}return b}function v(g,I,b,T,w,C){var _=1e-7,x=!I;x&&(I=g);for(var O=g.length,E=I.length,S=new Array(O),M=x?S:new Array(E),L=[],z=0;z<O;z++)S[z]=g[z].getValues(T);if(!x)for(var z=0;z<E;z++)M[z]=I[z].getValues(w);for(var D=tt.findCurveBoundsCollisions(S,M,_),A=0;A<O;A++){var F=g[A],V=S[A];x&&c(V,F,L,b);var j=D[A];if(j)for(var W=0;W<j.length;W++){if(C&&L.length)return L;var K=j[W];if(!x||K>A){var et=I[K],ft=M[K];h(V,ft,F,et,L,b)}}}return L}function y(g,I){function b(pt){var xt=pt[6]-pt[0],bt=pt[7]-pt[1];return xt*xt+bt*bt}var T=Math.abs,w=It.getDistance,C=1e-8,_=1e-7,x=st.isStraight(g),O=st.isStraight(I),E=x&&O,S=b(g)<b(I),M=S?I:g,L=S?g:I,z=M[0],D=M[1],A=M[6]-z,F=M[7]-D;if(w(z,D,A,F,L[0],L[1],!0)<_&&w(z,D,A,F,L[6],L[7],!0)<_)!E&&w(z,D,A,F,M[2],M[3],!0)<_&&w(z,D,A,F,M[4],M[5],!0)<_&&w(z,D,A,F,L[2],L[3],!0)<_&&w(z,D,A,F,L[4],L[5],!0)<_&&(x=O=E=!0);else if(E)return null;if(x^O)return null;for(var V=[g,I],j=[],W=0;W<4&&j.length<2;W++){var K=W&1,et=K^1,ft=W>>1,gt=st.getTimeOf(V[K],new N(V[et][ft?6:0],V[et][ft?7:1]));if(gt!=null){var wt=K?[ft,gt]:[gt,ft];(!j.length||T(wt[0]-j[0][0])>C&&T(wt[1]-j[0][1])>C)&&j.push(wt)}if(W>2&&!j.length)break}if(j.length!==2)j=null;else if(!E){var J=st.getPart(g,j[0][0],j[1][0]),Q=st.getPart(I,j[0][1],j[1][1]);(T(Q[2]-J[2])>_||T(Q[3]-J[3])>_||T(Q[4]-J[4])>_||T(Q[5]-J[5])>_)&&(j=null)}return j}function p(g,I){var b=g[0],T=g[1],w=g[2],C=g[3],_=g[4],x=g[5],O=g[6],E=g[7],S=I.normalize(),M=S.x,L=S.y,z=3*O-9*_+9*w-3*b,D=3*E-9*x+9*C-3*T,A=6*_-12*w+6*b,F=6*x-12*C+6*T,V=3*w-3*b,j=3*C-3*T,W=2*z*L-2*D*M,K=[];if(Math.abs(W)<nt.CURVETIME_EPSILON){var et=z*j-D*V,W=z*F-D*A;if(W!=0){var ft=-et/W;ft>=0&&ft<=1&&K.push(ft)}}else{var gt=(A*A-4*z*V)*L*L+(-2*A*F+4*D*V+4*z*j)*M*L+(F*F-4*D*j)*M*M,wt=A*L-F*M;if(gt>=0&&W!=0){var J=Math.sqrt(gt),Q=-(wt+J)/W,pt=(-wt+J)/W;Q>=0&&Q<=1&&K.push(Q),pt>=0&&pt<=1&&K.push(pt)}}return K}return{getIntersections:function(g){var I=this.getValues(),b=g&&g!==this&&g.getValues();return b?h(I,b,this,g,[]):c(I,this,[])},statics:{getOverlaps:y,getIntersections:v,getCurveLineIntersections:u,getTimesWithTangent:p}}}),Ut=d.extend({_class:"CurveLocation",initialize:function(e,n,i,s,u){if(n>=.99999999){var l=e.getNext();l&&(n=0,e=l)}this._setCurve(e),this._time=n,this._point=i||e.getPointAtTime(n),this._overlap=s,this._distance=u,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var e=t.getCurve();e?this._setCurve(e):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),n=this.getTime();n===0?t=e._segment1:n===1?t=e._segment2:n!=null&&(t=e.getPartLength(0,n)<e.getPartLength(n,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,e=this;t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function n(i){var s=i&&i.getCurve();if(s&&(e._time=s.getTimeOf(e._point))!=null)return e._setCurve(s),s}return this._curve||n(this._segment)||n(this._segment1)||n(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&e==null?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(t==null){t=0;var e=this.getPath(),n=this.getIndex();if(e&&n!=null)for(var i=e.getCurves(),s=0;s<n;s++)t+=i[s].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(t==null){var e=this.getCurve(),n=this.getTime();this._curveOffset=t=n!=null&&e&&e.getPartLength(0,n)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,n=t&&t.splitAtTime(this.getTime());return n&&this._setSegment(e.getLastSegment()),n},equals:function(t,e){var n=this===t;if(!n&&t instanceof Ut){var i=this.getCurve(),s=t.getCurve(),u=i._path,l=s._path;if(u===l){var o=Math.abs,h=1e-7,c=o(this.getOffset()-t.getOffset()),v=!e&&this._intersection,y=!e&&t._intersection;n=(c<h||u&&o(u.getLength()-c)<h)&&(!v&&!y||v&&y&&v.equals(y,!0))}}return n},toString:function(){var t=[],e=this.getPoint(),n=Y.instance;e&&t.push("point: "+e);var i=this.getIndex();i!=null&&t.push("index: "+i);var s=this.getTime();return s!=null&&t.push("time: "+n.number(s)),this._distance!=null&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var e=this.getTime(),n=t.getTime(),i=1e-8,s=1-i,u=e>=i&&e<=s,l=n>=i&&n<=s;if(u&&l)return!this.isTouching();var o=this.getCurve(),h=o&&e<i?o.getPrevious():o,c=t.getCurve(),v=c&&n<i?c.getPrevious():c;if(e>s&&(o=o.getNext()),n>s&&(c=c.getNext()),!h||!o||!v||!c)return!1;var y=[];function p(M,L){var z=M.getValues(),D=st.classify(z).roots||st.getPeaks(z),A=D.length,F=st.getLength(z,L&&A?D[A-1]:0,!L&&A?D[0]:1);y.push(A?F:F/32)}function g(M,L,z){return L<z?M>L&&M<z:M>L||M<z}u||(p(h,!0),p(o,!1)),l||(p(v,!0),p(c,!1));var I=this.getPoint(),b=Math.min.apply(Math,y),T=u?o.getTangentAtTime(e):o.getPointAt(b).subtract(I),w=u?T.negate():h.getPointAt(-b).subtract(I),C=l?c.getTangentAtTime(n):c.getPointAt(b).subtract(I),_=l?C.negate():v.getPointAt(-b).subtract(I),x=w.getAngle(),O=T.getAngle(),E=_.getAngle(),S=C.getAngle();return!!(u?g(x,E,S)^g(O,E,S)&&g(x,S,E)^g(O,S,E):g(E,x,O)^g(S,x,O)&&g(E,O,x)^g(S,O,x))},hasOverlap:function(){return!!this._overlap}},d.each(st._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var n=this.getCurve(),i=this.getTime();return i!=null&&n&&n[e](i,!0)}},{preserve:!0}),new function(){function t(e,n,i){var s=e.length,u=0,l=s-1;function o(I,b){for(var T=I+b;T>=-1&&T<=s;T+=b){var w=e[(T%s+s)%s];if(!n.getPoint().isClose(w.getPoint(),1e-7))break;if(n.equals(w))return w}return null}for(;u<=l;){var h=u+l>>>1,c=e[h],v;if(i&&(v=n.equals(c)?c:o(h,-1)||o(h,1)))return n._overlap&&(v._overlap=v._intersection._overlap=!0),v;var y=n.getPath(),p=c.getPath(),g=y!==p?y._id-p._id:n.getIndex()+n.getTime()-(c.getIndex()+c.getTime());g<0?l=h-1:u=h+1}return e.splice(u,0,n),n}return{statics:{insert:t,expand:function(e){for(var n=e.slice(),i=e.length-1;i>=0;i--)t(n,e[i]._intersection,!1);return n}}}}),jt=_t.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,n,i;if(d.isPlainObject(t)?(n=t.segments,e=t.pathData):Array.isArray(t)?n=t:typeof t=="string"&&(e=t),n){var s=n[0];i=s&&Array.isArray(s[0])}else e&&(i=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var u=i?xe:Bt;return new u(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var e=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),n,i=!1,s,u,l=new N,o=new N;function h(_,x){var O=+n[_];return i&&(O+=l[x]),O}function c(_){return new N(h(_,"x"),h(_+1,"y"))}this.clear();for(var v=0,y=e&&e.length;v<y;v++){var p=e[v],g=p[0],I=g.toLowerCase();n=p.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var b=n&&n.length;switch(i=g===I,s==="z"&&!/[mz]/.test(I)&&this.moveTo(l),I){case"m":case"l":for(var T=I==="m",w=0;w<b;w+=2)this[T?"moveTo":"lineTo"](l=c(w)),T&&(o=l,T=!1);u=l;break;case"h":case"v":var C=I==="h"?"x":"y";l=l.clone();for(var w=0;w<b;w++)l[C]=h(w,C),this.lineTo(l);u=l;break;case"c":for(var w=0;w<b;w+=6)this.cubicCurveTo(c(w),u=c(w+2),l=c(w+4));break;case"s":for(var w=0;w<b;w+=4)this.cubicCurveTo(/[cs]/.test(s)?l.multiply(2).subtract(u):l,u=c(w),l=c(w+2)),s=I;break;case"q":for(var w=0;w<b;w+=4)this.quadraticCurveTo(u=c(w),l=c(w+2));break;case"t":for(var w=0;w<b;w+=2)this.quadraticCurveTo(u=/[qt]/.test(s)?l.multiply(2).subtract(u):l,l=c(w)),s=I;break;case"a":for(var w=0;w<b;w+=7)this.arcTo(l=c(w+5),new ct(+n[w],+n[w+1]),+n[w+2],+n[w+4],+n[w+3]);break;case"z":this.closePath(1e-12),l=o;break}s=I}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!(this.getFillRule()==="evenodd"?e.windingL&1||e.windingR&1:e.winding)},getIntersections:function(t,e,n,i){var s=this===t||!t,u=this._matrix._orNullIfIdentity(),l=s?u:(n||t._matrix)._orNullIfIdentity();return s||this.getBounds(u).intersects(t.getBounds(l),1e-12)?st.getIntersections(this.getCurves(),!s&&t.getCurves(),e,u,l,i):[]},getCrossings:function(t){return this.getIntersections(t,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var t=N.read(arguments),e=this.getCurves(),n=1/0,i=null,s=0,u=e.length;s<u;s++){var l=e[s].getNearestLocation(t);l._distance<n&&(n=l._distance,i=l)}return i},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()},interpolate:function(t,e,n){var i=!this._children,s=i?"_segments":"_children",u=t[s],l=e[s],o=this[s];if(!u||!l||u.length!==l.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var h=o.length,c=l.length;if(h<c)for(var v=i?Pt:Bt,y=h;y<c;y++)this.add(new v);else h>c&&this[i?"removeSegments":"removeChildren"](c,h);for(var y=0;y<c;y++)o[y].interpolate(u[y],l[y],n);i&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var n=this._children||[this],i=t._children?t._children.slice():[t],s=n.length,u=i.length,l=[],o=0;e=!0;for(var h=tt.findItemBoundsCollisions(n,i,nt.GEOMETRIC_EPSILON),c=s-1;c>=0&&e;c--){var v=n[c];e=!1;var y=h[c];if(y)for(var p=y.length-1;p>=0&&!e;p--)v.compare(i[y[p]])&&(l[y[p]]||(l[y[p]]=!0,o++),e=!0)}e=e&&o===u}return e}}),Bt=jt.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var n=arguments,i=Array.isArray(e)?typeof e[0]=="object"?e:n:e&&e.size===f&&(e.x!==f||e.point!==f)?n:null;i&&i.length>0?this.setSegments(i):(this._curves=f,this._segmentSelection=0,!i&&typeof e=="string"&&(this.setPathData(e),e=null)),this._initialize(!i&&e)},_equals:function(t){return this._closed===t._closed&&d.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),e&8){if(this._length=this._area=f,e&32)this._version++;else if(this._curves)for(var n=0,i=this._curves.length;n<i;n++)this._curves[n]._changed()}else e&64&&(this._bounds=f)},getStyle:function(){var t=this._parent;return(t instanceof xe?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),n=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=f,n){var i=t[n-1];typeof i=="boolean"&&(this.setClosed(i),n--),this._add(Pt.readList(t,0,{},n))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);for(var i=0;i<n;i++)t[i]=new st(this,e[i],e[i+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new st(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,e){var n=this._segments,i=n.length,s=new Y(e),u=new Array(6),l=!0,o,h,c,v,y,p,g,I,b=[];function T(C,_){if(C._transformCoordinates(t,u),o=u[0],h=u[1],l)b.push("M"+s.pair(o,h)),l=!1;else if(y=u[2],p=u[3],y===o&&p===h&&g===c&&I===v){if(!_){var x=o-c,O=h-v;b.push(x===0?"v"+s.number(O):O===0?"h"+s.number(x):"l"+s.pair(x,O))}}else b.push("c"+s.pair(g-c,I-v)+" "+s.pair(y-c,p-v)+" "+s.pair(o-c,h-v));c=o,v=h,g=u[4],I=u[5]}if(!i)return"";for(var w=0;w<i;w++)T(n[w]);return this._closed&&i>0&&(T(n[0],!0),b.push("z")),b.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,n=new Array(6),i=0,s=e.length;i<s;i++)e[i]._transformCoordinates(t,n,!0);return!0},_add:function(t,l){for(var n=this._segments,i=this._curves,s=t.length,u=l==null,l=u?n.length:l,o=0;o<s;o++){var h=t[o];h._path&&(h=t[o]=h.clone()),h._path=this,h._index=l+o,h._selection&&this._updateSelection(h,0,h._selection)}if(u)d.push(n,t);else{n.splice.apply(n,[l,0].concat(t));for(var o=l+s,c=n.length;o<c;o++)n[o]._index=o}if(i){var v=this._countCurves(),y=l>0&&l+s-1===v?l-1:l,p=y,g=Math.min(y+s,v);t._curves&&(i.splice.apply(i,[y,0].concat(t._curves)),p+=t._curves.length);for(var o=p;o<g;o++)i.splice(o,0,new st(this,null,null));this._adjustCurves(y,g)}return this._changed(41),t},_adjustCurves:function(t,e){for(var n=this._segments,i=this._curves,s,u=t;u<e;u++)s=i[u],s._path=this,s._segment1=n[u],s._segment2=n[u+1]||n[0],s._changed();(s=i[this._closed&&!t?n.length-1:t-1])&&(s._segment2=n[t]||n[0],s._changed()),(s=i[e])&&(s._segment1=n[e],s._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var e=arguments;return e.length>1&&typeof t!="number"?this._add(Pt.readList(e)):this._add([Pt.read(e)])[0]},insert:function(t,e){var n=arguments;return n.length>2&&typeof e!="number"?this._add(Pt.readList(n,1),t):this._add([Pt.read(n,1)],t)[0]},addSegment:function(){return this._add([Pt.read(arguments)])[0]},insertSegment:function(t){return this._add([Pt.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(Pt.readList(t))},insertSegments:function(t,e){return this._add(Pt.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,n){t=t||0,e=d.pick(e,this._segments.length);var i=this._segments,s=this._curves,u=i.length,l=i.splice(t,e-t),o=l.length;if(!o)return l;for(var h=0;h<o;h++){var c=l[h];c._selection&&this._updateSelection(c,c._selection,0),c._index=c._path=null}for(var h=t,v=i.length;h<v;h++)i[h]._index=h;if(s){for(var y=t>0&&e===u+(this._closed?1:0)?t-1:t,s=s.splice(y,o),h=s.length-1;h>=0;h--)s[h]._path=null;n&&(l._curves=s.slice(1)),this._adjustCurves(y,y)}return this._changed(41),l},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)t[e].clearHandles()},getLength:function(){if(this._length==null){for(var t=this.getCurves(),e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(t==null){var e=this._segments,n=this._closed;t=0;for(var i=0,s=e.length;i<s;i++){var u=i+1===s;t+=st.getArea(st.getValues(e[i],e[u?0:i+1],null,u&&!n))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===t*7},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){e&1||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,n=e.length,i=t?7:0;this._segmentSelection=i*n;for(var s=0;s<n;s++)e[s]._selection=i},_updateSelection:function(t,e,n){t._selection=n;var i=this._segmentSelection+=n-e;i>0&&this.setSelected(!0)},divideAt:function(t){var e=this.getLocationAt(t),n;return e&&(n=e.getCurve().divideAt(e.getCurveOffset()))?n._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),n=e&&e.index,i=e&&e.time,s=1e-8,u=1-s;i>u&&(n++,i=0);var l=this.getCurves();if(n>=0&&n<l.length){i>=s&&l[n++].divideAtTime(i);var o=this.removeSegments(n,this._segments.length,!0),h;return this._closed?(this.setClosed(!1),h=this):(h=new Bt(_t.NO_INSERT),h.insertAbove(this),h.copyAttributes(this)),h._add(o,0),this.addSegment(o[0]),h}return null},split:function(t,e){var n,i=e===f?t:(n=this.getCurves()[t])&&n.getLocationAtTime(e);return i!=null?this.splitAt(i):null},join:function(t,e){var n=e||0;if(t&&t!==this){var i=t._segments,s=this.getLastSegment(),u=t.getLastSegment();if(!u)return this;s&&s._point.isClose(u._point,n)&&t.reverse();var l=t.getFirstSegment();if(s&&s._point.isClose(l._point,n))s.setHandleOut(l._handleOut),this._add(i.slice(1));else{var o=this.getFirstSegment();o&&o._point.isClose(l._point,n)&&t.reverse(),u=t.getLastSegment(),o&&o._point.isClose(u._point,n)?(o.setHandleIn(u._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}t._closed&&this._add([i[0]]),t.remove()}var h=this.getFirstSegment(),c=this.getLastSegment();return h!==c&&h._point.isClose(c._point,n)&&(h.setHandleIn(c._handleIn),c.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),n=t&&t.simplify,i=n?1e-7:0,s=e.length-1;s>=0;s--){var u=e[s];!u.hasHandles()&&(!u.hasLength(i)||n&&u.isCollinear(u.getNext()))&&u.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var n=this._segments[t],i=n._handleIn;n._handleIn=n._handleOut,n._handleOut=i,n._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new Ge(this,t||.25,256,!0),n=e.parts,i=n.length,s=[],u=0;u<i;u++)s.push(new Pt(n[u].curve.slice(0,2)));!this._closed&&i>0&&s.push(new Pt(n[i-1].curve.slice(6))),this.setSegments(s)},simplify:function(t){var e=new ke(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){var e=this,n=t||{},i=n.type||"asymmetric",s=this._segments,u=s.length,l=this._closed;function o(bt,Et){var Tt=bt&&bt.index;if(Tt!=null){var zt=bt.path;if(zt&&zt!==e)throw new Error(bt._class+" "+Tt+" of "+zt+" is not part of "+e);Et&&bt instanceof st&&Tt++}else Tt=typeof bt=="number"?bt:Et;return Math.min(Tt<0&&l?Tt%u:Tt<0?Tt+u:Tt,u-1)}var h=l&&n.from===f&&n.to===f,c=o(n.from,0),v=o(n.to,u-1);if(c>v)if(l)c-=u;else{var y=c;c=v,v=y}if(/^(?:asymmetric|continuous)$/.test(i)){var p=i==="asymmetric",g=Math.min,I=v-c+1,b=I-1,T=h?g(I,4):1,w=T,C=T,_=[];if(l||(w=g(1,c),C=g(1,u-v-1)),b+=w+C,b<=1)return;for(var x=0,O=c-w;x<=b;x++,O++)_[x]=s[(O<0?O+u:O)%u]._point;for(var E=_[0]._x+2*_[1]._x,S=_[0]._y+2*_[1]._y,M=2,L=b-1,z=[E],D=[S],A=[M],F=[],V=[],x=1;x<b;x++){var j=x<L,W=j||p?1:2,K=j?4:p?2:7,et=j?4:p?3:8,ft=j?2:p?0:1,gt=W/M;M=A[x]=K-gt,E=z[x]=et*_[x]._x+ft*_[x+1]._x-gt*E,S=D[x]=et*_[x]._y+ft*_[x+1]._y-gt*S}F[L]=z[L]/A[L],V[L]=D[L]/A[L];for(var x=b-2;x>=0;x--)F[x]=(z[x]-F[x+1])/A[x],V[x]=(D[x]-V[x+1])/A[x];F[b]=(3*_[b]._x-F[L])/2,V[b]=(3*_[b]._y-V[L])/2;for(var x=w,wt=b-C,O=c;x<=wt;x++,O++){var J=s[O<0?O+u:O],Q=J._point,pt=F[x]-Q._x,xt=V[x]-Q._y;(h||x<wt)&&J.setHandleOut(pt,xt),(h||x>w)&&J.setHandleIn(-pt,-xt)}}else for(var x=c;x<=v;x++)s[x<0?x+u:x].smooth(n,!h&&x===c,!h&&x===v)},toShape:function(t){if(!this._closed)return null;var e=this._segments,n,i,s,u;function l(p,g){var I=e[p],b=I.getNext(),T=e[g],w=T.getNext();return I._handleOut.isZero()&&b._handleIn.isZero()&&T._handleOut.isZero()&&w._handleIn.isZero()&&b._point.subtract(I._point).isCollinear(w._point.subtract(T._point))}function o(p){var g=e[p],I=g.getPrevious(),b=g.getNext();return I._handleOut.isZero()&&g._handleIn.isZero()&&g._handleOut.isZero()&&b._handleIn.isZero()&&g._point.subtract(I._point).isOrthogonal(b._point.subtract(g._point))}function h(p){var g=e[p],I=g.getNext(),b=g._handleOut,T=I._handleIn,w=.5522847498307936;if(b.isOrthogonal(T)){var C=g._point,_=I._point,x=new It(C,b,!0).intersect(new It(_,T,!0),!0);return x&&nt.isZero(b.getLength()/x.subtract(C).getLength()-w)&&nt.isZero(T.getLength()/x.subtract(_).getLength()-w)}return!1}function c(p,g){return e[p]._point.getDistance(e[g]._point)}if(!this.hasHandles()&&e.length===4&&l(0,2)&&l(1,3)&&o(1)?(n=ie.Rectangle,i=new ct(c(0,3),c(0,1)),u=e[1]._point.add(e[2]._point).divide(2)):e.length===8&&h(0)&&h(2)&&h(4)&&h(6)&&l(1,5)&&l(3,7)?(n=ie.Rectangle,i=new ct(c(1,6),c(0,3)),s=i.subtract(new ct(c(0,7),c(1,2))).divide(2),u=e[3]._point.add(e[4]._point).divide(2)):e.length===4&&h(0)&&h(1)&&h(2)&&h(3)&&(nt.isZero(c(0,2)-c(1,3))?(n=ie.Circle,s=c(0,2)/2):(n=ie.Ellipse,s=new ct(c(2,0)/2,c(3,1)/2)),u=e[1]._point),n){var v=this.getPosition(!0),y=new n({center:v,size:i,radius:s,insert:!1});return y.copyAttributes(this,!0),y._matrix.prepend(this._matrix),y.rotate(u.subtract(v).getAngle()+90),(t===f||t)&&y.insertAbove(this),y}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof xe)return t.base.call(this,e);var n=this.getCurves(),i=e.getCurves(),s=n.length,u=i.length;if(!s||!u)return s==u;for(var l=n[0].getValues(),o=[],h=0,c,v=0,y,p=0;p<u;p++){var T=i[p].getValues();o.push(T);var g=st.getOverlaps(l,T);if(g){c=!p&&g[0][0]>0?u-1:p,y=g[0][1];break}}for(var I=Math.abs,b=1e-8,T=o[c],w;l&&T;){var g=st.getOverlaps(l,T);if(g){var C=g[0][0];if(I(C-v)<b){v=g[1][0],v===1&&(l=++h<s?n[h].getValues():null,v=0);var _=g[0][1];if(I(_-y)<b){if(w||(w=[c,_]),y=g[1][1],y===1&&(++c>=u&&(c=0),T=o[c]||i[c].getValues(),y=0),!l)return w[0]===c&&w[1]===y;continue}}}break}return!1},_hitTestSelf:function(t,e,n,i){var s=this,u=this.getStyle(),l=this._segments,o=l.length,h=this._closed,c=e._tolerancePadding,v=c,y,p,g,I,b,T,w=e.stroke&&u.hasStroke(),C=e.fill&&u.hasFill(),_=e.curves,x=w?u.getStrokeWidth()/2:C&&e.tolerance>0||_?0:null;x!==null&&(x>0?(y=u.getStrokeJoin(),p=u.getStrokeCap(),g=u.getMiterLimit(),v=v.add(Bt._getStrokePadding(x,i))):y=p="round");function O(F,V){return t.subtract(F).divide(V).length<=1}function E(F,V,j){if(!e.selected||V.isSelected()){var W=F._point;if(V!==W&&(V=V.add(W)),O(V,v))return new Ie(j,s,{segment:F,point:V})}}function S(F,V){return(V||e.segments)&&E(F,F._point,"segment")||!V&&e.handles&&(E(F,F._handleIn,"handle-in")||E(F,F._handleOut,"handle-out"))}function M(F){I.add(F)}function L(F){var V=h||F._index>0&&F._index<o-1;if((V?y:p)==="round")return O(F._point,v);if(I=new Bt({internal:!0,closed:!0}),V?F.isSmooth()||Bt._addBevelJoin(F,y,x,g,null,i,M,!0):p==="square"&&Bt._addSquareCap(F,p,x,null,i,M,!0),!I.isEmpty()){var j;return I.contains(t)||(j=I.getNearestLocation(t))&&O(j.getPoint(),c)}}if(e.ends&&!e.segments&&!h){if(T=S(l[0],!0)||S(l[o-1],!0))return T}else if(e.segments||e.handles){for(var z=0;z<o;z++)if(T=S(l[z]))return T}if(x!==null){if(b=this.getNearestLocation(t),b){var D=b.getTime();D===0||D===1&&o>1?L(b.getSegment())||(b=null):O(b.getPoint(),v)||(b=null)}if(!b&&y==="miter"&&o>1)for(var z=0;z<o;z++){var A=l[z];if(t.getDistance(A._point)<=g*x&&L(A)){b=A.getLocation();break}}}return!b&&C&&this._contains(t)||b&&!w&&!_?new Ie("fill",this):b?new Ie(w?"stroke":"curve",this,{location:b,point:b.getPoint()}):null}},d.each(st._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this.getLocationAt(e);return n&&n[t]()}},{beans:!1,getLocationOf:function(){for(var t=N.read(arguments),e=this.getCurves(),n=0,i=e.length;n<i;n++){var s=e[n].getLocationOf(t);if(s)return s}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if(typeof t=="number"){for(var e=this.getCurves(),n=0,i=0,s=e.length;i<s;i++){var u=n,l=e[i];if(n+=l.getLength(),n>t)return l.getLocationAt(t-u)}if(e.length>0&&t<=this.getLength())return new Ut(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=N.read(arguments);if(t.isZero())return[];for(var e=[],n=0,i=this.getCurves(),s=0,u=i.length;s<u;s++){for(var l=i[s],o=l.getTimesWithTangent(t),h=0,c=o.length;h<c;h++){var v=n+l.getOffsetAtTime(o[h]);e.indexOf(v)<0&&e.push(v)}n+=l.length}return e}}),new function(){function t(n,i,s,u){if(u<=0)return;var l=u/2,o=u-2,h=l-1,c=new Array(6),v,y;function p(C){var _=c[C],x=c[C+1];(v!=_||y!=x)&&(n.beginPath(),n.moveTo(v,y),n.lineTo(_,x),n.stroke(),n.beginPath(),n.arc(_,x,l,0,Math.PI*2,!0),n.fill())}for(var g=0,I=i.length;g<I;g++){var b=i[g],T=b._selection;if(b._transformCoordinates(s,c),v=c[0],y=c[1],T&2&&p(2),T&4&&p(4),n.fillRect(v-l,y-l,u,u),o>0&&!(T&1)){var w=n.fillStyle;n.fillStyle="#ffffff",n.fillRect(v-h,y-h,o,o),n.fillStyle=w}}}function e(n,i,s){var u=i._segments,l=u.length,o=new Array(6),h=!0,c,v,y,p,g,I,b,T;function w(_){if(s)_._transformCoordinates(s,o),c=o[0],v=o[1];else{var x=_._point;c=x._x,v=x._y}if(h)n.moveTo(c,v),h=!1;else{if(s)g=o[2],I=o[3];else{var O=_._handleIn;g=c+O._x,I=v+O._y}g===c&&I===v&&b===y&&T===p?n.lineTo(c,v):n.bezierCurveTo(b,T,g,I,c,v)}if(y=c,p=v,s)b=o[4],T=o[5];else{var O=_._handleOut;b=y+O._x,T=p+O._y}}for(var C=0;C<l;C++)w(u[C]);i._closed&&l>0&&w(u[0])}return{_draw:function(n,i,s,u){var l=i.dontStart,o=i.dontFinish||i.clip,h=this.getStyle(),c=h.hasFill(),v=h.hasStroke(),y=h.getDashArray(),p=!ot.support.nativeDash&&v&&y&&y.length;l||n.beginPath(),(c||v&&!p||o)&&(e(n,this,u),this._closed&&n.closePath());function g(_){return y[(_%p+p)%p]}if(!o&&(c||v)&&(this._setStyles(n,i,s),c&&(n.fill(h.getFillRule()),n.shadowColor="rgba(0,0,0,0)"),v)){if(p){l||n.beginPath();for(var I=new Ge(this,.25,32,!1,u),b=I.length,T=-h.getDashOffset(),w,C=0;T>0;)T-=g(C--)+g(C--);for(;T<b;)w=T+g(C++),(T>0||w>0)&&I.drawPart(n,Math.max(T,0),Math.max(w,0)),T=w+g(C++)}n.stroke()}},_drawSelected:function(n,i){n.beginPath(),e(n,this,i),n.stroke(),t(n,this._segments,i,ot.settings.handleSize)}}},new function(){function t(e){var n=e._segments;if(!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return{moveTo:function(){var e=this._segments;e.length===1&&this.removeSegment(0),e.length||this._add([new Pt(N.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Pt(N.read(arguments))])},cubicCurveTo:function(){var e=arguments,n=N.read(e),i=N.read(e),s=N.read(e),u=t(this);u.setHandleOut(n.subtract(u._point)),this._add([new Pt(s,i.subtract(s))])},quadraticCurveTo:function(){var e=arguments,n=N.read(e),i=N.read(e),s=t(this)._point;this.cubicCurveTo(n.add(s.subtract(n).multiply(1/3)),n.add(i.subtract(n).multiply(1/3)),i)},curveTo:function(){var e=arguments,n=N.read(e),i=N.read(e),s=d.pick(d.read(e),.5),u=1-s,l=t(this)._point,o=n.subtract(l.multiply(u*u)).subtract(i.multiply(s*s)).divide(2*s*u);if(o.isNaN())throw new Error("Cannot put a curve through points with parameter = "+s);this.quadraticCurveTo(o,i)},arcTo:function(){var e=arguments,n=Math.abs,i=Math.sqrt,s=t(this),u=s._point,l=N.read(e),o,h=d.peek(e),c=d.pick(h,!0),v,y,p,g;if(typeof c=="boolean")var I=u.add(l).divide(2),o=I.add(I.subtract(u).rotate(c?-90:90));else if(d.remain(e)<=2)o=l,l=N.read(e);else if(!u.equals(l)){var b=ct.read(e),T=nt.isZero;if(T(b.width)||T(b.height))return this.lineTo(l);var w=d.read(e),c=!!d.read(e),C=!!d.read(e),I=u.add(l).divide(2),_=u.subtract(I).rotate(-w),x=_.x,O=_.y,E=n(b.width),S=n(b.height),M=E*E,L=S*S,z=x*x,D=O*O,A=i(z/M+D/L);if(A>1&&(E*=A,S*=A,M=E*E,L=S*S),A=(M*L-M*D-L*z)/(M*D+L*z),n(A)<1e-12&&(A=0),A<0)throw new Error("Cannot create an arc with the given arguments");v=new N(E*O/S,-S*x/E).multiply((C===c?-1:1)*i(A)).rotate(w).add(I),g=new mt().translate(v).rotate(w).scale(E,S),p=g._inverseTransform(u),y=p.getDirectedAngle(g._inverseTransform(l)),!c&&y>0?y-=360:c&&y<0&&(y+=360)}if(o){var F=new It(u.add(o).divide(2),o.subtract(u).rotate(90),!0),V=new It(o.add(l).divide(2),l.subtract(o).rotate(90),!0),j=new It(u,l),W=j.getSide(o);if(v=F.intersect(V,!0),!v){if(!W)return this.lineTo(l);throw new Error("Cannot create an arc with the given arguments")}p=u.subtract(v),y=p.getDirectedAngle(l.subtract(v));var K=j.getSide(v,!0);K===0?y=W*n(y):W===K&&(y+=y<0?360:-360)}if(y){for(var et=1e-5,ft=n(y),gt=ft>=360?4:Math.ceil((ft-et)/90),wt=y/gt,J=wt*Math.PI/360,Q=4/3*Math.sin(J)/(1+Math.cos(J)),pt=[],xt=0;xt<=gt;xt++){var _=l,bt=null;if(xt<gt&&(bt=p.rotate(90).multiply(Q),g?(_=g._transformPoint(p),bt=g._transformPoint(p.add(bt)).subtract(_)):_=v.add(p)),!xt)s.setHandleOut(bt);else{var Et=p.rotate(-90).multiply(Q);g&&(Et=g._transformPoint(p.add(Et)).subtract(_)),pt.push(new Pt(_,Et,bt))}p=p.rotate(wt)}this._add(pt)}},lineBy:function(){var e=N.read(arguments),n=t(this)._point;this.lineTo(n.add(e))},curveBy:function(){var e=arguments,n=N.read(e),i=N.read(e),s=d.read(e),u=t(this)._point;this.curveTo(u.add(n),u.add(i),s)},cubicCurveBy:function(){var e=arguments,n=N.read(e),i=N.read(e),s=N.read(e),u=t(this)._point;this.cubicCurveTo(u.add(n),u.add(i),u.add(s))},quadraticCurveBy:function(){var e=arguments,n=N.read(e),i=N.read(e),s=t(this)._point;this.quadraticCurveTo(s.add(n),s.add(i))},arcBy:function(){var e=arguments,n=t(this)._point,i=n.add(N.read(e)),s=d.pick(d.peek(e),!0);typeof s=="boolean"?this.arcTo(i,s):this.arcTo(i,n.add(N.read(e)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(t,e){var n=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return Bt[n](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,n,i,s,u){var l=t[0];if(!l)return new ht;var o=new Array(6),h=l._transformCoordinates(i,new Array(6)),c=h.slice(0,2),v=c.slice(),y=new Array(2);function p(b){b._transformCoordinates(i,o);for(var T=0;T<2;T++)st._addBounds(h[T],h[T+4],o[T+2],o[T],T,u?u[T]:0,c,v,y);var w=h;h=o,o=w}for(var g=1,I=t.length;g<I;g++)p(t[g]);return e&&p(l),new ht(c[0],c[1],v[0]-c[0],v[1]-c[1])},getStrokeBounds:function(t,e,n,i,s){var u=n.getStyle(),l=u.hasStroke(),o=u.getStrokeWidth(),h=l&&n._getStrokeMatrix(i,s),c=l&&Bt._getStrokePadding(o,h),v=Bt.getBounds(t,e,n,i,s,c);if(!l)return v;var y=o/2,p=u.getStrokeJoin(),g=u.getStrokeCap(),I=u.getMiterLimit(),b=new ht(new ct(c));function T(E){v=v.include(E)}function w(E){v=v.unite(b.setCenter(E._point.transform(i)))}function C(E,S){S==="round"||E.isSmooth()?w(E):Bt._addBevelJoin(E,S,y,I,i,h,T)}function _(E,S){S==="round"?w(E):Bt._addSquareCap(E,S,y,i,h,T)}var x=t.length-(e?0:1);if(x>0){for(var O=1;O<x;O++)C(t[O],p);e?C(t[0],p):(_(t[0],g),_(t[t.length-1],g))}return v},_getStrokePadding:function(t,e){if(!e)return[t,t];var n=new N(t,0).transform(e),i=new N(0,t).transform(e),s=n.getAngleInRadians(),u=n.getLength(),l=i.getLength(),o=Math.sin(s),h=Math.cos(s),c=Math.tan(s),v=Math.atan2(l*c,u),y=Math.atan2(l,c*u);return[Math.abs(u*Math.cos(v)*h+l*Math.sin(v)*o),Math.abs(l*Math.sin(y)*h+u*Math.cos(y)*o)]},_addBevelJoin:function(t,e,n,i,s,u,l,o){var h=t.getCurve(),c=h.getPrevious(),v=h.getPoint1().transform(s),y=c.getNormalAtTime(1).multiply(n).transform(u),p=h.getNormalAtTime(0).multiply(n).transform(u),g=y.getDirectedAngle(p);if((g<0||g>=180)&&(y=y.negate(),p=p.negate()),o&&l(v),l(v.add(y)),e==="miter"){var I=new It(v.add(y),new N(-y.y,y.x),!0).intersect(new It(v.add(p),new N(-p.y,p.x),!0),!0);I&&v.getDistance(I)<=i*n&&l(I)}l(v.add(p))},_addSquareCap:function(t,e,n,i,s,u,l){var o=t._point.transform(i),h=t.getLocation(),c=h.getNormal().multiply(h.getTime()===0?n:-n).transform(s);e==="square"&&(l&&(u(o.subtract(c)),u(o.add(c))),o=o.add(c.rotate(-90))),u(o.add(c)),u(o.subtract(c))},getHandleBounds:function(t,e,n,i,s){var u=n.getStyle(),l=s.stroke&&u.hasStroke(),o,h;if(l){var c=n._getStrokeMatrix(i,s),v=u.getStrokeWidth()/2,y=v;u.getStrokeJoin()==="miter"&&(y=v*u.getMiterLimit()),u.getStrokeCap()==="square"&&(y=Math.max(y,v*Math.SQRT2)),o=Bt._getStrokePadding(v,c),h=Bt._getStrokePadding(y,c)}for(var p=new Array(6),g=1/0,I=-g,b=g,T=I,w=0,C=t.length;w<C;w++){var _=t[w];_._transformCoordinates(i,p);for(var x=0;x<6;x+=2){var O=x?o:h,E=O?O[0]:0,S=O?O[1]:0,M=p[x],L=p[x+1],z=M-E,D=M+E,A=L-S,F=L+S;z<g&&(g=z),D>I&&(I=D),A<b&&(b=A),F>T&&(T=F)}}return new ht(g,b,I-g,T-b)}}});Bt.inject({statics:new function(){var t=.5522847498307936,e=[new Pt([-1,0],[0,t],[0,-t]),new Pt([0,-1],[-t,0],[t,0]),new Pt([1,0],[0,-t],[0,t]),new Pt([0,1],[t,0],[-t,0])];function n(s,u,l){var o=d.getNamed(l),h=new Bt(o&&(o.insert==!0?_t.INSERT:o.insert==!1?_t.NO_INSERT:null));return h._add(s),h._closed=u,h.set(o,_t.INSERT)}function i(s,u,l){for(var o=new Array(4),h=0;h<4;h++){var c=e[h];o[h]=new Pt(c._point.multiply(u).add(s),c._handleIn.multiply(u),c._handleOut.multiply(u))}return n(o,!0,l)}return{Line:function(){var s=arguments;return n([new Pt(N.readNamed(s,"from")),new Pt(N.readNamed(s,"to"))],!1,s)},Circle:function(){var s=arguments,u=N.readNamed(s,"center"),l=d.readNamed(s,"radius");return i(u,new ct(l),s)},Rectangle:function(){var s=arguments,u=ht.readNamed(s,"rectangle"),l=ct.readNamed(s,"radius",0,{readNull:!0}),o=u.getBottomLeft(!0),h=u.getTopLeft(!0),c=u.getTopRight(!0),v=u.getBottomRight(!0),y;if(!l||l.isZero())y=[new Pt(o),new Pt(h),new Pt(c),new Pt(v)];else{l=ct.min(l,u.getSize(!0).divide(2));var p=l.width,g=l.height,I=p*t,b=g*t;y=[new Pt(o.add(p,0),null,[-I,0]),new Pt(o.subtract(0,g),[0,b]),new Pt(h.add(0,g),null,[0,-b]),new Pt(h.add(p,0),[-I,0],null),new Pt(c.subtract(p,0),null,[I,0]),new Pt(c.add(0,g),[0,-b],null),new Pt(v.subtract(0,g),null,[0,b]),new Pt(v.subtract(p,0),[I,0])]}return n(y,!0,s)},RoundRectangle:"#Rectangle",Ellipse:function(){var s=arguments,u=ie._readEllipse(s);return i(u.center,u.radius,s)},Oval:"#Ellipse",Arc:function(){var s=arguments,u=N.readNamed(s,"from"),l=N.readNamed(s,"through"),o=N.readNamed(s,"to"),h=d.getNamed(s),c=new Bt(h&&h.insert==!1&&_t.NO_INSERT);return c.moveTo(u),c.arcTo(l,o),c.set(h)},RegularPolygon:function(){for(var s=arguments,u=N.readNamed(s,"center"),l=d.readNamed(s,"sides"),o=d.readNamed(s,"radius"),h=360/l,c=l%3===0,v=new N(0,c?-o:o),y=c?-1:.5,p=new Array(l),g=0;g<l;g++)p[g]=new Pt(u.add(v.rotate((g+y)*h)));return n(p,!0,s)},Star:function(){for(var s=arguments,u=N.readNamed(s,"center"),l=d.readNamed(s,"points")*2,o=d.readNamed(s,"radius1"),h=d.readNamed(s,"radius2"),c=360/l,v=new N(0,-1),y=new Array(l),p=0;p<l;p++)y[p]=new Pt(u.add(v.rotate(c*p).multiply(p%2?h:o)));return n(y,!0,s)}}}});var xe=jt.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||(typeof e=="string"?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function t(e,n){var i=n,s=i[0];s&&typeof s[0]=="number"&&(i=[i]);for(var u=n.length-1;u>=0;u--){var l=i[u];i===n&&!(l instanceof Bt)&&(i=d.slice(i)),Array.isArray(l)?i[u]=new Bt({segments:l,insert:!1}):l instanceof xe&&(i.splice.apply(i,[u,1].concat(l.removeChildren())),l.remove())}return t.base.call(this,e,i)},reduce:function t(e){for(var n=this._children,i=n.length-1;i>=0;i--){var s=n[i].reduce(e);s.isEmpty()&&s.remove()}if(!n.length){var s=new Bt(_t.NO_INSERT);return s.copyAttributes(this),s.insertAbove(this),this.remove(),s}return t.base.call(this)},isClosed:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],n=0,i=t.length;n<i;n++)d.push(e,t[n].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getArea();return e},getLength:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();return e},getPathData:function(t,e){for(var n=this._children,i=[],s=0,u=n.length;s<u;s++){var l=n[s],o=l._matrix;i.push(l.getPathData(t&&!o.isIdentity()?t.appended(o):t,e))}return i.join("")},_hitTestChildren:function t(e,n,i){return t.base.call(this,e,n.class===Bt||n.type==="path"?n:d.set({},n,{fill:!1}),i)},_draw:function(t,e,n,i){var s=this._children;if(s.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var u=0,l=s.length;u<l;u++)s[u].draw(t,e,i);if(!e.clip){this._setStyles(t,e,n);var o=this._style;o.hasFill()&&(t.fill(o.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),o.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){for(var i=this._children,s=0,u=i.length;s<u;s++){var l=i[s],o=l._matrix;n[l._id]||l._drawSelected(t,o.isIdentity()?e:e.appended(o))}}},new function(){function t(e,n){var i=e._children;if(n&&!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return d.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var n=t(this,!0);n[e].apply(n,arguments)}},{moveTo:function(){var e=t(this),n=e&&e.isEmpty()?e:new Bt(_t.NO_INSERT);n!==e&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var e=t(this,!0),n=e&&e.getLastSegment(),i=N.read(arguments);this.moveTo(n?i.add(n._point):i)},closePath:function(e){t(this,!0).closePath(e)}})},d.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var n=this._children,i,s=0,u=n.length;s<u;s++)i=n[s][t](e)||i;return i}},{}));jt.inject(new function(){var t=Math.min,e=Math.max,n=Math.abs,i={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function s(w){return w._children||[w]}function u(w,C){var _=w.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(C){for(var x=s(_),O=0,E=x.length;O<E;O++){var w=x[O];!w._closed&&!w.isEmpty()&&(w.closePath(1e-12),w.getFirstSegment().setHandleIn(0,0),w.getLastSegment().setHandleOut(0,0))}_=_.resolveCrossings().reorient(_.getFillRule()==="nonzero",!0)}return _}function l(w,C,_,x,O){var E=new xe(_t.NO_INSERT);return E.addChildren(w,!0),E=E.reduce({simplify:C}),O&&O.insert==!1||E.insertAbove(x&&_.isSibling(x)&&_.getIndex()<x.getIndex()?x:_),E.copyAttributes(_,!0),E}function o(w){return w.hasOverlap()||w.isCrossing()}function h(w,C,_,x){if(x&&(x.trace==!1||x.stroke)&&/^(subtract|intersect)$/.test(_))return c(w,C,_);var O=u(w,!0),E=C&&w!==C&&u(C,!0),S=i[_];S[_]=!0,E&&(S.subtract||S.exclude)^(E.isClockwise()^O.isClockwise())&&E.reverse();var M=g(Ut.expand(O.getIntersections(E,o))),L=s(O),z=E&&s(E),D=[],A=[],F;function V(bt){for(var Et=0,Tt=bt.length;Et<Tt;Et++){var zt=bt[Et];d.push(D,zt._segments),d.push(A,zt.getCurves()),zt._overlapsOnly=!0}}function j(bt){for(var Et=[],Tt=0,zt=bt&&bt.length;Tt<zt;Tt++)Et.push(A[bt[Tt]]);return Et}if(M.length){V(L),z&&V(z);for(var W=new Array(A.length),K=0,et=A.length;K<et;K++)W[K]=A[K].getValues();for(var ft=tt.findCurveBoundsCollisions(W,W,0,!0),gt={},K=0;K<A.length;K++){var wt=A[K],J=wt._path._id,Q=gt[J]=gt[J]||{};Q[wt.getIndex()]={hor:j(ft[K].hor),ver:j(ft[K].ver)}}for(var K=0,et=M.length;K<et;K++)b(M[K]._segment,O,E,gt,S);for(var K=0,et=D.length;K<et;K++){var pt=D[K],xt=pt._intersection;pt._winding||b(pt,O,E,gt,S),xt&&xt._overlap||(pt._path._overlapsOnly=!1)}F=T(D,S)}else F=p(z?L.concat(z):L.slice(),function(bt){return!!S[bt]});return l(F,!0,w,C,x)}function c(w,C,_){var x=u(w),O=u(C),E=x.getIntersections(O,o),S=_==="subtract",M=_==="divide",L={},z=[];function D(V){if(!L[V._id]&&(M||O.contains(V.getPointAt(V.getLength()/2))^S))return z.unshift(V),L[V._id]=!0}for(var A=E.length-1;A>=0;A--){var F=E[A].split();F&&(D(F)&&F.getFirstSegment().setHandleIn(0,0),x.getLastSegment().setHandleOut(0,0))}return D(x),l(z,!1,w,C)}function v(w,C){for(var _=w;_;){if(_===C)return;_=_._previous}for(;w._next&&w._next!==C;)w=w._next;if(!w._next){for(;C._previous;)C=C._previous;w._next=C,C._previous=w}}function y(w){for(var C=w.length-1;C>=0;C--)w[C].clearHandles()}function p(w,C,_){var x=w&&w.length;if(x){var O=d.each(w,function(ft,gt){this[ft._id]={container:null,winding:ft.isClockwise()?1:-1,index:gt}},{}),E=w.slice().sort(function(ft,gt){return n(gt.getArea())-n(ft.getArea())}),S=E[0],M=tt.findItemBoundsCollisions(E,null,nt.GEOMETRIC_EPSILON);_==null&&(_=S.isClockwise());for(var L=0;L<x;L++){var z=E[L],D=O[z._id],A=0,F=M[L];if(F){for(var V=null,j=F.length-1;j>=0;j--)if(F[j]<L){V=V||z.getInteriorPoint();var W=E[F[j]];if(W.contains(V)){var K=O[W._id];A=K.winding,D.winding+=A,D.container=K.exclude?K.container:W;break}}}if(C(D.winding)===C(A))D.exclude=!0,w[D.index]=null;else{var et=D.container;z.setClockwise(et?!et.isClockwise():_)}}}return w}function g(w,C,_){var x=C&&[],O=1e-8,E=1-O,S=!1,M=_||[],L=_&&{},z,D,A;function F(Et){return Et._path._id+"."+Et._segment1._index}for(var V=(_&&_.length)-1;V>=0;V--){var j=_[V];j._path&&(L[F(j)]=!0)}for(var V=w.length-1;V>=0;V--){var W=w[V],K=W._time,et=K,ft=C&&!C(W),j=W._curve,gt;if(j&&(j!==D?(S=!j.hasHandles()||L&&L[F(j)],z=[],A=null,D=j):A>=O&&(K/=A)),ft){z&&z.push(W);continue}else C&&x.unshift(W);if(A=et,K<O)gt=j._segment1;else if(K>E)gt=j._segment2;else{var wt=j.divideAtTime(K,!0);S&&M.push(j,wt),gt=wt._segment1;for(var J=z.length-1;J>=0;J--){var Q=z[J];Q._time=(Q._time-K)/(1-K)}}W._setSegment(gt);var pt=gt._intersection,xt=W._intersection;if(pt){v(pt,xt);for(var bt=pt;bt;)v(bt._intersection,pt),bt=bt._next}else gt._intersection=xt}return _||y(M),x||w}function I(w,C,_,x,O){var E=Array.isArray(C)?C:C[_?"hor":"ver"],S=_?1:0,M=S^1,L=[w.x,w.y],z=L[S],D=L[M],A=1e-9,F=1e-6,V=z-A,j=z+A,W=0,K=0,et=0,ft=0,gt=!1,wt=!1,J=1,Q=[],pt,xt;function bt(Xt){var ae=Xt[M+0],Te=Xt[M+6];if(!(D<t(ae,Te)||D>e(ae,Te))){var ce=Xt[S+0],Re=Xt[S+2],on=Xt[S+4],De=Xt[S+6];if(ae===Te){(ce<j&&De>V||De<j&&ce>V)&&(gt=!0);return}var Ve=D===ae?0:D===Te||V>e(ce,Re,on,De)||j<t(ce,Re,on,De)?1:st.solveCubic(Xt,M,D,Q,0,1)>0?Q[0]:1,Oe=Ve===0?ce:Ve===1?De:st.getPoint(Xt,Ve)[_?"y":"x"],Le=ae>Te?1:-1,ln=pt[M]>pt[M+6]?1:-1,He=pt[S+6];return D!==ae?(Oe<V?et+=Le:Oe>j?ft+=Le:gt=!0,Oe>z-F&&Oe<z+F&&(J/=2)):(Le!==ln?ce<V?et+=Le:ce>j&&(ft+=Le):ce!=He&&(He<j&&Oe>j?(ft+=Le,gt=!0):He>V&&Oe<V&&(et+=Le,gt=!0)),J/=4),pt=Xt,!O&&Oe>V&&Oe<j&&st.getTangent(Xt,Ve)[_?"x":"y"]===0&&I(w,C,!_,x,!0)}}function Et(Xt){var ae=Xt[M+0],Te=Xt[M+2],ce=Xt[M+4],Re=Xt[M+6];if(D<=e(ae,Te,ce,Re)&&D>=t(ae,Te,ce,Re)){for(var on=Xt[S+0],De=Xt[S+2],Ve=Xt[S+4],Oe=Xt[S+6],Le=V>e(on,De,Ve,Oe)||j<t(on,De,Ve,Oe)?[Xt]:st.getMonoCurves(Xt,_),ln,He=0,vi=Le.length;He<vi;He++)if(ln=bt(Le[He]))return ln}}for(var Tt=0,zt=E.length;Tt<zt;Tt++){var Nt=E[Tt],Lt=Nt._path,fe=Nt.getValues(),he;if((!Tt||E[Tt-1]._path!==Lt)&&(pt=null,Lt._closed||(xt=st.getValues(Lt.getLastCurve().getSegment2(),Nt.getSegment1(),null,!x),xt[M]!==xt[M+6]&&(pt=xt)),!pt)){pt=fe;for(var ve=Lt.getLastCurve();ve&&ve!==Nt;){var se=ve.getValues();if(se[M]!==se[M+6]){pt=se;break}ve=ve.getPrevious()}}if(he=Et(fe))return he;if(Tt+1===zt||E[Tt+1]._path!==Lt){if(xt&&(he=Et(xt)))return he;gt&&!et&&!ft&&(et=ft=Lt.isClockwise(x)^_?1:-1),W+=et,K+=ft,et=ft=0,gt&&(wt=!0,gt=!1),xt=null}}return W=n(W),K=n(K),{winding:e(W,K),windingL:W,windingR:K,quality:J,onPath:wt}}function b(w,C,_,x,O){var E=[],S=w,M=0,A;do{var L=w.getCurve();if(L){var z=L.getLength();E.push({segment:w,curve:L,length:z}),M+=z}w=w.getNext()}while(w&&!w._intersection&&w!==S);for(var D=[.5,.25,.75],A={winding:0,quality:-1},F=.001,V=1-F,j=0;j<D.length&&A.quality<.5;j++)for(var z=M*D[j],W=0,K=E.length;W<K;W++){var et=E[W],ft=et.length;if(z<=ft){var L=et.curve,gt=L._path,wt=gt._parent,J=wt instanceof xe?wt:gt,Q=nt.clamp(L.getTimeAt(z),F,V),pt=L.getPointAtTime(Q),xt=n(L.getTangentAtTime(Q).y)<Math.SQRT1_2,bt=null;if(O.subtract&&_){var Et=J===C?_:C,Tt=Et._getWinding(pt,xt,!0);if(J===C&&Tt.winding||J===_&&!Tt.winding){if(Tt.quality<1)continue;bt={winding:0,quality:1}}}bt=bt||I(pt,x[gt._id][L.getIndex()],xt,!0),bt.quality>A.quality&&(A=bt);break}z-=ft}for(var W=E.length-1;W>=0;W--)E[W].segment._winding=A}function T(w,C){var _=[],x;function O(zt){var Nt;return!!(zt&&!zt._visited&&(!C||C[(Nt=zt._winding||{}).winding]&&!(C.unite&&Nt.winding===2&&Nt.windingL&&Nt.windingR)))}function E(zt){if(zt){for(var Nt=0,Lt=x.length;Nt<Lt;Nt++)if(zt===x[Nt])return!0}return!1}function S(zt){for(var Nt=zt._segments,Lt=0,fe=Nt.length;Lt<fe;Lt++)Nt[Lt]._visited=!0}function M(zt,Nt){var Lt=zt._intersection,fe=Lt,he=[];Nt&&(x=[zt]);function ve(se,Xt){for(;se&&se!==Xt;){var ae=se._segment,Te=ae&&ae._path;if(Te){var ce=ae.getNext()||Te.getFirstSegment(),Re=ce._intersection;ae!==zt&&(E(ae)||E(ce)||ce&&O(ae)&&(O(ce)||Re&&O(Re._segment)))&&he.push(ae),Nt&&x.push(ae)}se=se._next}}if(Lt){for(ve(Lt);Lt&&Lt._previous;)Lt=Lt._previous;ve(Lt,fe)}return he}w.sort(function(zt,Nt){var Lt=zt._intersection,fe=Nt._intersection,he=!!(Lt&&Lt._overlap),ve=!!(fe&&fe._overlap),se=zt._path,Xt=Nt._path;return he^ve?he?1:-1:!Lt^!fe?Lt?1:-1:se!==Xt?se._id-Xt._id:zt._index-Nt._index});for(var L=0,z=w.length;L<z;L++){var D=w[L],A=O(D),F=null,V=!1,j=!0,W=[],K,et,ft;if(A&&D._path._overlapsOnly){var gt=D._path,wt=D._intersection._segment._path;gt.compare(wt)&&(gt.getArea()&&_.push(gt.clone(!1)),S(gt),S(wt),A=!1)}for(;A;){var J=!F,Q=M(D,J),pt=Q.shift(),V=!J&&(E(D)||E(pt)),xt=!V&&pt;if(J&&(F=new Bt(_t.NO_INSERT),K=null),V){(D.isFirst()||D.isLast())&&(j=D._path._closed),D._visited=!0;break}if(xt&&K&&(W.push(K),K=null),K||(xt&&Q.push(D),K={start:F._segments.length,crossings:Q,visited:et=[],handleIn:ft}),xt&&(D=pt),!O(D)){F.removeSegments(K.start);for(var bt=0,Et=et.length;bt<Et;bt++)et[bt]._visited=!1;et.length=0;do D=K&&K.crossings.shift(),(!D||!D._path)&&(D=null,K=W.pop(),K&&(et=K.visited,ft=K.handleIn));while(K&&!O(D));if(!D)break}var Tt=D.getNext();F.add(new Pt(D._point,ft,Tt&&D._handleOut)),D._visited=!0,et.push(D),D=Tt||D._path.getFirstSegment(),ft=Tt&&Tt._handleIn}V&&(j&&(F.getFirstSegment().setHandleIn(ft),F.setClosed(j)),F.getArea()!==0&&_.push(F))}return _}return{_getWinding:function(w,C,_){return I(w,this.getCurves(),C,_)},unite:function(w,C){return h(this,w,"unite",C)},intersect:function(w,C){return h(this,w,"intersect",C)},subtract:function(w,C){return h(this,w,"subtract",C)},exclude:function(w,C){return h(this,w,"exclude",C)},divide:function(w,C){return C&&(C.trace==!1||C.stroke)?c(this,w,"divide"):l([this.subtract(w,C),this.intersect(w,C)],!0,this,w,C)},resolveCrossings:function(){var w=this._children,C=w||[this];function _(K,et){var ft=K&&K._intersection;return ft&&ft._overlap&&ft._path===et}var x=!1,O=!1,E=this.getIntersections(null,function(K){return K.hasOverlap()&&(x=!0)||K.isCrossing()&&(O=!0)}),S=x&&O&&[];if(E=Ut.expand(E),x)for(var M=g(E,function(K){return K.hasOverlap()},S),L=M.length-1;L>=0;L--){var z=M[L],D=z._path,A=z._segment,F=A.getPrevious(),V=A.getNext();_(F,D)&&_(V,D)&&(A.remove(),F._handleOut._set(0,0),V._handleIn._set(0,0),F!==A&&!F.getCurve().hasLength()&&(V._handleIn.set(F._handleIn),F.remove()))}O&&(g(E,x&&function(K){var et=K.getCurve(),ft=K.getSegment(),gt=K._intersection,wt=gt._curve,J=gt._segment;if(et&&wt&&et._path&&wt._path)return!0;ft&&(ft._intersection=null),J&&(J._intersection=null)},S),S&&y(S),C=T(d.each(C,function(K){d.push(this,K._segments)},[])));var j=C.length,W;return j>1&&w?(C!==w&&this.setChildren(C),W=this):j===1&&!w&&(C[0]!==this&&this.setSegments(C[0].removeSegments()),W=this),W||(W=new xe(_t.NO_INSERT),W.addChildren(C),W=W.reduce(),W.copyAttributes(this),this.replaceWith(W)),W},reorient:function(w,C){var _=this._children;return _&&_.length?this.setChildren(p(this.removeChildren(),function(x){return!!(w?x:x&1)},C)):C!==f&&this.setClockwise(C),this},getInteriorPoint:function(){var w=this.getBounds(),C=w.getCenter(!0);if(!this.contains(C)){for(var _=this.getCurves(),x=C.y,O=[],E=[],S=0,M=_.length;S<M;S++){var L=_[S].getValues(),z=L[1],D=L[3],A=L[5],F=L[7];if(x>=t(z,D,A,F)&&x<=e(z,D,A,F))for(var V=st.getMonoCurves(L),j=0,W=V.length;j<W;j++){var K=V[j],et=K[1],ft=K[7];if(et!==ft&&(x>=et&&x<=ft||x>=ft&&x<=et)){var gt=x===et?K[0]:x===ft?K[6]:st.solveCubic(K,1,x,E,0,1)===1?st.getPoint(K,E[0]).x:(K[0]+K[6])/2;O.push(gt)}}}O.length>1&&(O.sort(function(wt,J){return wt-J}),C.x=(O[0]+O[1])/2)}return C}}});var Ge=d.extend({_class:"PathFlattener",initialize:function(t,e,n,i,s){var u=[],l=[],o=0,h=1/(n||32),c=t._segments,v=c[0],y;function p(T,w){var C=st.getValues(T,w,s);u.push(C),g(C,T._index,0,1)}function g(T,w,C,_){if(_-C>h&&!(i&&st.isStraight(T))&&!st.isFlatEnough(T,e||.25)){var x=st.subdivide(T,.5),O=(C+_)/2;g(x[0],w,C,O),g(x[1],w,O,_)}else{var E=T[6]-T[0],S=T[7]-T[1],M=Math.sqrt(E*E+S*S);M>0&&(o+=M,l.push({offset:o,curve:T,index:w,time:_}))}}for(var I=1,b=c.length;I<b;I++)y=c[I],p(v,y),v=y;t._closed&&p(y||v,c[0]),this.curves=u,this.parts=l,this.length=o,this.index=0},_get:function(t){for(var e=this.parts,n=e.length,i,s=this.index;i=s,!(!s||e[--s].offset<t););for(;i<n;i++){var u=e[i];if(u.offset>=t){this.index=i;var l=e[i-1],o=l&&l.index===u.index?l.time:0,h=l?l.offset:0;return{index:u.index,time:o+(u.time-o)*(t-h)/(u.offset-h)}}}return{index:e[n-1].index,time:1}},drawPart:function(t,e,n){for(var i=this._get(e),s=this._get(n),u=i.index,l=s.index;u<=l;u++){var o=st.getPart(this.curves[u],u===i.index?i.time:0,u===s.index?s.time:1);u===i.index&&t.moveTo(o[0],o[1]),t.bezierCurveTo.apply(t,o.slice(2))}}},d.each(st._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this._get(e);return st[t](this.curves[n.index],n.time)}},{})),ke=d.extend({initialize:function(t){for(var e=this.points=[],n=t._segments,i=t._closed,s=0,u,l=n.length;s<l;s++){var o=n[s].point;(!u||!u.equals(o))&&e.push(u=o.clone())}i&&(e.unshift(e[e.length-1]),e.push(e[1])),this.closed=i},fit:function(t){var e=this.points,n=e.length,i=null;return n>0&&(i=[new Pt(e[0])],n>1&&(this.fitCubic(i,t,0,n-1,e[1].subtract(e[0]),e[n-2].subtract(e[n-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(t,e,n,i,s,u){var l=this.points;if(i-n===1){var o=l[n],h=l[i],c=o.getDistance(h)/3;this.addCurve(t,[o,o.add(s.normalize(c)),h.add(u.normalize(c)),h]);return}for(var v=this.chordLengthParameterize(n,i),y=Math.max(e,e*e),p,g=!0,I=0;I<=4;I++){var b=this.generateBezier(n,i,v,s,u),T=this.findMaxError(n,i,b,v);if(T.error<e&&g){this.addCurve(t,b);return}if(p=T.index,T.error>=y)break;g=this.reparameterize(n,i,v,b),y=T.error}var w=l[p-1].subtract(l[p+1]);this.fitCubic(t,e,n,p,s,w),this.fitCubic(t,e,p,i,w.negate(),u)},addCurve:function(t,e){var n=t[t.length-1];n.setHandleOut(e[1].subtract(e[0])),t.push(new Pt(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,n,i,s){for(var u=1e-12,l=Math.abs,o=this.points,h=o[t],c=o[e],v=[[0,0],[0,0]],y=[0,0],p=0,g=e-t+1;p<g;p++){var I=n[p],b=1-I,T=3*I*b,w=b*b*b,C=T*b,_=T*I,x=I*I*I,O=i.normalize(C),E=s.normalize(_),S=o[t+p].subtract(h.multiply(w+C)).subtract(c.multiply(_+x));v[0][0]+=O.dot(O),v[0][1]+=O.dot(E),v[1][0]=v[0][1],v[1][1]+=E.dot(E),y[0]+=O.dot(S),y[1]+=E.dot(S)}var M=v[0][0]*v[1][1]-v[1][0]*v[0][1],L,z;if(l(M)>u){var D=v[0][0]*y[1]-v[1][0]*y[0],A=y[0]*v[1][1]-y[1]*v[0][1];L=A/M,z=D/M}else{var F=v[0][0]+v[0][1],V=v[1][0]+v[1][1];L=z=l(F)>u?y[0]/F:l(V)>u?y[1]/V:0}var j=c.getDistance(h),W=u*j,K,et;if(L<W||z<W)L=z=j/3;else{var ft=c.subtract(h);K=i.normalize(L),et=s.normalize(z),K.dot(ft)-et.dot(ft)>j*j&&(L=z=j/3,K=et=null)}return[h,h.add(K||i.normalize(L)),c.add(et||s.normalize(z)),c]},reparameterize:function(t,e,n,i){for(var s=t;s<=e;s++)n[s-t]=this.findRoot(i,this.points[s],n[s-t]);for(var s=1,u=n.length;s<u;s++)if(n[s]<=n[s-1])return!1;return!0},findRoot:function(t,e,n){for(var i=[],s=[],u=0;u<=2;u++)i[u]=t[u+1].subtract(t[u]).multiply(3);for(var u=0;u<=1;u++)s[u]=i[u+1].subtract(i[u]).multiply(2);var l=this.evaluate(3,t,n),o=this.evaluate(2,i,n),h=this.evaluate(1,s,n),c=l.subtract(e),v=o.dot(o)+c.dot(h);return nt.isMachineZero(v)?n:n-c.dot(o)/v},evaluate:function(t,e,n){for(var i=e.slice(),s=1;s<=t;s++)for(var u=0;u<=t-s;u++)i[u]=i[u].multiply(1-n).add(i[u+1].multiply(n));return i[0]},chordLengthParameterize:function(t,e){for(var n=[0],i=t+1;i<=e;i++)n[i-t]=n[i-t-1]+this.points[i].getDistance(this.points[i-1]);for(var i=1,s=e-t;i<=s;i++)n[i]/=n[s];return n},findMaxError:function(t,e,n,i){for(var s=Math.floor((e-t+1)/2),u=0,l=t+1;l<e;l++){var o=this.evaluate(3,n,i[l-t]),h=o.subtract(this.points[l]),c=h.x*h.x+h.y*h.y;c>=u&&(u=c,s=l)}return{error:u,index:s}}}),bn=_t.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var n=e&&d.isPlainObject(e)&&e.x===f&&e.y===f;this._initialize(n&&e,!n&&N.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),er=bn.extend({_class:"PointText",initialize:function(){bn.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new Ht(t.x,t.y,this,"setPoint")},setPoint:function(){var t=N.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,n){if(this._content){this._setStyles(t,e,n);var i=this._lines,s=this._style,u=s.hasFill(),l=s.hasStroke(),o=s.getLeading(),h=t.shadowColor;t.font=s.getFontStyle(),t.textAlign=s.getJustification();for(var c=0,v=i.length;c<v;c++){t.shadowColor=h;var y=i[c];u&&(t.fillText(y,0,0),t.shadowColor="rgba(0,0,0,0)"),l&&t.strokeText(y,0,0),t.translate(0,o)}}},_getBounds:function(t,e){var n=this._style,i=this._lines,s=i.length,u=n.getJustification(),l=n.getLeading(),o=this.getView().getTextWidth(n.getFontStyle(),i),h=0;u!=="left"&&(h-=o/(u==="center"?2:1));var c=new ht(h,s?-.75*l:0,o,s*l);return t?t._transformBounds(c,c):c}}),re=d.extend(new function(){var t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},e={},n={transparent:[0,0,0,0]},i;function s(o){var h=o.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||o.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),c="rgb",v;if(h){var y=h[4]?4:3;v=new Array(y);for(var p=0;p<y;p++){var g=h[p+1];v[p]=parseInt(g.length==1?g+g:g,16)/255}}else if(h=o.match(/^(rgb|hsl)a?\((.*)\)$/)){c=h[1],v=h[2].trim().split(/[,\s]+/g);for(var I=c==="hsl",p=0,b=Math.min(v.length,4);p<b;p++){var T=v[p],g=parseFloat(T);if(I)if(p===0){var w=T.match(/([a-z]*)$/)[1];g*={turn:360,rad:180/Math.PI,grad:.9}[w]||1}else p<3&&(g/=100);else p<3&&(g/=/%$/.test(T)?100:255);v[p]=g}}else{var C=n[o];if(!C)if(m){i||(i=at.getContext(1,1,{willReadFrequently:!0}),i.globalCompositeOperation="copy"),i.fillStyle="rgba(0,0,0,0)",i.fillStyle=o,i.fillRect(0,0,1,1);var _=i.getImageData(0,0,1,1).data;C=n[o]=[_[0]/255,_[1]/255,_[2]/255]}else C=[0,0,0];v=C.slice()}return[c,v]}var u=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],l={"rgb-hsb":function(o,h,c){var v=Math.max(o,h,c),y=Math.min(o,h,c),p=v-y,g=p===0?0:(v==o?(h-c)/p+(h<c?6:0):v==h?(c-o)/p+2:(o-h)/p+4)*60;return[g,v===0?0:p/v,v]},"hsb-rgb":function(o,h,c){o=(o/60%6+6)%6;var y=Math.floor(o),v=o-y,y=u[y],p=[c,c*(1-h),c*(1-h*v),c*(1-h*(1-v))];return[p[y[0]],p[y[1]],p[y[2]]]},"rgb-hsl":function(o,h,c){var v=Math.max(o,h,c),y=Math.min(o,h,c),p=v-y,g=p===0,I=g?0:(v==o?(h-c)/p+(h<c?6:0):v==h?(c-o)/p+2:(o-h)/p+4)*60,b=(v+y)/2,T=g?0:b<.5?p/(v+y):p/(2-v-y);return[I,T,b]},"hsl-rgb":function(o,h,c){if(o=(o/360%1+1)%1,h===0)return[c,c,c];for(var v=[o+1/3,o,o-1/3],y=c<.5?c*(1+h):c+h-c*h,p=2*c-y,g=[],I=0;I<3;I++){var b=v[I];b<0&&(b+=1),b>1&&(b-=1),g[I]=6*b<1?p+(y-p)*6*b:2*b<1?y:3*b<2?p+(y-p)*(2/3-b)*6:p}return g},"rgb-gray":function(o,h,c){return[o*.2989+h*.587+c*.114]},"gray-rgb":function(o){return[o,o,o]},"gray-hsb":function(o){return[0,0,o]},"gray-hsl":function(o){return[0,0,o]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return d.each(t,function(o,h){e[h]=[],d.each(o,function(c,v){var y=d.capitalize(c),p=/^(hue|saturation)$/.test(c),g=e[h][v]=h==="gradient"?c==="gradient"?function(I){var b=this._components[0];return I=Je.read(Array.isArray(I)?I:arguments,0,{readNull:!0}),b!==I&&(b&&b._removeOwner(this),I&&I._addOwner(this)),I}:function(){return N.read(arguments,0,{readNull:c==="highlight",clone:!0})}:function(I){return I==null||isNaN(I)?0:+I};this["get"+y]=function(){return this._type===h||p&&/^hs[bl]$/.test(this._type)?this._components[v]:this._convert(h)[v]},this["set"+y]=function(I){this._type!==h&&!(p&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(h),this._properties=t[h],this._type=h),this._components[v]=g.call(this,I),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function o(h){var c=arguments,v=this.__read,y=0,p,g,I,b;Array.isArray(h)&&(c=h,h=c[0]);var T=h!=null&&typeof h;if(T==="string"&&h in t&&(p=h,h=c[1],Array.isArray(h)?(g=h,I=c[2]):(v&&(y=1),c=d.slice(c,1),T=typeof h)),!g){if(b=T==="number"?c:T==="object"&&h.length!=null?h:null,b){p||(p=b.length>=3?"rgb":"gray");var w=t[p].length;I=b[w],v&&(y+=b===arguments?w+(I!=null?1:0):1),b.length>w&&(b=d.slice(b,0,w))}else if(T==="string"){var C=s(h);p=C[0],g=C[1],g.length===4&&(I=g[3],g.length--)}else if(T==="object")if(h.constructor===o){if(p=h._type,g=h._components.slice(),I=h._alpha,p==="gradient")for(var _=1,x=g.length;_<x;_++){var O=g[_];O&&(g[_]=O.clone())}}else if(h.constructor===Je)p="gradient",b=c;else{p="hue"in h?"lightness"in h?"hsl":"hsb":"gradient"in h||"stops"in h||"radial"in h?"gradient":"gray"in h?"gray":"rgb";var E=t[p],S=e[p];this._components=g=[];for(var _=0,x=E.length;_<x;_++){var M=h[E[_]];M==null&&!_&&p==="gradient"&&"stops"in h&&(M={stops:h.stops,radial:h.radial}),M=S[_].call(this,M),M!=null&&(g[_]=M)}I=h.alpha}v&&p&&(y=1)}if(this._type=p||"rgb",!g){this._components=g=[];for(var S=e[this._type],_=0,x=S.length;_<x;_++){var M=S[_].call(this,b&&b[_]);M!=null&&(g[_]=M)}}return this._components=g,this._properties=t[this._type],this._alpha=I,v&&(this.__read=y),this},set:"#initialize",_serialize:function(o,h){var c=this.getComponents();return d.serialize(/^(gray|rgb)$/.test(this._type)?c:[this._type].concat(c),o,!0,h)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(o){var h;return this._type===o?this._components.slice():(h=l[this._type+"-"+o])?h.apply(this,this._components):l["rgb-"+o].apply(this,l[this._type+"-rgb"].apply(this,this._components))},convert:function(o){return new re(o,this._convert(o),this._alpha)},getType:function(){return this._type},setType:function(o){this._components=this._convert(o),this._properties=t[o],this._type=o},getComponents:function(){var o=this._components.slice();return this._alpha!=null&&o.push(this._alpha),o},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(o){this._alpha=o==null?null:Math.min(Math.max(o,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(o){var h=d.isPlainValue(o,!0)?re.read(arguments):o;return h===this||h&&this._class===h._class&&this._type===h._type&&this.getAlpha()===h.getAlpha()&&d.equals(this._components,h._components)||!1},toString:function(){for(var o=this._properties,h=[],c=this._type==="gradient",v=Y.instance,y=0,p=o.length;y<p;y++){var g=this._components[y];g!=null&&h.push(o[y]+": "+(c?g:v.number(g)))}return this._alpha!=null&&h.push("alpha: "+v.number(this._alpha)),"{ "+h.join(", ")+" }"},toCSS:function(o){var h=this._convert("rgb"),c=o||this._alpha==null?1:this._alpha;function v(y){return Math.round((y<0?0:y>1?1:y)*255)}return h=[v(h[0]),v(h[1]),v(h[2])],c<1&&h.push(c<0?0:c),o?"#"+((1<<24)+(h[0]<<16)+(h[1]<<8)+h[2]).toString(16).slice(1):(h.length==4?"rgba(":"rgb(")+h.join(",")+")"},toCanvasStyle:function(o,h){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var c=this._components,v=c[0],y=v._stops,p=c[1],g=c[2],I=c[3],b=h&&h.inverted(),T;if(b&&(p=b._transformPoint(p),g=b._transformPoint(g),I&&(I=b._transformPoint(I))),v._radial){var w=g.getDistance(p);if(I){var C=I.subtract(p);C.getLength()>w&&(I=p.add(C.normalize(w-.1)))}var _=I||p;T=o.createRadialGradient(_.x,_.y,0,p.x,p.y,w)}else T=o.createLinearGradient(p.x,p.y,g.x,g.y);for(var x=0,O=y.length;x<O;x++){var E=y[x],S=E._offset;T.addColorStop(S??x/(O-1),E._color.toCanvasStyle())}return this._canvasStyle=T},transform:function(o){if(this._type==="gradient"){for(var h=this._components,c=1,v=h.length;c<v;c++){var y=h[c];o._transformPoint(y,y,!0)}this._changed()}},statics:{_types:t,random:function(){var o=Math.random;return new re(o(),o(),o())},_setOwner:function(o,h,c){return o&&(o._owner&&h&&o._owner!==h&&(o=o.clone()),!o._owner^!h&&(o._owner=h||null,o._setter=c||null)),o}}})},new function(){var t={add:function(e,n){return e+n},subtract:function(e,n){return e-n},multiply:function(e,n){return e*n},divide:function(e,n){return e/n}};return d.each(t,function(e,n){this[n]=function(i){i=re.read(arguments);for(var s=this._type,u=this._components,l=i._convert(s),o=0,h=u.length;o<h;o++)l[o]=e(u[o],l[o]);return new re(s,l,this._alpha!=null?e(this._alpha,i.getAlpha()):null)}},{})}),Je=d.extend({_class:"Gradient",initialize:function(e,n){this._id=Ct.get(),e&&d.isPlainObject(e)&&(this.set(e),e=n=null),this._stops==null&&this.setStops(e||["white","black"]),this._radial==null&&this.setRadial(typeof n=="string"&&n==="radial"||n||!1)},_serialize:function(t,e){return e.add(this,function(){return d.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=f))},clone:function(){for(var t=[],e=0,n=this._stops.length;e<n;e++)t[e]=this._stops[e].clone();return new Je(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var n=0,i=e.length;n<i;n++)e[n]._owner=f;e=this._stops=un.readList(t,0,{clone:!0});for(var n=0,i=e.length;n<i;n++)e[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,n=t._stops,i=e.length;if(i===n.length){for(var s=0;s<i;s++)if(!e[s].equals(n[s]))return!1;return!0}}return!1}}),un=d.extend({_class:"GradientStop",initialize:function(e,n){var i=e,s=n;typeof e=="object"&&n===f&&(Array.isArray(e)&&typeof e[0]!="number"?(i=e[0],s=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(i=e.color,s=e.offset||e.rampPoint||0)),this.setColor(i),this.setOffset(s)},clone:function(){return new un(this._color.clone(),this._offset)},_serialize:function(t,e){var n=this._color,i=this._offset;return d.serialize(i==null?[n]:[n,i],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){re._setOwner(this._color,null),this._color=re._setOwner(re.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),xn=d.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new N,selectedColor:null},e=d.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=d.set({},e,{fillColor:new re}),i={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},s={beans:!0},u={_class:"Style",beans:!0,initialize:function(o,h,c){this._values={},this._owner=h,this._project=h&&h._project||c||ot.project,this._defaults=!h||h instanceof Kt?e:h instanceof bn?n:t,o&&this.set(o)}};return d.each(e,function(l,o){var h=/Color$/.test(o),c=o==="shadowOffset",v=d.capitalize(o),y=i[o],p="set"+v,g="get"+v;u[p]=function(I){var b=this._owner,T=b&&b._children,w=T&&T.length>0&&!(b instanceof xe);if(w)for(var C=0,_=T.length;C<_;C++)T[C]._style[p](I);if((o==="selectedColor"||!w)&&o in this._defaults){var x=this._values[o];x!==I&&(h&&(x&&(re._setOwner(x,null),x._canvasStyle=null),I&&I.constructor===re&&(I=re._setOwner(I,b,w&&p))),this._values[o]=I,b&&b._changed(y||129))}},u[g]=function(I){var b=this._owner,T=b&&b._children,w=T&&T.length>0&&!(b instanceof xe),C;if(w&&!I)for(var _=0,x=T.length;_<x;_++){var O=T[_]._style[g]();if(!_)C=O;else if(!d.equals(C,O))return f}else if(o in this._defaults){var C=this._values[o];if(C===f)C=this._defaults[o],C&&C.clone&&(C=C.clone());else{var E=h?re:c?N:null;E&&!(C&&C.constructor===E)&&(this._values[o]=C=E.read([C],0,{readNull:!0,clone:!0}))}}return C&&h&&(C=re._setOwner(C,b,w&&p)),C},s[g]=function(I){return this._style[g](I)},s[p]=function(I){this._style[p](I)}}),d.each({Font:"FontFamily",WindingRule:"FillRule"},function(l,o){var h="get"+o,c="set"+o;u[h]=s[h]="#get"+l,u[c]=s[c]="#set"+l}),_t.inject(s),u},{set:function(t){var e=t instanceof xn,n=e?t._values:t;if(n){for(var i in n)if(i in this._defaults){var s=n[i];this[i]=s&&e&&s.clone?s.clone():s}}},equals:function(t){function e(n,i,s){var u=n._values,l=i._values,o=i._defaults;for(var h in u){var c=u[h],v=l[h];if(!(s&&h in l)&&!d.equals(c,v===f?o[h]:v))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},_dispose:function(){var t;t=this.getFillColor(),t&&(t._canvasStyle=null),t=this.getStrokeColor(),t&&(t._canvasStyle=null),t=this.getShadowColor(),t&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),e??n*1.2}}),te=new function(){function t(e,n,i,s){for(var u=["","webkit","moz","Moz","ms","o"],l=n[0].toUpperCase()+n.substring(1),o=0;o<6;o++){var h=u[o],c=h?h+l:n;if(c in e){if(i)e[c]=s;else return e[c];break}}}return{getStyles:function(e){var n=e&&e.nodeType!==9?e.ownerDocument:e,i=n&&n.defaultView;return i&&i.getComputedStyle(e,"")},getBounds:function(e,n){var i=e.ownerDocument,s=i.body,u=i.documentElement,l;try{l=e.getBoundingClientRect()}catch{l={left:0,top:0,width:0,height:0}}var o=l.left-(u.clientLeft||s.clientLeft||0),h=l.top-(u.clientTop||s.clientTop||0);if(!n){var c=i.defaultView;o+=c.pageXOffset||u.scrollLeft||s.scrollLeft,h+=c.pageYOffset||u.scrollTop||s.scrollTop}return new ht(o,h,l.width,l.height)},getViewportBounds:function(e){var n=e.ownerDocument,i=n.defaultView,s=n.documentElement;return new ht(0,0,i.innerWidth||s.clientWidth,i.innerHeight||s.clientHeight)},getOffset:function(e,n){return te.getBounds(e,n).getPoint()},getSize:function(e){return te.getBounds(e,!0).getSize()},isInvisible:function(e){return te.getSize(e).equals(new ct(0,0))},isInView:function(e){return!te.isInvisible(e)&&te.getViewportBounds(e).intersects(te.getBounds(e,!0))},isInserted:function(e){return P.body.contains(e)},getPrefixed:function(e,n){return e&&t(e,n)},setPrefixed:function(e,n,i){if(typeof n=="object")for(var s in n)t(e,s,!0,n[s]);else t(e,n,!0,i)}}},Qt={add:function(t,e){if(t)for(var n in e)for(var i=e[n],s=n.split(/[\s,]+/g),u=0,l=s.length;u<l;u++){var o=s[u],h=t===P&&(o==="touchstart"||o==="touchmove")?{passive:!1}:!1;t.addEventListener(o,i,h)}},remove:function(t,e){if(t)for(var n in e)for(var i=e[n],s=n.split(/[\s,]+/g),u=0,l=s.length;u<l;u++)t.removeEventListener(s[u],i,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new N(e.pageX||e.clientX+P.documentElement.scrollLeft,e.pageY||e.clientY+P.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return Qt.getPoint(t).subtract(te.getOffset(e||Qt.getTarget(t)))}};Qt.requestAnimationFrame=new function(){var t=te.getPrefixed(m,"requestAnimationFrame"),e=!1,n=[],i;function s(){var u=n;n=[];for(var l=0,o=u.length;l<o;l++)u[l]();e=t&&n.length,e&&t(s)}return function(u){n.push(u),t?e||(t(s),e=!0):i||(i=setInterval(s,1e3/60))}};var $t=d.extend(k,{_class:"View",initialize:function t(e,n){function i(y){return n[y]||parseInt(n.getAttribute(y),10)}function s(){var y=te.getSize(n);return y.isNaN()||y.isZero()?new ct(i("width"),i("height")):y}var u;if(m&&n){this._id=n.getAttribute("id"),this._id==null&&n.setAttribute("id",this._id="paper-view-"+t._id++),Qt.add(n,this._viewEvents);var l="none";if(te.setPrefixed(n.style,{userDrag:l,userSelect:l,touchCallout:l,contentZooming:l,tapHighlightColor:"rgba(0,0,0,0)"}),q.hasAttribute(n,"resize")){var o=this;Qt.add(m,this._windowEvents={resize:function(){o.setViewSize(s())}})}if(u=s(),q.hasAttribute(n,"stats")&&typeof Stats<"u"){this._stats=new Stats;var h=this._stats.domElement,c=h.style,v=te.getOffset(n);c.position="absolute",c.left=v.x+"px",c.top=v.y+"px",P.body.appendChild(h)}}else u=new ct(n),n=null;this._project=e,this._scope=e._scope,this._element=n,this._pixelRatio||(this._pixelRatio=m&&m.devicePixelRatio||1),this._setElementSize(u.width,u.height),this._viewSize=u,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new mt)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!ot.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;$t._focused===this&&($t._focused=null),$t._views.splice($t._views.indexOf(this),1),delete $t._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),Qt.remove(this._element,this._viewEvents),Qt.remove(m,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:d.each(_t._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;Qt.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;(!te.getPrefixed(P,"hidden")||q.getAttribute(e,"keepalive")==="true")&&te.isInView(e)&&t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){ot=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new d({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var n=this._frameItems;e?(n[t._id]={item:t,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete n[t._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var n=this._frameItems[e];n.item.emit("frame",new d(t,{time:n.time+=t.delta,count:n.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=f},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var t=this._viewSize;return new Ot(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=ct.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var n=this._element;n&&(n.width!==t&&(n.width=t),n.height!==e&&(n.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new ht(new N,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return te.isInView(this._element)},isInserted:function(){return te.isInserted(this._element)},getPixelSize:function(t){var e=this._element,n;if(e){var i=e.parentNode,s=P.createElement("div");s.style.fontSize=t,i.appendChild(s),n=parseFloat(te.getStyles(s).fontSize),i.removeChild(s)}else n=parseFloat(n);return n},getTextWidth:function(t,e){return 0}},d.each(["rotate","scale","shear","skew"],function(t){var e=t==="rotate";this[t]=function(){var n=arguments,i=(e?d:N).read(n),s=N.read(n,0,{readNull:!0});return this.transform(new mt()[t](i,s||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new mt;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=N.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform(new mt().scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var e=this.getRotation();e!=null&&t!=null&&this.rotate(t-e)},getScaling:function(){var t=this._decompose().scaling;return new Ht(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=N.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(N.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(N.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(N.read(arguments))},getEventPoint:function(t){return this.viewToProject(Qt.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){P&&typeof e=="string"&&(e=P.getElementById(e));var n=m?pi:$t;return new n(t,e)}}},new function(){if(!m)return;var t,e,n=!1,i=!1;function s(A){var F=Qt.getTarget(A);return F.getAttribute&&$t._viewsById[F.getAttribute("id")]}function u(){var A=$t._focused;if(!A||!A.isVisible()){for(var F=0,V=$t._views.length;F<V;F++)if((A=$t._views[F]).isVisible()){$t._focused=e=A;break}}}function l(A,F,V){A._handleMouseEvent("mousemove",F,V)}var o=m.navigator,h,c,v;o.pointerEnabled||o.msPointerEnabled?(h="pointerdown MSPointerDown",c="pointermove MSPointerMove",v="pointerup pointercancel MSPointerUp MSPointerCancel"):(h="touchstart",c="touchmove",v="touchend touchcancel","ontouchstart"in m&&o.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(h+=" mousedown",c+=" mousemove",v+=" mouseup"));var y={},p={mouseout:function(A){var F=$t._focused,V=Qt.getRelatedTarget(A);if(F&&(!V||V.nodeName==="HTML")){var j=Qt.getOffset(A,F._element),W=j.x,K=Math.abs,et=K(W),ft=1<<25,gt=et-ft;j.x=K(gt)<et?gt*(W<0?-1:1):W,l(F,A,F.viewToProject(j))}},scroll:u};y[h]=function(A){var F=$t._focused=s(A);n||(n=!0,F._handleMouseEvent("mousedown",A))},p[c]=function(A){var F=$t._focused;if(!i){var V=s(A);V?F!==V&&(F&&l(F,A),t||(t=F),F=$t._focused=e=V):e&&e===F&&(t&&!t.isInserted()&&(t=null),F=$t._focused=t,t=null,u())}F&&l(F,A)},p[h]=function(){i=!0},p[v]=function(A){var F=$t._focused;F&&n&&F._handleMouseEvent("mouseup",A),i=n=!1},Qt.add(P,p),Qt.add(m,{load:u});var g=!1,I=!1,b={doubleclick:"click",mousedrag:"mousemove"},T=!1,w,C,_,x,O,E,S,M;function L(A,F,V,j,W,K,et){var ft=!1,gt;function wt(J,Q){if(J.responds(Q)){if(gt||(gt=new ut(Q,j,W,F||J,K?W.subtract(K):null)),J.emit(Q,gt)&&(g=!0,gt.prevented&&(I=!0),gt.stopped))return ft=!0}else{var pt=b[Q];if(pt)return wt(J,pt)}}for(;A&&A!==et&&!wt(A,V);)A=A._parent;return ft}function z(A,F,V,j,W,K){return A._project.removeOn(V),I=g=!1,O&&L(O,null,V,j,W,K)||F&&F!==O&&!F.isDescendant(O)&&L(F,null,V==="mousedrag"?"mousemove":V,j,W,K,O)||L(A,O||F||A,V,j,W,K)}var D={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:y,_handleMouseEvent:function(A,F,V){var j=this._itemEvents,W=j.native[A],K=A==="mousemove",et=this._scope.tool,ft=this;function gt(Et){return j.virtual[Et]||ft.responds(Et)||et&&et.responds(Et)}K&&n&&gt("mousedrag")&&(A="mousedrag"),V||(V=this.getEventPoint(F));var wt=this.getBounds().contains(V),J=W&&wt&&ft._project.hitTest(V,{tolerance:0,fill:!0,stroke:!0}),Q=J&&J.item||null,pt=!1,xt={};if(xt[A.substr(5)]=!0,W&&Q!==x&&(x&&L(x,null,"mouseleave",F,V),Q&&L(Q,null,"mouseenter",F,V),x=Q),T^wt&&(L(this,null,wt?"mouseenter":"mouseleave",F,V),pt=!0),(wt||xt.drag)&&!V.equals(C)&&(z(this,Q,K?A:"mousemove",F,V,C),pt=!0),T=wt,xt.down&&wt||xt.up&&w){if(z(this,Q,A,F,V,w),xt.down){if(M=Q===E&&Date.now()-S<300,_=E=Q,!I&&Q){for(var bt=Q;bt&&!bt.responds("mousedrag");)bt=bt._parent;bt&&(O=Q)}w=V}else xt.up&&(!I&&Q===_&&(S=Date.now(),z(this,Q,M?"doubleclick":"click",F,V,w),M=!1),_=O=null);T=!1,pt=!0}C=V,pt&&et&&(g=et._handleMouseEvent(A,F,V,xt)||g),F.cancelable!==!1&&(g&&!xt.move||xt.down&&gt("mouseup"))&&F.preventDefault()},_handleKeyEvent:function(A,F,V,j){var W=this._scope,K=W.tool,et;function ft(gt){gt.responds(A)&&(ot=W,gt.emit(A,et=et||new U(A,F,V,j)))}this.isVisible()&&(ft(this),K&&K.responds(A)&&ft(K))},_countItemEvent:function(A,F){var V=this._itemEvents,j=V.native,W=V.virtual;for(var K in D)j[K]=(j[K]||0)+(D[K][A]||0)*F;W[A]=(W[A]||0)+F},statics:{updateFocus:u,_resetState:function(){n=i=g=T=!1,t=e=w=C=_=x=O=E=S=M=null}}}}),pi=$t.extend({_class:"CanvasView",initialize:function(e,n){if(!(n instanceof m.HTMLCanvasElement)){var i=ct.read(arguments,1);if(i.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+d.slice(arguments,1));n=at.getCanvas(i)}var s=this._context=n.getContext("2d");if(s.save(),this._pixelRatio=1,!/^off|false$/.test(q.getAttribute(n,"hidpi"))){var u=m.devicePixelRatio||1,l=te.getPrefixed(s,"backingStorePixelRatio")||1;this._pixelRatio=u/l}$t.call(this,e,n),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,n){var i=this._pixelRatio;if(t.base.call(this,e*i,n*i),i!==1){var s=this._element,u=this._context;if(!q.hasAttribute(s,"resize")){var l=s.style;l.width=e+"px",l.height=n+"px"}u.restore(),u.save(),u.scale(i,i)}},getContext:function(){return this._context},getPixelSize:function t(e){var n=ot.agent,i;if(n&&n.firefox)i=t.base.call(this,e);else{var s=this._context,u=s.font;s.font=e+" serif",i=parseFloat(s.font),s.font=u}return i},getTextWidth:function(t,e){var n=this._context,i=n.font,s=0;n.font=t;for(var u=0,l=e.length;u<l;u++)s=Math.max(s,n.measureText(e[u]).width);return n.font=i,s},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,n=this._viewSize;return e.clearRect(0,0,n.width+1,n.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),B=d.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return X.modifiers}}),U=B.extend({_class:"KeyEvent",initialize:function(e,n,i,s){this.type=e,this.event=n,this.key=i,this.character=s},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),X=new function(){var t={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},e={tab:"	",space:" ",enter:"\r"},n={},i={},s,u,l=new d({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var c=ot&&ot.agent;return c&&c.mac?this.meta:this.control}}});function o(c){var v=c.key||c.keyIdentifier;return v=/^U\+/.test(v)?String.fromCharCode(parseInt(v.substr(2),16)):/^Arrow[A-Z]/.test(v)?v.substr(5):v==="Unidentified"||v===f?String.fromCharCode(c.keyCode):v,t[v]||(v.length>1?d.hyphenate(v):v.toLowerCase())}function h(c,v,y,p){var g=$t._focused,I;if(n[v]=c,c?i[v]=y:delete i[v],v.length>1&&(I=d.camelize(v))in l){l[I]=c;var b=ot&&ot.agent;if(I==="meta"&&b&&b.mac)if(c)s={};else{for(var T in s)T in i&&h(!1,T,s[T],p);s=null}}else c&&s&&(s[v]=y);g&&g._handleKeyEvent(c?"keydown":"keyup",p,v,y)}return Qt.add(P,{keydown:function(c){var v=o(c),y=ot&&ot.agent;v.length>1||y&&y.chrome&&(c.altKey||y.mac&&c.metaKey||!y.mac&&c.ctrlKey)?h(!0,v,e[v]||(v.length>1?"":v),c):u=v},keypress:function(c){if(u){var v=o(c),y=c.charCode,p=y>=32?String.fromCharCode(y):v.length>1?"":v;v!==u&&(v=p.toLowerCase()),h(!0,v,p,c),u=null}},keyup:function(c){var v=o(c);v in i&&h(!1,v,i[v],c)}}),Qt.add(m,{blur:function(c){for(var v in i)h(!1,v,i[v],c)}}),{modifiers:l,isDown:function(c){return!!n[c]}}},ut=B.extend({_class:"MouseEvent",initialize:function(e,n,i,s,u){this.type=e,this.event=n,this.point=i,this.target=s,this.delta=u},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),it=B.extend({_class:"ToolEvent",_item:null,initialize:function(e,n,i){this.tool=e,this.type=n,this.event=i},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,n=e._parent;/^(Group|CompoundPath)$/.test(n._class);)e=n,n=n._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),lt=Z.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){Z.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,t!=null&&this._maxDistance!=null&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,this._minDistance!=null&&t!=null&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,n,i){ot=this._scope,i.drag&&!this.responds(t)&&(t="mousemove");var s=i.move||i.drag,u=this.responds(t),l=!1,o=this;function h(v,y){var p=n,g=s?o._point:o._downPoint||p;if(s){if(o._moveCount>=0&&p.equals(g))return!1;if(g&&(v!=null||y!=null)){var I=p.subtract(g),b=I.getLength();if(b<(v||0))return!1;y&&(p=g.add(I.normalize(Math.min(b,y))))}o._moveCount++}return o._point=p,o._lastPoint=g||p,i.down&&(o._moveCount=-1,o._downPoint=p,o._downCount++),!0}function c(){u&&(l=o.emit(t,new it(o,t,e))||l)}if(i.down)h(),c();else if(i.up)h(null,this._maxDistance),c();else if(u)for(;h(this._minDistance,this._maxDistance);)c();return l}}),yt=d.extend(k,{_class:"Tween",statics:{easings:new d({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+2*(2-t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(e,n,i,s,u,l){this.object=e;var o=typeof u,h=o==="function";this.type=h?o:o==="string"?u:"linear",this.easing=h?u:t.easings[this.type],this.duration=s,this.running=!1,this._then=null,this._startTime=null;var c=n||i;this._keys=c?Object.keys(c):[],this._parsedKeys=this._parseKeys(this._keys),this._from=c&&this._getState(n),this._to=c&&this._getState(i),l!==!1&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){t>=1&&(t=1,this.running=!1);for(var e=this.easing(t),n=this._keys,i=function(v){return typeof v=="function"?v(e,t):v},s=0,u=n&&n.length;s<u;s++){var l=n[s],o=i(this._from[l]),h=i(this._to[l]),c=o&&h&&o.__add&&h.__add?h.__subtract(o).__multiply(e).__add(o):(h-o)*e+o;this._setProperty(this._parsedKeys[l],c)}this.responds("update")&&this.emit("update",new d({progress:t,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var e=this._startTime,n=e?(t-e)/this.duration:0;e||(this._startTime=t),this.update(n)},_getState:function(t){for(var e=this._keys,n={},i=0,s=e.length;i<s;i++){var u=e[i],l=this._parsedKeys[u],o=this._getProperty(l),h;if(t){var c=this._resolveValue(o,t[u]);this._setProperty(l,c),h=this._getProperty(l),h=h&&h.clone?h.clone():h,this._setProperty(l,o)}else h=o&&o.clone?o.clone():o;n[u]=h}return n},_resolveValue:function(t,e){if(e){if(Array.isArray(e)&&e.length===2){var n=e[0];return n&&n.match&&n.match(/^[+\-\*\/]=/)?this._calculate(t,n[0],e[1]):e}else if(typeof e=="string"){var i=e.match(/^[+\-*/]=(.*)/);if(i){var s=JSON.parse(i[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,e[0],s)}}}return e},_calculate:function(t,e,n){return ot.PaperScript.calculateBinary(t,e,n)},_parseKeys:function(t){for(var e={},n=0,i=t.length;n<i;n++){var s=t[n],u=s.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[s]=u.split("/")}return e},_getProperty:function(t,e){for(var n=this.object,i=0,s=t.length-(e||0);i<s&&n;i++)n=n[t[i]];return n},_setProperty:function(t,e){var n=this._getProperty(t,1);n&&(n[t[t.length-1]]=e)}}),vt={request:function(t){var e=new a.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,d.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var n=e.status;n===0||n===200?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var n=e.status,i='Could not load "'+t.url+'" (Status: '+n+")";if(t.onError)t.onError(i,n);else throw new Error(i)},e.send(null)}},at=d.exports.CanvasProvider={canvases:[],getCanvas:function(t,e,n){if(!m)return null;var i,s=!0;typeof t=="object"&&(e=t.height,t=t.width),this.canvases.length?i=this.canvases.pop():(i=P.createElement("canvas"),s=!1);var u=i.getContext("2d",n||{});if(!u)throw new Error("Canvas "+i+" is unable to provide a 2D context.");return i.width===t&&i.height===e?s&&u.clearRect(0,0,t+1,e+1):(i.width=t,i.height=e),u.save(),i},getContext:function(t,e,n){var i=this.getCanvas(t,e,n);return i?i.getContext("2d",n||{}):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},rt=new function(){var t=Math.min,e=Math.max,n=Math.abs,i,s,u,l,o,h,c,v,y,p,g;function I(O,E,S){return .2989*O+.587*E+.114*S}function b(O,E,S,z){var L=z-I(O,E,S);y=O+L,p=E+L,g=S+L;var z=I(y,p,g),D=t(y,p,g),A=e(y,p,g);if(D<0){var F=z-D;y=z+(y-z)*z/F,p=z+(p-z)*z/F,g=z+(g-z)*z/F}if(A>255){var V=255-z,j=A-z;y=z+(y-z)*V/j,p=z+(p-z)*V/j,g=z+(g-z)*V/j}}function T(O,E,S){return e(O,E,S)-t(O,E,S)}function w(O,E,S,M){var L=[O,E,S],z=e(O,E,S),D=t(O,E,S),A;D=D===O?0:D===E?1:2,z=z===O?0:z===E?1:2,A=t(D,z)===0?e(D,z)===1?2:1:0,L[z]>L[D]?(L[A]=(L[A]-L[D])*M/(L[z]-L[D]),L[z]=M):L[A]=L[z]=0,L[D]=0,y=L[0],p=L[1],g=L[2]}var C={multiply:function(){y=o*i/255,p=h*s/255,g=c*u/255},screen:function(){y=o+i-o*i/255,p=h+s-h*s/255,g=c+u-c*u/255},overlay:function(){y=o<128?2*o*i/255:255-2*(255-o)*(255-i)/255,p=h<128?2*h*s/255:255-2*(255-h)*(255-s)/255,g=c<128?2*c*u/255:255-2*(255-c)*(255-u)/255},"soft-light":function(){var O=i*o/255;y=O+o*(255-(255-o)*(255-i)/255-O)/255,O=s*h/255,p=O+h*(255-(255-h)*(255-s)/255-O)/255,O=u*c/255,g=O+c*(255-(255-c)*(255-u)/255-O)/255},"hard-light":function(){y=i<128?2*i*o/255:255-2*(255-i)*(255-o)/255,p=s<128?2*s*h/255:255-2*(255-s)*(255-h)/255,g=u<128?2*u*c/255:255-2*(255-u)*(255-c)/255},"color-dodge":function(){y=o===0?0:i===255?255:t(255,255*o/(255-i)),p=h===0?0:s===255?255:t(255,255*h/(255-s)),g=c===0?0:u===255?255:t(255,255*c/(255-u))},"color-burn":function(){y=o===255?255:i===0?0:e(0,255-(255-o)*255/i),p=h===255?255:s===0?0:e(0,255-(255-h)*255/s),g=c===255?255:u===0?0:e(0,255-(255-c)*255/u)},darken:function(){y=o<i?o:i,p=h<s?h:s,g=c<u?c:u},lighten:function(){y=o>i?o:i,p=h>s?h:s,g=c>u?c:u},difference:function(){y=o-i,y<0&&(y=-y),p=h-s,p<0&&(p=-p),g=c-u,g<0&&(g=-g)},exclusion:function(){y=o+i*(255-o-o)/255,p=h+s*(255-h-h)/255,g=c+u*(255-c-c)/255},hue:function(){w(i,s,u,T(o,h,c)),b(y,p,g,I(o,h,c))},saturation:function(){w(o,h,c,T(i,s,u)),b(y,p,g,I(o,h,c))},luminosity:function(){b(o,h,c,I(i,s,u))},color:function(){b(i,s,u,I(o,h,c))},add:function(){y=t(o+i,255),p=t(h+s,255),g=t(c+u,255)},subtract:function(){y=e(o-i,0),p=e(h-s,0),g=e(c-u,0)},average:function(){y=(o+i)/2,p=(h+s)/2,g=(c+u)/2},negation:function(){y=255-n(255-i-o),p=255-n(255-s-h),g=255-n(255-u-c)}},_=this.nativeModes=d.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(O){this[O]=!0},{}),x=at.getContext(1,1,{willReadFrequently:!0});x&&(d.each(C,function(O,E){var S=E==="darken",M=!1;x.save();try{x.fillStyle=S?"#300":"#a00",x.fillRect(0,0,1,1),x.globalCompositeOperation=E,x.globalCompositeOperation===E&&(x.fillStyle=S?"#a00":"#300",x.fillRect(0,0,1,1),M=x.getImageData(0,0,1,1).data[0]!==S?170:51)}catch{}x.restore(),_[E]=M}),at.release(x)),this.process=function(O,E,S,M,L){var z=E.canvas,D=O==="normal";if(D||_[O])S.save(),S.setTransform(1,0,0,1,0,0),S.globalAlpha=M,D||(S.globalCompositeOperation=O),S.drawImage(z,L.x,L.y),S.restore();else{var A=C[O];if(!A)return;for(var F=S.getImageData(L.x,L.y,z.width,z.height),V=F.data,j=E.getImageData(0,0,z.width,z.height).data,W=0,K=V.length;W<K;W+=4){i=j[W],o=V[W],s=j[W+1],h=V[W+1],u=j[W+2],c=V[W+2],l=j[W+3],v=V[W+3],A();var et=l*M/255,ft=1-et;V[W]=et*y+ft*o,V[W+1]=et*p+ft*h,V[W+2]=et*g+ft*c,V[W+3]=l*M+ft*v}S.putImageData(F,L.x,L.y)}}},dt=new function(){var t="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",n="http://www.w3.org/1999/xlink",i={href:n,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function s(o,h,c){return l(P.createElementNS(t,o),h,c)}function u(o,h){var c=i[h],v=c?o.getAttributeNS(c,h):o.getAttribute(h);return v==="null"?null:v}function l(o,h,c){for(var v in h){var y=h[v],p=i[v];typeof y=="number"&&c&&(y=c.number(y)),p?o.setAttributeNS(p,v,y):o.setAttribute(v,y)}return o}return{svg:t,xmlns:e,xlink:n,create:s,get:u,set:l}},St=d.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof jt||t instanceof ie||t instanceof bn)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var n=d.capitalize(e),i=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:i,fromSVG:i&&d.each(i,function(s,u){this[s]=u},{}),exportFilter:t[3],get:"get"+n,set:"set"+n}},{});new function(){var t;function e(C,_,x){var O=new d,E=C.getTranslation();if(_){var S;C.isInvertible()?(C=C._shiftless(),S=C._inverseTransform(E),E=null):S=new N,O[x?"cx":"x"]=S.x,O[x?"cy":"y"]=S.y}if(!C.isIdentity()){var M=C.decompose();if(M){var L=[],z=M.rotation,D=M.scaling,A=M.skewing;E&&!E.isZero()&&L.push("translate("+t.point(E)+")"),z&&L.push("rotate("+t.number(z)+")"),(!nt.isZero(D.x-1)||!nt.isZero(D.y-1))&&L.push("scale("+t.point(D)+")"),A.x&&L.push("skewX("+t.number(A.x)+")"),A.y&&L.push("skewY("+t.number(A.y)+")"),O.transform=L.join(" ")}else O.transform="matrix("+C.getValues().join(",")+")"}return O}function n(C,_){for(var x=e(C._matrix),O=C._children,E=dt.create("g",x,t),S=0,M=O.length;S<M;S++){var L=O[S],z=T(L,_);if(z)if(L.isClipMask()){var D=dt.create("clipPath");D.appendChild(z),I(L,D,"clip"),dt.set(E,{"clip-path":"url(#"+D.id+")"})}else E.appendChild(z)}return E}function i(C,_){var x=e(C._matrix,!0),O=C.getSize(),E=C.getImage();return x.x-=O.width/2,x.y-=O.height/2,x.width=O.width,x.height=O.height,x.href=_.embedImages==!1&&E&&E.src||C.toDataURL(),dt.create("image",x,t)}function s(C,_){var x=_.matchShapes;if(x){var O=C.toShape(!1);if(O)return u(O)}var E=C._segments,S=E.length,M,L=e(C._matrix);if(x&&S>=2&&!C.hasHandles())if(S>2){M=C._closed?"polygon":"polyline";for(var z=[],D=0;D<S;D++)z.push(t.point(E[D]._point));L.points=z.join(" ")}else{M="line";var A=E[0]._point,F=E[1]._point;L.set({x1:A.x,y1:A.y,x2:F.x,y2:F.y})}else M="path",L.d=C.getPathData(null,_.precision);return dt.create(M,L,t)}function u(C){var _=C._type,x=C._radius,O=e(C._matrix,!0,_!=="rectangle");if(_==="rectangle"){_="rect";var E=C._size,S=E.width,M=E.height;O.x-=S/2,O.y-=M/2,O.width=S,O.height=M,x.isZero()&&(x=null)}return x&&(_==="circle"?O.r=x:(O.rx=x.width,O.ry=x.height)),dt.create(_,O,t)}function l(C,_){var x=e(C._matrix),O=C.getPathData(null,_.precision);return O&&(x.d=O),dt.create("path",x,t)}function o(C,_){var x=e(C._matrix,!0),O=C._definition,E=g(O,"symbol"),S=O._item,M=S.getStrokeBounds();return E||(E=dt.create("symbol",{viewBox:t.rectangle(M)}),E.appendChild(T(S,_)),I(O,E,"symbol")),x.href="#"+E.id,x.x+=M.x,x.y+=M.y,x.width=M.width,x.height=M.height,x.overflow="visible",dt.create("use",x,t)}function h(C){var _=g(C,"color");if(!_){var x=C.getGradient(),O=x._radial,E=C.getOrigin(),S=C.getDestination(),M;if(O){M={cx:E.x,cy:E.y,r:E.getDistance(S)};var L=C.getHighlight();L&&(M.fx=L.x,M.fy=L.y)}else M={x1:E.x,y1:E.y,x2:S.x,y2:S.y};M.gradientUnits="userSpaceOnUse",_=dt.create((O?"radial":"linear")+"Gradient",M,t);for(var z=x._stops,D=0,A=z.length;D<A;D++){var F=z[D],V=F._color,j=V.getAlpha(),W=F._offset;M={offset:W??D/(A-1)},V&&(M["stop-color"]=V.toCSS(!0)),j<1&&(M["stop-opacity"]=j),_.appendChild(dt.create("stop",M,t))}I(C,_,"color")}return"url(#"+_.id+")"}function c(C){var _=dt.create("text",e(C._matrix,!0),t);return _.textContent=C._content,_}var v={Group:n,Layer:n,Raster:i,Path:s,Shape:u,CompoundPath:l,SymbolItem:o,PointText:c};function y(C,_,x,O){var E={},S=!O&&C.getParent(),M=[];return C._name!=null&&(E.id=C._name),d.each(St,function(L){var z=L.get,D=L.type,A=C[z]();if(L.exportFilter?L.exportFilter(C,A):x.reduceAttributes==!1||!S||!d.equals(S[z](),A)){if(D==="color"&&A!=null){var F=A.getAlpha();F<1&&(E[L.attribute+"-opacity"]=F)}D==="style"?M.push(L.attribute+": "+A):E[L.attribute]=A==null?"none":D==="color"?A.gradient?h(A):A.toCSS(!0):D==="array"?A.join(","):D==="lookup"?L.toSVG[A]:A}}),M.length&&(E.style=M.join(";")),E.opacity===1&&delete E.opacity,C._visible||(E.visibility="hidden"),dt.set(_,E,t)}var p;function g(C,_){return p||(p={ids:{},svgs:{}}),C&&p.svgs[_+"-"+(C._id||C.__id||(C.__id=Ct.get("svg")))]}function I(C,_,x){p||g();var O=p.ids[x]=(p.ids[x]||0)+1;_.id=x+"-"+O,p.svgs[x+"-"+(C._id||C.__id)]=_}function b(C,_){var x=C,O=null;if(p){x=C.nodeName.toLowerCase()==="svg"&&C;for(var E in p.svgs)O||(x||(x=dt.create("svg"),x.appendChild(C)),O=x.insertBefore(dt.create("defs"),x.firstChild)),O.appendChild(p.svgs[E]);p=null}return _.asString?new a.XMLSerializer().serializeToString(x):x}function T(C,_,x){var O=v[C._class],E=O&&O(C,_);if(E){var S=_.onExport;S&&(E=S(C,E,_)||E);var M=JSON.stringify(C._data);M&&M!=="{}"&&M!=="null"&&E.setAttribute("data-paper-data",M)}return E&&y(C,E,_,x)}function w(C){return C||(C={}),t=new Y(C.precision),C}_t.inject({exportSVG:function(C){return C=w(C),b(T(this,C,!0),C)}}),qt.inject({exportSVG:function(C){C=w(C);var _=this._children,x=this.getView(),O=d.pick(C.bounds,"view"),E=C.matrix||O==="view"&&x._matrix,S=E&&mt.read([E]),M=O==="view"?new ht([0,0],x.getViewSize()):O==="content"?_t._getBounds(_,S,{stroke:!0}).rect:ht.read([O],0,{readNull:!0}),L={version:"1.1",xmlns:dt.svg,"xmlns:xlink":dt.xlink};M&&(L.width=M.width,L.height=M.height,(M.x||M.x===0||M.y||M.y===0)&&(L.viewBox=t.rectangle(M)));var z=dt.create("svg",L,t),D=z;S&&!S.isIdentity()&&(D=z.appendChild(dt.create("g",e(S),t)));for(var A=0,F=_.length;A<F;A++)D.appendChild(T(_[A],C,!0));return b(z,C)}})},new function(){var t={},e;function n(_,x,O,E,S,M){var L=dt.get(_,x)||M,z=L==null?E?null:O?"":0:O?L:parseFloat(L);return/%\s*$/.test(L)?z/100*(S?1:e[/x|^width/.test(x)?"width":"height"]):z}function i(_,x,O,E,S,M,L){return x=n(_,x||"x",!1,E,S,M),O=n(_,O||"y",!1,E,S,L),E&&(x==null||O==null)?null:new N(x,O)}function s(_,x,O,E,S){return x=n(_,x||"width",!1,E,S),O=n(_,O||"height",!1,E,S),E&&(x==null||O==null)?null:new ct(x,O)}function u(_,x,O){return _==="none"?null:x==="number"?parseFloat(_):x==="array"?_?_.split(/[\s,]+/g).map(parseFloat):[]:x==="color"?T(_)||_:x==="lookup"?O[_]:_}function l(_,x,O,E){var S=_.childNodes,M=x==="clippath",L=x==="defs",z=new Kt,D=z._project,A=D._currentStyle,F=[];if(!M&&!L&&(z=b(z,_,E),D._currentStyle=z._style.clone()),E)for(var V=_.querySelectorAll("defs"),j=0,W=V.length;j<W;j++)w(V[j],O,!1);for(var j=0,W=S.length;j<W;j++){var K=S[j],et;K.nodeType===1&&!/^defs$/i.test(K.nodeName)&&(et=w(K,O,!1))&&!(et instanceof Yt)&&F.push(et)}return z.addChildren(F),M&&(z=b(z.reduce(),_,E)),D._currentStyle=A,(M||L)&&(z.remove(),z=null),z}function o(_,x){for(var O=_.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),E=[],S=0,M=O.length;S<M;S+=2)E.push(new N(parseFloat(O[S]),parseFloat(O[S+1])));var L=new Bt(E);return x==="polygon"&&L.closePath(),L}function h(_){return jt.create(_.getAttribute("d"))}function c(_,x){var O=(n(_,"href",!0)||"").substring(1),E=x==="radialgradient",S;if(O)S=t[O].getGradient(),S._radial^E&&(S=S.clone(),S._radial=E);else{for(var M=_.childNodes,L=[],z=0,D=M.length;z<D;z++){var A=M[z];A.nodeType===1&&L.push(b(new un,A))}S=new Je(L,E)}var F,V,j,W=n(_,"gradientUnits",!0)!=="userSpaceOnUse";E?(F=i(_,"cx","cy",!1,W,"50%","50%"),V=F.add(n(_,"r",!1,!1,W,"50%"),0),j=i(_,"fx","fy",!0,W)):(F=i(_,"x1","y1",!1,W,"0%","0%"),V=i(_,"x2","y2",!1,W,"100%","0%"));var K=b(new re(S,F,V,j),_);return K._scaleToBounds=W,null}var v={"#document":function(_,x,O,E){for(var S=_.childNodes,M=0,L=S.length;M<L;M++){var z=S[M];if(z.nodeType===1)return w(z,O,E)}},g:l,svg:l,clippath:l,polygon:o,polyline:o,path:h,lineargradient:c,radialgradient:c,image:function(_){var x=new be(n(_,"href",!0));return x.on("load",function(){var O=s(_);this.setSize(O);var E=i(_).add(O.divide(2));this._matrix.append(new mt().translate(E))}),x},symbol:function(_,x,O,E){return new Yt(l(_,x,O,E),!0)},defs:l,use:function(_){var x=(n(_,"href",!0)||"").substring(1),O=t[x],E=i(_);return O?O instanceof Yt?O.place(E):O.clone().translate(E):null},circle:function(_){return new ie.Circle(i(_,"cx","cy"),n(_,"r"))},ellipse:function(_){return new ie.Ellipse({center:i(_,"cx","cy"),radius:s(_,"rx","ry")})},rect:function(_){return new ie.Rectangle(new ht(i(_),s(_)),s(_,"rx","ry"))},line:function(_){return new Bt.Line(i(_,"x1","y1"),i(_,"x2","y2"))},text:function(_){var x=new er(i(_).add(i(_,"dx","dy")));return x.setContent(_.textContent.trim()||""),x},switch:l};function y(_,x,O,E){if(_.transform){for(var S=(E.getAttribute(O)||"").split(/\)\s*/g),M=new mt,L=0,z=S.length;L<z;L++){var D=S[L];if(!D)break;for(var A=D.split(/\(\s*/),F=A[0].trim(),V=A[1].split(/[\s,]+/g),j=0,W=V.length;j<W;j++)V[j]=parseFloat(V[j]);switch(F){case"matrix":M.append(new mt(V[0],V[1],V[2],V[3],V[4],V[5]));break;case"rotate":M.rotate(V[0],V[1]||0,V[2]||0);break;case"translate":M.translate(V[0],V[1]||0);break;case"scale":M.scale(V);break;case"skewX":M.skew(V[0],0);break;case"skewY":M.skew(0,V[0]);break}}_.transform(M)}}function p(_,x,O){var E=O==="fill-opacity"?"getFillColor":"getStrokeColor",S=_[E]&&_[E]();S&&S.setAlpha(parseFloat(x))}var g=d.set(d.each(St,function(_){this[_.attribute]=function(x,O){if(x[_.set]&&(x[_.set](u(O,_.type,_.fromSVG)),_.type==="color")){var E=x[_.get]();if(E&&E._scaleToBounds){var S=x.getBounds();E.transform(new mt().translate(S.getPoint()).scale(S.getSize()))}}}},{}),{id:function(_,x){t[x]=_,_.setName&&_.setName(x)},"clip-path":function(_,x){var O=T(x);if(O)if(O=O.clone(),O.setClipMask(!0),_ instanceof Kt)_.insertChild(0,O);else return new Kt(O,_)},gradientTransform:y,transform:y,"fill-opacity":p,"stroke-opacity":p,visibility:function(_,x){_.setVisible&&_.setVisible(x==="visible")},display:function(_,x){_.setVisible&&_.setVisible(x!==null)},"stop-color":function(_,x){_.setColor&&_.setColor(x)},"stop-opacity":function(_,x){_._color&&_._color.setAlpha(parseFloat(x))},offset:function(_,x){if(_.setOffset){var O=x.match(/(.*)%$/);_.setOffset(O?O[1]/100:parseFloat(x))}},viewBox:function(_,x,O,E,S){var M=new ht(u(x,"array")),L=s(E,null,null,!0),z,D;if(_ instanceof Kt){var A=L?L.divide(M.getSize()):1,D=new mt().scale(A).translate(M.getPoint().negate());z=_}else _ instanceof Yt&&(L&&M.setSize(L),z=_._item);if(z){if(I(E,"overflow",S)!=="visible"){var F=new ie.Rectangle(M);F.setClipMask(!0),z.addChild(F)}D&&z.transform(D)}}});function I(_,x,O){var E=_.attributes[x],S=E&&E.value;if(!S&&_.style){var M=d.camelize(x);S=_.style[M],!S&&O.node[M]!==O.parent[M]&&(S=O.node[M])}return S?S==="none"?null:S:f}function b(_,x,O){var E=x.parentNode,S={node:te.getStyles(x)||{},parent:!O&&!/^defs$/i.test(E.tagName)&&te.getStyles(E)||{}};return d.each(g,function(M,L){var z=I(x,L,S);_=z!==f&&M(_,z,L,x,S)||_}),_}function T(_){var x=_&&_.match(/\((?:["'#]*)([^"')]+)/),O=x&&x[1],E=O&&t[m?O.replace(m.location.href.split("#")[0]+"#",""):O];return E&&E._scaleToBounds&&(E=E.clone(),E._scaleToBounds=!0),E}function w(_,x,O){var E=_.nodeName.toLowerCase(),S=E!=="#document",M=P.body,L,z,D;O&&S&&(e=ot.getView().getSize(),e=s(_,null,null,!0)||e,L=dt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),z=_.parentNode,D=_.nextSibling,L.appendChild(_),M.appendChild(L));var A=ot.settings,F=A.applyMatrix,V=A.insertItems;A.applyMatrix=!1,A.insertItems=!1;var j=v[E],W=j&&j(_,E,x,O)||null;if(A.insertItems=V,A.applyMatrix=F,W){S&&!(W instanceof Kt)&&(W=b(W,_,O));var K=x.onImport,et=S&&_.getAttribute("data-paper-data");K&&(W=K(_,W,x)||W),x.expandShapes&&W instanceof ie&&(W.remove(),W=W.toPath()),et&&(W._data=JSON.parse(et))}return L&&(M.removeChild(L),z&&(D?z.insertBefore(_,D):z.appendChild(_))),O&&(t={},W&&d.pick(x.applyMatrix,F)&&W.matrix.apply(!0,!0)),W}function C(_,x,O){if(!_)return null;x=typeof x=="function"?{onLoad:x}:x||{};var E=ot,S=null;function M(A){try{var F=typeof A=="object"?A:new a.DOMParser().parseFromString(A.trim(),"image/svg+xml");if(!F.nodeName)throw F=null,new Error("Unsupported SVG source: "+_);ot=E,S=w(F,x,!0),(!x||x.insert!==!1)&&O._insertItem(f,S);var V=x.onLoad;V&&V(S,A)}catch(j){L(j)}}function L(A,F){var V=x.onError;if(V)V(A,F);else throw new Error(A)}if(typeof _=="string"&&!/^[\s\S]*</.test(_)){var z=P.getElementById(_);z?M(z):vt.request({url:_,async:!0,onLoad:M,onError:L})}else if(typeof File<"u"&&_ instanceof File){var D=new FileReader;return D.onload=function(){M(D.result)},D.onerror=function(){L(D.error)},D.readAsText(_)}else M(_);return S}_t.inject({importSVG:function(_,x){return C(_,x,this)}}),qt.inject({importSVG:function(_,x){return this.activate(),C(_,x,this)}})},d.exports.PaperScript=(function(){var t=this,e=t.acorn;if(!e&&typeof Cf<"u")try{e=require("acorn")}catch{}if(!e){var n,i;e=n=i={},function(b,T){if(typeof n=="object"&&typeof i=="object")return T(n);if(typeof f=="function"&&f.amd)return f(["exports"],T);T(b.acorn||(b.acorn={}))}(this,function(b){b.version="0.5.0";var T,w,C,_;b.parse=function(R,H){return w=String(R),C=w.length,O(H),ps(),zu(T.program)};var x=b.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function O(R){T=R||{};for(var H in x)Object.prototype.hasOwnProperty.call(T,H)||(T[H]=x[H]);_=T.sourceFile||null}var E=b.getLineInfo=function(R,H){for(var G=1,$=0;;){Hn.lastIndex=$;var Mt=Hn.exec(R);if(Mt&&Mt.index<H)++G,$=Mt.index+Mt[0].length;else break}return{line:G,column:H-$}};b.tokenize=function(R,H){w=String(R),C=w.length,O(H),ps();var G={};function $(Mt){return et=L,In(Mt),G.start=M,G.end=L,G.startLoc=z,G.endLoc=D,G.type=A,G.value=F,G}return $.jumpTo=function(Mt,At){if(S=Mt,T.locations){j=1,W=Hn.lastIndex=0;for(var kt;(kt=Hn.exec(w))&&kt.index<Mt;)++j,W=kt.index+kt[0].length}V=At,qn()},$};var S,M,L,z,D,A,F,V,j,W,K,et,ft,gt,wt,J;function Q(R,H){var G=E(w,R);H+=" ("+G.line+":"+G.column+")";var $=new SyntaxError(H);throw $.pos=R,$.loc=G,$.raisedAt=S,$}var pt=[],xt={type:"num"},bt={type:"regexp"},Et={type:"string"},Tt={type:"name"},zt={type:"eof"},Nt={keyword:"break"},Lt={keyword:"case",beforeExpr:!0},fe={keyword:"catch"},he={keyword:"continue"},ve={keyword:"debugger"},se={keyword:"default"},Xt={keyword:"do",isLoop:!0},ae={keyword:"else",beforeExpr:!0},Te={keyword:"finally"},ce={keyword:"for",isLoop:!0},Re={keyword:"function"},on={keyword:"if"},De={keyword:"return",beforeExpr:!0},Ve={keyword:"switch"},Oe={keyword:"throw",beforeExpr:!0},Le={keyword:"try"},ln={keyword:"var"},He={keyword:"while",isLoop:!0},vi={keyword:"with"},is={keyword:"new",beforeExpr:!0},rs={keyword:"this"},ss={keyword:"null",atomValue:null},as={keyword:"true",atomValue:!0},us={keyword:"false",atomValue:!1},mi={keyword:"in",binop:7,beforeExpr:!0},nr={break:Nt,case:Lt,catch:fe,continue:he,debugger:ve,default:se,do:Xt,else:ae,finally:Te,for:ce,function:Re,if:on,return:De,switch:Ve,throw:Oe,try:Le,var:ln,while:He,with:vi,null:ss,true:as,false:us,new:is,in:mi,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:rs,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},yi={type:"[",beforeExpr:!0},wi={type:"]"},Dn={type:"{",beforeExpr:!0},Cn={type:"}"},Xe={type:"(",beforeExpr:!0},qe={type:")"},en={type:",",beforeExpr:!0},Ye={type:";",beforeExpr:!0},Vn={type:":",beforeExpr:!0},ir={type:"."},rr={type:"?",beforeExpr:!0},sr={binop:10,beforeExpr:!0},ar={isAssign:!0,beforeExpr:!0},Sn={isAssign:!0,beforeExpr:!0},au={postfix:!0,prefix:!0,isUpdate:!0},os={prefix:!0,beforeExpr:!0},ls={binop:1,beforeExpr:!0},fs={binop:2,beforeExpr:!0},uu={binop:3,beforeExpr:!0},ou={binop:4,beforeExpr:!0},lu={binop:5,beforeExpr:!0},fu={binop:6,beforeExpr:!0},hu={binop:7,beforeExpr:!0},cu={binop:8,beforeExpr:!0},du={binop:9,prefix:!0,beforeExpr:!0},_u={binop:10,beforeExpr:!0};b.tokTypes={bracketL:yi,bracketR:wi,braceL:Dn,braceR:Cn,parenL:Xe,parenR:qe,comma:en,semi:Ye,colon:Vn,dot:ir,question:rr,slash:sr,eq:ar,name:Tt,eof:zt,num:xt,regexp:bt,string:Et};for(var hs in nr)b.tokTypes["_"+hs]=nr[hs];function Yn(R){R=R.split(" ");var H="",G=[];t:for(var $=0;$<R.length;++$){for(var Mt=0;Mt<G.length;++Mt)if(G[Mt][0].length==R[$].length){G[Mt].push(R[$]);continue t}G.push([R[$]])}function At(Gt){if(Gt.length==1)return H+="return str === "+JSON.stringify(Gt[0])+";";H+="switch(str){";for(var je=0;je<Gt.length;++je)H+="case "+JSON.stringify(Gt[je])+":";H+="return true}return false;"}if(G.length>3){G.sort(function(Gt,je){return je.length-Gt.length}),H+="switch(str.length){";for(var $=0;$<G.length;++$){var kt=G[$];H+="case "+kt[0].length+":",At(kt)}H+="}"}else At(R);return new Function("str",H)}var gu=Yn("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),pu=Yn("class enum extends super const export import"),cs=Yn("implements interface let package private protected public static yield"),bi=Yn("eval arguments"),vu=Yn("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),mu=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ds="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",yu="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",_s=new RegExp("["+ds+"]"),wu=new RegExp("["+ds+yu+"]"),xi=/[\n\r\u2028\u2029]/,Hn=/\r\n|[\n\r\u2028\u2029]/g,Ci=b.isIdentifierStart=function(R){return R<65?R===36:R<91?!0:R<97?R===95:R<123?!0:R>=170&&_s.test(String.fromCharCode(R))},gs=b.isIdentifierChar=function(R){return R<48?R===36:R<58?!0:R<65?!1:R<91?!0:R<97?R===95:R<123?!0:R>=170&&wu.test(String.fromCharCode(R))};function Pn(){this.line=j,this.column=S-W}function ps(){j=1,S=W=0,V=!0,qn()}function _e(R,H){L=S,T.locations&&(D=new Pn),A=R,qn(),F=H,V=R.beforeExpr}function bu(){var R=T.onComment&&T.locations&&new Pn,H=S,G=w.indexOf("*/",S+=2);if(G===-1&&Q(S-2,"Unterminated comment"),S=G+2,T.locations){Hn.lastIndex=H;for(var $;($=Hn.exec(w))&&$.index<S;)++j,W=$.index+$[0].length}T.onComment&&T.onComment(!0,w.slice(H+2,G),H,S,R,T.locations&&new Pn)}function ur(){for(var R=S,H=T.onComment&&T.locations&&new Pn,G=w.charCodeAt(S+=2);S<C&&G!==10&&G!==13&&G!==8232&&G!==8233;)++S,G=w.charCodeAt(S);T.onComment&&T.onComment(!1,w.slice(R+2,S),R,S,H,T.locations&&new Pn)}function qn(){for(;S<C;){var R=w.charCodeAt(S);if(R===32)++S;else if(R===13){++S;var H=w.charCodeAt(S);H===10&&++S,T.locations&&(++j,W=S)}else if(R===10||R===8232||R===8233)++S,T.locations&&(++j,W=S);else if(R>8&&R<14)++S;else if(R===47){var H=w.charCodeAt(S+1);if(H===42)bu();else if(H===47)ur();else break}else if(R===160)++S;else if(R>=5760&&mu.test(String.fromCharCode(R)))++S;else break}}function xu(){var R=w.charCodeAt(S+1);return R>=48&&R<=57?ms(!0):(++S,_e(ir))}function Cu(){var R=w.charCodeAt(S+1);return V?(++S,vs()):R===61?ge(Sn,2):ge(sr,1)}function Su(){var R=w.charCodeAt(S+1);return R===61?ge(Sn,2):ge(_u,1)}function Pu(R){var H=w.charCodeAt(S+1);return H===R?ge(R===124?ls:fs,2):H===61?ge(Sn,2):ge(R===124?uu:lu,1)}function Iu(){var R=w.charCodeAt(S+1);return R===61?ge(Sn,2):ge(ou,1)}function Tu(R){var H=w.charCodeAt(S+1);return H===R?H==45&&w.charCodeAt(S+2)==62&&xi.test(w.slice(et,S))?(S+=3,ur(),qn(),In()):ge(au,2):H===61?ge(Sn,2):ge(du,1)}function Ou(R){var H=w.charCodeAt(S+1),G=1;return H===R?(G=R===62&&w.charCodeAt(S+2)===62?3:2,w.charCodeAt(S+G)===61?ge(Sn,G+1):ge(cu,G)):H==33&&R==60&&w.charCodeAt(S+2)==45&&w.charCodeAt(S+3)==45?(S+=4,ur(),qn(),In()):(H===61&&(G=w.charCodeAt(S+2)===61?3:2),ge(hu,G))}function Eu(R){var H=w.charCodeAt(S+1);return H===61?ge(fu,w.charCodeAt(S+2)===61?3:2):ge(R===61?ar:os,1)}function Mu(R){switch(R){case 46:return xu();case 40:return++S,_e(Xe);case 41:return++S,_e(qe);case 59:return++S,_e(Ye);case 44:return++S,_e(en);case 91:return++S,_e(yi);case 93:return++S,_e(wi);case 123:return++S,_e(Dn);case 125:return++S,_e(Cn);case 58:return++S,_e(Vn);case 63:return++S,_e(rr);case 48:var H=w.charCodeAt(S+1);if(H===120||H===88)return Au();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return ms(!1);case 34:case 39:return Lu(R);case 47:return Cu();case 37:case 42:return Su();case 124:case 38:return Pu(R);case 94:return Iu();case 43:case 45:return Tu(R);case 60:case 62:return Ou(R);case 61:case 33:return Eu(R);case 126:return ge(os,1)}return!1}function In(R){if(R?S=M+1:M=S,T.locations&&(z=new Pn),R)return vs();if(S>=C)return _e(zt);var H=w.charCodeAt(S);if(Ci(H)||H===92)return ws();var G=Mu(H);if(G===!1){var $=String.fromCharCode(H);if($==="\\"||_s.test($))return ws();Q(S,"Unexpected character '"+$+"'")}return G}function ge(R,H){var G=w.slice(S,S+H);S+=H,_e(R,G)}function vs(){for(var Mt="",R,H,G=S;;){S>=C&&Q(G,"Unterminated regular expression");var $=w.charAt(S);if(xi.test($)&&Q(G,"Unterminated regular expression"),R)R=!1;else{if($==="[")H=!0;else if($==="]"&&H)H=!1;else if($==="/"&&!H)break;R=$==="\\"}++S}var Mt=w.slice(G,S);++S;var At=ys();At&&!/^[gmsiy]*$/.test(At)&&Q(G,"Invalid regexp flag");try{var kt=new RegExp(Mt,At)}catch(Gt){Gt instanceof SyntaxError&&Q(G,Gt.message),Q(Gt)}return _e(bt,kt)}function Qn(R,H){for(var G=S,$=0,Mt=0,At=H??1/0;Mt<At;++Mt){var kt=w.charCodeAt(S),Gt;if(kt>=97?Gt=kt-97+10:kt>=65?Gt=kt-65+10:kt>=48&&kt<=57?Gt=kt-48:Gt=1/0,Gt>=R)break;++S,$=$*R+Gt}return S===G||H!=null&&S-G!==H?null:$}function Au(){S+=2;var R=Qn(16);return R==null&&Q(M+2,"Expected hexadecimal number"),Ci(w.charCodeAt(S))&&Q(S,"Identifier directly after number"),_e(xt,R)}function ms(R){var H=S,G=!1,$=w.charCodeAt(S)===48;!R&&Qn(10)===null&&Q(H,"Invalid number"),w.charCodeAt(S)===46&&(++S,Qn(10),G=!0);var Mt=w.charCodeAt(S);(Mt===69||Mt===101)&&(Mt=w.charCodeAt(++S),(Mt===43||Mt===45)&&++S,Qn(10)===null&&Q(H,"Invalid number"),G=!0),Ci(w.charCodeAt(S))&&Q(S,"Identifier directly after number");var At=w.slice(H,S),kt;return G?kt=parseFloat(At):!$||At.length===1?kt=parseInt(At,10):/[89]/.test(At)||J?Q(H,"Invalid number"):kt=parseInt(At,8),_e(xt,kt)}function Lu(R){S++;for(var H="";;){S>=C&&Q(M,"Unterminated string constant");var G=w.charCodeAt(S);if(G===R)return++S,_e(Et,H);if(G===92){G=w.charCodeAt(++S);var $=/^[0-7]+/.exec(w.slice(S,S+3));for($&&($=$[0]);$&&parseInt($,8)>255;)$=$.slice(0,-1);if($==="0"&&($=null),++S,$)J&&Q(S-2,"Octal literal in strict mode"),H+=String.fromCharCode(parseInt($,8)),S+=$.length-1;else switch(G){case 110:H+=`
`;break;case 114:H+="\r";break;case 120:H+=String.fromCharCode(Si(2));break;case 117:H+=String.fromCharCode(Si(4));break;case 85:H+=String.fromCharCode(Si(8));break;case 116:H+="	";break;case 98:H+="\b";break;case 118:H+="\v";break;case 102:H+="\f";break;case 48:H+="\0";break;case 13:w.charCodeAt(S)===10&&++S;case 10:T.locations&&(W=S,++j);break;default:H+=String.fromCharCode(G);break}}else(G===13||G===10||G===8232||G===8233)&&Q(M,"Unterminated string constant"),H+=String.fromCharCode(G),++S}}function Si(R){var H=Qn(16,R);return H===null&&Q(M,"Bad character escape sequence"),H}var Un;function ys(){Un=!1;for(var R,H=!0,G=S;;){var $=w.charCodeAt(S);if(gs($))Un&&(R+=w.charAt(S)),++S;else if($===92){Un||(R=w.slice(G,S)),Un=!0,w.charCodeAt(++S)!=117&&Q(S,"Expecting Unicode escape sequence \\uXXXX"),++S;var Mt=Si(4),At=String.fromCharCode(Mt);At||Q(S-1,"Invalid Unicode escape"),(H?Ci(Mt):gs(Mt))||Q(S-4,"Invalid Unicode escape"),R+=At}else break;H=!1}return Un?R:w.slice(G,S)}function ws(){var R=ys(),H=Tt;return!Un&&vu(R)&&(H=nr[R]),_e(H,R)}function Wt(){K=M,et=L,ft=D,In()}function or(R){if(J=R,S=M,T.locations)for(;S<W;)W=w.lastIndexOf(`
`,W-2)+1,--j;qn(),In()}function bs(){this.type=null,this.start=M,this.end=null}function xs(){this.start=z,this.end=null,_!==null&&(this.source=_)}function me(){var R=new bs;return T.locations&&(R.loc=new xs),T.directSourceFile&&(R.sourceFile=T.directSourceFile),T.ranges&&(R.range=[M,0]),R}function fn(R){var H=new bs;return H.start=R.start,T.locations&&(H.loc=new xs,H.loc.start=R.loc.start),T.ranges&&(H.range=[R.range[0],0]),H}function Dt(R,H){return R.type=H,R.end=et,T.locations&&(R.loc.end=ft),T.ranges&&(R.range[1]=et),R}function lr(R){return T.ecmaVersion>=5&&R.type==="ExpressionStatement"&&R.expression.type==="Literal"&&R.expression.value==="use strict"}function ne(R){if(A===R)return Wt(),!0}function Pi(){return!T.strictSemicolons&&(A===zt||A===Cn||xi.test(w.slice(et,M)))}function Tn(){!ne(Ye)&&!Pi()&&nn()}function le(R){A===R?Wt():nn()}function nn(){Q(M,"Unexpected token")}function Ii(R){R.type!=="Identifier"&&R.type!=="MemberExpression"&&Q(R.start,"Assigning to rvalue"),J&&R.type==="Identifier"&&bi(R.name)&&Q(R.start,"Assigning to "+R.name+" in strict mode")}function zu(R){K=et=S,T.locations&&(ft=new Pn),gt=J=null,wt=[],In();var H=R||me(),G=!0;for(R||(H.body=[]);A!==zt;){var $=Ue();H.body.push($),G&&lr($)&&or(!0),G=!1}return Dt(H,"Program")}var fr={kind:"loop"},ku={kind:"switch"};function Ue(){(A===sr||A===Sn&&F=="/=")&&In(!0);var R=A,H=me();switch(R){case Nt:case he:Wt();var G=R===Nt;ne(Ye)||Pi()?H.label=null:A!==Tt?nn():(H.label=hn(),Tn());for(var $=0;$<wt.length;++$){var Mt=wt[$];if((H.label==null||Mt.name===H.label.name)&&(Mt.kind!=null&&(G||Mt.kind==="loop")||H.label&&G))break}return $===wt.length&&Q(H.start,"Unsyntactic "+R.keyword),Dt(H,G?"BreakStatement":"ContinueStatement");case ve:return Wt(),Tn(),Dt(H,"DebuggerStatement");case Xt:return Wt(),wt.push(fr),H.body=Ue(),wt.pop(),le(He),H.test=$n(),Tn(),Dt(H,"DoWhileStatement");case ce:if(Wt(),wt.push(fr),le(Xe),A===Ye)return hr(H,null);if(A===ln){var At=me();return Wt(),Ss(At,!0),Dt(At,"VariableDeclaration"),At.declarations.length===1&&ne(mi)?Cs(H,At):hr(H,At)}var At=ye(!1,!0);return ne(mi)?(Ii(At),Cs(H,At)):hr(H,At);case Re:return Wt(),pr(H,!0);case on:return Wt(),H.test=$n(),H.consequent=Ue(),H.alternate=ne(ae)?Ue():null,Dt(H,"IfStatement");case De:return!gt&&!T.allowReturnOutsideFunction&&Q(M,"'return' outside of function"),Wt(),ne(Ye)||Pi()?H.argument=null:(H.argument=ye(),Tn()),Dt(H,"ReturnStatement");case Ve:Wt(),H.discriminant=$n(),H.cases=[],le(Dn),wt.push(ku);for(var kt,Gt;A!=Cn;)if(A===Lt||A===se){var je=A===Lt;kt&&Dt(kt,"SwitchCase"),H.cases.push(kt=me()),kt.consequent=[],Wt(),je?kt.test=ye():(Gt&&Q(K,"Multiple default clauses"),Gt=!0,kt.test=null),le(Vn)}else kt||nn(),kt.consequent.push(Ue());return kt&&Dt(kt,"SwitchCase"),Wt(),wt.pop(),Dt(H,"SwitchStatement");case Oe:return Wt(),xi.test(w.slice(et,M))&&Q(et,"Illegal newline after throw"),H.argument=ye(),Tn(),Dt(H,"ThrowStatement");case Le:if(Wt(),H.block=ti(),H.handler=null,A===fe){var On=me();Wt(),le(Xe),On.param=hn(),J&&bi(On.param.name)&&Q(On.param.start,"Binding "+On.param.name+" in strict mode"),le(qe),On.guard=null,On.body=ti(),H.handler=Dt(On,"CatchClause")}return H.guardedHandlers=pt,H.finalizer=ne(Te)?ti():null,!H.handler&&!H.finalizer&&Q(H.start,"Missing catch or finally clause"),Dt(H,"TryStatement");case ln:return Wt(),Ss(H),Tn(),Dt(H,"VariableDeclaration");case He:return Wt(),H.test=$n(),wt.push(fr),H.body=Ue(),wt.pop(),Dt(H,"WhileStatement");case vi:return J&&Q(M,"'with' in strict mode"),Wt(),H.object=$n(),H.body=Ue(),Dt(H,"WithStatement");case Dn:return ti();case Ye:return Wt(),Dt(H,"EmptyStatement");default:var mr=F,Ti=ye();if(R===Tt&&Ti.type==="Identifier"&&ne(Vn)){for(var $=0;$<wt.length;++$)wt[$].name===mr&&Q(Ti.start,"Label '"+mr+"' is already declared");var Vu=A.isLoop?"loop":A===Ve?"switch":null;return wt.push({name:mr,kind:Vu}),H.body=Ue(),wt.pop(),H.label=Ti,Dt(H,"LabeledStatement")}else return H.expression=Ti,Tn(),Dt(H,"ExpressionStatement")}}function $n(){le(Xe);var R=ye();return le(qe),R}function ti(R){var H=me(),G=!0,$=!1,Mt;for(H.body=[],le(Dn);!ne(Cn);){var At=Ue();H.body.push(At),G&&R&&lr(At)&&(Mt=$,or($=!0)),G=!1}return $&&!Mt&&or(!1),Dt(H,"BlockStatement")}function hr(R,H){return R.init=H,le(Ye),R.test=A===Ye?null:ye(),le(Ye),R.update=A===qe?null:ye(),le(qe),R.body=Ue(),wt.pop(),Dt(R,"ForStatement")}function Cs(R,H){return R.left=H,R.right=ye(),le(qe),R.body=Ue(),wt.pop(),Dt(R,"ForInStatement")}function Ss(R,H){for(R.declarations=[],R.kind="var";;){var G=me();if(G.id=hn(),J&&bi(G.id.name)&&Q(G.id.start,"Binding "+G.id.name+" in strict mode"),G.init=ne(ar)?ye(!0,H):null,R.declarations.push(Dt(G,"VariableDeclarator")),!ne(en))break}return R}function ye(R,H){var G=cr(H);if(!R&&A===en){var $=fn(G);for($.expressions=[G];ne(en);)$.expressions.push(cr(H));return Dt($,"SequenceExpression")}return G}function cr(R){var H=Ru(R);if(A.isAssign){var G=fn(H);return G.operator=F,G.left=H,Wt(),G.right=cr(R),Ii(H),Dt(G,"AssignmentExpression")}return H}function Ru(R){var H=Nu(R);if(ne(rr)){var G=fn(H);return G.test=H,G.consequent=ye(!0),le(Vn),G.alternate=ye(!0,R),Dt(G,"ConditionalExpression")}return H}function Nu(R){return dr(_r(),-1,R)}function dr(R,H,G){var $=A.binop;if($!=null&&(!G||A!==mi)&&$>H){var Mt=fn(R);Mt.left=R,Mt.operator=F;var At=A;Wt(),Mt.right=dr(_r(),$,G);var kt=Dt(Mt,At===ls||At===fs?"LogicalExpression":"BinaryExpression");return dr(kt,H,G)}return R}function _r(){if(A.prefix){var R=me(),H=A.isUpdate;return R.operator=F,R.prefix=!0,V=!0,Wt(),R.argument=_r(),H?Ii(R.argument):J&&R.operator==="delete"&&R.argument.type==="Identifier"&&Q(R.start,"Deleting local variable in strict mode"),Dt(R,H?"UpdateExpression":"UnaryExpression")}for(var G=Fu();A.postfix&&!Pi();){var R=fn(G);R.operator=F,R.prefix=!1,R.argument=G,Ii(G),Wt(),G=Dt(R,"UpdateExpression")}return G}function Fu(){return ei(gr())}function ei(R,H){if(ne(ir)){var G=fn(R);return G.object=R,G.property=hn(!0),G.computed=!1,ei(Dt(G,"MemberExpression"),H)}else if(ne(yi)){var G=fn(R);return G.object=R,G.property=ye(),G.computed=!0,le(wi),ei(Dt(G,"MemberExpression"),H)}else if(!H&&ne(Xe)){var G=fn(R);return G.callee=R,G.arguments=vr(qe,!1),ei(Dt(G,"CallExpression"),H)}else return R}function gr(){switch(A){case rs:var $=me();return Wt(),Dt($,"ThisExpression");case Tt:return hn();case xt:case Et:case bt:var $=me();return $.value=F,$.raw=w.slice(M,L),Wt(),Dt($,"Literal");case ss:case as:case us:var $=me();return $.value=A.atomValue,$.raw=A.keyword,Wt(),Dt($,"Literal");case Xe:var R=z,H=M;Wt();var G=ye();return G.start=H,G.end=L,T.locations&&(G.loc.start=R,G.loc.end=D),T.ranges&&(G.range=[H,L]),le(qe),G;case yi:var $=me();return Wt(),$.elements=vr(wi,!0,!0),Dt($,"ArrayExpression");case Dn:return Du();case Re:var $=me();return Wt(),pr($,!1);case is:return Bu();default:nn()}}function Bu(){var R=me();return Wt(),R.callee=ei(gr(),!0),ne(Xe)?R.arguments=vr(qe,!1):R.arguments=pt,Dt(R,"NewExpression")}function Du(){var R=me(),H=!0,G=!1;for(R.properties=[],Wt();!ne(Cn);){if(H)H=!1;else if(le(en),T.allowTrailingCommas&&ne(Cn))break;var $={key:Ps()},Mt=!1,At;if(ne(Vn)?($.value=ye(!0),At=$.kind="init"):T.ecmaVersion>=5&&$.key.type==="Identifier"&&($.key.name==="get"||$.key.name==="set")?(Mt=G=!0,At=$.kind=$.key.name,$.key=Ps(),A!==Xe&&nn(),$.value=pr(me(),!1)):nn(),$.key.type==="Identifier"&&(J||G))for(var kt=0;kt<R.properties.length;++kt){var Gt=R.properties[kt];if(Gt.key.name===$.key.name){var je=At==Gt.kind||Mt&&Gt.kind==="init"||At==="init"&&(Gt.kind==="get"||Gt.kind==="set");je&&!J&&At==="init"&&Gt.kind==="init"&&(je=!1),je&&Q($.key.start,"Redefinition of property")}}R.properties.push($)}return Dt(R,"ObjectExpression")}function Ps(){return A===xt||A===Et?gr():hn(!0)}function pr(R,H){A===Tt?R.id=hn():H?nn():R.id=null,R.params=[];var G=!0;for(le(Xe);!ne(qe);)G?G=!1:le(en),R.params.push(hn());var $=gt,Mt=wt;if(gt=!0,wt=[],R.body=ti(!0),gt=$,wt=Mt,J||R.body.body.length&&lr(R.body.body[0]))for(var At=R.id?-1:0;At<R.params.length;++At){var kt=At<0?R.id:R.params[At];if((cs(kt.name)||bi(kt.name))&&Q(kt.start,"Defining '"+kt.name+"' in strict mode"),At>=0)for(var Gt=0;Gt<At;++Gt)kt.name===R.params[Gt].name&&Q(kt.start,"Argument name clash in strict mode")}return Dt(R,H?"FunctionDeclaration":"FunctionExpression")}function vr(R,H,G){for(var $=[],Mt=!0;!ne(R);){if(Mt)Mt=!1;else if(le(en),H&&T.allowTrailingCommas&&ne(R))break;G&&A===en?$.push(null):$.push(ye(!0))}return $}function hn(R){var H=me();return R&&T.forbidReserved=="everywhere"&&(R=!1),A===Tt?(!R&&(T.forbidReserved&&(T.ecmaVersion===3?gu:pu)(F)||J&&cs(F))&&w.slice(M,L).indexOf("\\")==-1&&Q(M,"The keyword '"+F+"' is reserved"),H.name=F):R&&A.keyword?H.name=A.keyword:nn(),V=!1,Wt(),Dt(H,"Identifier")}}),e.version||(e=null)}function s(b,T){return(t.acorn||e).parse(b,T)}var u={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},l={"-":"__negate","+":"__self"},o=d.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(b){this["__"+b]="#"+b},{__self:function(){return this}});N.inject(o),ct.inject(o),re.inject(o);function h(b,T,w){var C=u[T];if(b&&b[C]){var _=b[C](w);return T==="!="?!_:_}switch(T){case"+":return b+w;case"-":return b-w;case"*":return b*w;case"/":return b/w;case"%":return b%w;case"==":return b==w;case"!=":return b!=w}}function c(b,T){var w=l[b];if(T&&T[w])return T[w]();switch(b){case"+":return+T;case"-":return-T}}function v(b,T){if(!b)return"";T=T||{};var w=[];function C(J){for(var Q=0,pt=w.length;Q<pt;Q++){var xt=w[Q];if(xt[0]>=J)break;J+=xt[1]}return J}function _(J){return b.substring(C(J.range[0]),C(J.range[1]))}function x(J,Q){return b.substring(C(J.range[1]),C(Q.range[0]))}function O(J,Q){for(var pt=C(J.range[0]),xt=C(J.range[1]),bt=0,Et=w.length-1;Et>=0;Et--)if(pt>w[Et][0]){bt=Et+1;break}w.splice(bt,0,[pt,Q.length-xt+pt]),b=b.substring(0,pt)+Q+b.substring(xt)}function E(J,Q){switch(J.type){case"UnaryExpression":if(J.operator in l&&J.argument.type!=="Literal"){var pt=_(J.argument);O(J,'$__("'+J.operator+'", '+pt+")")}break;case"BinaryExpression":if(J.operator in u&&J.left.type!=="Literal"){var xt=_(J.left),bt=_(J.right),Et=x(J.left,J.right),Tt=J.operator;O(J,"__$__("+xt+","+Et.replace(new RegExp("\\"+Tt),'"'+Tt+'"')+", "+bt+")")}break;case"UpdateExpression":case"AssignmentExpression":var zt=Q&&Q.type;if(!(zt==="ForStatement"||zt==="BinaryExpression"&&/^[=!<>]/.test(Q.operator)||zt==="MemberExpression"&&Q.computed)){if(J.type==="UpdateExpression"){var pt=_(J.argument),Nt="__$__("+pt+', "'+J.operator[0]+'", 1)',Lt=pt+" = "+Nt;J.prefix?Lt="("+Lt+")":(zt==="AssignmentExpression"||zt==="VariableDeclarator"||zt==="BinaryExpression")&&(_(Q.left||Q.id)===pt&&(Lt=Nt),Lt=pt+"; "+Lt),O(J,Lt)}else if(/^.=$/.test(J.operator)&&J.left.type!=="Literal"){var xt=_(J.left),bt=_(J.right),Nt=xt+" = __$__("+xt+', "'+J.operator[0]+'", '+bt+")";O(J,/^\(.*\)$/.test(_(J))?"("+Nt+")":Nt)}}break}}function S(J){switch(J.type){case"ExportDefaultDeclaration":O({range:[J.start,J.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var Q=J.declaration,pt=J.specifiers;if(Q){var xt=Q.declarations;xt&&(xt.forEach(function(Et){O(Et,"module.exports."+_(Et))}),O({range:[J.start,Q.start+Q.kind.length]},""))}else if(pt){var bt=pt.map(function(Et){var Tt=_(Et);return"module.exports."+Tt+" = "+Tt+"; "}).join("");bt&&O(J,bt)}break}}function M(J,Q,pt){if(J){for(var xt in J)if(xt!=="range"&&xt!=="loc"){var bt=J[xt];if(Array.isArray(bt))for(var Et=0,Tt=bt.length;Et<Tt;Et++)M(bt[Et],J,pt);else bt&&typeof bt=="object"&&M(bt,J,pt)}pt.operatorOverloading!==!1&&E(J,Q),pt.moduleExports!==!1&&S(J)}}function L(J){var Q="",pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(J=(Math.abs(J)<<1)+(J<0?1:0);J||!Q;){var xt=J&31;J>>=5,J&&(xt|=32),Q+=pt[xt]}return Q}var z=T.url||"",D=T.sourceMaps,A=T.paperFeatures||{},F=T.source||b,V=T.offset||0,j=ot.agent,W=j.versionNumber,K=!1,et=/\r\n|\n|\r/mg,ft;if(D&&(j.chrome&&W>=30||j.webkit&&W>=537.76||j.firefox&&W>=23||j.node)){if(j.node)V-=2;else if(m&&z&&!m.location.href.indexOf(z)){var gt=P.getElementsByTagName("html")[0].innerHTML;V=gt.substr(0,gt.indexOf(b)+1).match(et).length+1}K=V>0&&!(j.chrome&&W>=36||j.safari&&W>=600||j.firefox&&W>=40||j.node);var wt=["AA"+L(K?0:V)+"A"];wt.length=(b.match(et)||[]).length+1+(K?V:0),ft={version:3,file:z,names:[],mappings:wt.join(";AACA"),sourceRoot:"",sources:[z],sourcesContent:[F]}}return(A.operatorOverloading!==!1||A.moduleExports!==!1)&&M(s(b,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,A),ft&&(K&&(b=new Array(V+1).join(`
`)+b),/^(inline|both)$/.test(D)&&(b+=`
//# sourceMappingURL=data:application/json;base64,`+a.btoa(unescape(encodeURIComponent(JSON.stringify(ft))))),b+=`
//# sourceURL=`+(z||"paperscript")),{url:z,source:F,code:b,map:ft}}function y(b,T,w){ot=T;var C=T.getView(),_=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(b)&&!/\bnew\s+Tool\b/.test(b)?new lt:null,x=_?_._events:[],O=["onFrame","onResize"].concat(x),E=[],S=[],M,L=typeof b=="object"?b:v(b,w);b=L.code;function z(W,K){for(var et in W)(K||!/^_/.test(et))&&new RegExp("([\\b\\s\\W]|^)"+et.replace(/\$/g,"\\$")+"\\b").test(b)&&(E.push(et),S.push(W[et]))}z({__$__:h,$__:c,paper:T,tool:_},!0),z(T),b="var module = { exports: {} }; "+b;var V=d.each(O,function(W){new RegExp("\\s+"+W+"\\b").test(b)&&(E.push(W),this.push("module.exports."+W+" = "+W+";"))},[]).join(`
`);V&&(b+=`
`+V),b+=`
return module.exports;`;var D=ot.agent;if(P&&(D.chrome||D.firefox&&D.versionNumber<40)){var A=P.createElement("script"),F=P.head||P.getElementsByTagName("head")[0];D.firefox&&(b=`
`+b),A.appendChild(P.createTextNode("document.__paperscript__ = function("+E+") {"+b+`
}`)),F.appendChild(A),M=P.__paperscript__,delete P.__paperscript__,F.removeChild(A)}else M=Function(E,b);var V=M&&M.apply(T,S),j=V||{};return d.each(x,function(W){var K=j[W];K&&(_[W]=K)}),C&&(j.onResize&&C.setOnResize(j.onResize),C.emit("resize",{size:C.size,delta:new N}),j.onFrame&&C.setOnFrame(j.onFrame),C.requestUpdate()),V}function p(b){if(/^text\/(?:x-|)paperscript$/.test(b.type)&&q.getAttribute(b,"ignore")!=="true"){var T=q.getAttribute(b,"canvas"),w=P.getElementById(T),C=b.src||b.getAttribute("data-src"),_=q.hasAttribute(b,"async"),x="data-paper-scope";if(!w)throw new Error('Unable to find canvas with id "'+T+'"');var O=q.get(w.getAttribute(x))||new q().setup(w);return w.setAttribute(x,O._id),C?vt.request({url:C,async:_,mimeType:"text/plain",onLoad:function(E){y(E,O,C)}}):y(b.innerHTML,O,b.baseURI),b.setAttribute("data-paper-ignore","true"),O}}function g(){d.each(P&&P.getElementsByTagName("script"),p)}function I(b){return b?p(b):g()}return m&&(P.readyState==="complete"?setTimeout(g):Qt.add(m,{load:g})),{compile:v,execute:y,load:I,parse:s,calculateBinary:h,calculateUnary:c}}).call(this);var ot=new(q.inject(d.exports,{Base:d,Numerical:nt,Key:X,DomEvent:Qt,DomElement:te,document:P,window:m,Symbol:Yt,PlacedSymbol:Be}));return ot.agent.node&&ia(ot),typeof f=="function"&&f.amd?f("paper",ot):r&&(r.exports=ot),ot}).call(wf,typeof self=="object"?self:null)})(iu);var If=iu.exports;const de=bf(If);function Tf(r){return{all:r=r||new Map,on:function(a,f){var m=r.get(a);m?m.push(f):r.set(a,[f])},off:function(a,f){var m=r.get(a);m&&(f?m.splice(m.indexOf(f)>>>0,1):r.set(a,[]))},emit:function(a,f){var m=r.get(a);m&&m.slice().map(function(P){P(f)}),(m=r.get("*"))&&m.slice().map(function(P){P(a,f)})}}}const ru=Tf();function Of(r){const a=new Uint8Array(r);let f="";for(let P=0;P<a.length;P++)f+=String.fromCharCode(a[P]);return`data:image/png;base64,${window.btoa(f)}`}const su=window.electronAPI,Ef=()=>{su.sendImage((r,a)=>{ru.emit("image",{base64:Of(a),imageData:a})})},ra=(r,a,f=!1)=>{su.crop({imageBuffer:a,isTop:f,devicePixelRatio:window.devicePixelRatio,x:r.x,y:r.y,width:r.width,height:r.height})},Mf=Kn("canvas",{id:"paper"},null,-1),Af=["title","onClick"],Lf={__name:"App",setup(r){let a,f,m,P,d={0:{x:[0,1,2],y:[0,6,7],xHalf:[3,7],yHalf:[1,5],cursor:"ne-resize"},1:{x:[1,0,2],y:[],xHalf:[3,7],yHalf:[],cursor:"ew-resize"},2:{x:[2,0,1],y:[2,3,4],xHalf:[3,7],yHalf:[1,5],cursor:"nw-resize"},3:{x:[],y:[3,2,4],xHalf:[],yHalf:[1,5],cursor:"ns-resize"},4:{x:[4,5,6],y:[4,2,3],xHalf:[3,7],yHalf:[1,5],cursor:"ne-resize"},5:{x:[5,4,6],y:[],xHalf:[3,7],yHalf:[],cursor:"ew-resize"},6:{x:[6,4,5],y:[6,0,7],xHalf:[3,7],yHalf:[1,5],cursor:"nw-resize"},7:{x:[],y:[7,0,6],xHalf:[],yHalf:[1,5],cursor:"ns-resize"}};const k=br({x:0,y:0}),q=br(!1),Z=br(null),tt=[{icon:"icon-guding",title:"置顶",func:()=>{ra(f.bounds,P,!0)}},{icon:"icon-ai210",title:"完成",func:()=>{ra(f.bounds,P)}}],Y=Ot=>{let ht=Ot.bounds.topLeft,Rt=`${Ot.bounds.width}x${Ot.bounds.height}`,mt=16;a&&a.remove(),a=new de.PointText({point:[ht.x,ht.y-mt],content:Rt,fillColor:"white",fontSize:mt})},nt=Ot=>{let ht=Ot.segments,Rt=ht[0].point,mt=ht[2].point,It=ht[1].point,qt=ht[3].point,_t=new de.Point((Rt.x+It.x)/2,(Rt.y+It.y)/2),Kt=new de.Point((mt.x+It.x)/2,(mt.y+It.y)/2),oe=new de.Point((Rt.x+qt.x)/2,(Rt.y+qt.y)/2),ie=new de.Point((mt.x+qt.x)/2,(mt.y+qt.y)/2);Ot.insert(1,_t),Ot.insert(3,Kt),Ot.insert(5,ie),Ot.insert(7,oe)},Ct=Ot=>{const Rt=new de.Color(0,0,1);return new de.Path.Rectangle({from:[Ot.x-6/2,Ot.y-6/2],to:[Ot.x+6/2,Ot.y+6/2],fillColor:Rt})},N=Ot=>{let ht=Ot.bounds.bottomRight,Rt=Z.value.getClientRects()[0].width,mt=Z.value.getClientRects()[0].height,It=0,qt=0,_t=document.documentElement.clientHeight,Kt=ht.y;qt=_t-Kt<mt?ht.y-mt:ht.y,It=Ot.bounds.right-Rt,Ot.bounds.left<Rt&&(It=Ot.bounds.left),k.value={x:It,y:qt}},Ht=Ot=>{q.value=!0,Ta(N.bind(null,Ot))},ct=()=>{let Ot,ht=new de.Tool;ht.onMouseDown=function(Rt){Ot=Rt.point,f=new de.Path.Rectangle({from:Rt.point,to:Rt.point,strokeColor:"blue"})},ht.onMouseDrag=function(Rt){f.remove(),f=new de.Path.Rectangle({from:Ot,to:Rt.point,strokeColor:"blue",strokeWidth:1}),Y(f)},ht.onMouseUp=function(Rt){if(f.bounds.width<3||f.bounds.height<3){a.remove(),f.remove();return}ht.remove(),Ht(f),nt(f),f.fillColor=new de.Color(0,0,1,1e-8),f.onMouseDrag=It=>{document.body.style.cursor="move";let qt=It.delta;f.position.x+=qt.x,f.position.y+=qt.y,f.bounds.topLeft.x<=0?f.position.x=f.bounds.width/2+1:f.bounds.topLeft.y<=0?f.position.y=f.bounds.height/2+1:f.bounds.bottomRight.x>=de.view.bounds.width?f.position.x=de.view.bounds.width-f.bounds.width/2-1:f.bounds.bottomRight.y>=de.view.bounds.height&&(f.position.y=de.view.bounds.height-f.bounds.height/2-1),mt.forEach(_t=>{_t.controlPoint.position=_t.segment.point,_t.controlPoint.position=_t.segment.point}),Y(f),N(f)},f.onMouseEnter=()=>{document.body.style.cursor="move"},f.onMouseLeave=()=>{document.body.style.cursor="default"};let mt=[];f.segments.forEach((It,qt)=>{let _t=Ct(It.point);mt.push({index:qt,controlPoint:_t,segment:It})}),mt.forEach((It,qt)=>{It.controlPoint.onMouseDrag=_t=>{let Kt=_t.delta,{x:oe,y:ie,xHalf:be,yHalf:Be}=d[qt];oe.forEach(Yt=>{mt[Yt].controlPoint.position.x+=Kt.x,mt[Yt].segment.point.x+=Kt.x}),ie.forEach(Yt=>{mt[Yt].controlPoint.position.y+=Kt.y,mt[Yt].segment.point.y+=Kt.y}),be.forEach(Yt=>{mt[Yt].controlPoint.position.x+=Kt.x/2,mt[Yt].segment.point.x+=Kt.x/2}),Be.forEach(Yt=>{mt[Yt].controlPoint.position.y+=Kt.y/2,mt[Yt].segment.point.y+=Kt.y/2}),Y(f),N(f),document.body.style.cursor=d[qt].cursor},It.controlPoint.onMouseEnter=()=>{document.body.style.cursor=d[qt].cursor},It.controlPoint.onMouseLeave=()=>{document.body.style.cursor="default"}})}};return ru.on("image",async({base64:Ot,imageData:ht})=>{console.log("imageData",Ot),de.project.clear(),P=ht,m=new de.Raster(Ot),m.onLoad=()=>{m.fitBounds(de.view.bounds),ct()}}),Ra(async()=>{de.setup("paper"),Ef()}),(Ot,ht)=>(qs(),js(Ze,null,[Mf,Bo(Kn("div",{class:"toolBar",style:Zi({left:k.value.x+"px",top:k.value.y+"px"}),ref_key:"toolBarRef",ref:Z},[(qs(),js(Ze,null,Yo(tt,Rt=>Kn("div",{class:"toolBar-item",title:Rt.title,onClick:Rt.func},[Kn("span",{class:Ki("ksdhy "+Rt.icon)},null,2)],8,Af)),64))],4),[[Ql,q.value]])],64))}};vf(Lf).mount("#app");
//# sourceMappingURL=index-DeL3MQsb.js.map
