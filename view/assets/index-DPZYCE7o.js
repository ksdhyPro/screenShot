(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))m(S);new MutationObserver(S=>{for(const d of S)if(d.type==="childList")for(const k of d.addedNodes)k.tagName==="LINK"&&k.rel==="modulepreload"&&m(k)}).observe(document,{childList:!0,subtree:!0});function f(S){const d={};return S.integrity&&(d.integrity=S.integrity),S.referrerPolicy&&(d.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?d.credentials="include":S.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function m(S){if(S.ep)return;S.ep=!0;const d=f(S);fetch(S.href,d)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Hr(r,a){const f=new Set(r.split(","));return m=>f.has(m)}const ne={},Kn=[],Be=()=>{},Ju=()=>!1,Wi=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),qr=r=>r.startsWith("onUpdate:"),Oe=Object.assign,Ur=(r,a)=>{const f=r.indexOf(a);f>-1&&r.splice(f,1)},Xu=Object.prototype.hasOwnProperty,Kt=(r,a)=>Xu.call(r,a),kt=Array.isArray,Gn=r=>Zi(r)==="[object Map]",aa=r=>Zi(r)==="[object Set]",Nt=r=>typeof r=="function",_e=r=>typeof r=="string",wn=r=>typeof r=="symbol",se=r=>r!==null&&typeof r=="object",ua=r=>(se(r)||Nt(r))&&Nt(r.then)&&Nt(r.catch),oa=Object.prototype.toString,Zi=r=>oa.call(r),Yu=r=>Zi(r).slice(8,-1),la=r=>Zi(r)==="[object Object]",jr=r=>_e(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,oi=Hr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ki=r=>{const a=Object.create(null);return f=>a[f]||(a[f]=r(f))},$u=/-(\w)/g,Bn=Ki(r=>r.replace($u,(a,f)=>f?f.toUpperCase():"")),Qu=/\B([A-Z])/g,Vn=Ki(r=>r.replace(Qu,"-$1").toLowerCase()),fa=Ki(r=>r.charAt(0).toUpperCase()+r.slice(1)),wr=Ki(r=>r?`on${fa(r)}`:""),yn=(r,a)=>!Object.is(r,a),br=(r,...a)=>{for(let f=0;f<r.length;f++)r[f](...a)},ha=(r,a,f,m=!1)=>{Object.defineProperty(r,a,{configurable:!0,enumerable:!1,writable:m,value:f})},to=r=>{const a=parseFloat(r);return isNaN(a)?r:a};let Ts;const ca=()=>Ts||(Ts=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Jn(r){if(kt(r)){const a={};for(let f=0;f<r.length;f++){const m=r[f],S=_e(m)?ro(m):Jn(m);if(S)for(const d in S)a[d]=S[d]}return a}else if(_e(r)||se(r))return r}const eo=/;(?![^(]*\))/g,no=/:([^]+)/,io=/\/\*[^]*?\*\//g;function ro(r){const a={};return r.replace(io,"").split(eo).forEach(f=>{if(f){const m=f.split(no);m.length>1&&(a[m[0].trim()]=m[1].trim())}}),a}function Gi(r){let a="";if(_e(r))a=r;else if(kt(r))for(let f=0;f<r.length;f++){const m=Gi(r[f]);m&&(a+=m+" ")}else if(se(r))for(const f in r)r[f]&&(a+=f+" ");return a.trim()}const so="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ao=Hr(so);function da(r){return!!r||r===""}const _a=r=>!!(r&&r.__v_isRef===!0),ga=r=>_e(r)?r:r==null?"":kt(r)||se(r)&&(r.toString===oa||!Nt(r.toString))?_a(r)?ga(r.value):JSON.stringify(r,pa,2):String(r),pa=(r,a)=>_a(a)?pa(r,a.value):Gn(a)?{[`Map(${a.size})`]:[...a.entries()].reduce((f,[m,S],d)=>(f[xr(m,d)+" =>"]=S,f),{})}:aa(a)?{[`Set(${a.size})`]:[...a.values()].map(f=>xr(f))}:wn(a)?xr(a):se(a)&&!kt(a)&&!la(a)?String(a):a,xr=(r,a="")=>{var f;return wn(r)?`Symbol(${(f=r.description)!=null?f:a})`:r};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ze;class uo{constructor(a=!1){this.detached=a,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ze,!a&&Ze&&(this.index=(Ze.scopes||(Ze.scopes=[])).push(this)-1)}get active(){return this._active}run(a){if(this._active){const f=Ze;try{return Ze=this,a()}finally{Ze=f}}}on(){Ze=this}off(){Ze=this.parent}stop(a){if(this._active){let f,m;for(f=0,m=this.effects.length;f<m;f++)this.effects[f].stop();for(f=0,m=this.cleanups.length;f<m;f++)this.cleanups[f]();if(this.scopes)for(f=0,m=this.scopes.length;f<m;f++)this.scopes[f].stop(!0);if(!this.detached&&this.parent&&!a){const S=this.parent.scopes.pop();S&&S!==this&&(this.parent.scopes[this.index]=S,S.index=this.index)}this.parent=void 0,this._active=!1}}}function oo(r,a=Ze){a&&a.active&&a.effects.push(r)}function lo(){return Ze}let Rn;class Wr{constructor(a,f,m,S){this.fn=a,this.trigger=f,this.scheduler=m,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,oo(this,S)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,bn();for(let a=0;a<this._depsLength;a++){const f=this.deps[a];if(f.computed&&(fo(f.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),xn()}return this._dirtyLevel>=4}set dirty(a){this._dirtyLevel=a?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let a=vn,f=Rn;try{return vn=!0,Rn=this,this._runnings++,Os(this),this.fn()}finally{Es(this),this._runnings--,Rn=f,vn=a}}stop(){this.active&&(Os(this),Es(this),this.onStop&&this.onStop(),this.active=!1)}}function fo(r){return r.value}function Os(r){r._trackId++,r._depsLength=0}function Es(r){if(r.deps.length>r._depsLength){for(let a=r._depsLength;a<r.deps.length;a++)va(r.deps[a],r);r.deps.length=r._depsLength}}function va(r,a){const f=r.get(a);f!==void 0&&a._trackId!==f&&(r.delete(a),r.size===0&&r.cleanup())}let vn=!0,Mr=0;const ma=[];function bn(){ma.push(vn),vn=!1}function xn(){const r=ma.pop();vn=r===void 0?!0:r}function Zr(){Mr++}function Kr(){for(Mr--;!Mr&&Ar.length;)Ar.shift()()}function ya(r,a,f){if(a.get(r)!==r._trackId){a.set(r,r._trackId);const m=r.deps[r._depsLength];m!==a?(m&&va(m,r),r.deps[r._depsLength++]=a):r._depsLength++}}const Ar=[];function wa(r,a,f){Zr();for(const m of r.keys()){let S;m._dirtyLevel<a&&(S??(S=r.get(m)===m._trackId))&&(m._shouldSchedule||(m._shouldSchedule=m._dirtyLevel===0),m._dirtyLevel=a),m._shouldSchedule&&(S??(S=r.get(m)===m._trackId))&&(m.trigger(),(!m._runnings||m.allowRecurse)&&m._dirtyLevel!==2&&(m._shouldSchedule=!1,m.scheduler&&Ar.push(m.scheduler)))}Kr()}const ba=(r,a)=>{const f=new Map;return f.cleanup=r,f.computed=a,f},Lr=new WeakMap,Nn=Symbol(""),zr=Symbol("");function Le(r,a,f){if(vn&&Rn){let m=Lr.get(r);m||Lr.set(r,m=new Map);let S=m.get(f);S||m.set(f,S=ba(()=>m.delete(f))),ya(Rn,S)}}function an(r,a,f,m,S,d){const k=Lr.get(r);if(!k)return;let q=[];if(a==="clear")q=[...k.values()];else if(f==="length"&&kt(r)){const Z=Number(m);k.forEach((tt,Y)=>{(Y==="length"||!wn(Y)&&Y>=Z)&&q.push(tt)})}else switch(f!==void 0&&q.push(k.get(f)),a){case"add":kt(r)?jr(f)&&q.push(k.get("length")):(q.push(k.get(Nn)),Gn(r)&&q.push(k.get(zr)));break;case"delete":kt(r)||(q.push(k.get(Nn)),Gn(r)&&q.push(k.get(zr)));break;case"set":Gn(r)&&q.push(k.get(Nn));break}Zr();for(const Z of q)Z&&wa(Z,4);Kr()}const ho=Hr("__proto__,__v_isRef,__isVue"),xa=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(wn)),Ms=co();function co(){const r={};return["includes","indexOf","lastIndexOf"].forEach(a=>{r[a]=function(...f){const m=Jt(this);for(let d=0,k=this.length;d<k;d++)Le(m,"get",d+"");const S=m[a](...f);return S===-1||S===!1?m[a](...f.map(Jt)):S}}),["push","pop","shift","unshift","splice"].forEach(a=>{r[a]=function(...f){bn(),Zr();const m=Jt(this)[a].apply(this,f);return Kr(),xn(),m}}),r}function _o(r){wn(r)||(r=String(r));const a=Jt(this);return Le(a,"has",r),a.hasOwnProperty(r)}class Ca{constructor(a=!1,f=!1){this._isReadonly=a,this._isShallow=f}get(a,f,m){const S=this._isReadonly,d=this._isShallow;if(f==="__v_isReactive")return!S;if(f==="__v_isReadonly")return S;if(f==="__v_isShallow")return d;if(f==="__v_raw")return m===(S?d?To:Ta:d?Ia:Pa).get(a)||Object.getPrototypeOf(a)===Object.getPrototypeOf(m)?a:void 0;const k=kt(a);if(!S){if(k&&Kt(Ms,f))return Reflect.get(Ms,f,m);if(f==="hasOwnProperty")return _o}const q=Reflect.get(a,f,m);return(wn(f)?xa.has(f):ho(f))||(S||Le(a,"get",f),d)?q:ze(q)?k&&jr(f)?q:q.value:se(q)?S?Oa(q):Xr(q):q}}class Sa extends Ca{constructor(a=!1){super(!1,a)}set(a,f,m,S){let d=a[f];if(!this._isShallow){const Z=Dn(d);if(!$n(m)&&!Dn(m)&&(d=Jt(d),m=Jt(m)),!kt(a)&&ze(d)&&!ze(m))return Z?!1:(d.value=m,!0)}const k=kt(a)&&jr(f)?Number(f)<a.length:Kt(a,f),q=Reflect.set(a,f,m,S);return a===Jt(S)&&(k?yn(m,d)&&an(a,"set",f,m):an(a,"add",f,m)),q}deleteProperty(a,f){const m=Kt(a,f);a[f];const S=Reflect.deleteProperty(a,f);return S&&m&&an(a,"delete",f,void 0),S}has(a,f){const m=Reflect.has(a,f);return(!wn(f)||!xa.has(f))&&Le(a,"has",f),m}ownKeys(a){return Le(a,"iterate",kt(a)?"length":Nn),Reflect.ownKeys(a)}}class go extends Ca{constructor(a=!1){super(!0,a)}set(a,f){return!0}deleteProperty(a,f){return!0}}const po=new Sa,vo=new go,mo=new Sa(!0);const Gr=r=>r,Ji=r=>Reflect.getPrototypeOf(r);function Mi(r,a,f=!1,m=!1){r=r.__v_raw;const S=Jt(r),d=Jt(a);f||(yn(a,d)&&Le(S,"get",a),Le(S,"get",d));const{has:k}=Ji(S),q=m?Gr:f?$r:ci;if(k.call(S,a))return q(r.get(a));if(k.call(S,d))return q(r.get(d));r!==S&&r.get(a)}function Ai(r,a=!1){const f=this.__v_raw,m=Jt(f),S=Jt(r);return a||(yn(r,S)&&Le(m,"has",r),Le(m,"has",S)),r===S?f.has(r):f.has(r)||f.has(S)}function Li(r,a=!1){return r=r.__v_raw,!a&&Le(Jt(r),"iterate",Nn),Reflect.get(r,"size",r)}function As(r,a=!1){!a&&!$n(r)&&!Dn(r)&&(r=Jt(r));const f=Jt(this);return Ji(f).has.call(f,r)||(f.add(r),an(f,"add",r,r)),this}function Ls(r,a,f=!1){!f&&!$n(a)&&!Dn(a)&&(a=Jt(a));const m=Jt(this),{has:S,get:d}=Ji(m);let k=S.call(m,r);k||(r=Jt(r),k=S.call(m,r));const q=d.call(m,r);return m.set(r,a),k?yn(a,q)&&an(m,"set",r,a):an(m,"add",r,a),this}function zs(r){const a=Jt(this),{has:f,get:m}=Ji(a);let S=f.call(a,r);S||(r=Jt(r),S=f.call(a,r)),m&&m.call(a,r);const d=a.delete(r);return S&&an(a,"delete",r,void 0),d}function ks(){const r=Jt(this),a=r.size!==0,f=r.clear();return a&&an(r,"clear",void 0,void 0),f}function zi(r,a){return function(m,S){const d=this,k=d.__v_raw,q=Jt(k),Z=a?Gr:r?$r:ci;return!r&&Le(q,"iterate",Nn),k.forEach((tt,Y)=>m.call(S,Z(tt),Z(Y),d))}}function ki(r,a,f){return function(...m){const S=this.__v_raw,d=Jt(S),k=Gn(d),q=r==="entries"||r===Symbol.iterator&&k,Z=r==="keys"&&k,tt=S[r](...m),Y=f?Gr:a?$r:ci;return!a&&Le(d,"iterate",Z?zr:Nn),{next(){const{value:et,done:Ct}=tt.next();return Ct?{value:et,done:Ct}:{value:q?[Y(et[0]),Y(et[1])]:Y(et),done:Ct}},[Symbol.iterator](){return this}}}}function dn(r){return function(...a){return r==="delete"?!1:r==="clear"?void 0:this}}function yo(){const r={get(d){return Mi(this,d)},get size(){return Li(this)},has:Ai,add:As,set:Ls,delete:zs,clear:ks,forEach:zi(!1,!1)},a={get(d){return Mi(this,d,!1,!0)},get size(){return Li(this)},has:Ai,add(d){return As.call(this,d,!0)},set(d,k){return Ls.call(this,d,k,!0)},delete:zs,clear:ks,forEach:zi(!1,!0)},f={get(d){return Mi(this,d,!0)},get size(){return Li(this,!0)},has(d){return Ai.call(this,d,!0)},add:dn("add"),set:dn("set"),delete:dn("delete"),clear:dn("clear"),forEach:zi(!0,!1)},m={get(d){return Mi(this,d,!0,!0)},get size(){return Li(this,!0)},has(d){return Ai.call(this,d,!0)},add:dn("add"),set:dn("set"),delete:dn("delete"),clear:dn("clear"),forEach:zi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{r[d]=ki(d,!1,!1),f[d]=ki(d,!0,!1),a[d]=ki(d,!1,!0),m[d]=ki(d,!0,!0)}),[r,f,a,m]}const[wo,bo,xo,Co]=yo();function Jr(r,a){const f=a?r?Co:xo:r?bo:wo;return(m,S,d)=>S==="__v_isReactive"?!r:S==="__v_isReadonly"?r:S==="__v_raw"?m:Reflect.get(Kt(f,S)&&S in m?f:m,S,d)}const So={get:Jr(!1,!1)},Po={get:Jr(!1,!0)},Io={get:Jr(!0,!1)};const Pa=new WeakMap,Ia=new WeakMap,Ta=new WeakMap,To=new WeakMap;function Oo(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Eo(r){return r.__v_skip||!Object.isExtensible(r)?0:Oo(Yu(r))}function Xr(r){return Dn(r)?r:Yr(r,!1,po,So,Pa)}function Mo(r){return Yr(r,!1,mo,Po,Ia)}function Oa(r){return Yr(r,!0,vo,Io,Ta)}function Yr(r,a,f,m,S){if(!se(r)||r.__v_raw&&!(a&&r.__v_isReactive))return r;const d=S.get(r);if(d)return d;const k=Eo(r);if(k===0)return r;const q=new Proxy(r,k===2?m:f);return S.set(r,q),q}function li(r){return Dn(r)?li(r.__v_raw):!!(r&&r.__v_isReactive)}function Dn(r){return!!(r&&r.__v_isReadonly)}function $n(r){return!!(r&&r.__v_isShallow)}function Ea(r){return r?!!r.__v_raw:!1}function Jt(r){const a=r&&r.__v_raw;return a?Jt(a):r}function Ao(r){return Object.isExtensible(r)&&ha(r,"__v_skip",!0),r}const ci=r=>se(r)?Xr(r):r,$r=r=>se(r)?Oa(r):r;class Ma{constructor(a,f,m,S){this.getter=a,this._setter=f,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Wr(()=>a(this._value),()=>Ni(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!S,this.__v_isReadonly=m}get value(){const a=Jt(this);return(!a._cacheable||a.effect.dirty)&&yn(a._value,a._value=a.effect.run())&&Ni(a,4),Aa(a),a.effect._dirtyLevel>=2&&Ni(a,2),a._value}set value(a){this._setter(a)}get _dirty(){return this.effect.dirty}set _dirty(a){this.effect.dirty=a}}function Lo(r,a,f=!1){let m,S;const d=Nt(r);return d?(m=r,S=Be):(m=r.get,S=r.set),new Ma(m,S,d||!S,f)}function Aa(r){var a;vn&&Rn&&(r=Jt(r),ya(Rn,(a=r.dep)!=null?a:r.dep=ba(()=>r.dep=void 0,r instanceof Ma?r:void 0)))}function Ni(r,a=4,f,m){r=Jt(r);const S=r.dep;S&&wa(S,a)}function ze(r){return!!(r&&r.__v_isRef===!0)}function Zn(r){return zo(r,!1)}function zo(r,a){return ze(r)?r:new ko(r,a)}class ko{constructor(a,f){this.__v_isShallow=f,this.dep=void 0,this.__v_isRef=!0,this._rawValue=f?a:Jt(a),this._value=f?a:ci(a)}get value(){return Aa(this),this._value}set value(a){const f=this.__v_isShallow||$n(a)||Dn(a);a=f?a:Jt(a),yn(a,this._rawValue)&&(this._rawValue,this._rawValue=a,this._value=f?a:ci(a),Ni(this,4))}}function La(r){return ze(r)?r.value:r}const Ro={get:(r,a,f)=>La(Reflect.get(r,a,f)),set:(r,a,f,m)=>{const S=r[a];return ze(S)&&!ze(f)?(S.value=f,!0):Reflect.set(r,a,f,m)}};function za(r){return li(r)?r:new Proxy(r,Ro)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function mn(r,a,f,m){try{return m?r(...m):r()}catch(S){Xi(S,a,f)}}function Ge(r,a,f,m){if(Nt(r)){const S=mn(r,a,f,m);return S&&ua(S)&&S.catch(d=>{Xi(d,a,f)}),S}if(kt(r)){const S=[];for(let d=0;d<r.length;d++)S.push(Ge(r[d],a,f,m));return S}}function Xi(r,a,f,m=!0){const S=a?a.vnode:null;if(a){let d=a.parent;const k=a.proxy,q=`https://vuejs.org/error-reference/#runtime-${f}`;for(;d;){const tt=d.ec;if(tt){for(let Y=0;Y<tt.length;Y++)if(tt[Y](r,k,q)===!1)return}d=d.parent}const Z=a.appContext.config.errorHandler;if(Z){bn(),mn(Z,null,10,[r,k,q]),xn();return}}No(r,f,S,m)}function No(r,a,f,m=!0){console.error(r)}let di=!1,kr=!1;const Ce=[];let en=0;const Xn=[];let _n=null,zn=0;const ka=Promise.resolve();let Qr=null;function Ra(r){const a=Qr||ka;return r?a.then(this?r.bind(this):r):a}function Fo(r){let a=en+1,f=Ce.length;for(;a<f;){const m=a+f>>>1,S=Ce[m],d=_i(S);d<r||d===r&&S.pre?a=m+1:f=m}return a}function ts(r){(!Ce.length||!Ce.includes(r,di&&r.allowRecurse?en+1:en))&&(r.id==null?Ce.push(r):Ce.splice(Fo(r.id),0,r),Na())}function Na(){!di&&!kr&&(kr=!0,Qr=ka.then(Ba))}function Bo(r){const a=Ce.indexOf(r);a>en&&Ce.splice(a,1)}function Do(r){kt(r)?Xn.push(...r):(!_n||!_n.includes(r,r.allowRecurse?zn+1:zn))&&Xn.push(r),Na()}function Rs(r,a,f=di?en+1:0){for(;f<Ce.length;f++){const m=Ce[f];if(m&&m.pre){if(r&&m.id!==r.uid)continue;Ce.splice(f,1),f--,m()}}}function Fa(r){if(Xn.length){const a=[...new Set(Xn)].sort((f,m)=>_i(f)-_i(m));if(Xn.length=0,_n){_n.push(...a);return}for(_n=a,zn=0;zn<_n.length;zn++){const f=_n[zn];f.active!==!1&&f()}_n=null,zn=0}}const _i=r=>r.id==null?1/0:r.id,Vo=(r,a)=>{const f=_i(r)-_i(a);if(f===0){if(r.pre&&!a.pre)return-1;if(a.pre&&!r.pre)return 1}return f};function Ba(r){kr=!1,di=!0,Ce.sort(Vo);try{for(en=0;en<Ce.length;en++){const a=Ce[en];a&&a.active!==!1&&mn(a,a.i,a.i?15:14)}}finally{en=0,Ce.length=0,Fa(),di=!1,Qr=null,(Ce.length||Xn.length)&&Ba()}}let De=null,Da=null;function Hi(r){const a=De;return De=r,Da=r&&r.type.__scopeId||null,a}function Ho(r,a=De,f){if(!a||r._n)return r;const m=(...S)=>{m._d&&js(-1);const d=Hi(a);let k;try{k=r(...S)}finally{Hi(d),m._d&&js(1)}return k};return m._n=!0,m._c=!0,m._d=!0,m}function qo(r,a){if(De===null)return r;const f=er(De),m=r.dirs||(r.dirs=[]);for(let S=0;S<a.length;S++){let[d,k,q,Z=ne]=a[S];d&&(Nt(d)&&(d={mounted:d,updated:d}),d.deep&&pn(k),m.push({dir:d,instance:f,value:k,oldValue:void 0,arg:q,modifiers:Z}))}return r}function An(r,a,f,m){const S=r.dirs,d=a&&a.dirs;for(let k=0;k<S.length;k++){const q=S[k];d&&(q.oldValue=d[k].value);let Z=q.dir[m];Z&&(bn(),Ge(Z,f,8,[r.el,q,r,a]),xn())}}function Va(r,a){r.shapeFlag&6&&r.component?Va(r.component.subTree,a):r.shapeFlag&128?(r.ssContent.transition=a.clone(r.ssContent),r.ssFallback.transition=a.clone(r.ssFallback)):r.transition=a}const Fi=r=>!!r.type.__asyncLoader,Ha=r=>r.type.__isKeepAlive;function Uo(r,a){qa(r,"a",a)}function jo(r,a){qa(r,"da",a)}function qa(r,a,f=Te){const m=r.__wdc||(r.__wdc=()=>{let S=f;for(;S;){if(S.isDeactivated)return;S=S.parent}return r()});if(Yi(a,m,f),f){let S=f.parent;for(;S&&S.parent;)Ha(S.parent.vnode)&&Wo(m,a,f,S),S=S.parent}}function Wo(r,a,f,m){const S=Yi(a,r,m,!0);ja(()=>{Ur(m[a],S)},f)}function Yi(r,a,f=Te,m=!1){if(f){const S=f[r]||(f[r]=[]),d=a.__weh||(a.__weh=(...k)=>{bn();const q=vi(f),Z=Ge(a,f,r,k);return q(),xn(),Z});return m?S.unshift(d):S.push(d),d}}const un=r=>(a,f=Te)=>{(!tr||r==="sp")&&Yi(r,(...m)=>a(...m),f)},Zo=un("bm"),Ua=un("m"),Ko=un("bu"),Go=un("u"),Jo=un("bum"),ja=un("um"),Xo=un("sp"),Yo=un("rtg"),$o=un("rtc");function Qo(r,a=Te){Yi("ec",r,a)}const tl=Symbol.for("v-ndc");function el(r,a,f,m){let S;const d=f;if(kt(r)||_e(r)){S=new Array(r.length);for(let k=0,q=r.length;k<q;k++)S[k]=a(r[k],k,void 0,d)}else if(typeof r=="number"){S=new Array(r);for(let k=0;k<r;k++)S[k]=a(k+1,k,void 0,d)}else if(se(r))if(r[Symbol.iterator])S=Array.from(r,(k,q)=>a(k,q,void 0,d));else{const k=Object.keys(r);S=new Array(k.length);for(let q=0,Z=k.length;q<Z;q++){const tt=k[q];S[q]=a(r[tt],tt,q,d)}}else S=[];return S}const Rr=r=>r?ou(r)?er(r):Rr(r.parent):null,fi=Oe(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Rr(r.parent),$root:r=>Rr(r.root),$emit:r=>r.emit,$options:r=>es(r),$forceUpdate:r=>r.f||(r.f=()=>{r.effect.dirty=!0,ts(r.update)}),$nextTick:r=>r.n||(r.n=Ra.bind(r.proxy)),$watch:r=>Pl.bind(r)}),Cr=(r,a)=>r!==ne&&!r.__isScriptSetup&&Kt(r,a),nl={get({_:r},a){if(a==="__v_skip")return!0;const{ctx:f,setupState:m,data:S,props:d,accessCache:k,type:q,appContext:Z}=r;let tt;if(a[0]!=="$"){const F=k[a];if(F!==void 0)switch(F){case 1:return m[a];case 2:return S[a];case 4:return f[a];case 3:return d[a]}else{if(Cr(m,a))return k[a]=1,m[a];if(S!==ne&&Kt(S,a))return k[a]=2,S[a];if((tt=r.propsOptions[0])&&Kt(tt,a))return k[a]=3,d[a];if(f!==ne&&Kt(f,a))return k[a]=4,f[a];Nr&&(k[a]=0)}}const Y=fi[a];let et,Ct;if(Y)return a==="$attrs"&&Le(r.attrs,"get",""),Y(r);if((et=q.__cssModules)&&(et=et[a]))return et;if(f!==ne&&Kt(f,a))return k[a]=4,f[a];if(Ct=Z.config.globalProperties,Kt(Ct,a))return Ct[a]},set({_:r},a,f){const{data:m,setupState:S,ctx:d}=r;return Cr(S,a)?(S[a]=f,!0):m!==ne&&Kt(m,a)?(m[a]=f,!0):Kt(r.props,a)||a[0]==="$"&&a.slice(1)in r?!1:(d[a]=f,!0)},has({_:{data:r,setupState:a,accessCache:f,ctx:m,appContext:S,propsOptions:d}},k){let q;return!!f[k]||r!==ne&&Kt(r,k)||Cr(a,k)||(q=d[0])&&Kt(q,k)||Kt(m,k)||Kt(fi,k)||Kt(S.config.globalProperties,k)},defineProperty(r,a,f){return f.get!=null?r._.accessCache[a]=0:Kt(f,"value")&&this.set(r,a,f.value,null),Reflect.defineProperty(r,a,f)}};function Ns(r){return kt(r)?r.reduce((a,f)=>(a[f]=null,a),{}):r}let Nr=!0;function il(r){const a=es(r),f=r.proxy,m=r.ctx;Nr=!1,a.beforeCreate&&Fs(a.beforeCreate,r,"bc");const{data:S,computed:d,methods:k,watch:q,provide:Z,inject:tt,created:Y,beforeMount:et,mounted:Ct,beforeUpdate:F,updated:Ht,activated:ct,deactivated:te,beforeDestroy:vt,beforeUnmount:ie,destroyed:St,unmounted:xt,render:Ft,renderTracked:it,renderTriggered:Vt,errorCaptured:qt,serverPrefetch:Ut,expose:Yt,inheritAttrs:Se,components:ye,directives:ge,filters:Pt}=a;if(tt&&rl(tt,m,null),k)for(const jt in k){const Wt=k[jt];Nt(Wt)&&(m[jt]=Wt.bind(f))}if(S){const jt=S.call(f,f);se(jt)&&(r.data=Xr(jt))}if(Nr=!0,d)for(const jt in d){const Wt=d[jt],Bt=Nt(Wt)?Wt.bind(f,f):Nt(Wt.get)?Wt.get.bind(f,f):Be,Pe=!Nt(Wt)&&Nt(Wt.set)?Wt.set.bind(f):Be,Je=Jl({get:Bt,set:Pe});Object.defineProperty(m,jt,{enumerable:!0,configurable:!0,get:()=>Je.value,set:Ne=>Je.value=Ne})}if(q)for(const jt in q)Wa(q[jt],m,f,jt);if(Z){const jt=Nt(Z)?Z.call(f):Z;Reflect.ownKeys(jt).forEach(Wt=>{fl(Wt,jt[Wt])})}Y&&Fs(Y,r,"c");function at(jt,Wt){kt(Wt)?Wt.forEach(Bt=>jt(Bt.bind(f))):Wt&&jt(Wt.bind(f))}if(at(Zo,et),at(Ua,Ct),at(Ko,F),at(Go,Ht),at(Uo,ct),at(jo,te),at(Qo,qt),at($o,it),at(Yo,Vt),at(Jo,ie),at(ja,xt),at(Xo,Ut),kt(Yt))if(Yt.length){const jt=r.exposed||(r.exposed={});Yt.forEach(Wt=>{Object.defineProperty(jt,Wt,{get:()=>f[Wt],set:Bt=>f[Wt]=Bt})})}else r.exposed||(r.exposed={});Ft&&r.render===Be&&(r.render=Ft),Se!=null&&(r.inheritAttrs=Se),ye&&(r.components=ye),ge&&(r.directives=ge)}function rl(r,a,f=Be){kt(r)&&(r=Fr(r));for(const m in r){const S=r[m];let d;se(S)?"default"in S?d=Bi(S.from||m,S.default,!0):d=Bi(S.from||m):d=Bi(S),ze(d)?Object.defineProperty(a,m,{enumerable:!0,configurable:!0,get:()=>d.value,set:k=>d.value=k}):a[m]=d}}function Fs(r,a,f){Ge(kt(r)?r.map(m=>m.bind(a.proxy)):r.bind(a.proxy),a,f)}function Wa(r,a,f,m){const S=m.includes(".")?su(f,m):()=>f[m];if(_e(r)){const d=a[r];Nt(d)&&Pr(S,d)}else if(Nt(r))Pr(S,r.bind(f));else if(se(r))if(kt(r))r.forEach(d=>Wa(d,a,f,m));else{const d=Nt(r.handler)?r.handler.bind(f):a[r.handler];Nt(d)&&Pr(S,d,r)}}function es(r){const a=r.type,{mixins:f,extends:m}=a,{mixins:S,optionsCache:d,config:{optionMergeStrategies:k}}=r.appContext,q=d.get(a);let Z;return q?Z=q:!S.length&&!f&&!m?Z=a:(Z={},S.length&&S.forEach(tt=>qi(Z,tt,k,!0)),qi(Z,a,k)),se(a)&&d.set(a,Z),Z}function qi(r,a,f,m=!1){const{mixins:S,extends:d}=a;d&&qi(r,d,f,!0),S&&S.forEach(k=>qi(r,k,f,!0));for(const k in a)if(!(m&&k==="expose")){const q=sl[k]||f&&f[k];r[k]=q?q(r[k],a[k]):a[k]}return r}const sl={data:Bs,props:Ds,emits:Ds,methods:ui,computed:ui,beforeCreate:Ie,created:Ie,beforeMount:Ie,mounted:Ie,beforeUpdate:Ie,updated:Ie,beforeDestroy:Ie,beforeUnmount:Ie,destroyed:Ie,unmounted:Ie,activated:Ie,deactivated:Ie,errorCaptured:Ie,serverPrefetch:Ie,components:ui,directives:ui,watch:ul,provide:Bs,inject:al};function Bs(r,a){return a?r?function(){return Oe(Nt(r)?r.call(this,this):r,Nt(a)?a.call(this,this):a)}:a:r}function al(r,a){return ui(Fr(r),Fr(a))}function Fr(r){if(kt(r)){const a={};for(let f=0;f<r.length;f++)a[r[f]]=r[f];return a}return r}function Ie(r,a){return r?[...new Set([].concat(r,a))]:a}function ui(r,a){return r?Oe(Object.create(null),r,a):a}function Ds(r,a){return r?kt(r)&&kt(a)?[...new Set([...r,...a])]:Oe(Object.create(null),Ns(r),Ns(a??{})):a}function ul(r,a){if(!r)return a;if(!a)return r;const f=Oe(Object.create(null),r);for(const m in a)f[m]=Ie(r[m],a[m]);return f}function Za(){return{app:null,config:{isNativeTag:Ju,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ol=0;function ll(r,a){return function(m,S=null){Nt(m)||(m=Oe({},m)),S!=null&&!se(S)&&(S=null);const d=Za(),k=new WeakSet;let q=!1;const Z=d.app={_uid:ol++,_component:m,_props:S,_container:null,_context:d,_instance:null,version:Xl,get config(){return d.config},set config(tt){},use(tt,...Y){return k.has(tt)||(tt&&Nt(tt.install)?(k.add(tt),tt.install(Z,...Y)):Nt(tt)&&(k.add(tt),tt(Z,...Y))),Z},mixin(tt){return d.mixins.includes(tt)||d.mixins.push(tt),Z},component(tt,Y){return Y?(d.components[tt]=Y,Z):d.components[tt]},directive(tt,Y){return Y?(d.directives[tt]=Y,Z):d.directives[tt]},mount(tt,Y,et){if(!q){const Ct=Fn(m,S);return Ct.appContext=d,et===!0?et="svg":et===!1&&(et=void 0),Y&&a?a(Ct,tt):r(Ct,tt,et),q=!0,Z._container=tt,tt.__vue_app__=Z,er(Ct.component)}},unmount(){q&&(r(null,Z._container),delete Z._container.__vue_app__)},provide(tt,Y){return d.provides[tt]=Y,Z},runWithContext(tt){const Y=Yn;Yn=Z;try{return tt()}finally{Yn=Y}}};return Z}}let Yn=null;function fl(r,a){if(Te){let f=Te.provides;const m=Te.parent&&Te.parent.provides;m===f&&(f=Te.provides=Object.create(m)),f[r]=a}}function Bi(r,a,f=!1){const m=Te||De;if(m||Yn){const S=Yn?Yn._context.provides:m?m.parent==null?m.vnode.appContext&&m.vnode.appContext.provides:m.parent.provides:void 0;if(S&&r in S)return S[r];if(arguments.length>1)return f&&Nt(a)?a.call(m&&m.proxy):a}}const Ka={},Ga=()=>Object.create(Ka),Ja=r=>Object.getPrototypeOf(r)===Ka;function hl(r,a,f,m=!1){const S={},d=Ga();r.propsDefaults=Object.create(null),Xa(r,a,S,d);for(const k in r.propsOptions[0])k in S||(S[k]=void 0);f?r.props=m?S:Mo(S):r.type.props?r.props=S:r.props=d,r.attrs=d}function cl(r,a,f,m){const{props:S,attrs:d,vnode:{patchFlag:k}}=r,q=Jt(S),[Z]=r.propsOptions;let tt=!1;if((m||k>0)&&!(k&16)){if(k&8){const Y=r.vnode.dynamicProps;for(let et=0;et<Y.length;et++){let Ct=Y[et];if($i(r.emitsOptions,Ct))continue;const F=a[Ct];if(Z)if(Kt(d,Ct))F!==d[Ct]&&(d[Ct]=F,tt=!0);else{const Ht=Bn(Ct);S[Ht]=Br(Z,q,Ht,F,r,!1)}else F!==d[Ct]&&(d[Ct]=F,tt=!0)}}}else{Xa(r,a,S,d)&&(tt=!0);let Y;for(const et in q)(!a||!Kt(a,et)&&((Y=Vn(et))===et||!Kt(a,Y)))&&(Z?f&&(f[et]!==void 0||f[Y]!==void 0)&&(S[et]=Br(Z,q,et,void 0,r,!0)):delete S[et]);if(d!==q)for(const et in d)(!a||!Kt(a,et))&&(delete d[et],tt=!0)}tt&&an(r.attrs,"set","")}function Xa(r,a,f,m){const[S,d]=r.propsOptions;let k=!1,q;if(a)for(let Z in a){if(oi(Z))continue;const tt=a[Z];let Y;S&&Kt(S,Y=Bn(Z))?!d||!d.includes(Y)?f[Y]=tt:(q||(q={}))[Y]=tt:$i(r.emitsOptions,Z)||(!(Z in m)||tt!==m[Z])&&(m[Z]=tt,k=!0)}if(d){const Z=Jt(f),tt=q||ne;for(let Y=0;Y<d.length;Y++){const et=d[Y];f[et]=Br(S,Z,et,tt[et],r,!Kt(tt,et))}}return k}function Br(r,a,f,m,S,d){const k=r[f];if(k!=null){const q=Kt(k,"default");if(q&&m===void 0){const Z=k.default;if(k.type!==Function&&!k.skipFactory&&Nt(Z)){const{propsDefaults:tt}=S;if(f in tt)m=tt[f];else{const Y=vi(S);m=tt[f]=Z.call(null,a),Y()}}else m=Z}k[0]&&(d&&!q?m=!1:k[1]&&(m===""||m===Vn(f))&&(m=!0))}return m}const dl=new WeakMap;function Ya(r,a,f=!1){const m=f?dl:a.propsCache,S=m.get(r);if(S)return S;const d=r.props,k={},q=[];let Z=!1;if(!Nt(r)){const Y=et=>{Z=!0;const[Ct,F]=Ya(et,a,!0);Oe(k,Ct),F&&q.push(...F)};!f&&a.mixins.length&&a.mixins.forEach(Y),r.extends&&Y(r.extends),r.mixins&&r.mixins.forEach(Y)}if(!d&&!Z)return se(r)&&m.set(r,Kn),Kn;if(kt(d))for(let Y=0;Y<d.length;Y++){const et=Bn(d[Y]);Vs(et)&&(k[et]=ne)}else if(d)for(const Y in d){const et=Bn(Y);if(Vs(et)){const Ct=d[Y],F=k[et]=kt(Ct)||Nt(Ct)?{type:Ct}:Oe({},Ct),Ht=F.type;let ct=!1,te=!0;if(kt(Ht))for(let vt=0;vt<Ht.length;++vt){const ie=Ht[vt],St=Nt(ie)&&ie.name;if(St==="Boolean"){ct=!0;break}else St==="String"&&(te=!1)}else ct=Nt(Ht)&&Ht.name==="Boolean";F[0]=ct,F[1]=te,(ct||Kt(F,"default"))&&q.push(et)}}const tt=[k,q];return se(r)&&m.set(r,tt),tt}function Vs(r){return r[0]!=="$"&&!oi(r)}const $a=r=>r[0]==="_"||r==="$stable",ns=r=>kt(r)?r.map(tn):[tn(r)],_l=(r,a,f)=>{if(a._n)return a;const m=Ho((...S)=>ns(a(...S)),f);return m._c=!1,m},Qa=(r,a,f)=>{const m=r._ctx;for(const S in r){if($a(S))continue;const d=r[S];if(Nt(d))a[S]=_l(S,d,m);else if(d!=null){const k=ns(d);a[S]=()=>k}}},tu=(r,a)=>{const f=ns(a);r.slots.default=()=>f},eu=(r,a,f)=>{for(const m in a)(f||m!=="_")&&(r[m]=a[m])},gl=(r,a,f)=>{const m=r.slots=Ga();if(r.vnode.shapeFlag&32){const S=a._;S?(eu(m,a,f),f&&ha(m,"_",S,!0)):Qa(a,m)}else a&&tu(r,a)},pl=(r,a,f)=>{const{vnode:m,slots:S}=r;let d=!0,k=ne;if(m.shapeFlag&32){const q=a._;q?f&&q===1?d=!1:eu(S,a,f):(d=!a.$stable,Qa(a,S)),k=a}else a&&(tu(r,a),k={default:1});if(d)for(const q in S)!$a(q)&&k[q]==null&&delete S[q]};function Dr(r,a,f,m,S=!1){if(kt(r)){r.forEach((Ct,F)=>Dr(Ct,a&&(kt(a)?a[F]:a),f,m,S));return}if(Fi(m)&&!S)return;const d=m.shapeFlag&4?er(m.component):m.el,k=S?null:d,{i:q,r:Z}=r,tt=a&&a.r,Y=q.refs===ne?q.refs={}:q.refs,et=q.setupState;if(tt!=null&&tt!==Z&&(_e(tt)?(Y[tt]=null,Kt(et,tt)&&(et[tt]=null)):ze(tt)&&(tt.value=null)),Nt(Z))mn(Z,q,12,[k,Y]);else{const Ct=_e(Z),F=ze(Z);if(Ct||F){const Ht=()=>{if(r.f){const ct=Ct?Kt(et,Z)?et[Z]:Y[Z]:Z.value;S?kt(ct)&&Ur(ct,d):kt(ct)?ct.includes(d)||ct.push(d):Ct?(Y[Z]=[d],Kt(et,Z)&&(et[Z]=Y[Z])):(Z.value=[d],r.k&&(Y[r.k]=Z.value))}else Ct?(Y[Z]=k,Kt(et,Z)&&(et[Z]=k)):F&&(Z.value=k,r.k&&(Y[r.k]=k))};k?(Ht.id=-1,Ae(Ht,f)):Ht()}}}const vl=Symbol("_vte"),ml=r=>r.__isTeleport,Ae=zl;function yl(r){return wl(r)}function wl(r,a){const f=ca();f.__VUE__=!0;const{insert:m,remove:S,patchProp:d,createElement:k,createText:q,createComment:Z,setText:tt,setElementText:Y,parentNode:et,nextSibling:Ct,setScopeId:F=Be,insertStaticContent:Ht}=r,ct=(B,U,X,ot=null,rt=null,ft=null,mt=void 0,pt=null,ut=!!U.dynamicChildren)=>{if(B===U)return;B&&!si(B,U)&&(ot=on(B),Ne(B,rt,ft,!0),B=null),U.patchFlag===-2&&(ut=!1,U.dynamicChildren=null);const{type:st,ref:dt,shapeFlag:It}=U;switch(st){case Qi:te(B,U,X,ot);break;case gi:vt(B,U,X,ot);break;case Tr:B==null&&ie(U,X,ot,mt);break;case Ke:ye(B,U,X,ot,rt,ft,mt,pt,ut);break;default:It&1?Ft(B,U,X,ot,rt,ft,mt,pt,ut):It&6?ge(B,U,X,ot,rt,ft,mt,pt,ut):(It&64||It&128)&&st.process(B,U,X,ot,rt,ft,mt,pt,ut,$t)}dt!=null&&rt&&Dr(dt,B&&B.ref,ft,U||B,!U)},te=(B,U,X,ot)=>{if(B==null)m(U.el=q(U.children),X,ot);else{const rt=U.el=B.el;U.children!==B.children&&tt(rt,U.children)}},vt=(B,U,X,ot)=>{B==null?m(U.el=Z(U.children||""),X,ot):U.el=B.el},ie=(B,U,X,ot)=>{[B.el,B.anchor]=Ht(B.children,U,X,ot,B.el,B.anchor)},St=({el:B,anchor:U},X,ot)=>{let rt;for(;B&&B!==U;)rt=Ct(B),m(B,X,ot),B=rt;m(U,X,ot)},xt=({el:B,anchor:U})=>{let X;for(;B&&B!==U;)X=Ct(B),S(B),B=X;S(U)},Ft=(B,U,X,ot,rt,ft,mt,pt,ut)=>{U.type==="svg"?mt="svg":U.type==="math"&&(mt="mathml"),B==null?it(U,X,ot,rt,ft,mt,pt,ut):Ut(B,U,rt,ft,mt,pt,ut)},it=(B,U,X,ot,rt,ft,mt,pt)=>{let ut,st;const{props:dt,shapeFlag:It,transition:lt,dirs:t}=B;if(ut=B.el=k(B.type,ft,dt&&dt.is,dt),It&8?Y(ut,B.children):It&16&&qt(B.children,ut,null,ot,rt,Sr(B,ft),mt,pt),t&&An(B,null,ot,"created"),Vt(ut,B,B.scopeId,mt,ot),dt){for(const n in dt)n!=="value"&&!oi(n)&&d(ut,n,null,dt[n],ft,ot);"value"in dt&&d(ut,"value",null,dt.value,ft),(st=dt.onVnodeBeforeMount)&&Qe(st,ot,B)}t&&An(B,null,ot,"beforeMount");const e=bl(rt,lt);e&&lt.beforeEnter(ut),m(ut,U,X),((st=dt&&dt.onVnodeMounted)||e||t)&&Ae(()=>{st&&Qe(st,ot,B),e&&lt.enter(ut),t&&An(B,null,ot,"mounted")},rt)},Vt=(B,U,X,ot,rt)=>{if(X&&F(B,X),ot)for(let ft=0;ft<ot.length;ft++)F(B,ot[ft]);if(rt){let ft=rt.subTree;if(U===ft){const mt=rt.vnode;Vt(B,mt,mt.scopeId,mt.slotScopeIds,rt.parent)}}},qt=(B,U,X,ot,rt,ft,mt,pt,ut=0)=>{for(let st=ut;st<B.length;st++){const dt=B[st]=pt?gn(B[st]):tn(B[st]);ct(null,dt,U,X,ot,rt,ft,mt,pt)}},Ut=(B,U,X,ot,rt,ft,mt)=>{const pt=U.el=B.el;let{patchFlag:ut,dynamicChildren:st,dirs:dt}=U;ut|=B.patchFlag&16;const It=B.props||ne,lt=U.props||ne;let t;if(X&&Ln(X,!1),(t=lt.onVnodeBeforeUpdate)&&Qe(t,X,U,B),dt&&An(U,B,X,"beforeUpdate"),X&&Ln(X,!0),(It.innerHTML&&lt.innerHTML==null||It.textContent&&lt.textContent==null)&&Y(pt,""),st?Yt(B.dynamicChildren,st,pt,X,ot,Sr(U,rt),ft):mt||Wt(B,U,pt,null,X,ot,Sr(U,rt),ft,!1),ut>0){if(ut&16)Se(pt,It,lt,X,rt);else if(ut&2&&It.class!==lt.class&&d(pt,"class",null,lt.class,rt),ut&4&&d(pt,"style",It.style,lt.style,rt),ut&8){const e=U.dynamicProps;for(let n=0;n<e.length;n++){const i=e[n],s=It[i],u=lt[i];(u!==s||i==="value")&&d(pt,i,s,u,rt,X)}}ut&1&&B.children!==U.children&&Y(pt,U.children)}else!mt&&st==null&&Se(pt,It,lt,X,rt);((t=lt.onVnodeUpdated)||dt)&&Ae(()=>{t&&Qe(t,X,U,B),dt&&An(U,B,X,"updated")},ot)},Yt=(B,U,X,ot,rt,ft,mt)=>{for(let pt=0;pt<U.length;pt++){const ut=B[pt],st=U[pt],dt=ut.el&&(ut.type===Ke||!si(ut,st)||ut.shapeFlag&70)?et(ut.el):X;ct(ut,st,dt,null,ot,rt,ft,mt,!0)}},Se=(B,U,X,ot,rt)=>{if(U!==X){if(U!==ne)for(const ft in U)!oi(ft)&&!(ft in X)&&d(B,ft,U[ft],null,rt,ot);for(const ft in X){if(oi(ft))continue;const mt=X[ft],pt=U[ft];mt!==pt&&ft!=="value"&&d(B,ft,pt,mt,rt,ot)}"value"in X&&d(B,"value",U.value,X.value,rt)}},ye=(B,U,X,ot,rt,ft,mt,pt,ut)=>{const st=U.el=B?B.el:q(""),dt=U.anchor=B?B.anchor:q("");let{patchFlag:It,dynamicChildren:lt,slotScopeIds:t}=U;t&&(pt=pt?pt.concat(t):t),B==null?(m(st,X,ot),m(dt,X,ot),qt(U.children||[],X,dt,rt,ft,mt,pt,ut)):It>0&&It&64&&lt&&B.dynamicChildren?(Yt(B.dynamicChildren,lt,X,rt,ft,mt,pt),(U.key!=null||rt&&U===rt.subTree)&&nu(B,U,!0)):Wt(B,U,X,dt,rt,ft,mt,pt,ut)},ge=(B,U,X,ot,rt,ft,mt,pt,ut)=>{U.slotScopeIds=pt,B==null?U.shapeFlag&512?rt.ctx.activate(U,X,ot,mt,ut):Pt(U,X,ot,rt,ft,mt,ut):pe(B,U,ut)},Pt=(B,U,X,ot,rt,ft,mt)=>{const pt=B.component=Ul(B,ot,rt);if(Ha(B)&&(pt.ctx.renderer=$t),jl(pt,!1,mt),pt.asyncDep){if(rt&&rt.registerDep(pt,at,mt),!B.el){const ut=pt.subTree=Fn(gi);vt(null,ut,U,X)}}else at(pt,B,U,X,rt,ft,mt)},pe=(B,U,X)=>{const ot=U.component=B.component;if(Ml(B,U,X))if(ot.asyncDep&&!ot.asyncResolved){jt(ot,U,X);return}else ot.next=U,Bo(ot.update),ot.effect.dirty=!0,ot.update();else U.el=B.el,ot.vnode=U},at=(B,U,X,ot,rt,ft,mt)=>{const pt=()=>{if(B.isMounted){let{next:dt,bu:It,u:lt,parent:t,vnode:e}=B;{const l=iu(B);if(l){dt&&(dt.el=e.el,jt(B,dt,mt)),l.asyncDep.then(()=>{B.isUnmounted||pt()});return}}let n=dt,i;Ln(B,!1),dt?(dt.el=e.el,jt(B,dt,mt)):dt=e,It&&br(It),(i=dt.props&&dt.props.onVnodeBeforeUpdate)&&Qe(i,t,dt,e),Ln(B,!0);const s=Ir(B),u=B.subTree;B.subTree=s,ct(u,s,et(u.el),on(u),B,rt,ft),dt.el=s.el,n===null&&Al(B,s.el),lt&&Ae(lt,rt),(i=dt.props&&dt.props.onVnodeUpdated)&&Ae(()=>Qe(i,t,dt,e),rt)}else{let dt;const{el:It,props:lt}=U,{bm:t,m:e,parent:n}=B,i=Fi(U);if(Ln(B,!1),t&&br(t),!i&&(dt=lt&&lt.onVnodeBeforeMount)&&Qe(dt,n,U),Ln(B,!0),It&&mi){const s=()=>{B.subTree=Ir(B),mi(It,B.subTree,B,rt,null)};i?U.type.__asyncLoader().then(()=>!B.isUnmounted&&s()):s()}else{const s=B.subTree=Ir(B);ct(null,s,X,ot,B,rt,ft),U.el=s.el}if(e&&Ae(e,rt),!i&&(dt=lt&&lt.onVnodeMounted)){const s=U;Ae(()=>Qe(dt,n,s),rt)}(U.shapeFlag&256||n&&Fi(n.vnode)&&n.vnode.shapeFlag&256)&&B.a&&Ae(B.a,rt),B.isMounted=!0,U=X=ot=null}},ut=B.effect=new Wr(pt,Be,()=>ts(st),B.scope),st=B.update=()=>{ut.dirty&&ut.run()};st.i=B,st.id=B.uid,Ln(B,!0),st()},jt=(B,U,X)=>{U.component=B;const ot=B.vnode.props;B.vnode=U,B.next=null,cl(B,U.props,ot,X),pl(B,U.children,X),bn(),Rs(B),xn()},Wt=(B,U,X,ot,rt,ft,mt,pt,ut=!1)=>{const st=B&&B.children,dt=B?B.shapeFlag:0,It=U.children,{patchFlag:lt,shapeFlag:t}=U;if(lt>0){if(lt&128){Pe(st,It,X,ot,rt,ft,mt,pt,ut);return}else if(lt&256){Bt(st,It,X,ot,rt,ft,mt,pt,ut);return}}t&8?(dt&16&&Xe(st,rt,ft),It!==st&&Y(X,It)):dt&16?t&16?Pe(st,It,X,ot,rt,ft,mt,pt,ut):Xe(st,rt,ft,!0):(dt&8&&Y(X,""),t&16&&qt(It,X,ot,rt,ft,mt,pt,ut))},Bt=(B,U,X,ot,rt,ft,mt,pt,ut)=>{B=B||Kn,U=U||Kn;const st=B.length,dt=U.length,It=Math.min(st,dt);let lt;for(lt=0;lt<It;lt++){const t=U[lt]=ut?gn(U[lt]):tn(U[lt]);ct(B[lt],t,X,null,rt,ft,mt,pt,ut)}st>dt?Xe(B,rt,ft,!0,!1,It):qt(U,X,ot,rt,ft,mt,pt,ut,It)},Pe=(B,U,X,ot,rt,ft,mt,pt,ut)=>{let st=0;const dt=U.length;let It=B.length-1,lt=dt-1;for(;st<=It&&st<=lt;){const t=B[st],e=U[st]=ut?gn(U[st]):tn(U[st]);if(si(t,e))ct(t,e,X,null,rt,ft,mt,pt,ut);else break;st++}for(;st<=It&&st<=lt;){const t=B[It],e=U[lt]=ut?gn(U[lt]):tn(U[lt]);if(si(t,e))ct(t,e,X,null,rt,ft,mt,pt,ut);else break;It--,lt--}if(st>It){if(st<=lt){const t=lt+1,e=t<dt?U[t].el:ot;for(;st<=lt;)ct(null,U[st]=ut?gn(U[st]):tn(U[st]),X,e,rt,ft,mt,pt,ut),st++}}else if(st>lt)for(;st<=It;)Ne(B[st],rt,ft,!0),st++;else{const t=st,e=st,n=new Map;for(st=e;st<=lt;st++){const v=U[st]=ut?gn(U[st]):tn(U[st]);v.key!=null&&n.set(v.key,st)}let i,s=0;const u=lt-e+1;let l=!1,o=0;const h=new Array(u);for(st=0;st<u;st++)h[st]=0;for(st=t;st<=It;st++){const v=B[st];if(s>=u){Ne(v,rt,ft,!0);continue}let y;if(v.key!=null)y=n.get(v.key);else for(i=e;i<=lt;i++)if(h[i-e]===0&&si(v,U[i])){y=i;break}y===void 0?Ne(v,rt,ft,!0):(h[y-e]=st+1,y>=o?o=y:l=!0,ct(v,U[y],X,null,rt,ft,mt,pt,ut),s++)}const c=l?xl(h):Kn;for(i=c.length-1,st=u-1;st>=0;st--){const v=e+st,y=U[v],p=v+1<dt?U[v+1].el:ot;h[st]===0?ct(null,y,X,p,rt,ft,mt,pt,ut):l&&(i<0||st!==c[i]?Je(y,X,p,2):i--)}}},Je=(B,U,X,ot,rt=null)=>{const{el:ft,type:mt,transition:pt,children:ut,shapeFlag:st}=B;if(st&6){Je(B.component.subTree,U,X,ot);return}if(st&128){B.suspense.move(U,X,ot);return}if(st&64){mt.move(B,U,X,$t);return}if(mt===Ke){m(ft,U,X);for(let It=0;It<ut.length;It++)Je(ut[It],U,X,ot);m(B.anchor,U,X);return}if(mt===Tr){St(B,U,X);return}if(ot!==2&&st&1&&pt)if(ot===0)pt.beforeEnter(ft),m(ft,U,X),Ae(()=>pt.enter(ft),rt);else{const{leave:It,delayLeave:lt,afterLeave:t}=pt,e=()=>m(ft,U,X),n=()=>{It(ft,()=>{e(),t&&t()})};lt?lt(ft,e,n):n()}else m(ft,U,X)},Ne=(B,U,X,ot=!1,rt=!1)=>{const{type:ft,props:mt,ref:pt,children:ut,dynamicChildren:st,shapeFlag:dt,patchFlag:It,dirs:lt,cacheIndex:t}=B;if(It===-2&&(rt=!1),pt!=null&&Dr(pt,null,X,B,!0),t!=null&&(U.renderCache[t]=void 0),dt&256){U.ctx.deactivate(B);return}const e=dt&1&&lt,n=!Fi(B);let i;if(n&&(i=mt&&mt.onVnodeBeforeUnmount)&&Qe(i,U,B),dt&6)ae(B.component,X,ot);else{if(dt&128){B.suspense.unmount(X,ot);return}e&&An(B,null,U,"beforeUnmount"),dt&64?B.type.remove(B,U,X,$t,ot):st&&!st.hasOnce&&(ft!==Ke||It>0&&It&64)?Xe(st,U,X,!1,!0):(ft===Ke&&It&384||!rt&&dt&16)&&Xe(ut,U,X),ot&&Cn(B)}(n&&(i=mt&&mt.onVnodeUnmounted)||e)&&Ae(()=>{i&&Qe(i,U,B),e&&An(B,null,U,"unmounted")},X)},Cn=B=>{const{type:U,el:X,anchor:ot,transition:rt}=B;if(U===Ke){nr(X,ot);return}if(U===Tr){xt(B);return}const ft=()=>{S(X),rt&&!rt.persisted&&rt.afterLeave&&rt.afterLeave()};if(B.shapeFlag&1&&rt&&!rt.persisted){const{leave:mt,delayLeave:pt}=rt,ut=()=>mt(X,ft);pt?pt(B.el,ft,ut):ut()}else ft()},nr=(B,U)=>{let X;for(;B!==U;)X=Ct(B),S(B),B=X;S(U)},ae=(B,U,X)=>{const{bum:ot,scope:rt,update:ft,subTree:mt,um:pt,m:ut,a:st}=B;Hs(ut),Hs(st),ot&&br(ot),rt.stop(),ft&&(ft.active=!1,Ne(mt,B,U,X)),pt&&Ae(pt,U),Ae(()=>{B.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve())},Xe=(B,U,X,ot=!1,rt=!1,ft=0)=>{for(let mt=ft;mt<B.length;mt++)Ne(B[mt],U,X,ot,rt)},on=B=>{if(B.shapeFlag&6)return on(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const U=Ct(B.anchor||B.el),X=U&&U[vl];return X?Ct(X):U};let Sn=!1;const ee=(B,U,X)=>{B==null?U._vnode&&Ne(U._vnode,null,null,!0):ct(U._vnode||null,B,U,null,null,null,X),U._vnode=B,Sn||(Sn=!0,Rs(),Fa(),Sn=!1)},$t={p:ct,um:Ne,m:Je,r:Cn,mt:Pt,mc:qt,pc:Wt,pbc:Yt,n:on,o:r};let Qt,mi;return{render:ee,hydrate:Qt,createApp:ll(ee,Qt)}}function Sr({type:r,props:a},f){return f==="svg"&&r==="foreignObject"||f==="mathml"&&r==="annotation-xml"&&a&&a.encoding&&a.encoding.includes("html")?void 0:f}function Ln({effect:r,update:a},f){r.allowRecurse=a.allowRecurse=f}function bl(r,a){return(!r||r&&!r.pendingBranch)&&a&&!a.persisted}function nu(r,a,f=!1){const m=r.children,S=a.children;if(kt(m)&&kt(S))for(let d=0;d<m.length;d++){const k=m[d];let q=S[d];q.shapeFlag&1&&!q.dynamicChildren&&((q.patchFlag<=0||q.patchFlag===32)&&(q=S[d]=gn(S[d]),q.el=k.el),!f&&q.patchFlag!==-2&&nu(k,q)),q.type===Qi&&(q.el=k.el)}}function xl(r){const a=r.slice(),f=[0];let m,S,d,k,q;const Z=r.length;for(m=0;m<Z;m++){const tt=r[m];if(tt!==0){if(S=f[f.length-1],r[S]<tt){a[m]=S,f.push(m);continue}for(d=0,k=f.length-1;d<k;)q=d+k>>1,r[f[q]]<tt?d=q+1:k=q;tt<r[f[d]]&&(d>0&&(a[m]=f[d-1]),f[d]=m)}}for(d=f.length,k=f[d-1];d-- >0;)f[d]=k,k=a[k];return f}function iu(r){const a=r.subTree.component;if(a)return a.asyncDep&&!a.asyncResolved?a:iu(a)}function Hs(r){if(r)for(let a=0;a<r.length;a++)r[a].active=!1}const Cl=Symbol.for("v-scx"),Sl=()=>Bi(Cl),Ri={};function Pr(r,a,f){return ru(r,a,f)}function ru(r,a,{immediate:f,deep:m,flush:S,once:d,onTrack:k,onTrigger:q}=ne){if(a&&d){const it=a;a=(...Vt)=>{it(...Vt),Ft()}}const Z=Te,tt=it=>m===!0?it:pn(it,m===!1?1:void 0);let Y,et=!1,Ct=!1;if(ze(r)?(Y=()=>r.value,et=$n(r)):li(r)?(Y=()=>tt(r),et=!0):kt(r)?(Ct=!0,et=r.some(it=>li(it)||$n(it)),Y=()=>r.map(it=>{if(ze(it))return it.value;if(li(it))return tt(it);if(Nt(it))return mn(it,Z,2)})):Nt(r)?a?Y=()=>mn(r,Z,2):Y=()=>(F&&F(),Ge(r,Z,3,[Ht])):Y=Be,a&&m){const it=Y;Y=()=>pn(it())}let F,Ht=it=>{F=St.onStop=()=>{mn(it,Z,4),F=St.onStop=void 0}},ct;if(tr)if(Ht=Be,a?f&&Ge(a,Z,3,[Y(),Ct?[]:void 0,Ht]):Y(),S==="sync"){const it=Sl();ct=it.__watcherHandles||(it.__watcherHandles=[])}else return Be;let te=Ct?new Array(r.length).fill(Ri):Ri;const vt=()=>{if(!(!St.active||!St.dirty))if(a){const it=St.run();(m||et||(Ct?it.some((Vt,qt)=>yn(Vt,te[qt])):yn(it,te)))&&(F&&F(),Ge(a,Z,3,[it,te===Ri?void 0:Ct&&te[0]===Ri?[]:te,Ht]),te=it)}else St.run()};vt.allowRecurse=!!a;let ie;S==="sync"?ie=vt:S==="post"?ie=()=>Ae(vt,Z&&Z.suspense):(vt.pre=!0,Z&&(vt.id=Z.uid),ie=()=>ts(vt));const St=new Wr(Y,Be,ie),xt=lo(),Ft=()=>{St.stop(),xt&&Ur(xt.effects,St)};return a?f?vt():te=St.run():S==="post"?Ae(St.run.bind(St),Z&&Z.suspense):St.run(),ct&&ct.push(Ft),Ft}function Pl(r,a,f){const m=this.proxy,S=_e(r)?r.includes(".")?su(m,r):()=>m[r]:r.bind(m,m);let d;Nt(a)?d=a:(d=a.handler,f=a);const k=vi(this),q=ru(S,d.bind(m),f);return k(),q}function su(r,a){const f=a.split(".");return()=>{let m=r;for(let S=0;S<f.length&&m;S++)m=m[f[S]];return m}}function pn(r,a=1/0,f){if(a<=0||!se(r)||r.__v_skip||(f=f||new Set,f.has(r)))return r;if(f.add(r),a--,ze(r))pn(r.value,a,f);else if(kt(r))for(let m=0;m<r.length;m++)pn(r[m],a,f);else if(aa(r)||Gn(r))r.forEach(m=>{pn(m,a,f)});else if(la(r)){for(const m in r)pn(r[m],a,f);for(const m of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,m)&&pn(r[m],a,f)}return r}const Il=(r,a)=>a==="modelValue"||a==="model-value"?r.modelModifiers:r[`${a}Modifiers`]||r[`${Bn(a)}Modifiers`]||r[`${Vn(a)}Modifiers`];function Tl(r,a,...f){if(r.isUnmounted)return;const m=r.vnode.props||ne;let S=f;const d=a.startsWith("update:"),k=d&&Il(m,a.slice(7));k&&(k.trim&&(S=f.map(Y=>_e(Y)?Y.trim():Y)),k.number&&(S=f.map(to)));let q,Z=m[q=wr(a)]||m[q=wr(Bn(a))];!Z&&d&&(Z=m[q=wr(Vn(a))]),Z&&Ge(Z,r,6,S);const tt=m[q+"Once"];if(tt){if(!r.emitted)r.emitted={};else if(r.emitted[q])return;r.emitted[q]=!0,Ge(tt,r,6,S)}}function au(r,a,f=!1){const m=a.emitsCache,S=m.get(r);if(S!==void 0)return S;const d=r.emits;let k={},q=!1;if(!Nt(r)){const Z=tt=>{const Y=au(tt,a,!0);Y&&(q=!0,Oe(k,Y))};!f&&a.mixins.length&&a.mixins.forEach(Z),r.extends&&Z(r.extends),r.mixins&&r.mixins.forEach(Z)}return!d&&!q?(se(r)&&m.set(r,null),null):(kt(d)?d.forEach(Z=>k[Z]=null):Oe(k,d),se(r)&&m.set(r,k),k)}function $i(r,a){return!r||!Wi(a)?!1:(a=a.slice(2).replace(/Once$/,""),Kt(r,a[0].toLowerCase()+a.slice(1))||Kt(r,Vn(a))||Kt(r,a))}function Ir(r){const{type:a,vnode:f,proxy:m,withProxy:S,propsOptions:[d],slots:k,attrs:q,emit:Z,render:tt,renderCache:Y,props:et,data:Ct,setupState:F,ctx:Ht,inheritAttrs:ct}=r,te=Hi(r);let vt,ie;try{if(f.shapeFlag&4){const xt=S||m,Ft=xt;vt=tn(tt.call(Ft,xt,Y,et,F,Ct,Ht)),ie=q}else{const xt=a;vt=tn(xt.length>1?xt(et,{attrs:q,slots:k,emit:Z}):xt(et,null)),ie=a.props?q:Ol(q)}}catch(xt){hi.length=0,Xi(xt,r,1),vt=Fn(gi)}let St=vt;if(ie&&ct!==!1){const xt=Object.keys(ie),{shapeFlag:Ft}=St;xt.length&&Ft&7&&(d&&xt.some(qr)&&(ie=El(ie,d)),St=Qn(St,ie,!1,!0))}return f.dirs&&(St=Qn(St,null,!1,!0),St.dirs=St.dirs?St.dirs.concat(f.dirs):f.dirs),f.transition&&(St.transition=f.transition),vt=St,Hi(te),vt}const Ol=r=>{let a;for(const f in r)(f==="class"||f==="style"||Wi(f))&&((a||(a={}))[f]=r[f]);return a},El=(r,a)=>{const f={};for(const m in r)(!qr(m)||!(m.slice(9)in a))&&(f[m]=r[m]);return f};function Ml(r,a,f){const{props:m,children:S,component:d}=r,{props:k,children:q,patchFlag:Z}=a,tt=d.emitsOptions;if(a.dirs||a.transition)return!0;if(f&&Z>=0){if(Z&1024)return!0;if(Z&16)return m?qs(m,k,tt):!!k;if(Z&8){const Y=a.dynamicProps;for(let et=0;et<Y.length;et++){const Ct=Y[et];if(k[Ct]!==m[Ct]&&!$i(tt,Ct))return!0}}}else return(S||q)&&(!q||!q.$stable)?!0:m===k?!1:m?k?qs(m,k,tt):!0:!!k;return!1}function qs(r,a,f){const m=Object.keys(a);if(m.length!==Object.keys(r).length)return!0;for(let S=0;S<m.length;S++){const d=m[S];if(a[d]!==r[d]&&!$i(f,d))return!0}return!1}function Al({vnode:r,parent:a},f){for(;a;){const m=a.subTree;if(m.suspense&&m.suspense.activeBranch===r&&(m.el=r.el),m===r)(r=a.vnode).el=f,a=a.parent;else break}}const Ll=r=>r.__isSuspense;function zl(r,a){a&&a.pendingBranch?kt(r)?a.effects.push(...r):a.effects.push(r):Do(r)}const Ke=Symbol.for("v-fgt"),Qi=Symbol.for("v-txt"),gi=Symbol.for("v-cmt"),Tr=Symbol.for("v-stc"),hi=[];let Re=null;function Us(r=!1){hi.push(Re=r?null:[])}function kl(){hi.pop(),Re=hi[hi.length-1]||null}let pi=1;function js(r){pi+=r,r<0&&Re&&(Re.hasOnce=!0)}function Rl(r){return r.dynamicChildren=pi>0?Re||Kn:null,kl(),pi>0&&Re&&Re.push(r),r}function Ws(r,a,f,m,S,d){return Rl(kn(r,a,f,m,S,d,!0))}function Nl(r){return r?r.__v_isVNode===!0:!1}function si(r,a){return r.type===a.type&&r.key===a.key}const uu=({key:r})=>r??null,Di=({ref:r,ref_key:a,ref_for:f})=>(typeof r=="number"&&(r=""+r),r!=null?_e(r)||ze(r)||Nt(r)?{i:De,r,k:a,f:!!f}:r:null);function kn(r,a=null,f=null,m=0,S=null,d=r===Ke?0:1,k=!1,q=!1){const Z={__v_isVNode:!0,__v_skip:!0,type:r,props:a,key:a&&uu(a),ref:a&&Di(a),scopeId:Da,slotScopeIds:null,children:f,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:m,dynamicProps:S,dynamicChildren:null,appContext:null,ctx:De};return q?(is(Z,f),d&128&&r.normalize(Z)):f&&(Z.shapeFlag|=_e(f)?8:16),pi>0&&!k&&Re&&(Z.patchFlag>0||d&6)&&Z.patchFlag!==32&&Re.push(Z),Z}const Fn=Fl;function Fl(r,a=null,f=null,m=0,S=null,d=!1){if((!r||r===tl)&&(r=gi),Nl(r)){const q=Qn(r,a,!0);return f&&is(q,f),pi>0&&!d&&Re&&(q.shapeFlag&6?Re[Re.indexOf(r)]=q:Re.push(q)),q.patchFlag=-2,q}if(Gl(r)&&(r=r.__vccOpts),a){a=Bl(a);let{class:q,style:Z}=a;q&&!_e(q)&&(a.class=Gi(q)),se(Z)&&(Ea(Z)&&!kt(Z)&&(Z=Oe({},Z)),a.style=Jn(Z))}const k=_e(r)?1:Ll(r)?128:ml(r)?64:se(r)?4:Nt(r)?2:0;return kn(r,a,f,m,S,k,d,!0)}function Bl(r){return r?Ea(r)||Ja(r)?Oe({},r):r:null}function Qn(r,a,f=!1,m=!1){const{props:S,ref:d,patchFlag:k,children:q,transition:Z}=r,tt=a?Vl(S||{},a):S,Y={__v_isVNode:!0,__v_skip:!0,type:r.type,props:tt,key:tt&&uu(tt),ref:a&&a.ref?f&&d?kt(d)?d.concat(Di(a)):[d,Di(a)]:Di(a):d,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:q,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:a&&r.type!==Ke?k===-1?16:k|16:k,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:Z,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Qn(r.ssContent),ssFallback:r.ssFallback&&Qn(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return Z&&m&&Va(Y,Z.clone(Y)),Y}function Dl(r=" ",a=0){return Fn(Qi,null,r,a)}function tn(r){return r==null||typeof r=="boolean"?Fn(gi):kt(r)?Fn(Ke,null,r.slice()):typeof r=="object"?gn(r):Fn(Qi,null,String(r))}function gn(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Qn(r)}function is(r,a){let f=0;const{shapeFlag:m}=r;if(a==null)a=null;else if(kt(a))f=16;else if(typeof a=="object")if(m&65){const S=a.default;S&&(S._c&&(S._d=!1),is(r,S()),S._c&&(S._d=!0));return}else{f=32;const S=a._;!S&&!Ja(a)?a._ctx=De:S===3&&De&&(De.slots._===1?a._=1:(a._=2,r.patchFlag|=1024))}else Nt(a)?(a={default:a,_ctx:De},f=32):(a=String(a),m&64?(f=16,a=[Dl(a)]):f=8);r.children=a,r.shapeFlag|=f}function Vl(...r){const a={};for(let f=0;f<r.length;f++){const m=r[f];for(const S in m)if(S==="class")a.class!==m.class&&(a.class=Gi([a.class,m.class]));else if(S==="style")a.style=Jn([a.style,m.style]);else if(Wi(S)){const d=a[S],k=m[S];k&&d!==k&&!(kt(d)&&d.includes(k))&&(a[S]=d?[].concat(d,k):k)}else S!==""&&(a[S]=m[S])}return a}function Qe(r,a,f,m=null){Ge(r,a,7,[f,m])}const Hl=Za();let ql=0;function Ul(r,a,f){const m=r.type,S=(a?a.appContext:r.appContext)||Hl,d={uid:ql++,vnode:r,type:m,parent:a,appContext:S,root:null,next:null,subTree:null,effect:null,update:null,scope:new uo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:a?a.provides:Object.create(S.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ya(m,S),emitsOptions:au(m,S),emit:null,emitted:null,propsDefaults:ne,inheritAttrs:m.inheritAttrs,ctx:ne,data:ne,props:ne,attrs:ne,slots:ne,refs:ne,setupState:ne,setupContext:null,suspense:f,suspenseId:f?f.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=a?a.root:d,d.emit=Tl.bind(null,d),r.ce&&r.ce(d),d}let Te=null,Ui,Vr;{const r=ca(),a=(f,m)=>{let S;return(S=r[f])||(S=r[f]=[]),S.push(m),d=>{S.length>1?S.forEach(k=>k(d)):S[0](d)}};Ui=a("__VUE_INSTANCE_SETTERS__",f=>Te=f),Vr=a("__VUE_SSR_SETTERS__",f=>tr=f)}const vi=r=>{const a=Te;return Ui(r),r.scope.on(),()=>{r.scope.off(),Ui(a)}},Zs=()=>{Te&&Te.scope.off(),Ui(null)};function ou(r){return r.vnode.shapeFlag&4}let tr=!1;function jl(r,a=!1,f=!1){a&&Vr(a);const{props:m,children:S}=r.vnode,d=ou(r);hl(r,m,d,a),gl(r,S,f);const k=d?Wl(r,a):void 0;return a&&Vr(!1),k}function Wl(r,a){const f=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,nl);const{setup:m}=f;if(m){const S=r.setupContext=m.length>1?Kl(r):null,d=vi(r);bn();const k=mn(m,r,0,[r.props,S]);if(xn(),d(),ua(k)){if(k.then(Zs,Zs),a)return k.then(q=>{Ks(r,q,a)}).catch(q=>{Xi(q,r,0)});r.asyncDep=k}else Ks(r,k,a)}else lu(r,a)}function Ks(r,a,f){Nt(a)?r.type.__ssrInlineRender?r.ssrRender=a:r.render=a:se(a)&&(r.setupState=za(a)),lu(r,f)}let Gs;function lu(r,a,f){const m=r.type;if(!r.render){if(!a&&Gs&&!m.render){const S=m.template||es(r).template;if(S){const{isCustomElement:d,compilerOptions:k}=r.appContext.config,{delimiters:q,compilerOptions:Z}=m,tt=Oe(Oe({isCustomElement:d,delimiters:q},k),Z);m.render=Gs(S,tt)}}r.render=m.render||Be}{const S=vi(r);bn();try{il(r)}finally{xn(),S()}}}const Zl={get(r,a){return Le(r,"get",""),r[a]}};function Kl(r){const a=f=>{r.exposed=f||{}};return{attrs:new Proxy(r.attrs,Zl),slots:r.slots,emit:r.emit,expose:a}}function er(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(za(Ao(r.exposed)),{get(a,f){if(f in a)return a[f];if(f in fi)return fi[f](r)},has(a,f){return f in a||f in fi}})):r.proxy}function Gl(r){return Nt(r)&&"__vccOpts"in r}const Jl=(r,a)=>Lo(r,a,tr),Xl="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Yl="http://www.w3.org/2000/svg",$l="http://www.w3.org/1998/Math/MathML",sn=typeof document<"u"?document:null,Js=sn&&sn.createElement("template"),Ql={insert:(r,a,f)=>{a.insertBefore(r,f||null)},remove:r=>{const a=r.parentNode;a&&a.removeChild(r)},createElement:(r,a,f,m)=>{const S=a==="svg"?sn.createElementNS(Yl,r):a==="mathml"?sn.createElementNS($l,r):f?sn.createElement(r,{is:f}):sn.createElement(r);return r==="select"&&m&&m.multiple!=null&&S.setAttribute("multiple",m.multiple),S},createText:r=>sn.createTextNode(r),createComment:r=>sn.createComment(r),setText:(r,a)=>{r.nodeValue=a},setElementText:(r,a)=>{r.textContent=a},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>sn.querySelector(r),setScopeId(r,a){r.setAttribute(a,"")},insertStaticContent(r,a,f,m,S,d){const k=f?f.previousSibling:a.lastChild;if(S&&(S===d||S.nextSibling))for(;a.insertBefore(S.cloneNode(!0),f),!(S===d||!(S=S.nextSibling)););else{Js.innerHTML=m==="svg"?`<svg>${r}</svg>`:m==="mathml"?`<math>${r}</math>`:r;const q=Js.content;if(m==="svg"||m==="mathml"){const Z=q.firstChild;for(;Z.firstChild;)q.appendChild(Z.firstChild);q.removeChild(Z)}a.insertBefore(q,f)}return[k?k.nextSibling:a.firstChild,f?f.previousSibling:a.lastChild]}},tf=Symbol("_vtc");function ef(r,a,f){const m=r[tf];m&&(a=(a?[a,...m]:[...m]).join(" ")),a==null?r.removeAttribute("class"):f?r.setAttribute("class",a):r.className=a}const ji=Symbol("_vod"),fu=Symbol("_vsh"),nf={beforeMount(r,{value:a},{transition:f}){r[ji]=r.style.display==="none"?"":r.style.display,f&&a?f.beforeEnter(r):ai(r,a)},mounted(r,{value:a},{transition:f}){f&&a&&f.enter(r)},updated(r,{value:a,oldValue:f},{transition:m}){!a!=!f&&(m?a?(m.beforeEnter(r),ai(r,!0),m.enter(r)):m.leave(r,()=>{ai(r,!1)}):ai(r,a))},beforeUnmount(r,{value:a}){ai(r,a)}};function ai(r,a){r.style.display=a?r[ji]:"none",r[fu]=!a}const rf=Symbol(""),sf=/(^|;)\s*display\s*:/;function af(r,a,f){const m=r.style,S=_e(f);let d=!1;if(f&&!S){if(a)if(_e(a))for(const k of a.split(";")){const q=k.slice(0,k.indexOf(":")).trim();f[q]==null&&Vi(m,q,"")}else for(const k in a)f[k]==null&&Vi(m,k,"");for(const k in f)k==="display"&&(d=!0),Vi(m,k,f[k])}else if(S){if(a!==f){const k=m[rf];k&&(f+=";"+k),m.cssText=f,d=sf.test(f)}}else a&&r.removeAttribute("style");ji in r&&(r[ji]=d?m.display:"",r[fu]&&(m.display="none"))}const Xs=/\s*!important$/;function Vi(r,a,f){if(kt(f))f.forEach(m=>Vi(r,a,m));else if(f==null&&(f=""),a.startsWith("--"))r.setProperty(a,f);else{const m=uf(r,a);Xs.test(f)?r.setProperty(Vn(m),f.replace(Xs,""),"important"):r[m]=f}}const Ys=["Webkit","Moz","ms"],Or={};function uf(r,a){const f=Or[a];if(f)return f;let m=Bn(a);if(m!=="filter"&&m in r)return Or[a]=m;m=fa(m);for(let S=0;S<Ys.length;S++){const d=Ys[S]+m;if(d in r)return Or[a]=d}return a}const $s="http://www.w3.org/1999/xlink";function Qs(r,a,f,m,S,d=ao(a)){m&&a.startsWith("xlink:")?f==null?r.removeAttributeNS($s,a.slice(6,a.length)):r.setAttributeNS($s,a,f):f==null||d&&!da(f)?r.removeAttribute(a):r.setAttribute(a,d?"":wn(f)?String(f):f)}function of(r,a,f,m){if(a==="innerHTML"||a==="textContent"){if(f==null)return;r[a]=f;return}const S=r.tagName;if(a==="value"&&S!=="PROGRESS"&&!S.includes("-")){const k=S==="OPTION"?r.getAttribute("value")||"":r.value,q=f==null?"":String(f);(k!==q||!("_value"in r))&&(r.value=q),f==null&&r.removeAttribute(a),r._value=f;return}let d=!1;if(f===""||f==null){const k=typeof r[a];k==="boolean"?f=da(f):f==null&&k==="string"?(f="",d=!0):k==="number"&&(f=0,d=!0)}try{r[a]=f}catch{}d&&r.removeAttribute(a)}function lf(r,a,f,m){r.addEventListener(a,f,m)}function ff(r,a,f,m){r.removeEventListener(a,f,m)}const ta=Symbol("_vei");function hf(r,a,f,m,S=null){const d=r[ta]||(r[ta]={}),k=d[a];if(m&&k)k.value=m;else{const[q,Z]=cf(a);if(m){const tt=d[a]=gf(m,S);lf(r,q,tt,Z)}else k&&(ff(r,q,k,Z),d[a]=void 0)}}const ea=/(?:Once|Passive|Capture)$/;function cf(r){let a;if(ea.test(r)){a={};let m;for(;m=r.match(ea);)r=r.slice(0,r.length-m[0].length),a[m[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Vn(r.slice(2)),a]}let Er=0;const df=Promise.resolve(),_f=()=>Er||(df.then(()=>Er=0),Er=Date.now());function gf(r,a){const f=m=>{if(!m._vts)m._vts=Date.now();else if(m._vts<=f.attached)return;Ge(pf(m,f.value),a,5,[m])};return f.value=r,f.attached=_f(),f}function pf(r,a){if(kt(a)){const f=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{f.call(r),r._stopped=!0},a.map(m=>S=>!S._stopped&&m&&m(S))}else return a}const na=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,vf=(r,a,f,m,S,d)=>{const k=S==="svg";a==="class"?ef(r,m,k):a==="style"?af(r,f,m):Wi(a)?qr(a)||hf(r,a,f,m,d):(a[0]==="."?(a=a.slice(1),!0):a[0]==="^"?(a=a.slice(1),!1):mf(r,a,m,k))?(of(r,a,m),!r.tagName.includes("-")&&(a==="value"||a==="checked"||a==="selected")&&Qs(r,a,m,k,d,a!=="value")):(a==="true-value"?r._trueValue=m:a==="false-value"&&(r._falseValue=m),Qs(r,a,m,k))};function mf(r,a,f,m){if(m)return!!(a==="innerHTML"||a==="textContent"||a in r&&na(a)&&Nt(f));if(a==="spellcheck"||a==="draggable"||a==="translate"||a==="form"||a==="list"&&r.tagName==="INPUT"||a==="type"&&r.tagName==="TEXTAREA")return!1;if(a==="width"||a==="height"){const S=r.tagName;if(S==="IMG"||S==="VIDEO"||S==="CANVAS"||S==="SOURCE")return!1}return na(a)&&_e(f)?!1:a in r}const yf=Oe({patchProp:vf},Ql);let ia;function wf(){return ia||(ia=yl(yf))}const bf=(...r)=>{const a=wf().createApp(...r),{mount:f}=a;return a.mount=m=>{const S=Cf(m);if(!S)return;const d=a._component;!Nt(d)&&!d.render&&!d.template&&(d.template=S.innerHTML),S.innerHTML="";const k=f(S,!1,xf(S));return S instanceof Element&&(S.removeAttribute("v-cloak"),S.setAttribute("data-v-app","")),k},a};function xf(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function Cf(r){return _e(r)?document.querySelector(r):r}var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function If(r){if(r.__esModule)return r;var a=r.default;if(typeof a=="function"){var f=function m(){return this instanceof m?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};f.prototype=a.prototype}else f={};return Object.defineProperty(f,"__esModule",{value:!0}),Object.keys(r).forEach(function(m){var S=Object.getOwnPropertyDescriptor(r,m);Object.defineProperty(f,m,S.get?S:{enumerable:!0,get:function(){return r[m]}})}),f}function Tf(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hu={exports:{}};const Of={},Ef=Object.freeze(Object.defineProperty({__proto__:null,default:Of},Symbol.toStringTag,{value:"Module"})),ra=If(Ef);/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(r){(function(a,f){a=a||ra;var m=a.window,S=a.document,d=new function(){var t=/^(statics|enumerable|beans|preserve)$/,e=[],n=e.slice,i=Object.create,s=Object.getOwnPropertyDescriptor,u=Object.defineProperty,l=e.forEach||function(p,g){for(var I=0,b=this.length;I<b;I++)p.call(g,this[I],I,this)},o=function(p,g){for(var I in this)this.hasOwnProperty(I)&&p.call(g,this[I],I,this)},h=Object.assign||function(p){for(var g=1,I=arguments.length;g<I;g++){var b=arguments[g];for(var T in b)b.hasOwnProperty(T)&&(p[T]=b[T])}return p},c=function(p,g,I){if(p){var b=s(p,"length");(b&&typeof b.value=="number"?l:o).call(p,g,I=I||p)}return I};function v(p,g,I,b,T){var w={};function C(P,M){M=M||(M=s(g,P))&&(M.get?M:M.value),typeof M=="string"&&M[0]==="#"&&(M=p[M.substring(1)]||M);var L=typeof M=="function",z=M,D=T||L&&!M.base?M&&M.get?P in p:p[P]:null,A;(!T||!D)&&(L&&D&&(M.base=D),L&&b!==!1&&(A=P.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(w[A[3].toLowerCase()+A[4]]=A[2]),(!z||L||!z.get||typeof z.get!="function"||!y.isPlainObject(z))&&(z={value:z,writable:!0}),(s(p,P)||{configurable:!0}).configurable&&(z.configurable=!0,z.enumerable=I??!A),u(p,P,z))}if(g){for(var _ in g)g.hasOwnProperty(_)&&!t.test(_)&&C(_);for(var _ in w){var x=w[_],O=p["set"+x],E=p["get"+x]||O&&p["is"+x];E&&(b===!0||E.length===0)&&C(_,{get:E,set:O})}}return p}function y(){for(var p=0,g=arguments.length;p<g;p++){var I=arguments[p];I&&h(this,I)}return this}return v(y,{inject:function(p){if(p){var g=p.statics===!0?p:p.statics,I=p.beans,b=p.preserve;g!==p&&v(this.prototype,p,p.enumerable,I,b),v(this,g,null,I,b)}for(var T=1,w=arguments.length;T<w;T++)this.inject(arguments[T]);return this},extend:function(){for(var p=this,g,I,b=0,T,w=arguments.length;b<w&&!(g&&I);b++)T=arguments[b],g=g||T.initialize,I=I||T.prototype;return g=g||function(){p.apply(this,arguments)},I=g.prototype=I||i(this.prototype),u(I,"constructor",{value:g,writable:!0,configurable:!0}),v(g,this),arguments.length&&this.inject.apply(g,arguments),g.base=p,g}}).inject({enumerable:!1,initialize:y,set:y,inject:function(){for(var p=0,g=arguments.length;p<g;p++){var I=arguments[p];I&&v(this,I,I.enumerable,I.beans,I.preserve)}return this},extend:function(){var p=i(this);return p.inject.apply(p,arguments)},each:function(p,g){return c(this,p,g)},clone:function(){return new this.constructor(this)},statics:{set:h,each:c,create:i,define:u,describe:s,clone:function(p){return h(new p.constructor,p)},isPlainObject:function(p){var g=p!=null&&p.constructor;return g&&(g===Object||g===y||g.name==="Object")},pick:function(p,g){return p!==f?p:g},slice:function(p,g,I){return n.call(p,g,I)}}})};r.exports=d,d.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+d.each(this,function(t,e){if(!/^_/.test(e)){var n=typeof t;this.push(e+": "+(n==="number"?Y.instance.number(t):n==="string"?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return d.importJSON(t,this)},exportJSON:function(t){return d.exportJSON(this,t)},toJSON:function(){return d.serialize(this)},set:function(t,e){return t&&d.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),n=e.prototype._class;return n&&!d.exports[n]&&(d.exports[n]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&typeof t=="object"&&typeof e=="object"){if(Array.isArray(t)&&Array.isArray(e)){var n=t.length;if(n!==e.length)return!1;for(;n--;)if(!d.equals(t[n],e[n]))return!1}else{var i=Object.keys(t),n=i.length;if(n!==Object.keys(e).length)return!1;for(;n--;){var s=i[n];if(!(e.hasOwnProperty(s)&&d.equals(t[s],e[s])))return!1}}return!0}return!1},read:function(t,e,n,i){if(this===d){var s=this.peek(t,e);return t.__index++,s}var u=this.prototype,l=u._readIndex,o=e||l&&t.__index||0,h=t.length,c=t[o];if(i=i||h-o,c instanceof this||n&&n.readNull&&c==null&&i<=1)return l&&(t.__index=o+1),c&&n&&n.clone?c.clone():c;if(c=d.create(u),l&&(c.__read=!0),c=c.initialize.apply(c,o>0||o+i<h?d.slice(t,o,o+i):t)||c,l){t.__index=o+c.__read;var v=c.__filtered;v&&(t.__filtered=v,c.__filtered=f),c.__read=f}return c},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,n,i){for(var s=[],u,l=e||0,o=i?l+i:t.length,h=l;h<o;h++)s.push(Array.isArray(u=t[h])?this.read(u,0,n):this.read(t,h,n,1));return s},readNamed:function(t,e,n,i,s){var u=this.getNamed(t,e),l=u!==f;if(l){var o=t.__filtered;if(!o){var h=this.getSource(t);o=t.__filtered=d.create(h),o.__unfiltered=h}o[e]=f}return this.read(l?[u]:t,n,i,s)},readSupported:function(t,e){var n=this.getSource(t),i=this,s=!1;return n&&Object.keys(n).forEach(function(u){if(u in e){var l=i.readNamed(t,u);l!==f&&(e[u]=l),s=!0}}),s},getSource:function(t){var e=t.__source;if(e===f){var n=t.length===1&&t[0];e=t.__source=n&&d.isPlainObject(n)?n:null}return e},getNamed:function(t,e){var n=this.getSource(t);if(n)return e?n[e]:t.__filtered||n},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,n,i){var s;function u(v){if(!(n&&v in n)&&!(s&&v in s)){var y=e[v];y!==f&&(t[v]=y)}}if(i){for(var l={},o=0,h,c=i.length;o<c;o++)(h=i[o])in e&&(u(h),l[h]=!0);s=l}return Object.keys(e.__unfiltered||e).forEach(u),t},isPlainValue:function(t,e){return d.isPlainObject(t)||Array.isArray(t)||e&&typeof t=="string"},serialize:function(t,e,n,i){e=e||{};var s=!i,u;if(s&&(e.formatter=new Y(e.precision),i={length:0,definitions:{},references:{},add:function(y,p){var g="#"+y._id,I=this.references[g];if(!I){this.length++;var b=p.call(y),T=y._class;T&&b[0]!==T&&b.unshift(T),this.definitions[g]=b,I=this.references[g]=[g]}return I}}),t&&t._serialize){u=t._serialize(e,i);var l=t._class;l&&!t._compactSerialize&&(s||!n)&&u[0]!==l&&u.unshift(l)}else if(Array.isArray(t)){u=[];for(var o=0,h=t.length;o<h;o++)u[o]=d.serialize(t[o],e,n,i)}else if(d.isPlainObject(t)){u={};for(var c=Object.keys(t),o=0,h=c.length;o<h;o++){var v=c[o];u[v]=d.serialize(t[v],e,n,i)}}else typeof t=="number"?u=e.formatter.number(t,e.precision):u=t;return s&&i.length>0?[["dictionary",i.definitions],u]:u},deserialize:function(t,e,n,i,s){var u=t,l=!n,o=l&&t&&t.length&&t[0][0]==="dictionary";if(n=n||{},Array.isArray(t)){var h=t[0],c=h==="dictionary";if(t.length==1&&/^#/.test(h))return n.dictionary[h];h=d.exports[h],u=[];for(var v=h?1:0,y=t.length;v<y;v++)u.push(d.deserialize(t[v],e,n,c,o));if(h){var p=u;e?u=e(h,p,l||s):u=new h(p)}}else if(d.isPlainObject(t)){u={},i&&(n.dictionary=u);for(var g in t)u[g]=d.deserialize(t[g],e,n)}return o?u[1]:u},exportJSON:function(t,e){var n=d.serialize(t,e);return e&&e.asString==!1?n:JSON.stringify(n)},importJSON:function(t,e){return d.deserialize(typeof t=="string"?JSON.parse(t):t,function(n,i,s){var u=s&&e&&e.constructor===n,l=u?e:d.create(n.prototype);if(i.length===1&&l instanceof it&&(u||!(l instanceof qt))){var o=i[0];d.isPlainObject(o)&&(o.insert=!1,u&&(i=i.concat([it.INSERT])))}return(u?l.set:n).apply(l,i),u&&(e=null),l})},push:function(t,e){var n=e.length;if(n<4096)t.push.apply(t,e);else{var i=t.length;t.length+=n;for(var s=0;s<n;s++)t[i+s]=e[s]}return t},splice:function(t,e,n,i){var s=e&&e.length,u=n===f;n=u?t.length:n,n>t.length&&(n=t.length);for(var l=0;l<s;l++)e[l]._index=n+l;if(u)return d.push(t,e),[];var o=[n,i];e&&d.push(o,e);for(var h=t.splice.apply(t,o),l=0,c=h.length;l<c;l++)h[l]._index=f;for(var l=n+s,c=t.length;l<c;l++)t[l]._index=l;return h},capitalize:function(t){return t.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var k={on:function(t,e){if(typeof t!="string")d.each(t,function(u,l){this.on(l,u)},this);else{var n=this._eventTypes,i=n&&n[t],s=this._callbacks=this._callbacks||{};s=s[t]=s[t]||[],s.indexOf(e)===-1&&(s.push(e),i&&i.install&&s.length===1&&i.install.call(this,t))}return this},off:function(t,e){if(typeof t!="string"){d.each(t,function(l,o){this.off(o,l)},this);return}var n=this._eventTypes,i=n&&n[t],s=this._callbacks&&this._callbacks[t],u;return s&&(!e||(u=s.indexOf(e))!==-1&&s.length===1?(i&&i.uninstall&&i.uninstall.call(this,t),delete this._callbacks[t]):u!==-1&&s.splice(u,1)),this},once:function(t,e){return this.on(t,function n(){e.apply(this,arguments),this.off(t,n)})},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];if(!n)return!1;var i=d.slice(arguments,1),s=e&&e.target&&!e.currentTarget;n=n.slice(),s&&(e.currentTarget=this);for(var u=0,l=n.length;u<l;u++)if(n[u].apply(this,i)==!1){e&&e.stop&&e.stop();break}return s&&delete e.currentTarget,!0},responds:function(t){return!!(this._callbacks&&this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,n=this._callbacks,i=t?"install":"uninstall";if(e){for(var s in n)if(n[s].length>0){var u=e[s],l=u&&u[i];l&&l.call(this,s)}}},statics:{inject:function t(e){var n=e._events;if(n){var i={};d.each(n,function(s,u){var l=typeof s=="string",o=l?s:u,h=d.capitalize(o),c=o.substring(2).toLowerCase();i[c]=l?{}:s,o="_"+o,e["get"+h]=function(){return this[o]},e["set"+h]=function(v){var y=this[o];y&&this.off(c,y),v&&this.on(c,v),this[o]=v}}),e._eventTypes=i}return t.base.apply(this,arguments)}}},q=d.extend({_class:"PaperScope",initialize:function t(){lt=this,this.settings=new d({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var n=ut.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:st.nativeModes},ut.release(n)}if(!this.agent){var i=a.navigator.userAgent.toLowerCase(),s=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],u=s==="darwin"?"mac":s,l=e.agent=e.browser={platform:u};u&&(l[u]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(o,h,c,v,y){if(!l.chrome){var p=h==="opera"?v:/^(node|trident)$/.test(h)?y:c;l.version=p,l.versionNumber=parseFloat(p),h={trident:"msie",jsdom:"node"}[h]||h,l.name=h,l[h]=!0}}),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.12.18",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){var n=lt.PaperScript.execute(t,this,e);return Qt.updateFocus(),n},install:function(t){var e=this;d.each(["project","view","tool"],function(i){d.define(t,i,{configurable:!0,get:function(){return e[i]}})});for(var n in this)!/^_/.test(n)&&this[n]&&(t[n]=this[n])},setup:function(t){return lt=this,this.project=new Ft(t),this},createCanvas:function(t,e){return ut.getCanvas(t,e)},activate:function(){lt=this},clear:function(){for(var t=this.projects,e=this.tools,n=t.length-1;n>=0;n--)t[n].remove();for(var n=e.length-1;n>=0;n--)e[n].remove()},remove:function(){this.clear(),delete q._scopes[this._id]},statics:new function(){function t(e){return e+="Attribute",function(n,i){return n[e](i)||n[e]("data-paper-"+i)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),Z=d.extend(k,{initialize:function(t){this._scope=lt,this._index=this._scope[this._list].push(this)-1,(t||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(d.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),tt={findItemBoundsCollisions:function(t,e,n){function i(l){for(var o=new Array(l.length),h=0;h<l.length;h++){var c=l[h].getBounds();o[h]=[c.left,c.top,c.right,c.bottom]}return o}var s=i(t),u=!e||e===t?s:i(e);return this.findBoundsCollisions(s,u,n||0)},findCurveBoundsCollisions:function(t,e,n,i){function s(p){for(var g=Math.min,I=Math.max,b=new Array(p.length),T=0;T<p.length;T++){var w=p[T];b[T]=[g(w[0],w[2],w[4],w[6]),g(w[1],w[3],w[5],w[7]),I(w[0],w[2],w[4],w[6]),I(w[1],w[3],w[5],w[7])]}return b}var u=s(t),l=!e||e===t?u:s(e);if(i){for(var o=this.findBoundsCollisions(u,l,n||0,!1,!0),h=this.findBoundsCollisions(u,l,n||0,!0,!0),c=[],v=0,y=o.length;v<y;v++)c[v]={hor:o[v],ver:h[v]};return c}return this.findBoundsCollisions(u,l,n||0)},findBoundsCollisions:function(t,e,n,i,s){var u=!e||t===e,l=u?t:t.concat(e),o=t.length,h=l.length;function c(ht,_t,yt){for(var J=0,$=ht.length;J<$;){var gt=$+J>>>1;l[ht[gt]][_t]<yt?J=gt+1:$=gt}return J-1}for(var v=i?1:0,y=v+2,p=i?0:1,g=p+2,I=new Array(h),b=0;b<h;b++)I[b]=b;I.sort(function(ht,_t){return l[ht][v]-l[_t][v]});for(var T=[],w=new Array(o),b=0;b<h;b++){var C=I[b],_=l[C],x=u?C:C-o,O=C<o,E=u||!O,P=O?[]:null;if(T.length){var M=c(T,y,_[v]-n)+1;if(T.splice(0,M),u&&s){P=P.concat(T);for(var L=0;L<T.length;L++){var z=T[L];w[z].push(x)}}else for(var D=_[g],A=_[p],L=0;L<T.length;L++){var z=T[L],N=l[z],V=z<o,j=u||z>=o;(s||(O&&j||E&&V)&&D>=N[p]-n&&A<=N[g]+n)&&(O&&j&&P.push(u?z:z-o),E&&V&&w[z].push(x))}}if(O&&(t===e&&P.push(C),w[C]=P),T.length){var W=_[y],K=c(T,y,W);T.splice(K+1,0,C)}else T.push(C)}for(var b=0;b<w.length;b++){var nt=w[b];nt&&nt.sort(function(_t,yt){return _t-yt})}return w}},Y=d.extend({initialize:function(t){this.precision=d.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,n){return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});Y.instance=new Y;var et=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,i=Math.sqrt,s=Math.pow,u=Math.log2||function(y){return Math.log(y)*Math.LOG2E},l=1e-12,o=112e-18;function h(y,p,g){return y<p?p:y>g?g:y}function c(y,p,g){function I(M){var L=M*134217729,z=M-L,D=z+L,A=M-D;return[D,A]}var b=p*p-y*g,T=p*p+y*g;if(n(b)*3<T){var w=I(y),C=I(p),_=I(g),x=p*p,O=C[0]*C[0]-x+2*C[0]*C[1]+C[1]*C[1],E=y*g,P=w[0]*_[0]-E+w[0]*_[1]+w[1]*_[0]+w[1]*_[1];b=x-E+(O-P)}return b}function v(){var y=Math.max.apply(Math,arguments);return y&&(y<1e-8||y>1e8)?s(2,-Math.round(u(y))):0}return{EPSILON:l,MACHINE_EPSILON:o,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(i(2)-1)/3,isZero:function(y){return y>=-l&&y<=l},isMachineZero:function(y){return y>=-o&&y<=o},clamp:h,integrate:function(y,p,g,I){for(var b=t[I-2],T=e[I-2],w=(g-p)*.5,C=w+p,_=0,x=I+1>>1,O=I&1?T[_++]*y(C):0;_<x;){var E=w*b[_];O+=T[_++]*(y(C+E)+y(C-E))}return w*O},findRoot:function(y,p,g,I,b,T,w){for(var C=0;C<T;C++){var _=y(g),x=_/p(g),O=g-x;if(n(x)<w){g=O;break}_>0?(b=g,g=O<=I?(I+b)*.5:O):(I=g,g=O>=b?(I+b)*.5:O)}return h(g,I,b)},solveQuadratic:function(y,p,g,I,b,T){var w,C=1/0;if(n(y)<l){if(n(p)<l)return n(g)<l?-1:0;w=-g/p}else{p*=-.5;var _=c(y,p,g);if(_&&n(_)<o){var x=v(n(y),n(p),n(g));x&&(y*=x,p*=x,g*=x,_=c(y,p,g))}if(_>=-o){var O=_<0?0:i(_),E=p+(p<0?-O:O);E===0?(w=g/y,C=-w):(w=E/y,C=g/E)}}var P=0,M=b==null,L=b-l,z=T+l;return isFinite(w)&&(M||w>L&&w<z)&&(I[P++]=M?w:h(w,b,T)),C!==w&&isFinite(C)&&(M||C>L&&C<z)&&(I[P++]=M?C:h(C,b,T)),P},solveCubic:function(y,p,g,I,b,T,w){var C=v(n(y),n(p),n(g),n(I)),_,x,O,E,P;C&&(y*=C,p*=C,g*=C,I*=C);function M(K){_=K;var nt=y*_;x=nt+p,O=x*_+g,E=(nt+x)*_+O,P=O*_+I}if(n(y)<l)y=p,x=g,O=I,_=1/0;else if(n(I)<l)x=p,O=g,_=0;else{M(-(p/y)/3);var L=P/y,z=s(n(L),1/3),D=L<0?-1:1,A=-E/y,N=A>0?1.324717957244746*Math.max(z,i(A)):z,V=_-D*N;if(V!==_){do M(V),V=E===0?_:_-P/E/(1+o);while(D*V>D*_);n(y)*_*_>n(I/_)&&(O=-I/_,x=(O-g)/_)}}var j=et.solveQuadratic(y,x,O,b,T,w),W=T==null;return isFinite(_)&&(j===0||j>0&&_!==b[0]&&_!==b[1])&&(W||_>T-l&&_<w+l)&&(b[j++]=W?_:h(_,T,w)),j}}},Ct={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}else return this._id++}},F=d.extend({_class:"Point",_readIndex:!0,initialize:function(e,n){var i=typeof e,s=this.__read,u=0;if(i==="number"){var l=typeof n=="number";this._set(e,l?n:e),s&&(u=l?2:1)}else if(i==="undefined"||e===null)this._set(0,0),s&&(u=e===null?1:0);else{var o=i==="string"?e.split(/[\s,]+/)||[]:e;u=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):"x"in o?this._set(o.x||0,o.y||0):"width"in o?this._set(o.width||0,o.height||0):"angle"in o?(this._set(o.length||0,0),this.setAngle(o.angle||0)):(this._set(0,0),u=0)}return s&&(this.__read=u),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new F(this.x,this.y)},toString:function(){var t=Y.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();et.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=F.read(arguments),e=this.getLength()*t.getLength();if(et.isZero(e))return NaN;var n=this.dot(t)/e;return Math.acos(n<-1?-1:n>1?1:n)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=F.read(arguments);return Math.atan2(this.cross(t),this.dot(t))*180/Math.PI},getDistance:function(){var t=arguments,e=F.read(t),n=e.x-this.x,i=e.y-this.y,s=n*n+i*i,u=d.read(t);return u?s:Math.sqrt(s)},normalize:function(t){t===f&&(t=1);var e=this.getLength(),n=e!==0?t/e:0,i=new F(this.x*n,this.y*n);return n>=0&&(i._angle=this._angle),i},rotate:function(t,e){if(t===0)return this.clone();t=t*Math.PI/180;var n=e?this.subtract(e):this,i=Math.sin(t),s=Math.cos(t);return n=new F(n.x*s-n.y*i,n.x*i+n.y*s),e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=F.read(arguments);return new F(this.x+t.x,this.y+t.y)},subtract:function(){var t=F.read(arguments);return new F(this.x-t.x,this.y-t.y)},multiply:function(){var t=F.read(arguments);return new F(this.x*t.x,this.y*t.y)},divide:function(){var t=F.read(arguments);return new F(this.x/t.x,this.y/t.y)},modulo:function(){var t=F.read(arguments);return new F(this.x%t.x,this.y%t.y)},negate:function(){return new F(-this.x,-this.y)},isInside:function(){return vt.read(arguments).contains(this)},isClose:function(){var t=arguments,e=F.read(t),n=d.read(t);return this.getDistance(e)<=n},isCollinear:function(){var t=F.read(arguments);return F.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=F.read(arguments);return F.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=et.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=F.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=F.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=F.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new F(t.x*e,t.y*e)},statics:{min:function(){var t=arguments,e=F.read(t),n=F.read(t);return new F(Math.min(e.x,n.x),Math.min(e.y,n.y))},max:function(){var t=arguments,e=F.read(t),n=F.read(t);return new F(Math.max(e.x,n.x),Math.max(e.y,n.y))},random:function(){return new F(Math.random(),Math.random())},isCollinear:function(t,e,n,i){return Math.abs(t*i-e*n)<=Math.sqrt((t*t+e*e)*(n*n+i*i))*1e-8},isOrthogonal:function(t,e,n,i){return Math.abs(t*n+e*i)<=Math.sqrt((t*t+e*e)*(n*n+i*i))*1e-8}}},d.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new F(e(this.x),e(this.y))}},{})),Ht=F.extend({initialize:function(e,n,i,s){this._x=e,this._y=n,this._owner=i,this._setter=s},_set:function(t,e,n){return this._x=t,this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),ct=d.extend({_class:"Size",_readIndex:!0,initialize:function(e,n){var i=typeof e,s=this.__read,u=0;if(i==="number"){var l=typeof n=="number";this._set(e,l?n:e),s&&(u=l?2:1)}else if(i==="undefined"||e===null)this._set(0,0),s&&(u=e===null?1:0);else{var o=i==="string"?e.split(/[\s,]+/)||[]:e;u=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):"width"in o?this._set(o.width||0,o.height||0):"x"in o?this._set(o.x||0,o.y||0):(this._set(0,0),u=0)}return s&&(this.__read=u),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new ct(this.width,this.height)},toString:function(){var t=Y.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=ct.read(arguments);return new ct(this.width+t.width,this.height+t.height)},subtract:function(){var t=ct.read(arguments);return new ct(this.width-t.width,this.height-t.height)},multiply:function(){var t=ct.read(arguments);return new ct(this.width*t.width,this.height*t.height)},divide:function(){var t=ct.read(arguments);return new ct(this.width/t.width,this.height/t.height)},modulo:function(){var t=ct.read(arguments);return new ct(this.width%t.width,this.height%t.height)},negate:function(){return new ct(-this.width,-this.height)},isZero:function(){var t=et.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new ct(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new ct(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new ct(Math.random(),Math.random())}}},d.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new ct(e(this.width),e(this.height))}},{})),te=ct.extend({initialize:function(e,n,i,s){this._width=e,this._height=n,this._owner=i,this._setter=s},_set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),vt=d.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,n,i,s){var u=arguments,l=typeof e,o;if(l==="number"?(this._set(e,n,i,s),o=4):l==="undefined"||e===null?(this._set(0,0,0,0),o=e===null?1:0):u.length===1&&(Array.isArray(e)?(this._set.apply(this,e),o=1):e.x!==f||e.width!==f?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),o=1):e.from===f&&e.to===f&&(this._set(0,0,0,0),d.readSupported(u,this)&&(o=1))),o===f){var h=F.readNamed(u,"from"),c=d.peek(u),v=h.x,y=h.y,p,g;if(c&&c.x!==f||d.hasNamed(u,"to")){var I=F.readNamed(u,"to");p=I.x-v,g=I.y-y,p<0&&(v=I.x,p=-p),g<0&&(y=I.y,g=-g)}else{var b=ct.read(u);p=b.width,g=b.height}this._set(v,y,p,g),o=u.__index}var T=u.__filtered;return T&&(this.__filtered=T),this.__read&&(this.__read=o),this},set:"#initialize",_set:function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},clone:function(){return new vt(this.x,this.y,this.width,this.height)},equals:function(t){var e=d.isPlainValue(t)?vt.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=Y.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){var e=t?F:Ht;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var t=F.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?ct:te;return new e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=ct.read(arguments),e=this._sx,n=this._sy,i=t.width,s=t.height;e&&(this.x+=(this.width-i)*e),n&&(this.y+=(this.height-s)*n),this.width=i,this.height=s,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=this._sx===.5?e*2:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=this._sy===.5?e*2:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=this._sx===.5?e*2:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=this._sy===.5?e*2:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||this._sx===.5?this.x=t-this.width/2:(this._sx&&(this.x+=(t-this.x)*2*this._sx),this.width=(t-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||this._sy===.5?this.y=t-this.height/2:(this._sy&&(this.y+=(t-this.y)*2*this._sy),this.height=(t-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(t){var e=t?F:Ht;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=F.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(t){return t&&t.width!==f||(Array.isArray(t)?t:arguments).length===4?this._containsRectangle(vt.read(arguments)):this._containsPoint(F.read(arguments))},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e+t.width<=this.x+this.width&&n+t.height<=this.y+this.height},intersects:function(){var t=vt.read(arguments),e=d.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=vt.read(arguments),e=Math.max(this.x,t.x),n=Math.max(this.y,t.y),i=Math.min(this.x+this.width,t.x+t.width),s=Math.min(this.y+this.height,t.y+t.height);return new vt(e,n,i-e,s-n)},unite:function(){var t=vt.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width),s=Math.max(this.y+this.height,t.y+t.height);return new vt(e,n,i-e,s-n)},include:function(){var t=F.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x),s=Math.max(this.y+this.height,t.y);return new vt(e,n,i-e,s-n)},expand:function(){var t=ct.read(arguments),e=t.width,n=t.height;return new vt(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===f?t:e)-this.height)}},d.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var n=t.join(""),i=/^[RL]/.test(n);e>=4&&(t[1]+=i?"Y":"X");var s=t[i?0:1],u=t[i?1:0],l="get"+s,o="get"+u,h="set"+s,c="set"+u,v="get"+n,y="set"+n;this[v]=function(p){var g=p?F:Ht;return new g(this[l](),this[o](),this,y)},this[y]=function(){var p=F.read(arguments);this[h](p.x),this[c](p.y)}},{beans:!0})),ie=vt.extend({initialize:function(e,n,i,s,u,l){this._set(e,n,i,s,!0),this._owner=u,this._setter=l},_set:function(t,e,n,i,s){return this._x=t,this._y=e,this._width=n,this._height=i,s||this._owner[this._setter](this),this}},new function(){var t=vt.prototype;return d.each(["x","y","width","height"],function(e){var n=d.capitalize(e),i="_"+e;this["get"+n]=function(){return this[i]},this["set"+n]=function(s){this[i]=s,this._dontNotify||this._owner[this._setter](this)}},d.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var n="set"+e;this[n]=function(){this._dontNotify=!0,t[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(e){var n=this._owner;n._changeSelection&&n._changeSelection(2,e)}}))}),St=d.extend({_class:"Matrix",initialize:function t(e,n){var i=arguments,s=i.length,u=!0;if(s>=6?this._set.apply(this,i):s===1||s===2?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,n):Array.isArray(e)?this._set.apply(this,n?e.concat([n]):e):u=!1:s?u=!1:this.reset(),!u)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,n,i,s,u,l){return this._a=t,this._b=e,this._c=n,this._d=i,this._tx=s,this._ty=u,l||this._changed(),this},_serialize:function(t,e){return d.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new St(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=Y.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var n=this._owner;return n?(n.transform(null,d.pick(t,!0),e),this.isIdentity()):!1},translate:function(){var t=F.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._c,this._ty+=e*this._b+n*this._d,this._changed(),this},scale:function(){var t=arguments,e=F.read(t),n=F.read(t,0,{readNull:!0});return n&&this.translate(n),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,n&&this.translate(n.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=F.read(arguments,1),n=e.x,i=e.y,s=Math.cos(t),u=Math.sin(t),l=n-n*s+i*u,o=i-n*u-i*s,h=this._a,c=this._b,v=this._c,y=this._d;return this._a=s*h+u*v,this._b=s*c+u*y,this._c=-u*h+s*v,this._d=-u*c+s*y,this._tx+=l*h+o*v,this._ty+=l*c+o*y,this._changed(),this},shear:function(){var t=arguments,e=F.read(t),n=F.read(t,0,{readNull:!0});n&&this.translate(n);var i=this._a,s=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*i,this._d+=e.x*s,n&&this.translate(n.negate()),this._changed(),this},skew:function(){var t=arguments,e=F.read(t),n=F.read(t,0,{readNull:!0}),i=Math.PI/180,s=new F(Math.tan(e.x*i),Math.tan(e.y*i));return this.shear(s,n)},append:function(t,e){if(t){var n=this._a,i=this._b,s=this._c,u=this._d,l=t._a,o=t._c,h=t._b,c=t._d,v=t._tx,y=t._ty;this._a=l*n+h*s,this._c=o*n+c*s,this._b=l*i+h*u,this._d=o*i+c*u,this._tx+=v*n+y*s,this._ty+=v*i+y*u,e||this._changed()}return this},prepend:function(t,e){if(t){var n=this._a,i=this._b,s=this._c,u=this._d,l=this._tx,o=this._ty,h=t._a,c=t._c,v=t._b,y=t._d,p=t._tx,g=t._ty;this._a=h*n+c*i,this._c=h*s+c*u,this._b=v*n+y*i,this._d=v*s+y*u,this._tx=h*l+c*o+p,this._ty=v*l+y*o+g,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,n=this._c,i=this._d,s=this._tx,u=this._ty,l=t*i-e*n,o=null;return l&&!isNaN(l)&&isFinite(s)&&isFinite(u)&&(this._a=i/l,this._b=-e/l,this._c=-n/l,this._d=t/l,this._tx=(n*u-i*s)/l,this._ty=(e*s-t*u)/l,o=this),o},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new St(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,n){return arguments.length<3?this._transformPoint(F.read(arguments)):this._transformCoordinates(t,e,n)},_transformPoint:function(t,e,n){var i=t.x,s=t.y;return e||(e=new F),e._set(i*this._a+s*this._c+this._tx,i*this._b+s*this._d+this._ty,n)},_transformCoordinates:function(t,e,n){for(var i=0,s=2*n;i<s;i+=2){var u=t[i],l=t[i+1];e[i]=u*this._a+l*this._c+this._tx,e[i+1]=u*this._b+l*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,n=t.y,i=e+t.width,s=n+t.height,u=[e,n,i,n,i,s,e,s];return this._transformCoordinates(u,u,4)},_transformBounds:function(t,e,n){for(var i=this._transformCorners(t),s=i.slice(0,2),u=s.slice(),l=2;l<8;l++){var o=i[l],h=l&1;o<s[h]?s[h]=o:o>u[h]&&(u[h]=o)}return e||(e=new vt),e._set(s[0],s[1],u[0]-s[0],u[1]-s[1],n)},inverseTransform:function(){return this._inverseTransform(F.read(arguments))},_inverseTransform:function(t,e,n){var i=this._a,s=this._b,u=this._c,l=this._d,o=this._tx,h=this._ty,c=i*l-s*u,v=null;if(c&&!isNaN(c)&&isFinite(o)&&isFinite(h)){var y=t.x-this._tx,p=t.y-this._ty;e||(e=new F),v=e._set((y*l-p*u)/c,(p*i-y*s)/c,n)}return v},decompose:function(){var t=this._a,e=this._b,n=this._c,i=this._d,s=t*i-e*n,u=Math.sqrt,l=Math.atan2,o=180/Math.PI,h,c,v;if(t!==0||e!==0){var y=u(t*t+e*e);h=Math.acos(t/y)*(e>0?1:-1),c=[y,s/y],v=[l(t*n+e*i,y*y),0]}else if(n!==0||i!==0){var p=u(n*n+i*i);h=Math.asin(n/p)*(i>0?1:-1),c=[s/p,p],v=[0,l(t*n+e*i,p*p)]}else h=0,v=c=[0,0];return{translation:this.getTranslation(),rotation:h*o,scaling:new F(c),skewing:new F(v[0]*o,v[1]*o)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new F(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},d.each(["a","b","c","d","tx","ty"],function(t){var e=d.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(i){this[n]=i,this._changed()}},{})),xt=d.extend({_class:"Line",initialize:function(e,n,i,s,u){var l=!1;arguments.length>=4?(this._px=e,this._py=n,this._vx=i,this._vy=s,l=u):(this._px=e.x,this._py=e.y,this._vx=n.x,this._vy=n.y,l=i),l||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new F(this._px,this._py)},getVector:function(){return new F(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return xt.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return xt.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return xt.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return F.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return F.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,n,i,s,u,l,o,h,c){h||(n-=t,i-=e,l-=s,o-=u);var v=n*o-i*l;if(!et.isMachineZero(v)){var y=t-s,p=e-u,g=(l*p-o*y)/v,I=(n*p-i*y)/v,b=1e-12,T=-b,w=1+b;if(c||T<g&&g<w&&T<I&&I<w)return c||(g=g<=0?0:g>=1?1:g),new F(t+g*n,e+g*i)}},getSide:function(t,e,n,i,s,u,l,o){l||(n-=t,i-=e);var h=s-t,c=u-e,v=h*i-c*n;return!o&&et.isMachineZero(v)&&(v=(h*n+h*n)/(n*n+i*i),v>=0&&v<=1&&(v=0)),v<0?-1:v>0?1:0},getSignedDistance:function(t,e,n,i,s,u,l){return l||(n-=t,i-=e),n===0?i>0?s-t:t-s:i===0?n<0?u-e:e-u:((s-t)*i-(u-e)*n)/(i>n?i*Math.sqrt(1+n*n/(i*i)):n*Math.sqrt(1+i*i/(n*n)))},getDistance:function(t,e,n,i,s,u,l){return Math.abs(xt.getSignedDistance(t,e,n,i,s,u,l))}}}),Ft=Z.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){Z.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Sn(null,null,this),this._view=Qt.create(this,e||ut.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return d.serialize(this._children,t,!0,e)},_changed:function(t,e){if(t&1){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var i=this._changes;if(i&&e){var s=this._changesById,u=e._id,l=s[u];l?l.flags|=t:i.push(s[u]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return t.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new qt({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:Se,match:function(n){var i=n._definition,s=i._id;return e[s]||(e[s]=!0,t.push(i)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var n in t){var i=t[n],s=i._selection;s&1&&i.isInserted()?e.push(i):s||this._updateSelection(i)}return e},_updateSelection:function(t){var e=t._id,n=this._selectionItems;t._selection?n[e]!==t&&(this._selectionCount++,n[e]=t):n[e]===t&&(this._selectionCount--,delete n[e])},selectAll:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(f,t)},insertLayer:function(t,e){if(e instanceof qt){e._remove(!1,!0),d.splice(this._children,[e],t,0),e._setProject(this,!0);var n=e._name;n&&e.setName(n),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,n){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(f,new qt(it.NO_INSERT),!0)).insertChild(t,e),n&&e.activate&&e.activate(),e},getItems:function(t){return it._getItems(this,t)},getItem:function(t){return it._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return d.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){t==="mouseup"&&(e.mousedrag=null);var n=e[t];if(n){for(var i in n){var s=n[i];for(var u in e){var l=e[u];l&&l!=n&&delete l[s._id]}s.remove()}e[t]=null}}},draw:function(t,e,n){this._updateVersion++,t.save(),e.applyToContext(t);for(var i=this._children,s=new d({offset:new F(0,0),pixelRatio:n,viewMatrix:e.isIdentity()?null:e,matrices:[new St],updateMatrix:!0}),u=0,l=i.length;u<l;u++)i[u].draw(t,s);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var o=this._selectionItems,h=this._scope.settings.handleSize,c=this._updateVersion;for(var v in o)o[v]._drawSelection(t,e,h,o,c);t.restore()}}}),it=d.extend(k,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=d.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new St,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return d.each(t,function(e){this._events[e]={install:function(n){this.getView()._countItemEvent(n,1)},uninstall:function(n){this.getView()._countItemEvent(n,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var n=t&&d.isPlainObject(t),i=n&&t.internal===!0,s=this._matrix=new St,u=n&&t.project||lt.project,l=lt.settings;return this._id=i?null:Ct.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&l.applyMatrix,e&&s.translate(e),s._owner=this,this._style=new Sn(u._currentStyle,this,u),i||n&&t.insert==!1||!l.insertItems&&!(n&&t.insert==!0)?this._setProject(u):(n&&t.parent||u)._insertItem(f,this,!0),n&&t!==it.NO_INSERT&&t!==it.INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(t,e){var n={},i=this;function s(u){for(var l in u){var o=i[l];d.equals(o,l==="leading"?u.fontSize*1.2:u[l])||(n[l]=d.serialize(o,t,l!=="data",e))}}return s(this._serializeFields),this instanceof Vt||s(this._style._defaults),[this._class,n]},_changed:function(t){var e=this._symbol,n=this._parent||e,i=this._project;t&8&&(this._bounds=this._position=this._decomposed=f),t&16&&(this._globalMatrix=f),n&&t&72&&it._clearBoundsCache(n),t&2&&it._clearBoundsCache(this),i&&i._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var n=e._children,i=e._namedChildren;(i[t]=i[t]||[]).push(this),t in n||(n[t]=this)}this._name=t||f,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},d.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=d.capitalize(t),n="_"+t,i={locked:256,visible:265};this["get"+e]=function(){return this[n]},this["set"+e]=function(s){s!=this[n]&&(this[n]=s,this._changed(i[t]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){if(this._selectChildren){for(var t=this._children,e=0,n=t.length;e<n;e++)if(t[e].isSelected())return!0}return!!(this._selection&1)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(this._selection&1);if(t&&e){for(var n=0,i=t.length;n<i;n++)if(!t[n].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var n=0,i=e.length;n<i;n++)e[n].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=t?F:Ht,n=this._position||(this._position=this._getPositionFromBounds());return new e(n.x,n.y,this,"setPosition")},setPosition:function(){this.translate(F.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new Ht(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=F.read(arguments,0,{clone:!0,readNull:!0}),this._position=f}},d.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(n){return this.getBounds(n,t)}},{beans:!0,getBounds:function(t,e){var n=e||t instanceof St,i=d.set({},n?e:t,this._boundsOptions);(!i.stroke||this.getStrokeScaling())&&(i.cacheItem=this);var s=this._getCachedBounds(n&&t,i).rect;return arguments.length?s:new ie(s.x,s.y,s.width,s.height,this,"setBounds")},setBounds:function(){var t=vt.read(arguments),e=this.getBounds(),n=this._matrix,i=new St,s=t.getCenter();i.translate(s),(t.width!=e.width||t.height!=e.height)&&(n.isInvertible()||(n.set(n._backup||new St().translate(n.getTranslation())),e=this.getBounds()),i.scale(e.width!==0?t.width/e.width:0,e.height!==0?t.height/e.height:0)),s=e.getCenter(),i.translate(-s.x,-s.y),this.transform(i)},_getBounds:function(t,e){var n=this._children;return!n||!n.length?new vt:(it._updateBoundsCache(this,e.cacheItem),it._getBounds(n,t,e))},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,n){t=t&&t._orNullIfIdentity();var i=e.internal&&!n,s=e.cacheItem,u=i?null:this._matrix._orNullIfIdentity(),l=s&&(!t||t.equals(u))&&this._getBoundsCacheKey(e,i),o=this._bounds;if(it._updateBoundsCache(this._parent||this._symbol,s),l&&o&&l in o){var h=o[l];return{rect:h.rect.clone(),nonscaling:h.nonscaling}}var c=this._getBounds(t||u,e),v=c.rect||c,y=this._style,p=c.nonscaling||y.hasStroke()&&!y.getStrokeScaling();if(l){o||(this._bounds=o={});var h=o[l]={rect:v.clone(),nonscaling:p,internal:i}}return{rect:v,nonscaling:p}},_getStrokeMatrix:function(t,e){var n=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,i=n?n.getViewMatrix().invert():t;return i&&i._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var n=e._id,i=t._boundsCache=t._boundsCache||{ids:{},list:[]};i.ids[n]||(i.list.push(e),i.ids[n]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=f;for(var n=0,i=e.list,s=i.length;n<s;n++){var u=i[n];u!==t&&(u._bounds=u._position=f,u._boundsCache&&it._clearBoundsCache(u))}}},_getBounds:function(t,e,n){var i=1/0,s=-i,u=i,l=s,o=!1;n=n||{};for(var h=0,c=t.length;h<c;h++){var v=t[h];if(v._visible&&!v.isEmpty(!0)){var y=v._getCachedBounds(e&&e.appended(v._matrix),n,!0),p=y.rect;i=Math.min(p.x,i),u=Math.min(p.y,u),s=Math.max(p.x+p.width,s),l=Math.max(p.y+p.height,l),y.nonscaling&&(o=!0)}}return{rect:isFinite(i)?new vt(i,u,s-i,l-u):new vt,nonscaling:o}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(e!=null&&t!=null){var n=this._decomposed;this.rotate(t-e),n&&(n.rotation=t,this._decomposed=n)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new Ht(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=F.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var n=this.getRotation(),i=this._decomposed,s=new St,u=et.isZero;if(u(t.x)||u(t.y))s.translate(i.translation),n&&s.rotate(n),s.scale(e.x,e.y),this._matrix.set(s);else{var l=this.getPosition(!0);s.translate(l),n&&s.rotate(n),s.scale(e.x/t.x,e.y/t.y),n&&s.rotate(-n),s.translate(l.negate()),this.transform(s)}i&&(i.scaling=e,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix;if(e)for(var n=this._parent,i=[];n;){if(!n._globalMatrix){e=null;for(var s=0,u=i.length;s<u;s++)i[s]._globalMatrix=null;break}i.push(n),n=n._parent}if(!e){e=this._globalMatrix=this._matrix.clone();var n=this._parent;n&&e.prepend(n.getGlobalMatrix(!0))}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var n=this._children,i=0,s=n&&n.length;i<s;i++)n[i]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var n=this._children,i=0,s=n&&n.length;i<s;i++)n[i]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof qt)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(t){var e=this._parent,n=e&&e._children;n&&e.insertChildren(t in n?t:f,[this])},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return d.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(it.NO_INSERT),n=this._children,i=d.pick(t?t.insert:f,t===f||t===!0),s=d.pick(t?t.deep:f,!0);n&&e.copyAttributes(this),(!n||s)&&e.copyContent(this),n||e.copyAttributes(this),i&&e.insertAbove(this);var u=this._name,l=this._parent;if(u&&l){for(var n=l._children,o=u,h=1;n[u];)u=o+" "+h++;u!==o&&e.setName(u)}return e},copyContent:function(t){for(var e=t._children,n=0,i=e&&e.length;n<i;n++)this.addChild(e[n].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,s=n.length;i<s;i++){var u=n[i];t.hasOwnProperty(u)&&(this[u]=t[u])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var l=t._data,o=t._name;this._data=l?d.clone(l):null,o&&this.setName(o)},rasterize:function(t,e){var n,i,s;d.isPlainObject(t)?(n=t.resolution,i=t.insert,s=t.raster):(n=t,i=e),s||(s=new Yt(it.NO_INSERT));var u=this.getStrokeBounds(),l=(n||this.getView().getResolution())/72,o=u.getTopLeft().floor(),h=u.getBottomRight().ceil(),c=new ct(h.subtract(o)),v=c.multiply(l);if(s.setSize(v,!0),!v.isZero()){var y=s.getContext(!0),p=new St().scale(l).translate(o.negate());y.save(),p.applyToContext(y),this.draw(y,new d({matrices:[p]})),y.restore()}return s._matrix.set(new St().translate(o.add(c.divide(2))).scale(1/l)),(i===f||i)&&s.insertAbove(this),s},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(F.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var n=e.length-1;n>=0;n--)if(e[n].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return vt.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Bt.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof it?this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0:!1}},new function(){function t(){var i=arguments;return this._hitTest(F.read(i),ge.getOptions(i))}function e(){var i=arguments,s=F.read(i),u=ge.getOptions(i),l=[];return this._hitTest(s,new d({all:l},u)),l}function n(i,s,u,l){var o=this._children;if(o)for(var h=o.length-1;h>=0;h--){var c=o[h],v=c!==l&&c._hitTest(i,s,u);if(v&&!s.all)return v}return null}return Ft.inject({hitTest:t,hitTestAll:e,_hitTest:n}),{hitTest:t,hitTestAll:e,_hitTestChildren:n}},{_hitTest:function(t,e,n){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var i=this._matrix,s=n?n.appended(i):this.getGlobalMatrix().prepend(this.getView()._matrix),u=Math.max(e.tolerance,1e-12),l=e._tolerancePadding=new ct(Bt._getStrokePadding(u,i._shiftless().invert()));if(t=i._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(t))return null;var o=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==d.hyphenate(this._class)||e.class&&!(this instanceof e.class)),h=e.match,c=this,v,y;function p(_){return _&&h&&!h(_)&&(_=null),_&&e.all&&e.all.push(_),_}function g(_,x){var O=x?v["get"+x]():c.getPosition();if(t.subtract(O).divide(l).length<=1)return new ge(_,c,{name:x?d.hyphenate(x):_,point:O})}var I=e.position,b=e.center,T=e.bounds;if(o&&this._parent&&(I||b||T)){if((b||T)&&(v=this.getInternalBounds()),y=I&&g("position")||b&&g("center","Center"),!y&&T)for(var w=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],C=0;C<8&&!y;C++)y=g("bounds",w[C]);y=p(y)}return y||(y=this._hitTestChildren(t,e,s)||o&&p(this._hitTestSelf(t,e,s,this.getStrokeScaling()?null:s._shiftless().invert()))||null),y&&y.point&&(y.point=i.transform(y.point)),y},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new ge("fill",this)},matches:function(t,e){function n(l,o){for(var h in l)if(l.hasOwnProperty(h)){var c=l[h],v=o[h];if(d.isPlainObject(c)&&d.isPlainObject(v)){if(!n(c,v))return!1}else if(!d.equals(c,v))return!1}return!0}var i=typeof t;if(i==="object"){for(var s in t)if(t.hasOwnProperty(s)&&!this.matches(s,t[s]))return!1;return!0}else{if(i==="function")return t(this);if(t==="match")return e(this);var u=/^(empty|editable)$/.test(t)?this["is"+d.capitalize(t)]():t==="type"?d.hyphenate(this._class):this[t];if(t==="class"){if(typeof e=="function")return this instanceof e;u=this._class}if(typeof e=="function")return!!e(u);if(e){if(e.test)return e.test(u);if(d.isPlainObject(e))return n(e,u)}return d.equals(u,e)}},getItems:function(t){return it._getItems(this,t,this._matrix)},getItem:function(t){return it._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,n,i,s,u){if(!s){var l=typeof n=="object"&&n,o=l&&l.overlapping,h=l&&l.inside,c=o||h,p=c&&vt.read([c]);s={items:[],recursive:l&&l.recursive!==!1,inside:!!h,overlapping:!!o,rect:p,path:o&&new Bt.Rectangle({rectangle:p,insert:!1})},l&&(n=d.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var v=e._children,y=s.items,p=s.rect;i=p&&(i||new St);for(var g=0,I=v&&v.length;g<I;g++){var b=v[g],T=i&&i.appended(b._matrix),w=!0;if(p){var c=b.getBounds(T);if(!p.intersects(c))continue;p.contains(c)||s.overlapping&&(c.contains(p)||s.path.intersects(b,T))||(w=!1)}if(w&&b.matches(n)&&(y.push(b),u)||(s.recursive!==!1&&t(b,n,T,s,u),u&&y.length>0))break}return y}}},{importJSON:function(t){var e=d.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(f,t)},insertChild:function(t,e){var n=e?this.insertChildren(t,[e]):null;return n&&n[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var n=this._children;if(n&&e&&e.length>0){e=d.slice(e);for(var i={},s=e.length-1;s>=0;s--){var u=e[s],l=u&&u._id;!u||i[l]?e.splice(s,1):(u._remove(!1,!0),i[l]=!0)}d.splice(n,e,t,0);for(var o=this._project,h=o._changes,s=0,c=e.length;s<c;s++){var u=e[s],v=u._name;u._parent=this,u._setProject(o,!0),v&&u.setName(v),h&&u._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var n=t&&t._getOwner(),i=t!==this&&n?this:null;return i&&(i._remove(!1,!0),n._insertItem(t._index+e,i)),i},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(f,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(f,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&e.length===1){var n=e[0].reduce(t);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,n=t._namedChildren,i=this._name,s=n[i],u=s?s.indexOf(this):-1;u!==-1&&(e[i]==this&&delete e[i],s.splice(u,1),s.length?e[i]=s[0]:delete n[i])}},_remove:function(t,e){var n=this._getOwner(),i=this._project,s=this._index;return this._style&&this._style._dispose(),n?(this._name&&this._removeNamed(),s!=null&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),d.splice(n._children,null,s,1)),this._installEvents(!1),t&&i._changes&&this._changed(5),e&&n._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=d.pick(e,this._children.length);for(var n=d.splice(this._children,null,t,e-t),i=n.length-1;i>=0;i--)n[i]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var e=this._children,n=e?e.length:0;if(t){for(var i=0;i<n;i++)if(!e[i].isEmpty(t))return!1;return!0}return!n},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(l){var o=[];do o.unshift(l);while(l=l._parent);return o}for(var n=e(this),i=e(t),s=0,u=Math.min(n.length,i.length);s<u;s++)if(n[s]!=i[s])return n[s]._index<i[s]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return this._getOrder(t)===1},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return t?t.isDescendant(this):!1},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},d.each(["rotate","scale","shear","skew"],function(t){var e=t==="rotate";this[t]=function(){var n=arguments,i=(e?d:F).read(n),s=F.read(n,0,{readNull:!0});return this.transform(new St()[t](i,s||this.getPosition(!0)))}},{translate:function(){var t=new St;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,n){var i=this._matrix,s=t&&!t.isIdentity(),u=n&&this._canApplyMatrix||this._applyMatrix&&(s||!i.isIdentity()||e&&this._children);if(!s&&!u)return this;if(s){!t.isInvertible()&&i.isInvertible()&&(i._backup=i.getValues()),i.prepend(t,!0);var l=this._style,o=l.getFillColor(!0),h=l.getStrokeColor(!0);o&&o.transform(t),h&&h.transform(t)}if(u&&(u=this._transformContent(i,e,n))){var c=this._pivot;c&&i._transformPoint(c,c,!0),i.reset(!0),n&&this._canApplyMatrix&&(this._applyMatrix=!0)}var v=this._bounds,y=this._position;(s||u)&&this._changed(25);var p=s&&v&&t.decompose();if(p&&p.skewing.isZero()&&p.rotation%90===0){for(var g in v){var I=v[g];if(I.nonscaling)delete v[g];else if(u||!I.internal){var b=I.rect;t._transformBounds(b,b)}}this._bounds=v;var T=v[this._getBoundsCacheKey(this._boundsOptions||{})];T&&(this._position=this._getPositionFromBounds(T.rect))}else s&&y&&this._pivot&&(this._position=t._transformPoint(y,y));return this},_transformContent:function(t,e,n){var i=this._children;if(i){for(var s=0,u=i.length;s<u;s++)i[s].transform(t,e,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(F.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(F.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(F.read(arguments))},localToParent:function(){return this._matrix._transformPoint(F.read(arguments))},fitBounds:function(t,e){t=vt.read(arguments);var n=this.getBounds(),i=n.height/n.width,s=t.height/t.width,u=(e?i>s:i<s)?t.width/n.width:t.height/n.height,l=new vt(new F,new ct(n.width*u,n.height*u));l.setCenter(t.getCenter()),this.setBounds(l)}}),{_setStyles:function(t,e,n){var i=this._style,s=this._matrix;if(i.hasFill()&&(t.fillStyle=i.getFillColor().toCanvasStyle(t,s)),i.hasStroke()){t.strokeStyle=i.getStrokeColor().toCanvasStyle(t,s),t.lineWidth=i.getStrokeWidth();var u=i.getStrokeJoin(),l=i.getStrokeCap(),o=i.getMiterLimit();if(u&&(t.lineJoin=u),l&&(t.lineCap=l),o&&(t.miterLimit=o),lt.support.nativeDash){var h=i.getDashArray(),c=i.getDashOffset();h&&h.length&&("setLineDash"in t?(t.setLineDash(h),t.lineDashOffset=c):(t.mozDash=h,t.mozDashOffset=c))}}if(i.hasShadow()){var v=e.pixelRatio||1,y=n._shiftless().prepend(new St().scale(v,v)),p=y.transform(new F(i.getShadowBlur(),0)),g=y.transform(this.getShadowOffset());t.shadowColor=i.getShadowColor().toCanvasStyle(t),t.shadowBlur=p.getLength(),t.shadowOffsetX=g.x,t.shadowOffsetY=g.y}},draw:function(t,e,n){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var i=e.matrices,s=e.viewMatrix,u=this._matrix,l=i[i.length-1].appended(u);if(l.isInvertible()){s=s?s.appended(l):l,i.push(l),e.updateMatrix&&(this._globalMatrix=l);var o=this._blendMode,h=et.clamp(this._opacity,0,1),c=o==="normal",v=st.nativeModes[o],y=c&&h===1||e.dontStart||e.clip||(v||c&&h<1)&&this._canComposite(),p=e.pixelRatio||1,g,I,b;if(!y){var T=this.getStrokeBounds(s);if(!T.width||!T.height){i.pop();return}b=e.offset,I=e.offset=T.getTopLeft().floor(),g=t,t=ut.getContext(T.getSize().ceil().add(1).multiply(p)),p!==1&&t.scale(p,p)}t.save();var w=n?n.appended(u):this._canScaleStroke&&!this.getStrokeScaling(!0)&&s,C=!y&&e.clipItem,_=!w||C;if(y?(t.globalAlpha=h,v&&(t.globalCompositeOperation=o)):_&&t.translate(-I.x,-I.y),_&&(y?u:s).applyToContext(t),C&&e.clipItem.draw(t,e.extend({clip:!0})),w){t.setTransform(p,0,0,p,0,0);var x=e.offset;x&&t.translate(-x.x,-x.y)}this._draw(t,e,s,w),t.restore(),i.pop(),e.clip&&!e.dontFinish&&t.clip(this.getFillRule()),y||(st.process(o,t,g,h,I.subtract(b).multiply(p)),ut.release(t),e.offset=b)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof Pe)return e._isUpdated(t);var n=this._updateVersion===t;return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,i,s){var u=this._selection,l=u&1,o=u&2||l&&this._selectBounds,h=u&4;if(this._drawSelected||(l=!1),(l||o||h)&&this._isUpdated(s)){var c,v=this.getSelectedColor(!0)||(c=this.getLayer())&&c.getSelectedColor(!0),y=e.appended(this.getGlobalMatrix(!0)),p=n/2;if(t.strokeStyle=t.fillStyle=v?v.toCanvasStyle(t):"#009dec",l&&this._drawSelected(t,y,i),h){var g=this.getPosition(!0),I=this._parent,b=I?I.localToGlobal(g):g,T=b.x,w=b.y;t.beginPath(),t.arc(T,w,p,0,Math.PI*2,!0),t.stroke();for(var C=[[0,-1],[1,0],[0,1],[-1,0]],_=p,x=n+1,O=0;O<4;O++){var E=C[O],P=E[0],M=E[1];t.moveTo(T+P*_,w+M*_),t.lineTo(T+P*x,w+M*x),t.stroke()}}if(o){var L=y._transformCorners(this.getInternalBounds());t.beginPath();for(var O=0;O<8;O++)t[O?"lineTo":"moveTo"](L[O],L[++O]);t.closePath(),t.stroke();for(var O=0;O<8;O++)t.fillRect(L[O]-p,L[++O]-p,n,n)}}},_canComposite:function(){return!1}},d.each(["down","drag","up","move"],function(t){this["removeOn"+d.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var n="mouse"+e,i=this._project,s=i._removeSets=i._removeSets||{};s[n]=s[n]||{},s[n][this._id]=this}return this}}),{tween:function(t,e,n){n||(n=e,e=t,t=null,n||(n=e,e=null));var i=n&&n.easing,s=n&&n.start,u=n!=null&&(typeof n=="number"?n:n.duration),l=new mt(this,t,e,u,i,s);function o(h){l._handleFrame(h.time*1e3),l.running||this.off("frame",o)}return u&&this.on("frame",o),l},tweenTo:function(t,e){return this.tween(null,t,e)},tweenFrom:function(t,e){return this.tween(t,null,e)}}),Vt=it.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function t(e){t.base.call(this,e),e&2050&&(this._clipItem=f)},_getClipItem:function(){var t=this._clipItem;if(t===f){t=null;for(var e=this._children,n=0,i=e.length;n<i;n++)if(e[n]._clipMask){t=e[n];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,n){var i=this._getClipItem();return i?i._getCachedBounds(i._matrix.prepended(e),d.set({},n,{stroke:!1})):t.base.call(this,e,n)},_hitTestChildren:function t(e,n,i){var s=this._getClipItem();return(!s||s.contains(e))&&t.base.call(this,e,n,i,s)},_draw:function(t,e){var n=e.clip,i=!n&&this._getClipItem();e=e.extend({clipItem:i,clip:!1}),n?(t.beginPath(),e.dontStart=e.dontFinish=!0):i&&i.draw(t,e.extend({clip:!0}));for(var s=this._children,u=0,l=s.length;u<l;u++){var o=s[u];o!==i&&o.draw(t,e)}}}),qt=Vt.extend({_class:"Layer",initialize:function(){Vt.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function t(){return this._parent?t.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Ut=it.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,n){this._initialize(e,n)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&d.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new te(t.width,t.height,this,"setSize")},setSize:function(){var t=ct.read(arguments);if(!this._size)this._size=t.clone();else if(!this._size.equals(t)){var e=this._type,n=t.width,i=t.height;e==="rectangle"?this._radius.set(ct.min(this._radius,t.divide(2).abs())):e==="circle"?(n=i=(n+i)/2,this._radius=n/2):e==="ellipse"&&this._radius._set(n/2,i/2),this._size._set(n,i),this._changed(9)}},getRadius:function(){var t=this._radius;return this._type==="circle"?t:new te(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if(e==="circle"){if(t===this._radius)return;var n=t*2;this._radius=t,this._size._set(n,n)}else if(t=ct.read(arguments),!this._radius)this._radius=t.clone();else{if(this._radius.equals(t))return;if(this._radius.set(t),e==="rectangle"){var n=ct.max(this._size,t.multiply(2));this._size.set(n)}else e==="ellipse"&&this._size._set(t.width*2,t.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new Bt[d.capitalize(this._type)]({center:new F,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),lt.settings.applyMatrix&&e.setApplyMatrix(!0),(t===f||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,n,i){var s=this._style,u=s.hasFill(),l=s.hasStroke(),o=e.dontFinish||e.clip,h=!i;if(u||l||o){var c=this._type,v=this._radius,y=c==="circle";if(e.dontStart||t.beginPath(),h&&y)t.arc(0,0,v,0,Math.PI*2,!0);else{var p=y?v:v.width,g=y?v:v.height,I=this._size,b=I.width,T=I.height;if(h&&c==="rectangle"&&p===0&&g===0)t.rect(-b/2,-T/2,b,T);else{var w=b/2,C=T/2,_=1-.5522847498307936,x=p*_,O=g*_,E=[-w,-C+g,-w,-C+O,-w+x,-C,-w+p,-C,w-p,-C,w-x,-C,w,-C+O,w,-C+g,w,C-g,w,C-O,w-x,C,w-p,C,-w+p,C,-w+x,C,-w,C-O,-w,C-g];i&&i.transform(E,E,32),t.moveTo(E[0],E[1]),t.bezierCurveTo(E[2],E[3],E[4],E[5],E[6],E[7]),w!==p&&t.lineTo(E[8],E[9]),t.bezierCurveTo(E[10],E[11],E[12],E[13],E[14],E[15]),C!==g&&t.lineTo(E[16],E[17]),t.bezierCurveTo(E[18],E[19],E[20],E[21],E[22],E[23]),w!==p&&t.lineTo(E[24],E[25]),t.bezierCurveTo(E[26],E[27],E[28],E[29],E[30],E[31])}}t.closePath()}!o&&(u||l)&&(this._setStyles(t,e,n),u&&(t.fill(s.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),l&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var n=new vt(this._size).setCenter(0,0),i=this._style,s=e.stroke&&i.hasStroke()&&i.getStrokeWidth();return t&&(n=t._transformBounds(n)),s?n.expand(Bt._getStrokePadding(s,this._getStrokeMatrix(t,e))):n}},new function(){function t(n,i,s){var u=n._radius;if(!u.isZero())for(var l=n._size.divide(2),o=1;o<=4;o++){var h=new F(o>1&&o<4?-1:1,o>2?-1:1),c=h.multiply(l),v=c.subtract(h.multiply(u)),y=new vt(s?c.add(h.multiply(s)):c,v);if(y.contains(i))return{point:v,quadrant:o}}}function e(n,i,s,u){var l=n.divide(i);return(!u||l.isInQuadrant(u))&&l.subtract(l.normalize()).multiply(i).divide(s).length<=1}return{_contains:function n(i){if(this._type==="rectangle"){var s=t(this,i);return s?i.subtract(s.point).divide(this._radius).getLength()<=1:n.base.call(this,i)}else return i.divide(this.size).getLength()<=.5},_hitTestSelf:function n(i,s,u,l){var o=!1,h=this._style,c=s.stroke&&h.hasStroke(),v=s.fill&&h.hasFill();if(c||v){var y=this._type,p=this._radius,g=c?h.getStrokeWidth()/2:0,I=s._tolerancePadding.add(Bt._getStrokePadding(g,!h.getStrokeScaling()&&l));if(y==="rectangle"){var b=I.multiply(2),T=t(this,i,b);if(T)o=e(i.subtract(T.point),p,I,T.quadrant);else{var w=new vt(this._size).setCenter(0,0),C=w.expand(b),_=w.expand(b.negate());o=C._containsPoint(i)&&!_._containsPoint(i)}}else o=e(i,p,I)}return o?new ge(c?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function t(e,n,i,s,u){var l=d.create(Ut.prototype);return l._type=e,l._size=i,l._radius=s,l._initialize(d.getNamed(u),n),l}return{Circle:function(){var e=arguments,n=F.readNamed(e,"center"),i=d.readNamed(e,"radius");return t("circle",n,new ct(i*2),i,e)},Rectangle:function(){var e=arguments,n=vt.readNamed(e,"rectangle"),i=ct.min(ct.readNamed(e,"radius"),n.getSize(!0).divide(2));return t("rectangle",n.getCenter(!0),n.getSize(!0),i,e)},Ellipse:function(){var e=arguments,n=Ut._readEllipse(e),i=n.radius;return t("ellipse",n.center,i.multiply(2),i,e)},_readEllipse:function(e){var n,i;if(d.hasNamed(e,"radius"))n=F.readNamed(e,"center"),i=ct.readNamed(e,"radius");else{var s=vt.readNamed(e,"rectangle");n=s.getCenter(!0),i=s.getSize(!0).divide(2)}return{center:n,radius:i}}}}}),Yt=it.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,n){if(!this._initialize(e,n!==f&&F.read(arguments))){var i,s=typeof e,u=s==="string"?S.getElementById(e):s==="object"?e:null;if(u&&u!==it.NO_INSERT){if(u.getContext||u.naturalHeight!=null)i=u;else if(u){var l=ct.read(arguments);l.isZero()||(i=ut.getCanvas(l))}}i?this.setImage(i):this.setSource(e)}this._size||(this._size=new ct,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,n=t._canvas;if(e)this._setImage(e);else if(n){var i=ut.getCanvas(t._size);i.getContext("2d").drawImage(n,0,0),this._setImage(i)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new te(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,e){var n=ct.read(arguments);if(n.equals(this._size))e&&this.clear();else if(n.width>0&&n.height>0){var i=!e&&this.getElement();this._setImage(ut.getCanvas(n)),i&&this.getContext(!0).drawImage(i,0,0,n.width,n.height)}else this._canvas&&ut.release(this._canvas),this._size=n.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||t.width===0&&t.height===0},getResolution:function(){var t=this._matrix,e=new F(0,0).transform(t),n=new F(1,0).transform(t).subtract(e),i=new F(0,1).transform(t).subtract(e);return new ct(72/n.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var e=this;function n(i){var s=e.getView(),u=i&&i.type||"load";s&&e.responds(u)&&(lt=s._scope,e.emit(u,new B(i)))}this._setImage(t),this._loaded?setTimeout(n,0):t&&$t.add(t,{load:function(i){e._setImage(t),n(i)},error:n})},_setImage:function(t){this._canvas&&ut.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new ct(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=ut.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch{ut.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new a.Image,n=this._crossOrigin;n&&(e.crossOrigin=n),t&&(e.src=t),this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing=typeof t=="string"?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=vt.read(arguments),e=ut.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=vt.read(arguments),e=new Yt(it.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(t){var e=F.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,n;if(t?t instanceof Wt?(n=t,e=t.getBounds()):typeof t=="object"&&("width"in t?e=new vt(t):"x"in t&&(e=new vt(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var i=32,s=Math.min(e.width,i),u=Math.min(e.height,i),l=Yt._sampleContext;l?l.clearRect(0,0,i+1,i+1):l=Yt._sampleContext=ut.getContext(new ct(i)),l.save();var o=new St().scale(s/e.width,u/e.height).translate(-e.x,-e.y);o.applyToContext(l),n&&n.draw(l,new d({clip:!0,matrices:[o]})),this._matrix.applyToContext(l);var h=this.getElement(),c=this._size;h&&l.drawImage(h,-c.width/2,-c.height/2),l.restore();for(var v=l.getImageData(.5,.5,Math.ceil(s),Math.ceil(u)).data,y=[0,0,0],p=0,g=0,I=v.length;g<I;g+=4){var b=v[g+3];p+=b,b/=255,y[0]+=v[g]*b,y[1]+=v[g+1]*b,y[2]+=v[g+2]*b}for(var g=0;g<3;g++)y[g]/=p;return p?ae.read(y):null},getPixel:function(){var t=F.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new ae("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=arguments,e=F.read(t),n=ae.read(t),i=n._convert("rgb"),s=n._alpha,u=this.getContext(!0),l=u.createImageData(1,1),o=l.data;o[0]=i[0]*255,o[1]=i[1]*255,o[2]=i[2]*255,o[3]=s!=null?s*255:255,u.putImageData(l,e.x,e.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=ct.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=vt.read(arguments);return t.isEmpty()&&(t=new vt(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},putImageData:function(t){var e=F.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},setImageData:function(t){this.setSize(t),this.getContext(!0).putImageData(t,0,0)},_getBounds:function(t,e){var n=new vt(this._size).setCenter(0,0);return t?t._transformBounds(n):n},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new ge("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t,e,n){var i=this.getElement();if(i&&i.width>0&&i.height>0){t.globalAlpha=et.clamp(this._opacity,0,1),this._setStyles(t,e,n);var s=this._smoothing,u=s==="off";ee.setPrefixed(t,u?"imageSmoothingEnabled":"imageSmoothingQuality",u?!1:s),t.drawImage(i,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Se=it.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,n){this._initialize(e,n!==f&&F.read(arguments,1))||this.setDefinition(e instanceof ye?e:new ye(e))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(t),e)},_hitTestSelf:function(t,e,n){var i=e.extend({all:!1}),s=this._definition._item._hitTest(t,i,n);return s&&(s.item=this),s},_draw:function(t,e){this._definition._item.draw(t,e)}}),ye=d.extend({_class:"SymbolDefinition",initialize:function(e,n){this._id=Ct.get(),this.project=lt.project,e&&this.setItem(e,n)},_serialize:function(t,e){return e.add(this,function(){return d.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){t&8&&it._clearBoundsCache(this),t&1&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new F),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new Se(this,t)},clone:function(){return new ye(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),ge=d.extend({_class:"HitResult",initialize:function(e,n,i){this.type=e,this.item=n,i&&this.inject(i)},statics:{getOptions:function(t){var e=t&&d.read(t);return new d({type:null,tolerance:lt.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),Pt=d.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,n,i,s,u,l){var o=arguments.length,h,c,v,y;o>0&&(e==null||typeof e=="object"?o===1&&e&&"point"in e?(h=e.point,c=e.handleIn,v=e.handleOut,y=e.selection):(h=e,c=n,v=i,y=s):(h=[e,n],c=i!==f?[i,s]:null,v=u!==f?[u,l]:null)),new pe(h,this,"_point"),new pe(c,this,"_handleIn"),new pe(v,this,"_handleOut"),y&&this.setSelection(y)},_serialize:function(t,e){var n=this._point,i=this._selection,s=i||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return i&&s.push(i),d.serialize(s,t,!0,e)},_changed:function(t){var e=this._path;if(e){var n=e._curves,i=this._index,s;n&&((!t||t===this._point||t===this._handleIn)&&(s=i>0?n[i-1]:e._closed?n[n.length-1]:null)&&s._changed(),(!t||t===this._point||t===this._handleOut)&&(s=n[i])&&s._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(F.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(F.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(F.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,n=this._path;this._selection=t=t||0,n&&t!==e&&(n._updateSelection(this,e,t),n._changed(257))},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){return!!(this._selection&7)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==f?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new jt(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,n){var i=t||{},s=i.type,u=i.factor,l=this.getPrevious(),o=this.getNext(),h=(l||this)._point,c=this._point,v=(o||this)._point,y=h.getDistance(c),p=c.getDistance(v);if(!s||s==="catmull-rom"){var g=u===f?.5:u,I=Math.pow(y,g),b=I*I,T=Math.pow(p,g),w=T*T;if(!e&&l){var C=2*w+3*T*I+b,_=3*T*(T+I);this.setHandleIn(_!==0?new F((w*h._x+C*c._x-b*v._x)/_-c._x,(w*h._y+C*c._y-b*v._y)/_-c._y):new F)}if(!n&&o){var C=2*b+3*I*T+w,_=3*I*(I+T);this.setHandleOut(_!==0?new F((b*v._x+C*c._x-w*h._x)/_-c._x,(b*v._y+C*c._y-w*h._y)/_-c._y):new F)}}else if(s==="geometric"){if(l&&o){var x=h.subtract(v),O=u===f?.4:u,E=O*y/(y+p);e||this.setHandleIn(x.multiply(E)),n||this.setHandleOut(x.multiply(E-O))}}else throw new Error("Smoothing method '"+s+"' not supported.")},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t.clone();t.set(e),e.set(n)},reversed:function(){return new Pt(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new Pt(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,n){var i=1-n,s=n,u=t._point,l=e._point,o=t._handleIn,h=e._handleIn,c=e._handleOut,v=t._handleOut;this._point._set(i*u._x+s*l._x,i*u._y+s*l._y,!0),this._handleIn._set(i*o._x+s*h._x,i*o._y+s*h._y,!0),this._handleOut._set(i*v._x+s*c._x,i*v._y+s*c._y,!0),this._changed()},_transformCoordinates:function(t,e,n){var i=this._point,s=!n||!this._handleIn.isZero()?this._handleIn:null,u=!n||!this._handleOut.isZero()?this._handleOut:null,l=i._x,o=i._y,h=2;return e[0]=l,e[1]=o,s&&(e[h++]=s._x+l,e[h++]=s._y+o),u&&(e[h++]=u._x+l,e[h++]=u._y+o),t&&(t._transformCoordinates(e,e,h/2),l=e[0],o=e[1],n?(i._x=l,i._y=o,h=2,s&&(s._x=e[h++]-l,s._y=e[h++]-o),u&&(u._x=e[h++]-l,u._y=e[h++]-o)):(s||(e[h++]=l,e[h++]=o),u||(e[h++]=l,e[h++]=o))),e}}),pe=F.extend({initialize:function(e,n,i){var s,u,l;if(!e)s=u=0;else if((s=e[0])!==f)u=e[1];else{var o=e;(s=o.x)===f&&(o=F.read(arguments),s=o.x),u=o.y,l=o.selected}this._x=s,this._y=u,this._owner=n,n[i]=this,l&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=et.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),at=d.extend({_class:"Curve",beans:!0,initialize:function(e,n,i,s,u,l,o,h){var c=arguments.length,v,y,p,g,I,b;c===3?(this._path=e,v=n,y=i):c?c===1?"segment1"in e?(v=new Pt(e.segment1),y=new Pt(e.segment2)):"point1"in e?(p=e.point1,I=e.handle1,b=e.handle2,g=e.point2):Array.isArray(e)&&(p=[e[0],e[1]],g=[e[6],e[7]],I=[e[2]-e[0],e[3]-e[1]],b=[e[4]-e[6],e[5]-e[7]]):c===2?(v=new Pt(e),y=new Pt(n)):c===4?(p=e,I=n,b=i,g=s):c===8&&(p=[e,n],g=[o,h],I=[i-e,s-n],b=[u-o,l-h]):(v=new Pt,y=new Pt),this._segment1=v||new Pt(p,null,I),this._segment2=y||new Pt(g,b,null)},_serialize:function(t,e){return d.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=f},clone:function(){return new at(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return at.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(n)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(F.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(F.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(F.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(F.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return at.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],n=0;n<8;n+=2)e.push(new F(t[n],t[n+1]));return e}},{getLength:function(){return this._length==null&&(this._length=at.getLength(this.getValues(),0,1)),this._length},getArea:function(){return at.getArea(this.getValues())},getLine:function(){return new xt(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new at(at.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return at.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var n=1e-8,i=1-n,s=null;if(t>=n&&t<=i){var u=at.subdivide(this.getValues(),t),l=u[0],o=u[1],h=e||this.hasHandles(),c=this._segment1,v=this._segment2,y=this._path;h&&(c._handleOut._set(l[2]-l[0],l[3]-l[1]),v._handleIn._set(o[4]-o[6],o[5]-o[7]));var p=l[6],g=l[7],I=new Pt(new F(p,g),h&&new F(l[4]-p,l[5]-g),h&&new F(o[2]-p,o[3]-g));y?(y.insert(c._index+1,I),s=this.getNext()):(this._segment2=I,this._changed(),s=new at(I,v))}return s},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===f?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===f?.5:e?t:this.getTimeAt(t))},reversed:function(){return new at(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,n,i){var s=t._point,u=t._handleOut,l=e._handleIn,o=e._point,h=s.x,c=s.y,v=o.x,y=o.y,p=i?[h,c,h,c,v,y,v,y]:[h,c,h+u._x,c+u._y,v+l._x,y+l._y,v,y];return n&&n._transformCoordinates(p,p,4),p},subdivide:function(t,e){var n=t[0],i=t[1],s=t[2],u=t[3],l=t[4],o=t[5],h=t[6],c=t[7];e===f&&(e=.5);var v=1-e,y=v*n+e*s,p=v*i+e*u,g=v*s+e*l,I=v*u+e*o,b=v*l+e*h,T=v*o+e*c,w=v*y+e*g,C=v*p+e*I,_=v*g+e*b,x=v*I+e*T,O=v*w+e*_,E=v*C+e*x;return[[n,i,y,p,w,C,O,E],[O,E,_,x,b,T,h,c]]},getMonoCurves:function(t,e){var n=[],i=e?0:1,s=t[i+0],u=t[i+2],l=t[i+4],o=t[i+6];if(s>=u==u>=l&&u>=l==l>=o||at.isStraight(t))n.push(t);else{var h=3*(u-l)-s+o,c=2*(s+l)-4*u,v=u-s,y=1e-8,p=1-y,g=[],I=et.solveQuadratic(h,c,v,g,y,p);if(!I)n.push(t);else{g.sort();var b=g[0],T=at.subdivide(t,b);n.push(T[0]),I>1&&(b=(g[1]-b)/(1-b),T=at.subdivide(T[1],b),n.push(T[0])),n.push(T[1])}}return n},solveCubic:function(t,e,n,i,s,u){var l=t[e],o=t[e+2],h=t[e+4],c=t[e+6],v=0;if(!(l<n&&c<n&&o<n&&h<n||l>n&&c>n&&o>n&&h>n)){var y=3*(o-l),p=3*(h-o)-y,g=c-l-y-p;v=et.solveCubic(g,p,y,l-n,i,s,u)}return v},getTimeOf:function(t,e){var n=new F(t[0],t[1]),i=new F(t[6],t[7]),s=1e-12,u=1e-7,l=e.isClose(n,s)?0:e.isClose(i,s)?1:null;if(l===null)for(var o=[e.x,e.y],h=[],c=0;c<2;c++)for(var v=at.solveCubic(t,c,o[c],h,0,1),y=0;y<v;y++){var p=h[y];if(e.isClose(at.getPoint(t,p),u))return p}return e.isClose(n,u)?0:e.isClose(i,u)?1:null},getNearestTime:function(t,e){if(at.isStraight(t)){var n=t[0],i=t[1],s=t[6],u=t[7],l=s-n,o=u-i,h=l*l+o*o;if(h===0)return 0;var c=((e.x-n)*l+(e.y-i)*o)/h;return c<1e-12?0:c>.999999999999?1:at.getTimeOf(t,new F(n+c*l,i+c*o))}var v=100,y=1/0,p=0;function g(T){if(T>=0&&T<=1){var w=e.getDistance(at.getPoint(t,T),!0);if(w<y)return y=w,p=T,!0}}for(var I=0;I<=v;I++)g(I/v);for(var b=1/(v*2);b>1e-8;)!g(p-b)&&!g(p+b)&&(b/=2);return p},getPart:function(t,e,n){var i=e>n;if(i){var s=e;e=n,n=s}return e>0&&(t=at.subdivide(t,e)[1]),n<1&&(t=at.subdivide(t,(n-e)/(1-e))[0]),i?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var n=t[0],i=t[1],s=t[2],u=t[3],l=t[4],o=t[5],h=t[6],c=t[7],v=3*s-2*n-h,y=3*u-2*i-c,p=3*l-2*h-n,g=3*o-2*c-i;return Math.max(v*v,p*p)+Math.max(y*y,g*g)<=16*e*e},getArea:function(t){var e=t[0],n=t[1],i=t[2],s=t[3],u=t[4],l=t[5],o=t[6],h=t[7];return 3*((h-n)*(i+u)-(o-e)*(s+l)+s*(e-u)-i*(n-l)+h*(u+e/3)-o*(l+n/3))/20},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),i=[0,0],s=0;s<2;s++)at._addBounds(t[s],t[s+2],t[s+4],t[s+6],s,0,e,n,i);return new vt(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,i,s,u,l,o,h){function c(O,E){var P=O-E,M=O+E;P<l[s]&&(l[s]=P),M>o[s]&&(o[s]=M)}u/=2;var v=l[s]+u,y=o[s]-u;if(t<v||e<v||n<v||i<v||t>y||e>y||n>y||i>y)if(e<t!=e<i&&n<t!=n<i)c(t,0),c(i,0);else{var p=3*(e-n)-t+i,g=2*(t+n)-4*e,I=e-t,b=et.solveQuadratic(p,g,I,h),T=1e-8,w=1-T;c(i,0);for(var C=0;C<b;C++){var _=h[C],x=1-_;T<=_&&_<=w&&c(x*x*x*t+3*x*x*_*e+3*x*_*_*n+_*_*_*i,u)}}}}},d.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=Bt[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),d.each({isStraight:function(t,e,n,i){if(e.isZero()&&n.isZero())return!0;var s=i.subtract(t);if(s.isZero())return!1;if(s.isCollinear(e)&&s.isCollinear(n)){var u=new xt(t,i),l=1e-7;if(u.getDistance(t.add(e))<l&&u.getDistance(i.add(n))<l){var o=s.dot(s),h=s.dot(e)/o,c=s.dot(n)/o;return h>=0&&h<=1&&c<=0&&c>=-1}}return!1},isLinear:function(t,e,n,i){var s=i.subtract(t).divide(3);return e.equals(s)&&n.negate().equals(s)}},function(t,e){this[e]=function(n){var i=this._segment1,s=this._segment2;return t(i._point,i._handleOut,s._handleIn,s._point,n)},this.statics[e]=function(n,i){var s=n[0],u=n[1],l=n[6],o=n[7];return t(new F(s,u),new F(n[2]-s,n[3]-u),new F(n[4]-l,n[5]-o),new F(l,o),i)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return t!=null&&t>=0&&t<=1?new jt(this,t):null},getTimeAt:function(t,e){return at.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=F.read(arguments);return t.isZero()?[]:at.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(F.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return at.getTimeOf(this.getValues(),F.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=F.read(arguments),e=this.getValues(),n=at.getNearestTime(e,t),i=at.getPoint(e,n);return new jt(this,n,i,null,t.getDistance(i))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return d.each(t,function(e){this[e+"At"]=function(n,i){var s=this.getValues();return at[e](s,i?n:at.getTimeAt(s,n))},this[e+"AtTime"]=function(n){return at[e](this.getValues(),n)}},{statics:{_evaluateMethods:t}})},new function(){function t(i){var s=i[0],u=i[1],l=i[2],o=i[3],h=i[4],c=i[5],v=i[6],y=i[7],p=9*(l-h)+3*(v-s),g=6*(s+h)-12*l,I=3*(l-s),b=9*(o-c)+3*(y-u),T=6*(u+c)-12*o,w=3*(o-u);return function(C){var _=(p*C+g)*C+I,x=(b*C+T)*C+w;return Math.sqrt(_*_+x*x)}}function e(i,s){return Math.max(2,Math.min(16,Math.ceil(Math.abs(s-i)*32)))}function n(i,s,u,l){if(s==null||s<0||s>1)return null;var o=i[0],h=i[1],c=i[2],v=i[3],y=i[4],p=i[5],g=i[6],I=i[7],b=et.isZero;b(c-o)&&b(v-h)&&(c=o,v=h),b(y-g)&&b(p-I)&&(y=g,p=I);var T=3*(c-o),w=3*(y-c)-T,C=g-o-T-w,_=3*(v-h),x=3*(p-v)-_,O=I-h-_-x,E,P;if(u===0)E=s===0?o:s===1?g:((C*s+w)*s+T)*s+o,P=s===0?h:s===1?I:((O*s+x)*s+_)*s+h;else{var M=1e-8,L=1-M;if(s<M?(E=T,P=_):s>L?(E=3*(g-y),P=3*(I-p)):(E=(3*C*s+2*w)*s+T,P=(3*O*s+2*x)*s+_),l){E===0&&P===0&&(s<M||s>L)&&(E=y-c,P=p-v);var z=Math.sqrt(E*E+P*P);z&&(E/=z,P/=z)}if(u===3){var y=6*C*s+2*w,p=6*O*s+2*x,D=Math.pow(E*E+P*P,3/2);E=D!==0?(E*p-P*y)/D:0,P=0}}return u===2?new F(P,-E):new F(E,P)}return{statics:{classify:function(i){var s=i[0],u=i[1],l=i[2],o=i[3],h=i[4],c=i[5],v=i[6],y=i[7],p=s*(y-c)+u*(h-v)+v*c-y*h,g=l*(u-y)+o*(v-s)+s*y-u*v,I=h*(o-u)+c*(s-l)+l*u-o*s,b=3*I,T=b-g,w=T-g+p,C=Math.sqrt(w*w+T*T+b*b),_=C!==0?1/C:0,x=et.isZero,O="serpentine";w*=_,T*=_,b*=_;function E(z,D,A){var N=D!==f,V=N&&D>0&&D<1,j=N&&A>0&&A<1;return N&&(!(V||j)||z==="loop"&&!(V&&j))&&(z="arch",V=j=!1),{type:z,roots:V||j?V&&j?D<A?[D,A]:[A,D]:[V?D:A]:null}}if(x(w))return x(T)?E(x(b)?"line":"quadratic"):E(O,b/(3*T));var P=3*T*T-4*w*b;if(x(P))return E("cusp",T/(2*w));var M=P>0?Math.sqrt(P/3):Math.sqrt(-P),L=2*w;return E(P>0?O:"loop",(T+M)/L,(T-M)/L)},getLength:function(i,s,u,l){if(s===f&&(s=0),u===f&&(u=1),at.isStraight(i)){var o=i;u<1&&(o=at.subdivide(o,u)[0],s/=u),s>0&&(o=at.subdivide(o,s)[1]);var h=o[6]-o[0],c=o[7]-o[1];return Math.sqrt(h*h+c*c)}return et.integrate(l||t(i),s,u,e(s,u))},getTimeAt:function(i,s,u){if(u===f&&(u=s<0?1:0),s===0)return u;var l=Math.abs,o=1e-12,h=s>0,c=h?u:0,v=h?1:u,y=t(i),p=at.getLength(i,c,v,y),g=l(s)-p;if(l(g)<o)return h?v:c;if(g>o)return null;var I=s/p,b=0;function T(w){return b+=et.integrate(y,u,w,e(u,w)),u=w,b-s}return et.findRoot(T,y,u+I,c,v,32,1e-12)},getPoint:function(i,s){return n(i,s,0,!1)},getTangent:function(i,s){return n(i,s,1,!0)},getWeightedTangent:function(i,s){return n(i,s,1,!1)},getNormal:function(i,s){return n(i,s,2,!0)},getWeightedNormal:function(i,s){return n(i,s,2,!1)},getCurvature:function(i,s){return n(i,s,3,!1).x},getPeaks:function(i){var s=i[0],u=i[1],l=i[2],o=i[3],h=i[4],c=i[5],v=i[6],y=i[7],p=-s+3*l-3*h+v,g=3*s-6*l+3*h,I=-3*s+3*l,b=-u+3*o-3*c+y,T=3*u-6*o+3*c,w=-3*u+3*o,C=1e-8,_=1-C,x=[];return et.solveCubic(9*(p*p+b*b),9*(p*g+T*b),2*(g*g+T*T)+3*(I*p+w*b),I*g+T*w,x,C,_),x.sort()}}}},new function(){function t(g,I,b,T,w,C,_){var x=!_&&b.getPrevious()===w,O=!_&&b!==w&&b.getNext()===w,E=1e-8,P=1-E;if(T!==null&&T>=(x?E:0)&&T<=(O?P:1)&&C!==null&&C>=(O?E:0)&&C<=(x?P:1)){var M=new jt(b,T,null,_),L=new jt(w,C,null,_);M._intersection=L,L._intersection=M,(!I||I(M))&&jt.insert(g,M,!0)}}function e(g,I,b,T,w,C,_,x,O,E,P,M,L){if(++O>=4096||++x>=40)return O;var z=1e-9,D=I[0],A=I[1],N=I[6],V=I[7],j=xt.getSignedDistance,W=j(D,A,N,V,I[2],I[3]),K=j(D,A,N,V,I[4],I[5]),nt=W*K>0?3/4:4/9,ht=nt*Math.min(0,W,K),_t=nt*Math.max(0,W,K),yt=j(D,A,N,V,g[0],g[1]),J=j(D,A,N,V,g[2],g[3]),$=j(D,A,N,V,g[4],g[5]),gt=j(D,A,N,V,g[6],g[7]),bt=n(yt,J,$,gt),wt=bt[0],Ot=bt[1],Tt,Lt;if(W===0&&K===0&&yt===0&&J===0&&$===0&&gt===0||(Tt=i(wt,Ot,ht,_t))==null||(Lt=i(wt.reverse(),Ot.reverse(),ht,_t))==null)return O;var Rt=E+(P-E)*Tt,At=E+(P-E)*Lt;if(Math.max(L-M,At-Rt)<z){var fe=(Rt+At)/2,he=(M+L)/2;t(w,C,_?T:b,_?he:fe,_?b:T,_?fe:he)}else{g=at.getPart(g,Tt,Lt);var we=L-M;if(Lt-Tt>.8)if(At-Rt>we){var ue=at.subdivide(g,.5),fe=(Rt+At)/2;O=e(I,ue[0],T,b,w,C,!_,x,O,M,L,Rt,fe),O=e(I,ue[1],T,b,w,C,!_,x,O,M,L,fe,At)}else{var ue=at.subdivide(I,.5),he=(M+L)/2;O=e(ue[0],g,T,b,w,C,!_,x,O,M,he,Rt,At),O=e(ue[1],g,T,b,w,C,!_,x,O,he,L,Rt,At)}else we===0||we>=z?O=e(I,g,T,b,w,C,!_,x,O,M,L,Rt,At):O=e(g,I,b,T,w,C,_,x,O,Rt,At,M,L)}return O}function n(g,I,b,T){var w=[0,g],C=[1/3,I],_=[2/3,b],x=[1,T],O=I-(2*g+T)/3,E=b-(g+2*T)/3,P;if(O*E<0)P=[[w,C,x],[w,_,x]];else{var M=O/E;P=[M>=2?[w,C,x]:M<=.5?[w,_,x]:[w,C,_,x],[w,x]]}return(O||E)<0?P.reverse():P}function i(g,I,b,T){return g[0][1]<b?s(g,!0,b):I[0][1]>T?s(I,!1,T):g[0][0]}function s(g,I,b){for(var T=g[0][0],w=g[0][1],C=1,_=g.length;C<_;C++){var x=g[C][0],O=g[C][1];if(I?O>=b:O<=b)return O===b?x:T+(b-w)*(x-T)/(O-w);T=x,w=O}return null}function u(g,I,b,T,w){var C=et.isZero;if(C(T)&&C(w)){var _=at.getTimeOf(g,new F(I,b));return _===null?[]:[_]}for(var x=Math.atan2(-w,T),O=Math.sin(x),E=Math.cos(x),P=[],M=[],L=0;L<8;L+=2){var z=g[L]-I,D=g[L+1]-b;P.push(z*E-D*O,z*O+D*E)}return at.solveCubic(P,1,0,M,0,1),M}function l(g,I,b,T,w,C,_){for(var x=I[0],O=I[1],E=I[6],P=I[7],M=u(g,x,O,E-x,P-O),L=0,z=M.length;L<z;L++){var D=M[L],A=at.getPoint(g,D),N=at.getTimeOf(I,A);N!==null&&t(w,C,_?T:b,_?N:D,_?b:T,_?D:N)}}function o(g,I,b,T,w,C){var _=xt.intersect(g[0],g[1],g[6],g[7],I[0],I[1],I[6],I[7]);_&&t(w,C,b,at.getTimeOf(g,_),T,at.getTimeOf(I,_))}function h(g,I,b,T,w,C){var _=1e-12,x=Math.min,O=Math.max;if(O(g[0],g[2],g[4],g[6])+_>x(I[0],I[2],I[4],I[6])&&x(g[0],g[2],g[4],g[6])-_<O(I[0],I[2],I[4],I[6])&&O(g[1],g[3],g[5],g[7])+_>x(I[1],I[3],I[5],I[7])&&x(g[1],g[3],g[5],g[7])-_<O(I[1],I[3],I[5],I[7])){var E=y(g,I);if(E)for(var P=0;P<2;P++){var M=E[P];t(w,C,b,M[0],T,M[1],!0)}else{var L=at.isStraight(g),z=at.isStraight(I),D=L&&z,A=L&&!z,N=w.length;if((D?o:L||z?l:e)(A?I:g,A?g:I,A?T:b,A?b:T,w,C,A,0,0,0,1,0,1),!D||w.length===N)for(var P=0;P<4;P++){var V=P>>1,j=P&1,W=V*6,K=j*6,nt=new F(g[W],g[W+1]),ht=new F(I[K],I[K+1]);nt.isClose(ht,_)&&t(w,C,b,V,T,j)}}}return w}function c(g,I,b,T){var w=at.classify(g);if(w.type==="loop"){var C=w.roots;t(b,T,I,C[0],I,C[1])}return b}function v(g,I,b,T,w,C){var _=1e-7,x=!I;x&&(I=g);for(var O=g.length,E=I.length,P=new Array(O),M=x?P:new Array(E),L=[],z=0;z<O;z++)P[z]=g[z].getValues(T);if(!x)for(var z=0;z<E;z++)M[z]=I[z].getValues(w);for(var D=tt.findCurveBoundsCollisions(P,M,_),A=0;A<O;A++){var N=g[A],V=P[A];x&&c(V,N,L,b);var j=D[A];if(j)for(var W=0;W<j.length;W++){if(C&&L.length)return L;var K=j[W];if(!x||K>A){var nt=I[K],ht=M[K];h(V,ht,N,nt,L,b)}}}return L}function y(g,I){function b(gt){var bt=gt[6]-gt[0],wt=gt[7]-gt[1];return bt*bt+wt*wt}var T=Math.abs,w=xt.getDistance,C=1e-8,_=1e-7,x=at.isStraight(g),O=at.isStraight(I),E=x&&O,P=b(g)<b(I),M=P?I:g,L=P?g:I,z=M[0],D=M[1],A=M[6]-z,N=M[7]-D;if(w(z,D,A,N,L[0],L[1],!0)<_&&w(z,D,A,N,L[6],L[7],!0)<_)!E&&w(z,D,A,N,M[2],M[3],!0)<_&&w(z,D,A,N,M[4],M[5],!0)<_&&w(z,D,A,N,L[2],L[3],!0)<_&&w(z,D,A,N,L[4],L[5],!0)<_&&(x=O=E=!0);else if(E)return null;if(x^O)return null;for(var V=[g,I],j=[],W=0;W<4&&j.length<2;W++){var K=W&1,nt=K^1,ht=W>>1,_t=at.getTimeOf(V[K],new F(V[nt][ht?6:0],V[nt][ht?7:1]));if(_t!=null){var yt=K?[ht,_t]:[_t,ht];(!j.length||T(yt[0]-j[0][0])>C&&T(yt[1]-j[0][1])>C)&&j.push(yt)}if(W>2&&!j.length)break}if(j.length!==2)j=null;else if(!E){var J=at.getPart(g,j[0][0],j[1][0]),$=at.getPart(I,j[0][1],j[1][1]);(T($[2]-J[2])>_||T($[3]-J[3])>_||T($[4]-J[4])>_||T($[5]-J[5])>_)&&(j=null)}return j}function p(g,I){var b=g[0],T=g[1],w=g[2],C=g[3],_=g[4],x=g[5],O=g[6],E=g[7],P=I.normalize(),M=P.x,L=P.y,z=3*O-9*_+9*w-3*b,D=3*E-9*x+9*C-3*T,A=6*_-12*w+6*b,N=6*x-12*C+6*T,V=3*w-3*b,j=3*C-3*T,W=2*z*L-2*D*M,K=[];if(Math.abs(W)<et.CURVETIME_EPSILON){var nt=z*j-D*V,W=z*N-D*A;if(W!=0){var ht=-nt/W;ht>=0&&ht<=1&&K.push(ht)}}else{var _t=(A*A-4*z*V)*L*L+(-2*A*N+4*D*V+4*z*j)*M*L+(N*N-4*D*j)*M*M,yt=A*L-N*M;if(_t>=0&&W!=0){var J=Math.sqrt(_t),$=-(yt+J)/W,gt=(-yt+J)/W;$>=0&&$<=1&&K.push($),gt>=0&&gt<=1&&K.push(gt)}}return K}return{getIntersections:function(g){var I=this.getValues(),b=g&&g!==this&&g.getValues();return b?h(I,b,this,g,[]):c(I,this,[])},statics:{getOverlaps:y,getIntersections:v,getCurveLineIntersections:u,getTimesWithTangent:p}}}),jt=d.extend({_class:"CurveLocation",initialize:function(e,n,i,s,u){if(n>=.99999999){var l=e.getNext();l&&(n=0,e=l)}this._setCurve(e),this._time=n,this._point=i||e.getPointAtTime(n),this._overlap=s,this._distance=u,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var e=t.getCurve();e?this._setCurve(e):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),n=this.getTime();n===0?t=e._segment1:n===1?t=e._segment2:n!=null&&(t=e.getPartLength(0,n)<e.getPartLength(n,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,e=this;t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function n(i){var s=i&&i.getCurve();if(s&&(e._time=s.getTimeOf(e._point))!=null)return e._setCurve(s),s}return this._curve||n(this._segment)||n(this._segment1)||n(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&e==null?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(t==null){t=0;var e=this.getPath(),n=this.getIndex();if(e&&n!=null)for(var i=e.getCurves(),s=0;s<n;s++)t+=i[s].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(t==null){var e=this.getCurve(),n=this.getTime();this._curveOffset=t=n!=null&&e&&e.getPartLength(0,n)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,n=t&&t.splitAtTime(this.getTime());return n&&this._setSegment(e.getLastSegment()),n},equals:function(t,e){var n=this===t;if(!n&&t instanceof jt){var i=this.getCurve(),s=t.getCurve(),u=i._path,l=s._path;if(u===l){var o=Math.abs,h=1e-7,c=o(this.getOffset()-t.getOffset()),v=!e&&this._intersection,y=!e&&t._intersection;n=(c<h||u&&o(u.getLength()-c)<h)&&(!v&&!y||v&&y&&v.equals(y,!0))}}return n},toString:function(){var t=[],e=this.getPoint(),n=Y.instance;e&&t.push("point: "+e);var i=this.getIndex();i!=null&&t.push("index: "+i);var s=this.getTime();return s!=null&&t.push("time: "+n.number(s)),this._distance!=null&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var e=this.getTime(),n=t.getTime(),i=1e-8,s=1-i,u=e>=i&&e<=s,l=n>=i&&n<=s;if(u&&l)return!this.isTouching();var o=this.getCurve(),h=o&&e<i?o.getPrevious():o,c=t.getCurve(),v=c&&n<i?c.getPrevious():c;if(e>s&&(o=o.getNext()),n>s&&(c=c.getNext()),!h||!o||!v||!c)return!1;var y=[];function p(M,L){var z=M.getValues(),D=at.classify(z).roots||at.getPeaks(z),A=D.length,N=at.getLength(z,L&&A?D[A-1]:0,!L&&A?D[0]:1);y.push(A?N:N/32)}function g(M,L,z){return L<z?M>L&&M<z:M>L||M<z}u||(p(h,!0),p(o,!1)),l||(p(v,!0),p(c,!1));var I=this.getPoint(),b=Math.min.apply(Math,y),T=u?o.getTangentAtTime(e):o.getPointAt(b).subtract(I),w=u?T.negate():h.getPointAt(-b).subtract(I),C=l?c.getTangentAtTime(n):c.getPointAt(b).subtract(I),_=l?C.negate():v.getPointAt(-b).subtract(I),x=w.getAngle(),O=T.getAngle(),E=_.getAngle(),P=C.getAngle();return!!(u?g(x,E,P)^g(O,E,P)&&g(x,P,E)^g(O,P,E):g(E,x,O)^g(P,x,O)&&g(E,O,x)^g(P,O,x))},hasOverlap:function(){return!!this._overlap}},d.each(at._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var n=this.getCurve(),i=this.getTime();return i!=null&&n&&n[e](i,!0)}},{preserve:!0}),new function(){function t(e,n,i){var s=e.length,u=0,l=s-1;function o(I,b){for(var T=I+b;T>=-1&&T<=s;T+=b){var w=e[(T%s+s)%s];if(!n.getPoint().isClose(w.getPoint(),1e-7))break;if(n.equals(w))return w}return null}for(;u<=l;){var h=u+l>>>1,c=e[h],v;if(i&&(v=n.equals(c)?c:o(h,-1)||o(h,1)))return n._overlap&&(v._overlap=v._intersection._overlap=!0),v;var y=n.getPath(),p=c.getPath(),g=y!==p?y._id-p._id:n.getIndex()+n.getTime()-(c.getIndex()+c.getTime());g<0?l=h-1:u=h+1}return e.splice(u,0,n),n}return{statics:{insert:t,expand:function(e){for(var n=e.slice(),i=e.length-1;i>=0;i--)t(n,e[i]._intersection,!1);return n}}}}),Wt=it.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,n,i;if(d.isPlainObject(t)?(n=t.segments,e=t.pathData):Array.isArray(t)?n=t:typeof t=="string"&&(e=t),n){var s=n[0];i=s&&Array.isArray(s[0])}else e&&(i=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var u=i?Pe:Bt;return new u(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var e=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),n,i=!1,s,u,l=new F,o=new F;function h(_,x){var O=+n[_];return i&&(O+=l[x]),O}function c(_){return new F(h(_,"x"),h(_+1,"y"))}this.clear();for(var v=0,y=e&&e.length;v<y;v++){var p=e[v],g=p[0],I=g.toLowerCase();n=p.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var b=n&&n.length;switch(i=g===I,s==="z"&&!/[mz]/.test(I)&&this.moveTo(l),I){case"m":case"l":for(var T=I==="m",w=0;w<b;w+=2)this[T?"moveTo":"lineTo"](l=c(w)),T&&(o=l,T=!1);u=l;break;case"h":case"v":var C=I==="h"?"x":"y";l=l.clone();for(var w=0;w<b;w++)l[C]=h(w,C),this.lineTo(l);u=l;break;case"c":for(var w=0;w<b;w+=6)this.cubicCurveTo(c(w),u=c(w+2),l=c(w+4));break;case"s":for(var w=0;w<b;w+=4)this.cubicCurveTo(/[cs]/.test(s)?l.multiply(2).subtract(u):l,u=c(w),l=c(w+2)),s=I;break;case"q":for(var w=0;w<b;w+=4)this.quadraticCurveTo(u=c(w),l=c(w+2));break;case"t":for(var w=0;w<b;w+=2)this.quadraticCurveTo(u=/[qt]/.test(s)?l.multiply(2).subtract(u):l,l=c(w)),s=I;break;case"a":for(var w=0;w<b;w+=7)this.arcTo(l=c(w+5),new ct(+n[w],+n[w+1]),+n[w+2],+n[w+4],+n[w+3]);break;case"z":this.closePath(1e-12),l=o;break}s=I}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!(this.getFillRule()==="evenodd"?e.windingL&1||e.windingR&1:e.winding)},getIntersections:function(t,e,n,i){var s=this===t||!t,u=this._matrix._orNullIfIdentity(),l=s?u:(n||t._matrix)._orNullIfIdentity();return s||this.getBounds(u).intersects(t.getBounds(l),1e-12)?at.getIntersections(this.getCurves(),!s&&t.getCurves(),e,u,l,i):[]},getCrossings:function(t){return this.getIntersections(t,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var t=F.read(arguments),e=this.getCurves(),n=1/0,i=null,s=0,u=e.length;s<u;s++){var l=e[s].getNearestLocation(t);l._distance<n&&(n=l._distance,i=l)}return i},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()},interpolate:function(t,e,n){var i=!this._children,s=i?"_segments":"_children",u=t[s],l=e[s],o=this[s];if(!u||!l||u.length!==l.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var h=o.length,c=l.length;if(h<c)for(var v=i?Pt:Bt,y=h;y<c;y++)this.add(new v);else h>c&&this[i?"removeSegments":"removeChildren"](c,h);for(var y=0;y<c;y++)o[y].interpolate(u[y],l[y],n);i&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var n=this._children||[this],i=t._children?t._children.slice():[t],s=n.length,u=i.length,l=[],o=0;e=!0;for(var h=tt.findItemBoundsCollisions(n,i,et.GEOMETRIC_EPSILON),c=s-1;c>=0&&e;c--){var v=n[c];e=!1;var y=h[c];if(y)for(var p=y.length-1;p>=0&&!e;p--)v.compare(i[y[p]])&&(l[y[p]]||(l[y[p]]=!0,o++),e=!0)}e=e&&o===u}return e}}),Bt=Wt.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var n=arguments,i=Array.isArray(e)?typeof e[0]=="object"?e:n:e&&e.size===f&&(e.x!==f||e.point!==f)?n:null;i&&i.length>0?this.setSegments(i):(this._curves=f,this._segmentSelection=0,!i&&typeof e=="string"&&(this.setPathData(e),e=null)),this._initialize(!i&&e)},_equals:function(t){return this._closed===t._closed&&d.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),e&8){if(this._length=this._area=f,e&32)this._version++;else if(this._curves)for(var n=0,i=this._curves.length;n<i;n++)this._curves[n]._changed()}else e&64&&(this._bounds=f)},getStyle:function(){var t=this._parent;return(t instanceof Pe?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),n=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=f,n){var i=t[n-1];typeof i=="boolean"&&(this.setClosed(i),n--),this._add(Pt.readList(t,0,{},n))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);for(var i=0;i<n;i++)t[i]=new at(this,e[i],e[i+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new at(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,e){var n=this._segments,i=n.length,s=new Y(e),u=new Array(6),l=!0,o,h,c,v,y,p,g,I,b=[];function T(C,_){if(C._transformCoordinates(t,u),o=u[0],h=u[1],l)b.push("M"+s.pair(o,h)),l=!1;else if(y=u[2],p=u[3],y===o&&p===h&&g===c&&I===v){if(!_){var x=o-c,O=h-v;b.push(x===0?"v"+s.number(O):O===0?"h"+s.number(x):"l"+s.pair(x,O))}}else b.push("c"+s.pair(g-c,I-v)+" "+s.pair(y-c,p-v)+" "+s.pair(o-c,h-v));c=o,v=h,g=u[4],I=u[5]}if(!i)return"";for(var w=0;w<i;w++)T(n[w]);return this._closed&&i>0&&(T(n[0],!0),b.push("z")),b.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,n=new Array(6),i=0,s=e.length;i<s;i++)e[i]._transformCoordinates(t,n,!0);return!0},_add:function(t,l){for(var n=this._segments,i=this._curves,s=t.length,u=l==null,l=u?n.length:l,o=0;o<s;o++){var h=t[o];h._path&&(h=t[o]=h.clone()),h._path=this,h._index=l+o,h._selection&&this._updateSelection(h,0,h._selection)}if(u)d.push(n,t);else{n.splice.apply(n,[l,0].concat(t));for(var o=l+s,c=n.length;o<c;o++)n[o]._index=o}if(i){var v=this._countCurves(),y=l>0&&l+s-1===v?l-1:l,p=y,g=Math.min(y+s,v);t._curves&&(i.splice.apply(i,[y,0].concat(t._curves)),p+=t._curves.length);for(var o=p;o<g;o++)i.splice(o,0,new at(this,null,null));this._adjustCurves(y,g)}return this._changed(41),t},_adjustCurves:function(t,e){for(var n=this._segments,i=this._curves,s,u=t;u<e;u++)s=i[u],s._path=this,s._segment1=n[u],s._segment2=n[u+1]||n[0],s._changed();(s=i[this._closed&&!t?n.length-1:t-1])&&(s._segment2=n[t]||n[0],s._changed()),(s=i[e])&&(s._segment1=n[e],s._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var e=arguments;return e.length>1&&typeof t!="number"?this._add(Pt.readList(e)):this._add([Pt.read(e)])[0]},insert:function(t,e){var n=arguments;return n.length>2&&typeof e!="number"?this._add(Pt.readList(n,1),t):this._add([Pt.read(n,1)],t)[0]},addSegment:function(){return this._add([Pt.read(arguments)])[0]},insertSegment:function(t){return this._add([Pt.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(Pt.readList(t))},insertSegments:function(t,e){return this._add(Pt.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,n){t=t||0,e=d.pick(e,this._segments.length);var i=this._segments,s=this._curves,u=i.length,l=i.splice(t,e-t),o=l.length;if(!o)return l;for(var h=0;h<o;h++){var c=l[h];c._selection&&this._updateSelection(c,c._selection,0),c._index=c._path=null}for(var h=t,v=i.length;h<v;h++)i[h]._index=h;if(s){for(var y=t>0&&e===u+(this._closed?1:0)?t-1:t,s=s.splice(y,o),h=s.length-1;h>=0;h--)s[h]._path=null;n&&(l._curves=s.slice(1)),this._adjustCurves(y,y)}return this._changed(41),l},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)t[e].clearHandles()},getLength:function(){if(this._length==null){for(var t=this.getCurves(),e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(t==null){var e=this._segments,n=this._closed;t=0;for(var i=0,s=e.length;i<s;i++){var u=i+1===s;t+=at.getArea(at.getValues(e[i],e[u?0:i+1],null,u&&!n))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===t*7},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){e&1||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,n=e.length,i=t?7:0;this._segmentSelection=i*n;for(var s=0;s<n;s++)e[s]._selection=i},_updateSelection:function(t,e,n){t._selection=n;var i=this._segmentSelection+=n-e;i>0&&this.setSelected(!0)},divideAt:function(t){var e=this.getLocationAt(t),n;return e&&(n=e.getCurve().divideAt(e.getCurveOffset()))?n._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),n=e&&e.index,i=e&&e.time,s=1e-8,u=1-s;i>u&&(n++,i=0);var l=this.getCurves();if(n>=0&&n<l.length){i>=s&&l[n++].divideAtTime(i);var o=this.removeSegments(n,this._segments.length,!0),h;return this._closed?(this.setClosed(!1),h=this):(h=new Bt(it.NO_INSERT),h.insertAbove(this),h.copyAttributes(this)),h._add(o,0),this.addSegment(o[0]),h}return null},split:function(t,e){var n,i=e===f?t:(n=this.getCurves()[t])&&n.getLocationAtTime(e);return i!=null?this.splitAt(i):null},join:function(t,e){var n=e||0;if(t&&t!==this){var i=t._segments,s=this.getLastSegment(),u=t.getLastSegment();if(!u)return this;s&&s._point.isClose(u._point,n)&&t.reverse();var l=t.getFirstSegment();if(s&&s._point.isClose(l._point,n))s.setHandleOut(l._handleOut),this._add(i.slice(1));else{var o=this.getFirstSegment();o&&o._point.isClose(l._point,n)&&t.reverse(),u=t.getLastSegment(),o&&o._point.isClose(u._point,n)?(o.setHandleIn(u._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}t._closed&&this._add([i[0]]),t.remove()}var h=this.getFirstSegment(),c=this.getLastSegment();return h!==c&&h._point.isClose(c._point,n)&&(h.setHandleIn(c._handleIn),c.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),n=t&&t.simplify,i=n?1e-7:0,s=e.length-1;s>=0;s--){var u=e[s];!u.hasHandles()&&(!u.hasLength(i)||n&&u.isCollinear(u.getNext()))&&u.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var n=this._segments[t],i=n._handleIn;n._handleIn=n._handleOut,n._handleOut=i,n._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new Je(this,t||.25,256,!0),n=e.parts,i=n.length,s=[],u=0;u<i;u++)s.push(new Pt(n[u].curve.slice(0,2)));!this._closed&&i>0&&s.push(new Pt(n[i-1].curve.slice(6))),this.setSegments(s)},simplify:function(t){var e=new Ne(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){var e=this,n=t||{},i=n.type||"asymmetric",s=this._segments,u=s.length,l=this._closed;function o(wt,Ot){var Tt=wt&&wt.index;if(Tt!=null){var Lt=wt.path;if(Lt&&Lt!==e)throw new Error(wt._class+" "+Tt+" of "+Lt+" is not part of "+e);Ot&&wt instanceof at&&Tt++}else Tt=typeof wt=="number"?wt:Ot;return Math.min(Tt<0&&l?Tt%u:Tt<0?Tt+u:Tt,u-1)}var h=l&&n.from===f&&n.to===f,c=o(n.from,0),v=o(n.to,u-1);if(c>v)if(l)c-=u;else{var y=c;c=v,v=y}if(/^(?:asymmetric|continuous)$/.test(i)){var p=i==="asymmetric",g=Math.min,I=v-c+1,b=I-1,T=h?g(I,4):1,w=T,C=T,_=[];if(l||(w=g(1,c),C=g(1,u-v-1)),b+=w+C,b<=1)return;for(var x=0,O=c-w;x<=b;x++,O++)_[x]=s[(O<0?O+u:O)%u]._point;for(var E=_[0]._x+2*_[1]._x,P=_[0]._y+2*_[1]._y,M=2,L=b-1,z=[E],D=[P],A=[M],N=[],V=[],x=1;x<b;x++){var j=x<L,W=j||p?1:2,K=j?4:p?2:7,nt=j?4:p?3:8,ht=j?2:p?0:1,_t=W/M;M=A[x]=K-_t,E=z[x]=nt*_[x]._x+ht*_[x+1]._x-_t*E,P=D[x]=nt*_[x]._y+ht*_[x+1]._y-_t*P}N[L]=z[L]/A[L],V[L]=D[L]/A[L];for(var x=b-2;x>=0;x--)N[x]=(z[x]-N[x+1])/A[x],V[x]=(D[x]-V[x+1])/A[x];N[b]=(3*_[b]._x-N[L])/2,V[b]=(3*_[b]._y-V[L])/2;for(var x=w,yt=b-C,O=c;x<=yt;x++,O++){var J=s[O<0?O+u:O],$=J._point,gt=N[x]-$._x,bt=V[x]-$._y;(h||x<yt)&&J.setHandleOut(gt,bt),(h||x>w)&&J.setHandleIn(-gt,-bt)}}else for(var x=c;x<=v;x++)s[x<0?x+u:x].smooth(n,!h&&x===c,!h&&x===v)},toShape:function(t){if(!this._closed)return null;var e=this._segments,n,i,s,u;function l(p,g){var I=e[p],b=I.getNext(),T=e[g],w=T.getNext();return I._handleOut.isZero()&&b._handleIn.isZero()&&T._handleOut.isZero()&&w._handleIn.isZero()&&b._point.subtract(I._point).isCollinear(w._point.subtract(T._point))}function o(p){var g=e[p],I=g.getPrevious(),b=g.getNext();return I._handleOut.isZero()&&g._handleIn.isZero()&&g._handleOut.isZero()&&b._handleIn.isZero()&&g._point.subtract(I._point).isOrthogonal(b._point.subtract(g._point))}function h(p){var g=e[p],I=g.getNext(),b=g._handleOut,T=I._handleIn,w=.5522847498307936;if(b.isOrthogonal(T)){var C=g._point,_=I._point,x=new xt(C,b,!0).intersect(new xt(_,T,!0),!0);return x&&et.isZero(b.getLength()/x.subtract(C).getLength()-w)&&et.isZero(T.getLength()/x.subtract(_).getLength()-w)}return!1}function c(p,g){return e[p]._point.getDistance(e[g]._point)}if(!this.hasHandles()&&e.length===4&&l(0,2)&&l(1,3)&&o(1)?(n=Ut.Rectangle,i=new ct(c(0,3),c(0,1)),u=e[1]._point.add(e[2]._point).divide(2)):e.length===8&&h(0)&&h(2)&&h(4)&&h(6)&&l(1,5)&&l(3,7)?(n=Ut.Rectangle,i=new ct(c(1,6),c(0,3)),s=i.subtract(new ct(c(0,7),c(1,2))).divide(2),u=e[3]._point.add(e[4]._point).divide(2)):e.length===4&&h(0)&&h(1)&&h(2)&&h(3)&&(et.isZero(c(0,2)-c(1,3))?(n=Ut.Circle,s=c(0,2)/2):(n=Ut.Ellipse,s=new ct(c(2,0)/2,c(3,1)/2)),u=e[1]._point),n){var v=this.getPosition(!0),y=new n({center:v,size:i,radius:s,insert:!1});return y.copyAttributes(this,!0),y._matrix.prepend(this._matrix),y.rotate(u.subtract(v).getAngle()+90),(t===f||t)&&y.insertAbove(this),y}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof Pe)return t.base.call(this,e);var n=this.getCurves(),i=e.getCurves(),s=n.length,u=i.length;if(!s||!u)return s==u;for(var l=n[0].getValues(),o=[],h=0,c,v=0,y,p=0;p<u;p++){var T=i[p].getValues();o.push(T);var g=at.getOverlaps(l,T);if(g){c=!p&&g[0][0]>0?u-1:p,y=g[0][1];break}}for(var I=Math.abs,b=1e-8,T=o[c],w;l&&T;){var g=at.getOverlaps(l,T);if(g){var C=g[0][0];if(I(C-v)<b){v=g[1][0],v===1&&(l=++h<s?n[h].getValues():null,v=0);var _=g[0][1];if(I(_-y)<b){if(w||(w=[c,_]),y=g[1][1],y===1&&(++c>=u&&(c=0),T=o[c]||i[c].getValues(),y=0),!l)return w[0]===c&&w[1]===y;continue}}}break}return!1},_hitTestSelf:function(t,e,n,i){var s=this,u=this.getStyle(),l=this._segments,o=l.length,h=this._closed,c=e._tolerancePadding,v=c,y,p,g,I,b,T,w=e.stroke&&u.hasStroke(),C=e.fill&&u.hasFill(),_=e.curves,x=w?u.getStrokeWidth()/2:C&&e.tolerance>0||_?0:null;x!==null&&(x>0?(y=u.getStrokeJoin(),p=u.getStrokeCap(),g=u.getMiterLimit(),v=v.add(Bt._getStrokePadding(x,i))):y=p="round");function O(N,V){return t.subtract(N).divide(V).length<=1}function E(N,V,j){if(!e.selected||V.isSelected()){var W=N._point;if(V!==W&&(V=V.add(W)),O(V,v))return new ge(j,s,{segment:N,point:V})}}function P(N,V){return(V||e.segments)&&E(N,N._point,"segment")||!V&&e.handles&&(E(N,N._handleIn,"handle-in")||E(N,N._handleOut,"handle-out"))}function M(N){I.add(N)}function L(N){var V=h||N._index>0&&N._index<o-1;if((V?y:p)==="round")return O(N._point,v);if(I=new Bt({internal:!0,closed:!0}),V?N.isSmooth()||Bt._addBevelJoin(N,y,x,g,null,i,M,!0):p==="square"&&Bt._addSquareCap(N,p,x,null,i,M,!0),!I.isEmpty()){var j;return I.contains(t)||(j=I.getNearestLocation(t))&&O(j.getPoint(),c)}}if(e.ends&&!e.segments&&!h){if(T=P(l[0],!0)||P(l[o-1],!0))return T}else if(e.segments||e.handles){for(var z=0;z<o;z++)if(T=P(l[z]))return T}if(x!==null){if(b=this.getNearestLocation(t),b){var D=b.getTime();D===0||D===1&&o>1?L(b.getSegment())||(b=null):O(b.getPoint(),v)||(b=null)}if(!b&&y==="miter"&&o>1)for(var z=0;z<o;z++){var A=l[z];if(t.getDistance(A._point)<=g*x&&L(A)){b=A.getLocation();break}}}return!b&&C&&this._contains(t)||b&&!w&&!_?new ge("fill",this):b?new ge(w?"stroke":"curve",this,{location:b,point:b.getPoint()}):null}},d.each(at._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this.getLocationAt(e);return n&&n[t]()}},{beans:!1,getLocationOf:function(){for(var t=F.read(arguments),e=this.getCurves(),n=0,i=e.length;n<i;n++){var s=e[n].getLocationOf(t);if(s)return s}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if(typeof t=="number"){for(var e=this.getCurves(),n=0,i=0,s=e.length;i<s;i++){var u=n,l=e[i];if(n+=l.getLength(),n>t)return l.getLocationAt(t-u)}if(e.length>0&&t<=this.getLength())return new jt(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=F.read(arguments);if(t.isZero())return[];for(var e=[],n=0,i=this.getCurves(),s=0,u=i.length;s<u;s++){for(var l=i[s],o=l.getTimesWithTangent(t),h=0,c=o.length;h<c;h++){var v=n+l.getOffsetAtTime(o[h]);e.indexOf(v)<0&&e.push(v)}n+=l.length}return e}}),new function(){function t(n,i,s,u){if(u<=0)return;var l=u/2,o=u-2,h=l-1,c=new Array(6),v,y;function p(C){var _=c[C],x=c[C+1];(v!=_||y!=x)&&(n.beginPath(),n.moveTo(v,y),n.lineTo(_,x),n.stroke(),n.beginPath(),n.arc(_,x,l,0,Math.PI*2,!0),n.fill())}for(var g=0,I=i.length;g<I;g++){var b=i[g],T=b._selection;if(b._transformCoordinates(s,c),v=c[0],y=c[1],T&2&&p(2),T&4&&p(4),n.fillRect(v-l,y-l,u,u),o>0&&!(T&1)){var w=n.fillStyle;n.fillStyle="#ffffff",n.fillRect(v-h,y-h,o,o),n.fillStyle=w}}}function e(n,i,s){var u=i._segments,l=u.length,o=new Array(6),h=!0,c,v,y,p,g,I,b,T;function w(_){if(s)_._transformCoordinates(s,o),c=o[0],v=o[1];else{var x=_._point;c=x._x,v=x._y}if(h)n.moveTo(c,v),h=!1;else{if(s)g=o[2],I=o[3];else{var O=_._handleIn;g=c+O._x,I=v+O._y}g===c&&I===v&&b===y&&T===p?n.lineTo(c,v):n.bezierCurveTo(b,T,g,I,c,v)}if(y=c,p=v,s)b=o[4],T=o[5];else{var O=_._handleOut;b=y+O._x,T=p+O._y}}for(var C=0;C<l;C++)w(u[C]);i._closed&&l>0&&w(u[0])}return{_draw:function(n,i,s,u){var l=i.dontStart,o=i.dontFinish||i.clip,h=this.getStyle(),c=h.hasFill(),v=h.hasStroke(),y=h.getDashArray(),p=!lt.support.nativeDash&&v&&y&&y.length;l||n.beginPath(),(c||v&&!p||o)&&(e(n,this,u),this._closed&&n.closePath());function g(_){return y[(_%p+p)%p]}if(!o&&(c||v)&&(this._setStyles(n,i,s),c&&(n.fill(h.getFillRule()),n.shadowColor="rgba(0,0,0,0)"),v)){if(p){l||n.beginPath();for(var I=new Je(this,.25,32,!1,u),b=I.length,T=-h.getDashOffset(),w,C=0;T>0;)T-=g(C--)+g(C--);for(;T<b;)w=T+g(C++),(T>0||w>0)&&I.drawPart(n,Math.max(T,0),Math.max(w,0)),T=w+g(C++)}n.stroke()}},_drawSelected:function(n,i){n.beginPath(),e(n,this,i),n.stroke(),t(n,this._segments,i,lt.settings.handleSize)}}},new function(){function t(e){var n=e._segments;if(!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return{moveTo:function(){var e=this._segments;e.length===1&&this.removeSegment(0),e.length||this._add([new Pt(F.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Pt(F.read(arguments))])},cubicCurveTo:function(){var e=arguments,n=F.read(e),i=F.read(e),s=F.read(e),u=t(this);u.setHandleOut(n.subtract(u._point)),this._add([new Pt(s,i.subtract(s))])},quadraticCurveTo:function(){var e=arguments,n=F.read(e),i=F.read(e),s=t(this)._point;this.cubicCurveTo(n.add(s.subtract(n).multiply(1/3)),n.add(i.subtract(n).multiply(1/3)),i)},curveTo:function(){var e=arguments,n=F.read(e),i=F.read(e),s=d.pick(d.read(e),.5),u=1-s,l=t(this)._point,o=n.subtract(l.multiply(u*u)).subtract(i.multiply(s*s)).divide(2*s*u);if(o.isNaN())throw new Error("Cannot put a curve through points with parameter = "+s);this.quadraticCurveTo(o,i)},arcTo:function(){var e=arguments,n=Math.abs,i=Math.sqrt,s=t(this),u=s._point,l=F.read(e),o,h=d.peek(e),c=d.pick(h,!0),v,y,p,g;if(typeof c=="boolean")var I=u.add(l).divide(2),o=I.add(I.subtract(u).rotate(c?-90:90));else if(d.remain(e)<=2)o=l,l=F.read(e);else if(!u.equals(l)){var b=ct.read(e),T=et.isZero;if(T(b.width)||T(b.height))return this.lineTo(l);var w=d.read(e),c=!!d.read(e),C=!!d.read(e),I=u.add(l).divide(2),_=u.subtract(I).rotate(-w),x=_.x,O=_.y,E=n(b.width),P=n(b.height),M=E*E,L=P*P,z=x*x,D=O*O,A=i(z/M+D/L);if(A>1&&(E*=A,P*=A,M=E*E,L=P*P),A=(M*L-M*D-L*z)/(M*D+L*z),n(A)<1e-12&&(A=0),A<0)throw new Error("Cannot create an arc with the given arguments");v=new F(E*O/P,-P*x/E).multiply((C===c?-1:1)*i(A)).rotate(w).add(I),g=new St().translate(v).rotate(w).scale(E,P),p=g._inverseTransform(u),y=p.getDirectedAngle(g._inverseTransform(l)),!c&&y>0?y-=360:c&&y<0&&(y+=360)}if(o){var N=new xt(u.add(o).divide(2),o.subtract(u).rotate(90),!0),V=new xt(o.add(l).divide(2),l.subtract(o).rotate(90),!0),j=new xt(u,l),W=j.getSide(o);if(v=N.intersect(V,!0),!v){if(!W)return this.lineTo(l);throw new Error("Cannot create an arc with the given arguments")}p=u.subtract(v),y=p.getDirectedAngle(l.subtract(v));var K=j.getSide(v,!0);K===0?y=W*n(y):W===K&&(y+=y<0?360:-360)}if(y){for(var nt=1e-5,ht=n(y),_t=ht>=360?4:Math.ceil((ht-nt)/90),yt=y/_t,J=yt*Math.PI/360,$=4/3*Math.sin(J)/(1+Math.cos(J)),gt=[],bt=0;bt<=_t;bt++){var _=l,wt=null;if(bt<_t&&(wt=p.rotate(90).multiply($),g?(_=g._transformPoint(p),wt=g._transformPoint(p.add(wt)).subtract(_)):_=v.add(p)),!bt)s.setHandleOut(wt);else{var Ot=p.rotate(-90).multiply($);g&&(Ot=g._transformPoint(p.add(Ot)).subtract(_)),gt.push(new Pt(_,Ot,wt))}p=p.rotate(yt)}this._add(gt)}},lineBy:function(){var e=F.read(arguments),n=t(this)._point;this.lineTo(n.add(e))},curveBy:function(){var e=arguments,n=F.read(e),i=F.read(e),s=d.read(e),u=t(this)._point;this.curveTo(u.add(n),u.add(i),s)},cubicCurveBy:function(){var e=arguments,n=F.read(e),i=F.read(e),s=F.read(e),u=t(this)._point;this.cubicCurveTo(u.add(n),u.add(i),u.add(s))},quadraticCurveBy:function(){var e=arguments,n=F.read(e),i=F.read(e),s=t(this)._point;this.quadraticCurveTo(s.add(n),s.add(i))},arcBy:function(){var e=arguments,n=t(this)._point,i=n.add(F.read(e)),s=d.pick(d.peek(e),!0);typeof s=="boolean"?this.arcTo(i,s):this.arcTo(i,n.add(F.read(e)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(t,e){var n=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return Bt[n](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,n,i,s,u){var l=t[0];if(!l)return new vt;var o=new Array(6),h=l._transformCoordinates(i,new Array(6)),c=h.slice(0,2),v=c.slice(),y=new Array(2);function p(b){b._transformCoordinates(i,o);for(var T=0;T<2;T++)at._addBounds(h[T],h[T+4],o[T+2],o[T],T,u?u[T]:0,c,v,y);var w=h;h=o,o=w}for(var g=1,I=t.length;g<I;g++)p(t[g]);return e&&p(l),new vt(c[0],c[1],v[0]-c[0],v[1]-c[1])},getStrokeBounds:function(t,e,n,i,s){var u=n.getStyle(),l=u.hasStroke(),o=u.getStrokeWidth(),h=l&&n._getStrokeMatrix(i,s),c=l&&Bt._getStrokePadding(o,h),v=Bt.getBounds(t,e,n,i,s,c);if(!l)return v;var y=o/2,p=u.getStrokeJoin(),g=u.getStrokeCap(),I=u.getMiterLimit(),b=new vt(new ct(c));function T(E){v=v.include(E)}function w(E){v=v.unite(b.setCenter(E._point.transform(i)))}function C(E,P){P==="round"||E.isSmooth()?w(E):Bt._addBevelJoin(E,P,y,I,i,h,T)}function _(E,P){P==="round"?w(E):Bt._addSquareCap(E,P,y,i,h,T)}var x=t.length-(e?0:1);if(x>0){for(var O=1;O<x;O++)C(t[O],p);e?C(t[0],p):(_(t[0],g),_(t[t.length-1],g))}return v},_getStrokePadding:function(t,e){if(!e)return[t,t];var n=new F(t,0).transform(e),i=new F(0,t).transform(e),s=n.getAngleInRadians(),u=n.getLength(),l=i.getLength(),o=Math.sin(s),h=Math.cos(s),c=Math.tan(s),v=Math.atan2(l*c,u),y=Math.atan2(l,c*u);return[Math.abs(u*Math.cos(v)*h+l*Math.sin(v)*o),Math.abs(l*Math.sin(y)*h+u*Math.cos(y)*o)]},_addBevelJoin:function(t,e,n,i,s,u,l,o){var h=t.getCurve(),c=h.getPrevious(),v=h.getPoint1().transform(s),y=c.getNormalAtTime(1).multiply(n).transform(u),p=h.getNormalAtTime(0).multiply(n).transform(u),g=y.getDirectedAngle(p);if((g<0||g>=180)&&(y=y.negate(),p=p.negate()),o&&l(v),l(v.add(y)),e==="miter"){var I=new xt(v.add(y),new F(-y.y,y.x),!0).intersect(new xt(v.add(p),new F(-p.y,p.x),!0),!0);I&&v.getDistance(I)<=i*n&&l(I)}l(v.add(p))},_addSquareCap:function(t,e,n,i,s,u,l){var o=t._point.transform(i),h=t.getLocation(),c=h.getNormal().multiply(h.getTime()===0?n:-n).transform(s);e==="square"&&(l&&(u(o.subtract(c)),u(o.add(c))),o=o.add(c.rotate(-90))),u(o.add(c)),u(o.subtract(c))},getHandleBounds:function(t,e,n,i,s){var u=n.getStyle(),l=s.stroke&&u.hasStroke(),o,h;if(l){var c=n._getStrokeMatrix(i,s),v=u.getStrokeWidth()/2,y=v;u.getStrokeJoin()==="miter"&&(y=v*u.getMiterLimit()),u.getStrokeCap()==="square"&&(y=Math.max(y,v*Math.SQRT2)),o=Bt._getStrokePadding(v,c),h=Bt._getStrokePadding(y,c)}for(var p=new Array(6),g=1/0,I=-g,b=g,T=I,w=0,C=t.length;w<C;w++){var _=t[w];_._transformCoordinates(i,p);for(var x=0;x<6;x+=2){var O=x?o:h,E=O?O[0]:0,P=O?O[1]:0,M=p[x],L=p[x+1],z=M-E,D=M+E,A=L-P,N=L+P;z<g&&(g=z),D>I&&(I=D),A<b&&(b=A),N>T&&(T=N)}}return new vt(g,b,I-g,T-b)}}});Bt.inject({statics:new function(){var t=.5522847498307936,e=[new Pt([-1,0],[0,t],[0,-t]),new Pt([0,-1],[-t,0],[t,0]),new Pt([1,0],[0,-t],[0,t]),new Pt([0,1],[t,0],[-t,0])];function n(s,u,l){var o=d.getNamed(l),h=new Bt(o&&(o.insert==!0?it.INSERT:o.insert==!1?it.NO_INSERT:null));return h._add(s),h._closed=u,h.set(o,it.INSERT)}function i(s,u,l){for(var o=new Array(4),h=0;h<4;h++){var c=e[h];o[h]=new Pt(c._point.multiply(u).add(s),c._handleIn.multiply(u),c._handleOut.multiply(u))}return n(o,!0,l)}return{Line:function(){var s=arguments;return n([new Pt(F.readNamed(s,"from")),new Pt(F.readNamed(s,"to"))],!1,s)},Circle:function(){var s=arguments,u=F.readNamed(s,"center"),l=d.readNamed(s,"radius");return i(u,new ct(l),s)},Rectangle:function(){var s=arguments,u=vt.readNamed(s,"rectangle"),l=ct.readNamed(s,"radius",0,{readNull:!0}),o=u.getBottomLeft(!0),h=u.getTopLeft(!0),c=u.getTopRight(!0),v=u.getBottomRight(!0),y;if(!l||l.isZero())y=[new Pt(o),new Pt(h),new Pt(c),new Pt(v)];else{l=ct.min(l,u.getSize(!0).divide(2));var p=l.width,g=l.height,I=p*t,b=g*t;y=[new Pt(o.add(p,0),null,[-I,0]),new Pt(o.subtract(0,g),[0,b]),new Pt(h.add(0,g),null,[0,-b]),new Pt(h.add(p,0),[-I,0],null),new Pt(c.subtract(p,0),null,[I,0]),new Pt(c.add(0,g),[0,-b],null),new Pt(v.subtract(0,g),null,[0,b]),new Pt(v.subtract(p,0),[I,0])]}return n(y,!0,s)},RoundRectangle:"#Rectangle",Ellipse:function(){var s=arguments,u=Ut._readEllipse(s);return i(u.center,u.radius,s)},Oval:"#Ellipse",Arc:function(){var s=arguments,u=F.readNamed(s,"from"),l=F.readNamed(s,"through"),o=F.readNamed(s,"to"),h=d.getNamed(s),c=new Bt(h&&h.insert==!1&&it.NO_INSERT);return c.moveTo(u),c.arcTo(l,o),c.set(h)},RegularPolygon:function(){for(var s=arguments,u=F.readNamed(s,"center"),l=d.readNamed(s,"sides"),o=d.readNamed(s,"radius"),h=360/l,c=l%3===0,v=new F(0,c?-o:o),y=c?-1:.5,p=new Array(l),g=0;g<l;g++)p[g]=new Pt(u.add(v.rotate((g+y)*h)));return n(p,!0,s)},Star:function(){for(var s=arguments,u=F.readNamed(s,"center"),l=d.readNamed(s,"points")*2,o=d.readNamed(s,"radius1"),h=d.readNamed(s,"radius2"),c=360/l,v=new F(0,-1),y=new Array(l),p=0;p<l;p++)y[p]=new Pt(u.add(v.rotate(c*p).multiply(p%2?h:o)));return n(y,!0,s)}}}});var Pe=Wt.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||(typeof e=="string"?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function t(e,n){var i=n,s=i[0];s&&typeof s[0]=="number"&&(i=[i]);for(var u=n.length-1;u>=0;u--){var l=i[u];i===n&&!(l instanceof Bt)&&(i=d.slice(i)),Array.isArray(l)?i[u]=new Bt({segments:l,insert:!1}):l instanceof Pe&&(i.splice.apply(i,[u,1].concat(l.removeChildren())),l.remove())}return t.base.call(this,e,i)},reduce:function t(e){for(var n=this._children,i=n.length-1;i>=0;i--){var s=n[i].reduce(e);s.isEmpty()&&s.remove()}if(!n.length){var s=new Bt(it.NO_INSERT);return s.copyAttributes(this),s.insertAbove(this),this.remove(),s}return t.base.call(this)},isClosed:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],n=0,i=t.length;n<i;n++)d.push(e,t[n].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getArea();return e},getLength:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();return e},getPathData:function(t,e){for(var n=this._children,i=[],s=0,u=n.length;s<u;s++){var l=n[s],o=l._matrix;i.push(l.getPathData(t&&!o.isIdentity()?t.appended(o):t,e))}return i.join("")},_hitTestChildren:function t(e,n,i){return t.base.call(this,e,n.class===Bt||n.type==="path"?n:d.set({},n,{fill:!1}),i)},_draw:function(t,e,n,i){var s=this._children;if(s.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var u=0,l=s.length;u<l;u++)s[u].draw(t,e,i);if(!e.clip){this._setStyles(t,e,n);var o=this._style;o.hasFill()&&(t.fill(o.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),o.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){for(var i=this._children,s=0,u=i.length;s<u;s++){var l=i[s],o=l._matrix;n[l._id]||l._drawSelected(t,o.isIdentity()?e:e.appended(o))}}},new function(){function t(e,n){var i=e._children;if(n&&!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return d.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var n=t(this,!0);n[e].apply(n,arguments)}},{moveTo:function(){var e=t(this),n=e&&e.isEmpty()?e:new Bt(it.NO_INSERT);n!==e&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var e=t(this,!0),n=e&&e.getLastSegment(),i=F.read(arguments);this.moveTo(n?i.add(n._point):i)},closePath:function(e){t(this,!0).closePath(e)}})},d.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var n=this._children,i,s=0,u=n.length;s<u;s++)i=n[s][t](e)||i;return i}},{}));Wt.inject(new function(){var t=Math.min,e=Math.max,n=Math.abs,i={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function s(w){return w._children||[w]}function u(w,C){var _=w.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(C){for(var x=s(_),O=0,E=x.length;O<E;O++){var w=x[O];!w._closed&&!w.isEmpty()&&(w.closePath(1e-12),w.getFirstSegment().setHandleIn(0,0),w.getLastSegment().setHandleOut(0,0))}_=_.resolveCrossings().reorient(_.getFillRule()==="nonzero",!0)}return _}function l(w,C,_,x,O){var E=new Pe(it.NO_INSERT);return E.addChildren(w,!0),E=E.reduce({simplify:C}),O&&O.insert==!1||E.insertAbove(x&&_.isSibling(x)&&_.getIndex()<x.getIndex()?x:_),E.copyAttributes(_,!0),E}function o(w){return w.hasOverlap()||w.isCrossing()}function h(w,C,_,x){if(x&&(x.trace==!1||x.stroke)&&/^(subtract|intersect)$/.test(_))return c(w,C,_);var O=u(w,!0),E=C&&w!==C&&u(C,!0),P=i[_];P[_]=!0,E&&(P.subtract||P.exclude)^(E.isClockwise()^O.isClockwise())&&E.reverse();var M=g(jt.expand(O.getIntersections(E,o))),L=s(O),z=E&&s(E),D=[],A=[],N;function V(wt){for(var Ot=0,Tt=wt.length;Ot<Tt;Ot++){var Lt=wt[Ot];d.push(D,Lt._segments),d.push(A,Lt.getCurves()),Lt._overlapsOnly=!0}}function j(wt){for(var Ot=[],Tt=0,Lt=wt&&wt.length;Tt<Lt;Tt++)Ot.push(A[wt[Tt]]);return Ot}if(M.length){V(L),z&&V(z);for(var W=new Array(A.length),K=0,nt=A.length;K<nt;K++)W[K]=A[K].getValues();for(var ht=tt.findCurveBoundsCollisions(W,W,0,!0),_t={},K=0;K<A.length;K++){var yt=A[K],J=yt._path._id,$=_t[J]=_t[J]||{};$[yt.getIndex()]={hor:j(ht[K].hor),ver:j(ht[K].ver)}}for(var K=0,nt=M.length;K<nt;K++)b(M[K]._segment,O,E,_t,P);for(var K=0,nt=D.length;K<nt;K++){var gt=D[K],bt=gt._intersection;gt._winding||b(gt,O,E,_t,P),bt&&bt._overlap||(gt._path._overlapsOnly=!1)}N=T(D,P)}else N=p(z?L.concat(z):L.slice(),function(wt){return!!P[wt]});return l(N,!0,w,C,x)}function c(w,C,_){var x=u(w),O=u(C),E=x.getIntersections(O,o),P=_==="subtract",M=_==="divide",L={},z=[];function D(V){if(!L[V._id]&&(M||O.contains(V.getPointAt(V.getLength()/2))^P))return z.unshift(V),L[V._id]=!0}for(var A=E.length-1;A>=0;A--){var N=E[A].split();N&&(D(N)&&N.getFirstSegment().setHandleIn(0,0),x.getLastSegment().setHandleOut(0,0))}return D(x),l(z,!1,w,C)}function v(w,C){for(var _=w;_;){if(_===C)return;_=_._previous}for(;w._next&&w._next!==C;)w=w._next;if(!w._next){for(;C._previous;)C=C._previous;w._next=C,C._previous=w}}function y(w){for(var C=w.length-1;C>=0;C--)w[C].clearHandles()}function p(w,C,_){var x=w&&w.length;if(x){var O=d.each(w,function(ht,_t){this[ht._id]={container:null,winding:ht.isClockwise()?1:-1,index:_t}},{}),E=w.slice().sort(function(ht,_t){return n(_t.getArea())-n(ht.getArea())}),P=E[0],M=tt.findItemBoundsCollisions(E,null,et.GEOMETRIC_EPSILON);_==null&&(_=P.isClockwise());for(var L=0;L<x;L++){var z=E[L],D=O[z._id],A=0,N=M[L];if(N){for(var V=null,j=N.length-1;j>=0;j--)if(N[j]<L){V=V||z.getInteriorPoint();var W=E[N[j]];if(W.contains(V)){var K=O[W._id];A=K.winding,D.winding+=A,D.container=K.exclude?K.container:W;break}}}if(C(D.winding)===C(A))D.exclude=!0,w[D.index]=null;else{var nt=D.container;z.setClockwise(nt?!nt.isClockwise():_)}}}return w}function g(w,C,_){var x=C&&[],O=1e-8,E=1-O,P=!1,M=_||[],L=_&&{},z,D,A;function N(Ot){return Ot._path._id+"."+Ot._segment1._index}for(var V=(_&&_.length)-1;V>=0;V--){var j=_[V];j._path&&(L[N(j)]=!0)}for(var V=w.length-1;V>=0;V--){var W=w[V],K=W._time,nt=K,ht=C&&!C(W),j=W._curve,_t;if(j&&(j!==D?(P=!j.hasHandles()||L&&L[N(j)],z=[],A=null,D=j):A>=O&&(K/=A)),ht){z&&z.push(W);continue}else C&&x.unshift(W);if(A=nt,K<O)_t=j._segment1;else if(K>E)_t=j._segment2;else{var yt=j.divideAtTime(K,!0);P&&M.push(j,yt),_t=yt._segment1;for(var J=z.length-1;J>=0;J--){var $=z[J];$._time=($._time-K)/(1-K)}}W._setSegment(_t);var gt=_t._intersection,bt=W._intersection;if(gt){v(gt,bt);for(var wt=gt;wt;)v(wt._intersection,gt),wt=wt._next}else _t._intersection=bt}return _||y(M),x||w}function I(w,C,_,x,O){var E=Array.isArray(C)?C:C[_?"hor":"ver"],P=_?1:0,M=P^1,L=[w.x,w.y],z=L[P],D=L[M],A=1e-9,N=1e-6,V=z-A,j=z+A,W=0,K=0,nt=0,ht=0,_t=!1,yt=!1,J=1,$=[],gt,bt;function wt(Xt){var oe=Xt[M+0],Ee=Xt[M+6];if(!(D<t(oe,Ee)||D>e(oe,Ee))){var ce=Xt[P+0],Fe=Xt[P+2],ln=Xt[P+4],Ve=Xt[P+6];if(oe===Ee){(ce<j&&Ve>V||Ve<j&&ce>V)&&(_t=!0);return}var He=D===oe?0:D===Ee||V>e(ce,Fe,ln,Ve)||j<t(ce,Fe,ln,Ve)?1:at.solveCubic(Xt,M,D,$,0,1)>0?$[0]:1,Me=He===0?ce:He===1?Ve:at.getPoint(Xt,He)[_?"y":"x"],ke=oe>Ee?1:-1,fn=gt[M]>gt[M+6]?1:-1,qe=gt[P+6];return D!==oe?(Me<V?nt+=ke:Me>j?ht+=ke:_t=!0,Me>z-N&&Me<z+N&&(J/=2)):(ke!==fn?ce<V?nt+=ke:ce>j&&(ht+=ke):ce!=qe&&(qe<j&&Me>j?(ht+=ke,_t=!0):qe>V&&Me<V&&(nt+=ke,_t=!0)),J/=4),gt=Xt,!O&&Me>V&&Me<j&&at.getTangent(Xt,He)[_?"x":"y"]===0&&I(w,C,!_,x,!0)}}function Ot(Xt){var oe=Xt[M+0],Ee=Xt[M+2],ce=Xt[M+4],Fe=Xt[M+6];if(D<=e(oe,Ee,ce,Fe)&&D>=t(oe,Ee,ce,Fe)){for(var ln=Xt[P+0],Ve=Xt[P+2],He=Xt[P+4],Me=Xt[P+6],ke=V>e(ln,Ve,He,Me)||j<t(ln,Ve,He,Me)?[Xt]:at.getMonoCurves(Xt,_),fn,qe=0,yi=ke.length;qe<yi;qe++)if(fn=wt(ke[qe]))return fn}}for(var Tt=0,Lt=E.length;Tt<Lt;Tt++){var Rt=E[Tt],At=Rt._path,fe=Rt.getValues(),he;if((!Tt||E[Tt-1]._path!==At)&&(gt=null,At._closed||(bt=at.getValues(At.getLastCurve().getSegment2(),Rt.getSegment1(),null,!x),bt[M]!==bt[M+6]&&(gt=bt)),!gt)){gt=fe;for(var we=At.getLastCurve();we&&we!==Rt;){var ue=we.getValues();if(ue[M]!==ue[M+6]){gt=ue;break}we=we.getPrevious()}}if(he=Ot(fe))return he;if(Tt+1===Lt||E[Tt+1]._path!==At){if(bt&&(he=Ot(bt)))return he;_t&&!nt&&!ht&&(nt=ht=At.isClockwise(x)^_?1:-1),W+=nt,K+=ht,nt=ht=0,_t&&(yt=!0,_t=!1),bt=null}}return W=n(W),K=n(K),{winding:e(W,K),windingL:W,windingR:K,quality:J,onPath:yt}}function b(w,C,_,x,O){var E=[],P=w,M=0,A;do{var L=w.getCurve();if(L){var z=L.getLength();E.push({segment:w,curve:L,length:z}),M+=z}w=w.getNext()}while(w&&!w._intersection&&w!==P);for(var D=[.5,.25,.75],A={winding:0,quality:-1},N=.001,V=1-N,j=0;j<D.length&&A.quality<.5;j++)for(var z=M*D[j],W=0,K=E.length;W<K;W++){var nt=E[W],ht=nt.length;if(z<=ht){var L=nt.curve,_t=L._path,yt=_t._parent,J=yt instanceof Pe?yt:_t,$=et.clamp(L.getTimeAt(z),N,V),gt=L.getPointAtTime($),bt=n(L.getTangentAtTime($).y)<Math.SQRT1_2,wt=null;if(O.subtract&&_){var Ot=J===C?_:C,Tt=Ot._getWinding(gt,bt,!0);if(J===C&&Tt.winding||J===_&&!Tt.winding){if(Tt.quality<1)continue;wt={winding:0,quality:1}}}wt=wt||I(gt,x[_t._id][L.getIndex()],bt,!0),wt.quality>A.quality&&(A=wt);break}z-=ht}for(var W=E.length-1;W>=0;W--)E[W].segment._winding=A}function T(w,C){var _=[],x;function O(Lt){var Rt;return!!(Lt&&!Lt._visited&&(!C||C[(Rt=Lt._winding||{}).winding]&&!(C.unite&&Rt.winding===2&&Rt.windingL&&Rt.windingR)))}function E(Lt){if(Lt){for(var Rt=0,At=x.length;Rt<At;Rt++)if(Lt===x[Rt])return!0}return!1}function P(Lt){for(var Rt=Lt._segments,At=0,fe=Rt.length;At<fe;At++)Rt[At]._visited=!0}function M(Lt,Rt){var At=Lt._intersection,fe=At,he=[];Rt&&(x=[Lt]);function we(ue,Xt){for(;ue&&ue!==Xt;){var oe=ue._segment,Ee=oe&&oe._path;if(Ee){var ce=oe.getNext()||Ee.getFirstSegment(),Fe=ce._intersection;oe!==Lt&&(E(oe)||E(ce)||ce&&O(oe)&&(O(ce)||Fe&&O(Fe._segment)))&&he.push(oe),Rt&&x.push(oe)}ue=ue._next}}if(At){for(we(At);At&&At._previous;)At=At._previous;we(At,fe)}return he}w.sort(function(Lt,Rt){var At=Lt._intersection,fe=Rt._intersection,he=!!(At&&At._overlap),we=!!(fe&&fe._overlap),ue=Lt._path,Xt=Rt._path;return he^we?he?1:-1:!At^!fe?At?1:-1:ue!==Xt?ue._id-Xt._id:Lt._index-Rt._index});for(var L=0,z=w.length;L<z;L++){var D=w[L],A=O(D),N=null,V=!1,j=!0,W=[],K,nt,ht;if(A&&D._path._overlapsOnly){var _t=D._path,yt=D._intersection._segment._path;_t.compare(yt)&&(_t.getArea()&&_.push(_t.clone(!1)),P(_t),P(yt),A=!1)}for(;A;){var J=!N,$=M(D,J),gt=$.shift(),V=!J&&(E(D)||E(gt)),bt=!V&&gt;if(J&&(N=new Bt(it.NO_INSERT),K=null),V){(D.isFirst()||D.isLast())&&(j=D._path._closed),D._visited=!0;break}if(bt&&K&&(W.push(K),K=null),K||(bt&&$.push(D),K={start:N._segments.length,crossings:$,visited:nt=[],handleIn:ht}),bt&&(D=gt),!O(D)){N.removeSegments(K.start);for(var wt=0,Ot=nt.length;wt<Ot;wt++)nt[wt]._visited=!1;nt.length=0;do D=K&&K.crossings.shift(),(!D||!D._path)&&(D=null,K=W.pop(),K&&(nt=K.visited,ht=K.handleIn));while(K&&!O(D));if(!D)break}var Tt=D.getNext();N.add(new Pt(D._point,ht,Tt&&D._handleOut)),D._visited=!0,nt.push(D),D=Tt||D._path.getFirstSegment(),ht=Tt&&Tt._handleIn}V&&(j&&(N.getFirstSegment().setHandleIn(ht),N.setClosed(j)),N.getArea()!==0&&_.push(N))}return _}return{_getWinding:function(w,C,_){return I(w,this.getCurves(),C,_)},unite:function(w,C){return h(this,w,"unite",C)},intersect:function(w,C){return h(this,w,"intersect",C)},subtract:function(w,C){return h(this,w,"subtract",C)},exclude:function(w,C){return h(this,w,"exclude",C)},divide:function(w,C){return C&&(C.trace==!1||C.stroke)?c(this,w,"divide"):l([this.subtract(w,C),this.intersect(w,C)],!0,this,w,C)},resolveCrossings:function(){var w=this._children,C=w||[this];function _(K,nt){var ht=K&&K._intersection;return ht&&ht._overlap&&ht._path===nt}var x=!1,O=!1,E=this.getIntersections(null,function(K){return K.hasOverlap()&&(x=!0)||K.isCrossing()&&(O=!0)}),P=x&&O&&[];if(E=jt.expand(E),x)for(var M=g(E,function(K){return K.hasOverlap()},P),L=M.length-1;L>=0;L--){var z=M[L],D=z._path,A=z._segment,N=A.getPrevious(),V=A.getNext();_(N,D)&&_(V,D)&&(A.remove(),N._handleOut._set(0,0),V._handleIn._set(0,0),N!==A&&!N.getCurve().hasLength()&&(V._handleIn.set(N._handleIn),N.remove()))}O&&(g(E,x&&function(K){var nt=K.getCurve(),ht=K.getSegment(),_t=K._intersection,yt=_t._curve,J=_t._segment;if(nt&&yt&&nt._path&&yt._path)return!0;ht&&(ht._intersection=null),J&&(J._intersection=null)},P),P&&y(P),C=T(d.each(C,function(K){d.push(this,K._segments)},[])));var j=C.length,W;return j>1&&w?(C!==w&&this.setChildren(C),W=this):j===1&&!w&&(C[0]!==this&&this.setSegments(C[0].removeSegments()),W=this),W||(W=new Pe(it.NO_INSERT),W.addChildren(C),W=W.reduce(),W.copyAttributes(this),this.replaceWith(W)),W},reorient:function(w,C){var _=this._children;return _&&_.length?this.setChildren(p(this.removeChildren(),function(x){return!!(w?x:x&1)},C)):C!==f&&this.setClockwise(C),this},getInteriorPoint:function(){var w=this.getBounds(),C=w.getCenter(!0);if(!this.contains(C)){for(var _=this.getCurves(),x=C.y,O=[],E=[],P=0,M=_.length;P<M;P++){var L=_[P].getValues(),z=L[1],D=L[3],A=L[5],N=L[7];if(x>=t(z,D,A,N)&&x<=e(z,D,A,N))for(var V=at.getMonoCurves(L),j=0,W=V.length;j<W;j++){var K=V[j],nt=K[1],ht=K[7];if(nt!==ht&&(x>=nt&&x<=ht||x>=ht&&x<=nt)){var _t=x===nt?K[0]:x===ht?K[6]:at.solveCubic(K,1,x,E,0,1)===1?at.getPoint(K,E[0]).x:(K[0]+K[6])/2;O.push(_t)}}}O.length>1&&(O.sort(function(yt,J){return yt-J}),C.x=(O[0]+O[1])/2)}return C}}});var Je=d.extend({_class:"PathFlattener",initialize:function(t,e,n,i,s){var u=[],l=[],o=0,h=1/(n||32),c=t._segments,v=c[0],y;function p(T,w){var C=at.getValues(T,w,s);u.push(C),g(C,T._index,0,1)}function g(T,w,C,_){if(_-C>h&&!(i&&at.isStraight(T))&&!at.isFlatEnough(T,e||.25)){var x=at.subdivide(T,.5),O=(C+_)/2;g(x[0],w,C,O),g(x[1],w,O,_)}else{var E=T[6]-T[0],P=T[7]-T[1],M=Math.sqrt(E*E+P*P);M>0&&(o+=M,l.push({offset:o,curve:T,index:w,time:_}))}}for(var I=1,b=c.length;I<b;I++)y=c[I],p(v,y),v=y;t._closed&&p(y||v,c[0]),this.curves=u,this.parts=l,this.length=o,this.index=0},_get:function(t){for(var e=this.parts,n=e.length,i,s=this.index;i=s,!(!s||e[--s].offset<t););for(;i<n;i++){var u=e[i];if(u.offset>=t){this.index=i;var l=e[i-1],o=l&&l.index===u.index?l.time:0,h=l?l.offset:0;return{index:u.index,time:o+(u.time-o)*(t-h)/(u.offset-h)}}}return{index:e[n-1].index,time:1}},drawPart:function(t,e,n){for(var i=this._get(e),s=this._get(n),u=i.index,l=s.index;u<=l;u++){var o=at.getPart(this.curves[u],u===i.index?i.time:0,u===s.index?s.time:1);u===i.index&&t.moveTo(o[0],o[1]),t.bezierCurveTo.apply(t,o.slice(2))}}},d.each(at._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this._get(e);return at[t](this.curves[n.index],n.time)}},{})),Ne=d.extend({initialize:function(t){for(var e=this.points=[],n=t._segments,i=t._closed,s=0,u,l=n.length;s<l;s++){var o=n[s].point;(!u||!u.equals(o))&&e.push(u=o.clone())}i&&(e.unshift(e[e.length-1]),e.push(e[1])),this.closed=i},fit:function(t){var e=this.points,n=e.length,i=null;return n>0&&(i=[new Pt(e[0])],n>1&&(this.fitCubic(i,t,0,n-1,e[1].subtract(e[0]),e[n-2].subtract(e[n-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(t,e,n,i,s,u){var l=this.points;if(i-n===1){var o=l[n],h=l[i],c=o.getDistance(h)/3;this.addCurve(t,[o,o.add(s.normalize(c)),h.add(u.normalize(c)),h]);return}for(var v=this.chordLengthParameterize(n,i),y=Math.max(e,e*e),p,g=!0,I=0;I<=4;I++){var b=this.generateBezier(n,i,v,s,u),T=this.findMaxError(n,i,b,v);if(T.error<e&&g){this.addCurve(t,b);return}if(p=T.index,T.error>=y)break;g=this.reparameterize(n,i,v,b),y=T.error}var w=l[p-1].subtract(l[p+1]);this.fitCubic(t,e,n,p,s,w),this.fitCubic(t,e,p,i,w.negate(),u)},addCurve:function(t,e){var n=t[t.length-1];n.setHandleOut(e[1].subtract(e[0])),t.push(new Pt(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,n,i,s){for(var u=1e-12,l=Math.abs,o=this.points,h=o[t],c=o[e],v=[[0,0],[0,0]],y=[0,0],p=0,g=e-t+1;p<g;p++){var I=n[p],b=1-I,T=3*I*b,w=b*b*b,C=T*b,_=T*I,x=I*I*I,O=i.normalize(C),E=s.normalize(_),P=o[t+p].subtract(h.multiply(w+C)).subtract(c.multiply(_+x));v[0][0]+=O.dot(O),v[0][1]+=O.dot(E),v[1][0]=v[0][1],v[1][1]+=E.dot(E),y[0]+=O.dot(P),y[1]+=E.dot(P)}var M=v[0][0]*v[1][1]-v[1][0]*v[0][1],L,z;if(l(M)>u){var D=v[0][0]*y[1]-v[1][0]*y[0],A=y[0]*v[1][1]-y[1]*v[0][1];L=A/M,z=D/M}else{var N=v[0][0]+v[0][1],V=v[1][0]+v[1][1];L=z=l(N)>u?y[0]/N:l(V)>u?y[1]/V:0}var j=c.getDistance(h),W=u*j,K,nt;if(L<W||z<W)L=z=j/3;else{var ht=c.subtract(h);K=i.normalize(L),nt=s.normalize(z),K.dot(ht)-nt.dot(ht)>j*j&&(L=z=j/3,K=nt=null)}return[h,h.add(K||i.normalize(L)),c.add(nt||s.normalize(z)),c]},reparameterize:function(t,e,n,i){for(var s=t;s<=e;s++)n[s-t]=this.findRoot(i,this.points[s],n[s-t]);for(var s=1,u=n.length;s<u;s++)if(n[s]<=n[s-1])return!1;return!0},findRoot:function(t,e,n){for(var i=[],s=[],u=0;u<=2;u++)i[u]=t[u+1].subtract(t[u]).multiply(3);for(var u=0;u<=1;u++)s[u]=i[u+1].subtract(i[u]).multiply(2);var l=this.evaluate(3,t,n),o=this.evaluate(2,i,n),h=this.evaluate(1,s,n),c=l.subtract(e),v=o.dot(o)+c.dot(h);return et.isMachineZero(v)?n:n-c.dot(o)/v},evaluate:function(t,e,n){for(var i=e.slice(),s=1;s<=t;s++)for(var u=0;u<=t-s;u++)i[u]=i[u].multiply(1-n).add(i[u+1].multiply(n));return i[0]},chordLengthParameterize:function(t,e){for(var n=[0],i=t+1;i<=e;i++)n[i-t]=n[i-t-1]+this.points[i].getDistance(this.points[i-1]);for(var i=1,s=e-t;i<=s;i++)n[i]/=n[s];return n},findMaxError:function(t,e,n,i){for(var s=Math.floor((e-t+1)/2),u=0,l=t+1;l<e;l++){var o=this.evaluate(3,n,i[l-t]),h=o.subtract(this.points[l]),c=h.x*h.x+h.y*h.y;c>=u&&(u=c,s=l)}return{error:u,index:s}}}),Cn=it.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var n=e&&d.isPlainObject(e)&&e.x===f&&e.y===f;this._initialize(n&&e,!n&&F.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),nr=Cn.extend({_class:"PointText",initialize:function(){Cn.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new Ht(t.x,t.y,this,"setPoint")},setPoint:function(){var t=F.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,n){if(this._content){this._setStyles(t,e,n);var i=this._lines,s=this._style,u=s.hasFill(),l=s.hasStroke(),o=s.getLeading(),h=t.shadowColor;t.font=s.getFontStyle(),t.textAlign=s.getJustification();for(var c=0,v=i.length;c<v;c++){t.shadowColor=h;var y=i[c];u&&(t.fillText(y,0,0),t.shadowColor="rgba(0,0,0,0)"),l&&t.strokeText(y,0,0),t.translate(0,o)}}},_getBounds:function(t,e){var n=this._style,i=this._lines,s=i.length,u=n.getJustification(),l=n.getLeading(),o=this.getView().getTextWidth(n.getFontStyle(),i),h=0;u!=="left"&&(h-=o/(u==="center"?2:1));var c=new vt(h,s?-.75*l:0,o,s*l);return t?t._transformBounds(c,c):c}}),ae=d.extend(new function(){var t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},e={},n={transparent:[0,0,0,0]},i;function s(o){var h=o.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||o.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),c="rgb",v;if(h){var y=h[4]?4:3;v=new Array(y);for(var p=0;p<y;p++){var g=h[p+1];v[p]=parseInt(g.length==1?g+g:g,16)/255}}else if(h=o.match(/^(rgb|hsl)a?\((.*)\)$/)){c=h[1],v=h[2].trim().split(/[,\s]+/g);for(var I=c==="hsl",p=0,b=Math.min(v.length,4);p<b;p++){var T=v[p],g=parseFloat(T);if(I)if(p===0){var w=T.match(/([a-z]*)$/)[1];g*={turn:360,rad:180/Math.PI,grad:.9}[w]||1}else p<3&&(g/=100);else p<3&&(g/=/%$/.test(T)?100:255);v[p]=g}}else{var C=n[o];if(!C)if(m){i||(i=ut.getContext(1,1,{willReadFrequently:!0}),i.globalCompositeOperation="copy"),i.fillStyle="rgba(0,0,0,0)",i.fillStyle=o,i.fillRect(0,0,1,1);var _=i.getImageData(0,0,1,1).data;C=n[o]=[_[0]/255,_[1]/255,_[2]/255]}else C=[0,0,0];v=C.slice()}return[c,v]}var u=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],l={"rgb-hsb":function(o,h,c){var v=Math.max(o,h,c),y=Math.min(o,h,c),p=v-y,g=p===0?0:(v==o?(h-c)/p+(h<c?6:0):v==h?(c-o)/p+2:(o-h)/p+4)*60;return[g,v===0?0:p/v,v]},"hsb-rgb":function(o,h,c){o=(o/60%6+6)%6;var y=Math.floor(o),v=o-y,y=u[y],p=[c,c*(1-h),c*(1-h*v),c*(1-h*(1-v))];return[p[y[0]],p[y[1]],p[y[2]]]},"rgb-hsl":function(o,h,c){var v=Math.max(o,h,c),y=Math.min(o,h,c),p=v-y,g=p===0,I=g?0:(v==o?(h-c)/p+(h<c?6:0):v==h?(c-o)/p+2:(o-h)/p+4)*60,b=(v+y)/2,T=g?0:b<.5?p/(v+y):p/(2-v-y);return[I,T,b]},"hsl-rgb":function(o,h,c){if(o=(o/360%1+1)%1,h===0)return[c,c,c];for(var v=[o+1/3,o,o-1/3],y=c<.5?c*(1+h):c+h-c*h,p=2*c-y,g=[],I=0;I<3;I++){var b=v[I];b<0&&(b+=1),b>1&&(b-=1),g[I]=6*b<1?p+(y-p)*6*b:2*b<1?y:3*b<2?p+(y-p)*(2/3-b)*6:p}return g},"rgb-gray":function(o,h,c){return[o*.2989+h*.587+c*.114]},"gray-rgb":function(o){return[o,o,o]},"gray-hsb":function(o){return[0,0,o]},"gray-hsl":function(o){return[0,0,o]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return d.each(t,function(o,h){e[h]=[],d.each(o,function(c,v){var y=d.capitalize(c),p=/^(hue|saturation)$/.test(c),g=e[h][v]=h==="gradient"?c==="gradient"?function(I){var b=this._components[0];return I=Xe.read(Array.isArray(I)?I:arguments,0,{readNull:!0}),b!==I&&(b&&b._removeOwner(this),I&&I._addOwner(this)),I}:function(){return F.read(arguments,0,{readNull:c==="highlight",clone:!0})}:function(I){return I==null||isNaN(I)?0:+I};this["get"+y]=function(){return this._type===h||p&&/^hs[bl]$/.test(this._type)?this._components[v]:this._convert(h)[v]},this["set"+y]=function(I){this._type!==h&&!(p&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(h),this._properties=t[h],this._type=h),this._components[v]=g.call(this,I),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function o(h){var c=arguments,v=this.__read,y=0,p,g,I,b;Array.isArray(h)&&(c=h,h=c[0]);var T=h!=null&&typeof h;if(T==="string"&&h in t&&(p=h,h=c[1],Array.isArray(h)?(g=h,I=c[2]):(v&&(y=1),c=d.slice(c,1),T=typeof h)),!g){if(b=T==="number"?c:T==="object"&&h.length!=null?h:null,b){p||(p=b.length>=3?"rgb":"gray");var w=t[p].length;I=b[w],v&&(y+=b===arguments?w+(I!=null?1:0):1),b.length>w&&(b=d.slice(b,0,w))}else if(T==="string"){var C=s(h);p=C[0],g=C[1],g.length===4&&(I=g[3],g.length--)}else if(T==="object")if(h.constructor===o){if(p=h._type,g=h._components.slice(),I=h._alpha,p==="gradient")for(var _=1,x=g.length;_<x;_++){var O=g[_];O&&(g[_]=O.clone())}}else if(h.constructor===Xe)p="gradient",b=c;else{p="hue"in h?"lightness"in h?"hsl":"hsb":"gradient"in h||"stops"in h||"radial"in h?"gradient":"gray"in h?"gray":"rgb";var E=t[p],P=e[p];this._components=g=[];for(var _=0,x=E.length;_<x;_++){var M=h[E[_]];M==null&&!_&&p==="gradient"&&"stops"in h&&(M={stops:h.stops,radial:h.radial}),M=P[_].call(this,M),M!=null&&(g[_]=M)}I=h.alpha}v&&p&&(y=1)}if(this._type=p||"rgb",!g){this._components=g=[];for(var P=e[this._type],_=0,x=P.length;_<x;_++){var M=P[_].call(this,b&&b[_]);M!=null&&(g[_]=M)}}return this._components=g,this._properties=t[this._type],this._alpha=I,v&&(this.__read=y),this},set:"#initialize",_serialize:function(o,h){var c=this.getComponents();return d.serialize(/^(gray|rgb)$/.test(this._type)?c:[this._type].concat(c),o,!0,h)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(o){var h;return this._type===o?this._components.slice():(h=l[this._type+"-"+o])?h.apply(this,this._components):l["rgb-"+o].apply(this,l[this._type+"-rgb"].apply(this,this._components))},convert:function(o){return new ae(o,this._convert(o),this._alpha)},getType:function(){return this._type},setType:function(o){this._components=this._convert(o),this._properties=t[o],this._type=o},getComponents:function(){var o=this._components.slice();return this._alpha!=null&&o.push(this._alpha),o},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(o){this._alpha=o==null?null:Math.min(Math.max(o,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(o){var h=d.isPlainValue(o,!0)?ae.read(arguments):o;return h===this||h&&this._class===h._class&&this._type===h._type&&this.getAlpha()===h.getAlpha()&&d.equals(this._components,h._components)||!1},toString:function(){for(var o=this._properties,h=[],c=this._type==="gradient",v=Y.instance,y=0,p=o.length;y<p;y++){var g=this._components[y];g!=null&&h.push(o[y]+": "+(c?g:v.number(g)))}return this._alpha!=null&&h.push("alpha: "+v.number(this._alpha)),"{ "+h.join(", ")+" }"},toCSS:function(o){var h=this._convert("rgb"),c=o||this._alpha==null?1:this._alpha;function v(y){return Math.round((y<0?0:y>1?1:y)*255)}return h=[v(h[0]),v(h[1]),v(h[2])],c<1&&h.push(c<0?0:c),o?"#"+((1<<24)+(h[0]<<16)+(h[1]<<8)+h[2]).toString(16).slice(1):(h.length==4?"rgba(":"rgb(")+h.join(",")+")"},toCanvasStyle:function(o,h){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var c=this._components,v=c[0],y=v._stops,p=c[1],g=c[2],I=c[3],b=h&&h.inverted(),T;if(b&&(p=b._transformPoint(p),g=b._transformPoint(g),I&&(I=b._transformPoint(I))),v._radial){var w=g.getDistance(p);if(I){var C=I.subtract(p);C.getLength()>w&&(I=p.add(C.normalize(w-.1)))}var _=I||p;T=o.createRadialGradient(_.x,_.y,0,p.x,p.y,w)}else T=o.createLinearGradient(p.x,p.y,g.x,g.y);for(var x=0,O=y.length;x<O;x++){var E=y[x],P=E._offset;T.addColorStop(P??x/(O-1),E._color.toCanvasStyle())}return this._canvasStyle=T},transform:function(o){if(this._type==="gradient"){for(var h=this._components,c=1,v=h.length;c<v;c++){var y=h[c];o._transformPoint(y,y,!0)}this._changed()}},statics:{_types:t,random:function(){var o=Math.random;return new ae(o(),o(),o())},_setOwner:function(o,h,c){return o&&(o._owner&&h&&o._owner!==h&&(o=o.clone()),!o._owner^!h&&(o._owner=h||null,o._setter=c||null)),o}}})},new function(){var t={add:function(e,n){return e+n},subtract:function(e,n){return e-n},multiply:function(e,n){return e*n},divide:function(e,n){return e/n}};return d.each(t,function(e,n){this[n]=function(i){i=ae.read(arguments);for(var s=this._type,u=this._components,l=i._convert(s),o=0,h=u.length;o<h;o++)l[o]=e(u[o],l[o]);return new ae(s,l,this._alpha!=null?e(this._alpha,i.getAlpha()):null)}},{})}),Xe=d.extend({_class:"Gradient",initialize:function(e,n){this._id=Ct.get(),e&&d.isPlainObject(e)&&(this.set(e),e=n=null),this._stops==null&&this.setStops(e||["white","black"]),this._radial==null&&this.setRadial(typeof n=="string"&&n==="radial"||n||!1)},_serialize:function(t,e){return e.add(this,function(){return d.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=f))},clone:function(){for(var t=[],e=0,n=this._stops.length;e<n;e++)t[e]=this._stops[e].clone();return new Xe(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var n=0,i=e.length;n<i;n++)e[n]._owner=f;e=this._stops=on.readList(t,0,{clone:!0});for(var n=0,i=e.length;n<i;n++)e[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,n=t._stops,i=e.length;if(i===n.length){for(var s=0;s<i;s++)if(!e[s].equals(n[s]))return!1;return!0}}return!1}}),on=d.extend({_class:"GradientStop",initialize:function(e,n){var i=e,s=n;typeof e=="object"&&n===f&&(Array.isArray(e)&&typeof e[0]!="number"?(i=e[0],s=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(i=e.color,s=e.offset||e.rampPoint||0)),this.setColor(i),this.setOffset(s)},clone:function(){return new on(this._color.clone(),this._offset)},_serialize:function(t,e){var n=this._color,i=this._offset;return d.serialize(i==null?[n]:[n,i],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){ae._setOwner(this._color,null),this._color=ae._setOwner(ae.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),Sn=d.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new F,selectedColor:null},e=d.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=d.set({},e,{fillColor:new ae}),i={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},s={beans:!0},u={_class:"Style",beans:!0,initialize:function(o,h,c){this._values={},this._owner=h,this._project=h&&h._project||c||lt.project,this._defaults=!h||h instanceof Vt?e:h instanceof Cn?n:t,o&&this.set(o)}};return d.each(e,function(l,o){var h=/Color$/.test(o),c=o==="shadowOffset",v=d.capitalize(o),y=i[o],p="set"+v,g="get"+v;u[p]=function(I){var b=this._owner,T=b&&b._children,w=T&&T.length>0&&!(b instanceof Pe);if(w)for(var C=0,_=T.length;C<_;C++)T[C]._style[p](I);if((o==="selectedColor"||!w)&&o in this._defaults){var x=this._values[o];x!==I&&(h&&(x&&(ae._setOwner(x,null),x._canvasStyle=null),I&&I.constructor===ae&&(I=ae._setOwner(I,b,w&&p))),this._values[o]=I,b&&b._changed(y||129))}},u[g]=function(I){var b=this._owner,T=b&&b._children,w=T&&T.length>0&&!(b instanceof Pe),C;if(w&&!I)for(var _=0,x=T.length;_<x;_++){var O=T[_]._style[g]();if(!_)C=O;else if(!d.equals(C,O))return f}else if(o in this._defaults){var C=this._values[o];if(C===f)C=this._defaults[o],C&&C.clone&&(C=C.clone());else{var E=h?ae:c?F:null;E&&!(C&&C.constructor===E)&&(this._values[o]=C=E.read([C],0,{readNull:!0,clone:!0}))}}return C&&h&&(C=ae._setOwner(C,b,w&&p)),C},s[g]=function(I){return this._style[g](I)},s[p]=function(I){this._style[p](I)}}),d.each({Font:"FontFamily",WindingRule:"FillRule"},function(l,o){var h="get"+o,c="set"+o;u[h]=s[h]="#get"+l,u[c]=s[c]="#set"+l}),it.inject(s),u},{set:function(t){var e=t instanceof Sn,n=e?t._values:t;if(n){for(var i in n)if(i in this._defaults){var s=n[i];this[i]=s&&e&&s.clone?s.clone():s}}},equals:function(t){function e(n,i,s){var u=n._values,l=i._values,o=i._defaults;for(var h in u){var c=u[h],v=l[h];if(!(s&&h in l)&&!d.equals(c,v===f?o[h]:v))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},_dispose:function(){var t;t=this.getFillColor(),t&&(t._canvasStyle=null),t=this.getStrokeColor(),t&&(t._canvasStyle=null),t=this.getShadowColor(),t&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),e??n*1.2}}),ee=new function(){function t(e,n,i,s){for(var u=["","webkit","moz","Moz","ms","o"],l=n[0].toUpperCase()+n.substring(1),o=0;o<6;o++){var h=u[o],c=h?h+l:n;if(c in e){if(i)e[c]=s;else return e[c];break}}}return{getStyles:function(e){var n=e&&e.nodeType!==9?e.ownerDocument:e,i=n&&n.defaultView;return i&&i.getComputedStyle(e,"")},getBounds:function(e,n){var i=e.ownerDocument,s=i.body,u=i.documentElement,l;try{l=e.getBoundingClientRect()}catch{l={left:0,top:0,width:0,height:0}}var o=l.left-(u.clientLeft||s.clientLeft||0),h=l.top-(u.clientTop||s.clientTop||0);if(!n){var c=i.defaultView;o+=c.pageXOffset||u.scrollLeft||s.scrollLeft,h+=c.pageYOffset||u.scrollTop||s.scrollTop}return new vt(o,h,l.width,l.height)},getViewportBounds:function(e){var n=e.ownerDocument,i=n.defaultView,s=n.documentElement;return new vt(0,0,i.innerWidth||s.clientWidth,i.innerHeight||s.clientHeight)},getOffset:function(e,n){return ee.getBounds(e,n).getPoint()},getSize:function(e){return ee.getBounds(e,!0).getSize()},isInvisible:function(e){return ee.getSize(e).equals(new ct(0,0))},isInView:function(e){return!ee.isInvisible(e)&&ee.getViewportBounds(e).intersects(ee.getBounds(e,!0))},isInserted:function(e){return S.body.contains(e)},getPrefixed:function(e,n){return e&&t(e,n)},setPrefixed:function(e,n,i){if(typeof n=="object")for(var s in n)t(e,s,!0,n[s]);else t(e,n,!0,i)}}},$t={add:function(t,e){if(t)for(var n in e)for(var i=e[n],s=n.split(/[\s,]+/g),u=0,l=s.length;u<l;u++){var o=s[u],h=t===S&&(o==="touchstart"||o==="touchmove")?{passive:!1}:!1;t.addEventListener(o,i,h)}},remove:function(t,e){if(t)for(var n in e)for(var i=e[n],s=n.split(/[\s,]+/g),u=0,l=s.length;u<l;u++)t.removeEventListener(s[u],i,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new F(e.pageX||e.clientX+S.documentElement.scrollLeft,e.pageY||e.clientY+S.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return $t.getPoint(t).subtract(ee.getOffset(e||$t.getTarget(t)))}};$t.requestAnimationFrame=new function(){var t=ee.getPrefixed(m,"requestAnimationFrame"),e=!1,n=[],i;function s(){var u=n;n=[];for(var l=0,o=u.length;l<o;l++)u[l]();e=t&&n.length,e&&t(s)}return function(u){n.push(u),t?e||(t(s),e=!0):i||(i=setInterval(s,1e3/60))}};var Qt=d.extend(k,{_class:"View",initialize:function t(e,n){function i(y){return n[y]||parseInt(n.getAttribute(y),10)}function s(){var y=ee.getSize(n);return y.isNaN()||y.isZero()?new ct(i("width"),i("height")):y}var u;if(m&&n){this._id=n.getAttribute("id"),this._id==null&&n.setAttribute("id",this._id="paper-view-"+t._id++),$t.add(n,this._viewEvents);var l="none";if(ee.setPrefixed(n.style,{userDrag:l,userSelect:l,touchCallout:l,contentZooming:l,tapHighlightColor:"rgba(0,0,0,0)"}),q.hasAttribute(n,"resize")){var o=this;$t.add(m,this._windowEvents={resize:function(){o.setViewSize(s())}})}if(u=s(),q.hasAttribute(n,"stats")&&typeof Stats<"u"){this._stats=new Stats;var h=this._stats.domElement,c=h.style,v=ee.getOffset(n);c.position="absolute",c.left=v.x+"px",c.top=v.y+"px",S.body.appendChild(h)}}else u=new ct(n),n=null;this._project=e,this._scope=e._scope,this._element=n,this._pixelRatio||(this._pixelRatio=m&&m.devicePixelRatio||1),this._setElementSize(u.width,u.height),this._viewSize=u,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new St)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!lt.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Qt._focused===this&&(Qt._focused=null),Qt._views.splice(Qt._views.indexOf(this),1),delete Qt._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),$t.remove(this._element,this._viewEvents),$t.remove(m,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:d.each(it._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;$t.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;(!ee.getPrefixed(S,"hidden")||q.getAttribute(e,"keepalive")==="true")&&ee.isInView(e)&&t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){lt=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new d({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var n=this._frameItems;e?(n[t._id]={item:t,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete n[t._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var n=this._frameItems[e];n.item.emit("frame",new d(t,{time:n.time+=t.delta,count:n.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=f},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var t=this._viewSize;return new te(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=ct.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var n=this._element;n&&(n.width!==t&&(n.width=t),n.height!==e&&(n.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new vt(new F,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return ee.isInView(this._element)},isInserted:function(){return ee.isInserted(this._element)},getPixelSize:function(t){var e=this._element,n;if(e){var i=e.parentNode,s=S.createElement("div");s.style.fontSize=t,i.appendChild(s),n=parseFloat(ee.getStyles(s).fontSize),i.removeChild(s)}else n=parseFloat(n);return n},getTextWidth:function(t,e){return 0}},d.each(["rotate","scale","shear","skew"],function(t){var e=t==="rotate";this[t]=function(){var n=arguments,i=(e?d:F).read(n),s=F.read(n,0,{readNull:!0});return this.transform(new St()[t](i,s||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new St;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=F.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform(new St().scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var e=this.getRotation();e!=null&&t!=null&&this.rotate(t-e)},getScaling:function(){var t=this._decompose().scaling;return new Ht(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=F.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(F.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(F.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(F.read(arguments))},getEventPoint:function(t){return this.viewToProject($t.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){S&&typeof e=="string"&&(e=S.getElementById(e));var n=m?mi:Qt;return new n(t,e)}}},new function(){if(!m)return;var t,e,n=!1,i=!1;function s(A){var N=$t.getTarget(A);return N.getAttribute&&Qt._viewsById[N.getAttribute("id")]}function u(){var A=Qt._focused;if(!A||!A.isVisible()){for(var N=0,V=Qt._views.length;N<V;N++)if((A=Qt._views[N]).isVisible()){Qt._focused=e=A;break}}}function l(A,N,V){A._handleMouseEvent("mousemove",N,V)}var o=m.navigator,h,c,v;o.pointerEnabled||o.msPointerEnabled?(h="pointerdown MSPointerDown",c="pointermove MSPointerMove",v="pointerup pointercancel MSPointerUp MSPointerCancel"):(h="touchstart",c="touchmove",v="touchend touchcancel","ontouchstart"in m&&o.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(h+=" mousedown",c+=" mousemove",v+=" mouseup"));var y={},p={mouseout:function(A){var N=Qt._focused,V=$t.getRelatedTarget(A);if(N&&(!V||V.nodeName==="HTML")){var j=$t.getOffset(A,N._element),W=j.x,K=Math.abs,nt=K(W),ht=1<<25,_t=nt-ht;j.x=K(_t)<nt?_t*(W<0?-1:1):W,l(N,A,N.viewToProject(j))}},scroll:u};y[h]=function(A){var N=Qt._focused=s(A);n||(n=!0,N._handleMouseEvent("mousedown",A))},p[c]=function(A){var N=Qt._focused;if(!i){var V=s(A);V?N!==V&&(N&&l(N,A),t||(t=N),N=Qt._focused=e=V):e&&e===N&&(t&&!t.isInserted()&&(t=null),N=Qt._focused=t,t=null,u())}N&&l(N,A)},p[h]=function(){i=!0},p[v]=function(A){var N=Qt._focused;N&&n&&N._handleMouseEvent("mouseup",A),i=n=!1},$t.add(S,p),$t.add(m,{load:u});var g=!1,I=!1,b={doubleclick:"click",mousedrag:"mousemove"},T=!1,w,C,_,x,O,E,P,M;function L(A,N,V,j,W,K,nt){var ht=!1,_t;function yt(J,$){if(J.responds($)){if(_t||(_t=new ot($,j,W,N||J,K?W.subtract(K):null)),J.emit($,_t)&&(g=!0,_t.prevented&&(I=!0),_t.stopped))return ht=!0}else{var gt=b[$];if(gt)return yt(J,gt)}}for(;A&&A!==nt&&!yt(A,V);)A=A._parent;return ht}function z(A,N,V,j,W,K){return A._project.removeOn(V),I=g=!1,O&&L(O,null,V,j,W,K)||N&&N!==O&&!N.isDescendant(O)&&L(N,null,V==="mousedrag"?"mousemove":V,j,W,K,O)||L(A,O||N||A,V,j,W,K)}var D={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:y,_handleMouseEvent:function(A,N,V){var j=this._itemEvents,W=j.native[A],K=A==="mousemove",nt=this._scope.tool,ht=this;function _t(Ot){return j.virtual[Ot]||ht.responds(Ot)||nt&&nt.responds(Ot)}K&&n&&_t("mousedrag")&&(A="mousedrag"),V||(V=this.getEventPoint(N));var yt=this.getBounds().contains(V),J=W&&yt&&ht._project.hitTest(V,{tolerance:0,fill:!0,stroke:!0}),$=J&&J.item||null,gt=!1,bt={};if(bt[A.substr(5)]=!0,W&&$!==x&&(x&&L(x,null,"mouseleave",N,V),$&&L($,null,"mouseenter",N,V),x=$),T^yt&&(L(this,null,yt?"mouseenter":"mouseleave",N,V),gt=!0),(yt||bt.drag)&&!V.equals(C)&&(z(this,$,K?A:"mousemove",N,V,C),gt=!0),T=yt,bt.down&&yt||bt.up&&w){if(z(this,$,A,N,V,w),bt.down){if(M=$===E&&Date.now()-P<300,_=E=$,!I&&$){for(var wt=$;wt&&!wt.responds("mousedrag");)wt=wt._parent;wt&&(O=$)}w=V}else bt.up&&(!I&&$===_&&(P=Date.now(),z(this,$,M?"doubleclick":"click",N,V,w),M=!1),_=O=null);T=!1,gt=!0}C=V,gt&&nt&&(g=nt._handleMouseEvent(A,N,V,bt)||g),N.cancelable!==!1&&(g&&!bt.move||bt.down&&_t("mouseup"))&&N.preventDefault()},_handleKeyEvent:function(A,N,V,j){var W=this._scope,K=W.tool,nt;function ht(_t){_t.responds(A)&&(lt=W,_t.emit(A,nt=nt||new U(A,N,V,j)))}this.isVisible()&&(ht(this),K&&K.responds(A)&&ht(K))},_countItemEvent:function(A,N){var V=this._itemEvents,j=V.native,W=V.virtual;for(var K in D)j[K]=(j[K]||0)+(D[K][A]||0)*N;W[A]=(W[A]||0)+N},statics:{updateFocus:u,_resetState:function(){n=i=g=T=!1,t=e=w=C=_=x=O=E=P=M=null}}}}),mi=Qt.extend({_class:"CanvasView",initialize:function(e,n){if(!(n instanceof m.HTMLCanvasElement)){var i=ct.read(arguments,1);if(i.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+d.slice(arguments,1));n=ut.getCanvas(i)}var s=this._context=n.getContext("2d");if(s.save(),this._pixelRatio=1,!/^off|false$/.test(q.getAttribute(n,"hidpi"))){var u=m.devicePixelRatio||1,l=ee.getPrefixed(s,"backingStorePixelRatio")||1;this._pixelRatio=u/l}Qt.call(this,e,n),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,n){var i=this._pixelRatio;if(t.base.call(this,e*i,n*i),i!==1){var s=this._element,u=this._context;if(!q.hasAttribute(s,"resize")){var l=s.style;l.width=e+"px",l.height=n+"px"}u.restore(),u.save(),u.scale(i,i)}},getContext:function(){return this._context},getPixelSize:function t(e){var n=lt.agent,i;if(n&&n.firefox)i=t.base.call(this,e);else{var s=this._context,u=s.font;s.font=e+" serif",i=parseFloat(s.font),s.font=u}return i},getTextWidth:function(t,e){var n=this._context,i=n.font,s=0;n.font=t;for(var u=0,l=e.length;u<l;u++)s=Math.max(s,n.measureText(e[u]).width);return n.font=i,s},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,n=this._viewSize;return e.clearRect(0,0,n.width+1,n.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),B=d.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return X.modifiers}}),U=B.extend({_class:"KeyEvent",initialize:function(e,n,i,s){this.type=e,this.event=n,this.key=i,this.character=s},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),X=new function(){var t={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},e={tab:"	",space:" ",enter:"\r"},n={},i={},s,u,l=new d({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var c=lt&&lt.agent;return c&&c.mac?this.meta:this.control}}});function o(c){var v=c.key||c.keyIdentifier;return v=/^U\+/.test(v)?String.fromCharCode(parseInt(v.substr(2),16)):/^Arrow[A-Z]/.test(v)?v.substr(5):v==="Unidentified"||v===f?String.fromCharCode(c.keyCode):v,t[v]||(v.length>1?d.hyphenate(v):v.toLowerCase())}function h(c,v,y,p){var g=Qt._focused,I;if(n[v]=c,c?i[v]=y:delete i[v],v.length>1&&(I=d.camelize(v))in l){l[I]=c;var b=lt&&lt.agent;if(I==="meta"&&b&&b.mac)if(c)s={};else{for(var T in s)T in i&&h(!1,T,s[T],p);s=null}}else c&&s&&(s[v]=y);g&&g._handleKeyEvent(c?"keydown":"keyup",p,v,y)}return $t.add(S,{keydown:function(c){var v=o(c),y=lt&&lt.agent;v.length>1||y&&y.chrome&&(c.altKey||y.mac&&c.metaKey||!y.mac&&c.ctrlKey)?h(!0,v,e[v]||(v.length>1?"":v),c):u=v},keypress:function(c){if(u){var v=o(c),y=c.charCode,p=y>=32?String.fromCharCode(y):v.length>1?"":v;v!==u&&(v=p.toLowerCase()),h(!0,v,p,c),u=null}},keyup:function(c){var v=o(c);v in i&&h(!1,v,i[v],c)}}),$t.add(m,{blur:function(c){for(var v in i)h(!1,v,i[v],c)}}),{modifiers:l,isDown:function(c){return!!n[c]}}},ot=B.extend({_class:"MouseEvent",initialize:function(e,n,i,s,u){this.type=e,this.event=n,this.point=i,this.target=s,this.delta=u},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),rt=B.extend({_class:"ToolEvent",_item:null,initialize:function(e,n,i){this.tool=e,this.type=n,this.event=i},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,n=e._parent;/^(Group|CompoundPath)$/.test(n._class);)e=n,n=n._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),ft=Z.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){Z.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,t!=null&&this._maxDistance!=null&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,this._minDistance!=null&&t!=null&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,n,i){lt=this._scope,i.drag&&!this.responds(t)&&(t="mousemove");var s=i.move||i.drag,u=this.responds(t),l=!1,o=this;function h(v,y){var p=n,g=s?o._point:o._downPoint||p;if(s){if(o._moveCount>=0&&p.equals(g))return!1;if(g&&(v!=null||y!=null)){var I=p.subtract(g),b=I.getLength();if(b<(v||0))return!1;y&&(p=g.add(I.normalize(Math.min(b,y))))}o._moveCount++}return o._point=p,o._lastPoint=g||p,i.down&&(o._moveCount=-1,o._downPoint=p,o._downCount++),!0}function c(){u&&(l=o.emit(t,new rt(o,t,e))||l)}if(i.down)h(),c();else if(i.up)h(null,this._maxDistance),c();else if(u)for(;h(this._minDistance,this._maxDistance);)c();return l}}),mt=d.extend(k,{_class:"Tween",statics:{easings:new d({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+2*(2-t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(e,n,i,s,u,l){this.object=e;var o=typeof u,h=o==="function";this.type=h?o:o==="string"?u:"linear",this.easing=h?u:t.easings[this.type],this.duration=s,this.running=!1,this._then=null,this._startTime=null;var c=n||i;this._keys=c?Object.keys(c):[],this._parsedKeys=this._parseKeys(this._keys),this._from=c&&this._getState(n),this._to=c&&this._getState(i),l!==!1&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){t>=1&&(t=1,this.running=!1);for(var e=this.easing(t),n=this._keys,i=function(v){return typeof v=="function"?v(e,t):v},s=0,u=n&&n.length;s<u;s++){var l=n[s],o=i(this._from[l]),h=i(this._to[l]),c=o&&h&&o.__add&&h.__add?h.__subtract(o).__multiply(e).__add(o):(h-o)*e+o;this._setProperty(this._parsedKeys[l],c)}this.responds("update")&&this.emit("update",new d({progress:t,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var e=this._startTime,n=e?(t-e)/this.duration:0;e||(this._startTime=t),this.update(n)},_getState:function(t){for(var e=this._keys,n={},i=0,s=e.length;i<s;i++){var u=e[i],l=this._parsedKeys[u],o=this._getProperty(l),h;if(t){var c=this._resolveValue(o,t[u]);this._setProperty(l,c),h=this._getProperty(l),h=h&&h.clone?h.clone():h,this._setProperty(l,o)}else h=o&&o.clone?o.clone():o;n[u]=h}return n},_resolveValue:function(t,e){if(e){if(Array.isArray(e)&&e.length===2){var n=e[0];return n&&n.match&&n.match(/^[+\-\*\/]=/)?this._calculate(t,n[0],e[1]):e}else if(typeof e=="string"){var i=e.match(/^[+\-*/]=(.*)/);if(i){var s=JSON.parse(i[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,e[0],s)}}}return e},_calculate:function(t,e,n){return lt.PaperScript.calculateBinary(t,e,n)},_parseKeys:function(t){for(var e={},n=0,i=t.length;n<i;n++){var s=t[n],u=s.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[s]=u.split("/")}return e},_getProperty:function(t,e){for(var n=this.object,i=0,s=t.length-(e||0);i<s&&n;i++)n=n[t[i]];return n},_setProperty:function(t,e){var n=this._getProperty(t,1);n&&(n[t[t.length-1]]=e)}}),pt={request:function(t){var e=new a.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,d.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var n=e.status;n===0||n===200?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var n=e.status,i='Could not load "'+t.url+'" (Status: '+n+")";if(t.onError)t.onError(i,n);else throw new Error(i)},e.send(null)}},ut=d.exports.CanvasProvider={canvases:[],getCanvas:function(t,e,n){if(!m)return null;var i,s=!0;typeof t=="object"&&(e=t.height,t=t.width),this.canvases.length?i=this.canvases.pop():(i=S.createElement("canvas"),s=!1);var u=i.getContext("2d",n||{});if(!u)throw new Error("Canvas "+i+" is unable to provide a 2D context.");return i.width===t&&i.height===e?s&&u.clearRect(0,0,t+1,e+1):(i.width=t,i.height=e),u.save(),i},getContext:function(t,e,n){var i=this.getCanvas(t,e,n);return i?i.getContext("2d",n||{}):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},st=new function(){var t=Math.min,e=Math.max,n=Math.abs,i,s,u,l,o,h,c,v,y,p,g;function I(O,E,P){return .2989*O+.587*E+.114*P}function b(O,E,P,z){var L=z-I(O,E,P);y=O+L,p=E+L,g=P+L;var z=I(y,p,g),D=t(y,p,g),A=e(y,p,g);if(D<0){var N=z-D;y=z+(y-z)*z/N,p=z+(p-z)*z/N,g=z+(g-z)*z/N}if(A>255){var V=255-z,j=A-z;y=z+(y-z)*V/j,p=z+(p-z)*V/j,g=z+(g-z)*V/j}}function T(O,E,P){return e(O,E,P)-t(O,E,P)}function w(O,E,P,M){var L=[O,E,P],z=e(O,E,P),D=t(O,E,P),A;D=D===O?0:D===E?1:2,z=z===O?0:z===E?1:2,A=t(D,z)===0?e(D,z)===1?2:1:0,L[z]>L[D]?(L[A]=(L[A]-L[D])*M/(L[z]-L[D]),L[z]=M):L[A]=L[z]=0,L[D]=0,y=L[0],p=L[1],g=L[2]}var C={multiply:function(){y=o*i/255,p=h*s/255,g=c*u/255},screen:function(){y=o+i-o*i/255,p=h+s-h*s/255,g=c+u-c*u/255},overlay:function(){y=o<128?2*o*i/255:255-2*(255-o)*(255-i)/255,p=h<128?2*h*s/255:255-2*(255-h)*(255-s)/255,g=c<128?2*c*u/255:255-2*(255-c)*(255-u)/255},"soft-light":function(){var O=i*o/255;y=O+o*(255-(255-o)*(255-i)/255-O)/255,O=s*h/255,p=O+h*(255-(255-h)*(255-s)/255-O)/255,O=u*c/255,g=O+c*(255-(255-c)*(255-u)/255-O)/255},"hard-light":function(){y=i<128?2*i*o/255:255-2*(255-i)*(255-o)/255,p=s<128?2*s*h/255:255-2*(255-s)*(255-h)/255,g=u<128?2*u*c/255:255-2*(255-u)*(255-c)/255},"color-dodge":function(){y=o===0?0:i===255?255:t(255,255*o/(255-i)),p=h===0?0:s===255?255:t(255,255*h/(255-s)),g=c===0?0:u===255?255:t(255,255*c/(255-u))},"color-burn":function(){y=o===255?255:i===0?0:e(0,255-(255-o)*255/i),p=h===255?255:s===0?0:e(0,255-(255-h)*255/s),g=c===255?255:u===0?0:e(0,255-(255-c)*255/u)},darken:function(){y=o<i?o:i,p=h<s?h:s,g=c<u?c:u},lighten:function(){y=o>i?o:i,p=h>s?h:s,g=c>u?c:u},difference:function(){y=o-i,y<0&&(y=-y),p=h-s,p<0&&(p=-p),g=c-u,g<0&&(g=-g)},exclusion:function(){y=o+i*(255-o-o)/255,p=h+s*(255-h-h)/255,g=c+u*(255-c-c)/255},hue:function(){w(i,s,u,T(o,h,c)),b(y,p,g,I(o,h,c))},saturation:function(){w(o,h,c,T(i,s,u)),b(y,p,g,I(o,h,c))},luminosity:function(){b(o,h,c,I(i,s,u))},color:function(){b(i,s,u,I(o,h,c))},add:function(){y=t(o+i,255),p=t(h+s,255),g=t(c+u,255)},subtract:function(){y=e(o-i,0),p=e(h-s,0),g=e(c-u,0)},average:function(){y=(o+i)/2,p=(h+s)/2,g=(c+u)/2},negation:function(){y=255-n(255-i-o),p=255-n(255-s-h),g=255-n(255-u-c)}},_=this.nativeModes=d.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(O){this[O]=!0},{}),x=ut.getContext(1,1,{willReadFrequently:!0});x&&(d.each(C,function(O,E){var P=E==="darken",M=!1;x.save();try{x.fillStyle=P?"#300":"#a00",x.fillRect(0,0,1,1),x.globalCompositeOperation=E,x.globalCompositeOperation===E&&(x.fillStyle=P?"#a00":"#300",x.fillRect(0,0,1,1),M=x.getImageData(0,0,1,1).data[0]!==P?170:51)}catch{}x.restore(),_[E]=M}),ut.release(x)),this.process=function(O,E,P,M,L){var z=E.canvas,D=O==="normal";if(D||_[O])P.save(),P.setTransform(1,0,0,1,0,0),P.globalAlpha=M,D||(P.globalCompositeOperation=O),P.drawImage(z,L.x,L.y),P.restore();else{var A=C[O];if(!A)return;for(var N=P.getImageData(L.x,L.y,z.width,z.height),V=N.data,j=E.getImageData(0,0,z.width,z.height).data,W=0,K=V.length;W<K;W+=4){i=j[W],o=V[W],s=j[W+1],h=V[W+1],u=j[W+2],c=V[W+2],l=j[W+3],v=V[W+3],A();var nt=l*M/255,ht=1-nt;V[W]=nt*y+ht*o,V[W+1]=nt*p+ht*h,V[W+2]=nt*g+ht*c,V[W+3]=l*M+ht*v}P.putImageData(N,L.x,L.y)}}},dt=new function(){var t="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",n="http://www.w3.org/1999/xlink",i={href:n,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function s(o,h,c){return l(S.createElementNS(t,o),h,c)}function u(o,h){var c=i[h],v=c?o.getAttributeNS(c,h):o.getAttribute(h);return v==="null"?null:v}function l(o,h,c){for(var v in h){var y=h[v],p=i[v];typeof y=="number"&&c&&(y=c.number(y)),p?o.setAttributeNS(p,v,y):o.setAttribute(v,y)}return o}return{svg:t,xmlns:e,xlink:n,create:s,get:u,set:l}},It=d.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof Wt||t instanceof Ut||t instanceof Cn)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var n=d.capitalize(e),i=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:i,fromSVG:i&&d.each(i,function(s,u){this[s]=u},{}),exportFilter:t[3],get:"get"+n,set:"set"+n}},{});new function(){var t;function e(C,_,x){var O=new d,E=C.getTranslation();if(_){var P;C.isInvertible()?(C=C._shiftless(),P=C._inverseTransform(E),E=null):P=new F,O[x?"cx":"x"]=P.x,O[x?"cy":"y"]=P.y}if(!C.isIdentity()){var M=C.decompose();if(M){var L=[],z=M.rotation,D=M.scaling,A=M.skewing;E&&!E.isZero()&&L.push("translate("+t.point(E)+")"),z&&L.push("rotate("+t.number(z)+")"),(!et.isZero(D.x-1)||!et.isZero(D.y-1))&&L.push("scale("+t.point(D)+")"),A.x&&L.push("skewX("+t.number(A.x)+")"),A.y&&L.push("skewY("+t.number(A.y)+")"),O.transform=L.join(" ")}else O.transform="matrix("+C.getValues().join(",")+")"}return O}function n(C,_){for(var x=e(C._matrix),O=C._children,E=dt.create("g",x,t),P=0,M=O.length;P<M;P++){var L=O[P],z=T(L,_);if(z)if(L.isClipMask()){var D=dt.create("clipPath");D.appendChild(z),I(L,D,"clip"),dt.set(E,{"clip-path":"url(#"+D.id+")"})}else E.appendChild(z)}return E}function i(C,_){var x=e(C._matrix,!0),O=C.getSize(),E=C.getImage();return x.x-=O.width/2,x.y-=O.height/2,x.width=O.width,x.height=O.height,x.href=_.embedImages==!1&&E&&E.src||C.toDataURL(),dt.create("image",x,t)}function s(C,_){var x=_.matchShapes;if(x){var O=C.toShape(!1);if(O)return u(O)}var E=C._segments,P=E.length,M,L=e(C._matrix);if(x&&P>=2&&!C.hasHandles())if(P>2){M=C._closed?"polygon":"polyline";for(var z=[],D=0;D<P;D++)z.push(t.point(E[D]._point));L.points=z.join(" ")}else{M="line";var A=E[0]._point,N=E[1]._point;L.set({x1:A.x,y1:A.y,x2:N.x,y2:N.y})}else M="path",L.d=C.getPathData(null,_.precision);return dt.create(M,L,t)}function u(C){var _=C._type,x=C._radius,O=e(C._matrix,!0,_!=="rectangle");if(_==="rectangle"){_="rect";var E=C._size,P=E.width,M=E.height;O.x-=P/2,O.y-=M/2,O.width=P,O.height=M,x.isZero()&&(x=null)}return x&&(_==="circle"?O.r=x:(O.rx=x.width,O.ry=x.height)),dt.create(_,O,t)}function l(C,_){var x=e(C._matrix),O=C.getPathData(null,_.precision);return O&&(x.d=O),dt.create("path",x,t)}function o(C,_){var x=e(C._matrix,!0),O=C._definition,E=g(O,"symbol"),P=O._item,M=P.getStrokeBounds();return E||(E=dt.create("symbol",{viewBox:t.rectangle(M)}),E.appendChild(T(P,_)),I(O,E,"symbol")),x.href="#"+E.id,x.x+=M.x,x.y+=M.y,x.width=M.width,x.height=M.height,x.overflow="visible",dt.create("use",x,t)}function h(C){var _=g(C,"color");if(!_){var x=C.getGradient(),O=x._radial,E=C.getOrigin(),P=C.getDestination(),M;if(O){M={cx:E.x,cy:E.y,r:E.getDistance(P)};var L=C.getHighlight();L&&(M.fx=L.x,M.fy=L.y)}else M={x1:E.x,y1:E.y,x2:P.x,y2:P.y};M.gradientUnits="userSpaceOnUse",_=dt.create((O?"radial":"linear")+"Gradient",M,t);for(var z=x._stops,D=0,A=z.length;D<A;D++){var N=z[D],V=N._color,j=V.getAlpha(),W=N._offset;M={offset:W??D/(A-1)},V&&(M["stop-color"]=V.toCSS(!0)),j<1&&(M["stop-opacity"]=j),_.appendChild(dt.create("stop",M,t))}I(C,_,"color")}return"url(#"+_.id+")"}function c(C){var _=dt.create("text",e(C._matrix,!0),t);return _.textContent=C._content,_}var v={Group:n,Layer:n,Raster:i,Path:s,Shape:u,CompoundPath:l,SymbolItem:o,PointText:c};function y(C,_,x,O){var E={},P=!O&&C.getParent(),M=[];return C._name!=null&&(E.id=C._name),d.each(It,function(L){var z=L.get,D=L.type,A=C[z]();if(L.exportFilter?L.exportFilter(C,A):x.reduceAttributes==!1||!P||!d.equals(P[z](),A)){if(D==="color"&&A!=null){var N=A.getAlpha();N<1&&(E[L.attribute+"-opacity"]=N)}D==="style"?M.push(L.attribute+": "+A):E[L.attribute]=A==null?"none":D==="color"?A.gradient?h(A):A.toCSS(!0):D==="array"?A.join(","):D==="lookup"?L.toSVG[A]:A}}),M.length&&(E.style=M.join(";")),E.opacity===1&&delete E.opacity,C._visible||(E.visibility="hidden"),dt.set(_,E,t)}var p;function g(C,_){return p||(p={ids:{},svgs:{}}),C&&p.svgs[_+"-"+(C._id||C.__id||(C.__id=Ct.get("svg")))]}function I(C,_,x){p||g();var O=p.ids[x]=(p.ids[x]||0)+1;_.id=x+"-"+O,p.svgs[x+"-"+(C._id||C.__id)]=_}function b(C,_){var x=C,O=null;if(p){x=C.nodeName.toLowerCase()==="svg"&&C;for(var E in p.svgs)O||(x||(x=dt.create("svg"),x.appendChild(C)),O=x.insertBefore(dt.create("defs"),x.firstChild)),O.appendChild(p.svgs[E]);p=null}return _.asString?new a.XMLSerializer().serializeToString(x):x}function T(C,_,x){var O=v[C._class],E=O&&O(C,_);if(E){var P=_.onExport;P&&(E=P(C,E,_)||E);var M=JSON.stringify(C._data);M&&M!=="{}"&&M!=="null"&&E.setAttribute("data-paper-data",M)}return E&&y(C,E,_,x)}function w(C){return C||(C={}),t=new Y(C.precision),C}it.inject({exportSVG:function(C){return C=w(C),b(T(this,C,!0),C)}}),Ft.inject({exportSVG:function(C){C=w(C);var _=this._children,x=this.getView(),O=d.pick(C.bounds,"view"),E=C.matrix||O==="view"&&x._matrix,P=E&&St.read([E]),M=O==="view"?new vt([0,0],x.getViewSize()):O==="content"?it._getBounds(_,P,{stroke:!0}).rect:vt.read([O],0,{readNull:!0}),L={version:"1.1",xmlns:dt.svg,"xmlns:xlink":dt.xlink};M&&(L.width=M.width,L.height=M.height,(M.x||M.x===0||M.y||M.y===0)&&(L.viewBox=t.rectangle(M)));var z=dt.create("svg",L,t),D=z;P&&!P.isIdentity()&&(D=z.appendChild(dt.create("g",e(P),t)));for(var A=0,N=_.length;A<N;A++)D.appendChild(T(_[A],C,!0));return b(z,C)}})},new function(){var t={},e;function n(_,x,O,E,P,M){var L=dt.get(_,x)||M,z=L==null?E?null:O?"":0:O?L:parseFloat(L);return/%\s*$/.test(L)?z/100*(P?1:e[/x|^width/.test(x)?"width":"height"]):z}function i(_,x,O,E,P,M,L){return x=n(_,x||"x",!1,E,P,M),O=n(_,O||"y",!1,E,P,L),E&&(x==null||O==null)?null:new F(x,O)}function s(_,x,O,E,P){return x=n(_,x||"width",!1,E,P),O=n(_,O||"height",!1,E,P),E&&(x==null||O==null)?null:new ct(x,O)}function u(_,x,O){return _==="none"?null:x==="number"?parseFloat(_):x==="array"?_?_.split(/[\s,]+/g).map(parseFloat):[]:x==="color"?T(_)||_:x==="lookup"?O[_]:_}function l(_,x,O,E){var P=_.childNodes,M=x==="clippath",L=x==="defs",z=new Vt,D=z._project,A=D._currentStyle,N=[];if(!M&&!L&&(z=b(z,_,E),D._currentStyle=z._style.clone()),E)for(var V=_.querySelectorAll("defs"),j=0,W=V.length;j<W;j++)w(V[j],O,!1);for(var j=0,W=P.length;j<W;j++){var K=P[j],nt;K.nodeType===1&&!/^defs$/i.test(K.nodeName)&&(nt=w(K,O,!1))&&!(nt instanceof ye)&&N.push(nt)}return z.addChildren(N),M&&(z=b(z.reduce(),_,E)),D._currentStyle=A,(M||L)&&(z.remove(),z=null),z}function o(_,x){for(var O=_.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),E=[],P=0,M=O.length;P<M;P+=2)E.push(new F(parseFloat(O[P]),parseFloat(O[P+1])));var L=new Bt(E);return x==="polygon"&&L.closePath(),L}function h(_){return Wt.create(_.getAttribute("d"))}function c(_,x){var O=(n(_,"href",!0)||"").substring(1),E=x==="radialgradient",P;if(O)P=t[O].getGradient(),P._radial^E&&(P=P.clone(),P._radial=E);else{for(var M=_.childNodes,L=[],z=0,D=M.length;z<D;z++){var A=M[z];A.nodeType===1&&L.push(b(new on,A))}P=new Xe(L,E)}var N,V,j,W=n(_,"gradientUnits",!0)!=="userSpaceOnUse";E?(N=i(_,"cx","cy",!1,W,"50%","50%"),V=N.add(n(_,"r",!1,!1,W,"50%"),0),j=i(_,"fx","fy",!0,W)):(N=i(_,"x1","y1",!1,W,"0%","0%"),V=i(_,"x2","y2",!1,W,"100%","0%"));var K=b(new ae(P,N,V,j),_);return K._scaleToBounds=W,null}var v={"#document":function(_,x,O,E){for(var P=_.childNodes,M=0,L=P.length;M<L;M++){var z=P[M];if(z.nodeType===1)return w(z,O,E)}},g:l,svg:l,clippath:l,polygon:o,polyline:o,path:h,lineargradient:c,radialgradient:c,image:function(_){var x=new Yt(n(_,"href",!0));return x.on("load",function(){var O=s(_);this.setSize(O);var E=i(_).add(O.divide(2));this._matrix.append(new St().translate(E))}),x},symbol:function(_,x,O,E){return new ye(l(_,x,O,E),!0)},defs:l,use:function(_){var x=(n(_,"href",!0)||"").substring(1),O=t[x],E=i(_);return O?O instanceof ye?O.place(E):O.clone().translate(E):null},circle:function(_){return new Ut.Circle(i(_,"cx","cy"),n(_,"r"))},ellipse:function(_){return new Ut.Ellipse({center:i(_,"cx","cy"),radius:s(_,"rx","ry")})},rect:function(_){return new Ut.Rectangle(new vt(i(_),s(_)),s(_,"rx","ry"))},line:function(_){return new Bt.Line(i(_,"x1","y1"),i(_,"x2","y2"))},text:function(_){var x=new nr(i(_).add(i(_,"dx","dy")));return x.setContent(_.textContent.trim()||""),x},switch:l};function y(_,x,O,E){if(_.transform){for(var P=(E.getAttribute(O)||"").split(/\)\s*/g),M=new St,L=0,z=P.length;L<z;L++){var D=P[L];if(!D)break;for(var A=D.split(/\(\s*/),N=A[0].trim(),V=A[1].split(/[\s,]+/g),j=0,W=V.length;j<W;j++)V[j]=parseFloat(V[j]);switch(N){case"matrix":M.append(new St(V[0],V[1],V[2],V[3],V[4],V[5]));break;case"rotate":M.rotate(V[0],V[1]||0,V[2]||0);break;case"translate":M.translate(V[0],V[1]||0);break;case"scale":M.scale(V);break;case"skewX":M.skew(V[0],0);break;case"skewY":M.skew(0,V[0]);break}}_.transform(M)}}function p(_,x,O){var E=O==="fill-opacity"?"getFillColor":"getStrokeColor",P=_[E]&&_[E]();P&&P.setAlpha(parseFloat(x))}var g=d.set(d.each(It,function(_){this[_.attribute]=function(x,O){if(x[_.set]&&(x[_.set](u(O,_.type,_.fromSVG)),_.type==="color")){var E=x[_.get]();if(E&&E._scaleToBounds){var P=x.getBounds();E.transform(new St().translate(P.getPoint()).scale(P.getSize()))}}}},{}),{id:function(_,x){t[x]=_,_.setName&&_.setName(x)},"clip-path":function(_,x){var O=T(x);if(O)if(O=O.clone(),O.setClipMask(!0),_ instanceof Vt)_.insertChild(0,O);else return new Vt(O,_)},gradientTransform:y,transform:y,"fill-opacity":p,"stroke-opacity":p,visibility:function(_,x){_.setVisible&&_.setVisible(x==="visible")},display:function(_,x){_.setVisible&&_.setVisible(x!==null)},"stop-color":function(_,x){_.setColor&&_.setColor(x)},"stop-opacity":function(_,x){_._color&&_._color.setAlpha(parseFloat(x))},offset:function(_,x){if(_.setOffset){var O=x.match(/(.*)%$/);_.setOffset(O?O[1]/100:parseFloat(x))}},viewBox:function(_,x,O,E,P){var M=new vt(u(x,"array")),L=s(E,null,null,!0),z,D;if(_ instanceof Vt){var A=L?L.divide(M.getSize()):1,D=new St().scale(A).translate(M.getPoint().negate());z=_}else _ instanceof ye&&(L&&M.setSize(L),z=_._item);if(z){if(I(E,"overflow",P)!=="visible"){var N=new Ut.Rectangle(M);N.setClipMask(!0),z.addChild(N)}D&&z.transform(D)}}});function I(_,x,O){var E=_.attributes[x],P=E&&E.value;if(!P&&_.style){var M=d.camelize(x);P=_.style[M],!P&&O.node[M]!==O.parent[M]&&(P=O.node[M])}return P?P==="none"?null:P:f}function b(_,x,O){var E=x.parentNode,P={node:ee.getStyles(x)||{},parent:!O&&!/^defs$/i.test(E.tagName)&&ee.getStyles(E)||{}};return d.each(g,function(M,L){var z=I(x,L,P);_=z!==f&&M(_,z,L,x,P)||_}),_}function T(_){var x=_&&_.match(/\((?:["'#]*)([^"')]+)/),O=x&&x[1],E=O&&t[m?O.replace(m.location.href.split("#")[0]+"#",""):O];return E&&E._scaleToBounds&&(E=E.clone(),E._scaleToBounds=!0),E}function w(_,x,O){var E=_.nodeName.toLowerCase(),P=E!=="#document",M=S.body,L,z,D;O&&P&&(e=lt.getView().getSize(),e=s(_,null,null,!0)||e,L=dt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),z=_.parentNode,D=_.nextSibling,L.appendChild(_),M.appendChild(L));var A=lt.settings,N=A.applyMatrix,V=A.insertItems;A.applyMatrix=!1,A.insertItems=!1;var j=v[E],W=j&&j(_,E,x,O)||null;if(A.insertItems=V,A.applyMatrix=N,W){P&&!(W instanceof Vt)&&(W=b(W,_,O));var K=x.onImport,nt=P&&_.getAttribute("data-paper-data");K&&(W=K(_,W,x)||W),x.expandShapes&&W instanceof Ut&&(W.remove(),W=W.toPath()),nt&&(W._data=JSON.parse(nt))}return L&&(M.removeChild(L),z&&(D?z.insertBefore(_,D):z.appendChild(_))),O&&(t={},W&&d.pick(x.applyMatrix,N)&&W.matrix.apply(!0,!0)),W}function C(_,x,O){if(!_)return null;x=typeof x=="function"?{onLoad:x}:x||{};var E=lt,P=null;function M(A){try{var N=typeof A=="object"?A:new a.DOMParser().parseFromString(A.trim(),"image/svg+xml");if(!N.nodeName)throw N=null,new Error("Unsupported SVG source: "+_);lt=E,P=w(N,x,!0),(!x||x.insert!==!1)&&O._insertItem(f,P);var V=x.onLoad;V&&V(P,A)}catch(j){L(j)}}function L(A,N){var V=x.onError;if(V)V(A,N);else throw new Error(A)}if(typeof _=="string"&&!/^[\s\S]*</.test(_)){var z=S.getElementById(_);z?M(z):pt.request({url:_,async:!0,onLoad:M,onError:L})}else if(typeof File<"u"&&_ instanceof File){var D=new FileReader;return D.onload=function(){M(D.result)},D.onerror=function(){L(D.error)},D.readAsText(_)}else M(_);return P}it.inject({importSVG:function(_,x){return C(_,x,this)}}),Ft.inject({importSVG:function(_,x){return this.activate(),C(_,x,this)}})},d.exports.PaperScript=(function(){var t=this,e=t.acorn;if(!e&&typeof Tf<"u")try{e=require("acorn")}catch{}if(!e){var n,i;e=n=i={},function(b,T){if(typeof n=="object"&&typeof i=="object")return T(n);if(typeof f=="function"&&f.amd)return f(["exports"],T);T(b.acorn||(b.acorn={}))}(this,function(b){b.version="0.5.0";var T,w,C,_;b.parse=function(R,H){return w=String(R),C=w.length,O(H),vs(),Hu(T.program)};var x=b.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function O(R){T=R||{};for(var H in x)Object.prototype.hasOwnProperty.call(T,H)||(T[H]=x[H]);_=T.sourceFile||null}var E=b.getLineInfo=function(R,H){for(var G=1,Q=0;;){Un.lastIndex=Q;var Et=Un.exec(R);if(Et&&Et.index<H)++G,Q=Et.index+Et[0].length;else break}return{line:G,column:H-Q}};b.tokenize=function(R,H){w=String(R),C=w.length,O(H),vs();var G={};function Q(Et){return nt=L,On(Et),G.start=M,G.end=L,G.startLoc=z,G.endLoc=D,G.type=A,G.value=N,G}return Q.jumpTo=function(Et,Mt){if(P=Et,T.locations){j=1,W=Un.lastIndex=0;for(var zt;(zt=Un.exec(w))&&zt.index<Et;)++j,W=zt.index+zt[0].length}V=Mt,jn()},Q};var P,M,L,z,D,A,N,V,j,W,K,nt,ht,_t,yt,J;function $(R,H){var G=E(w,R);H+=" ("+G.line+":"+G.column+")";var Q=new SyntaxError(H);throw Q.pos=R,Q.loc=G,Q.raisedAt=P,Q}var gt=[],bt={type:"num"},wt={type:"regexp"},Ot={type:"string"},Tt={type:"name"},Lt={type:"eof"},Rt={keyword:"break"},At={keyword:"case",beforeExpr:!0},fe={keyword:"catch"},he={keyword:"continue"},we={keyword:"debugger"},ue={keyword:"default"},Xt={keyword:"do",isLoop:!0},oe={keyword:"else",beforeExpr:!0},Ee={keyword:"finally"},ce={keyword:"for",isLoop:!0},Fe={keyword:"function"},ln={keyword:"if"},Ve={keyword:"return",beforeExpr:!0},He={keyword:"switch"},Me={keyword:"throw",beforeExpr:!0},ke={keyword:"try"},fn={keyword:"var"},qe={keyword:"while",isLoop:!0},yi={keyword:"with"},rs={keyword:"new",beforeExpr:!0},ss={keyword:"this"},as={keyword:"null",atomValue:null},us={keyword:"true",atomValue:!0},os={keyword:"false",atomValue:!1},wi={keyword:"in",binop:7,beforeExpr:!0},ir={break:Rt,case:At,catch:fe,continue:he,debugger:we,default:ue,do:Xt,else:oe,finally:Ee,for:ce,function:Fe,if:ln,return:Ve,switch:He,throw:Me,try:ke,var:fn,while:qe,with:yi,null:as,true:us,false:os,new:rs,in:wi,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:ss,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},bi={type:"[",beforeExpr:!0},xi={type:"]"},Hn={type:"{",beforeExpr:!0},Pn={type:"}"},Ye={type:"(",beforeExpr:!0},Ue={type:")"},nn={type:",",beforeExpr:!0},$e={type:";",beforeExpr:!0},qn={type:":",beforeExpr:!0},rr={type:"."},sr={type:"?",beforeExpr:!0},ar={binop:10,beforeExpr:!0},ur={isAssign:!0,beforeExpr:!0},In={isAssign:!0,beforeExpr:!0},_u={postfix:!0,prefix:!0,isUpdate:!0},ls={prefix:!0,beforeExpr:!0},fs={binop:1,beforeExpr:!0},hs={binop:2,beforeExpr:!0},gu={binop:3,beforeExpr:!0},pu={binop:4,beforeExpr:!0},vu={binop:5,beforeExpr:!0},mu={binop:6,beforeExpr:!0},yu={binop:7,beforeExpr:!0},wu={binop:8,beforeExpr:!0},bu={binop:9,prefix:!0,beforeExpr:!0},xu={binop:10,beforeExpr:!0};b.tokTypes={bracketL:bi,bracketR:xi,braceL:Hn,braceR:Pn,parenL:Ye,parenR:Ue,comma:nn,semi:$e,colon:qn,dot:rr,question:sr,slash:ar,eq:ur,name:Tt,eof:Lt,num:bt,regexp:wt,string:Ot};for(var cs in ir)b.tokTypes["_"+cs]=ir[cs];function ti(R){R=R.split(" ");var H="",G=[];t:for(var Q=0;Q<R.length;++Q){for(var Et=0;Et<G.length;++Et)if(G[Et][0].length==R[Q].length){G[Et].push(R[Q]);continue t}G.push([R[Q]])}function Mt(Gt){if(Gt.length==1)return H+="return str === "+JSON.stringify(Gt[0])+";";H+="switch(str){";for(var We=0;We<Gt.length;++We)H+="case "+JSON.stringify(Gt[We])+":";H+="return true}return false;"}if(G.length>3){G.sort(function(Gt,We){return We.length-Gt.length}),H+="switch(str.length){";for(var Q=0;Q<G.length;++Q){var zt=G[Q];H+="case "+zt[0].length+":",Mt(zt)}H+="}"}else Mt(R);return new Function("str",H)}var Cu=ti("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Su=ti("class enum extends super const export import"),ds=ti("implements interface let package private protected public static yield"),Ci=ti("eval arguments"),Pu=ti("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Iu=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,_s="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Tu="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",gs=new RegExp("["+_s+"]"),Ou=new RegExp("["+_s+Tu+"]"),Si=/[\n\r\u2028\u2029]/,Un=/\r\n|[\n\r\u2028\u2029]/g,Pi=b.isIdentifierStart=function(R){return R<65?R===36:R<91?!0:R<97?R===95:R<123?!0:R>=170&&gs.test(String.fromCharCode(R))},ps=b.isIdentifierChar=function(R){return R<48?R===36:R<58?!0:R<65?!1:R<91?!0:R<97?R===95:R<123?!0:R>=170&&Ou.test(String.fromCharCode(R))};function Tn(){this.line=j,this.column=P-W}function vs(){j=1,P=W=0,V=!0,jn()}function ve(R,H){L=P,T.locations&&(D=new Tn),A=R,jn(),N=H,V=R.beforeExpr}function Eu(){var R=T.onComment&&T.locations&&new Tn,H=P,G=w.indexOf("*/",P+=2);if(G===-1&&$(P-2,"Unterminated comment"),P=G+2,T.locations){Un.lastIndex=H;for(var Q;(Q=Un.exec(w))&&Q.index<P;)++j,W=Q.index+Q[0].length}T.onComment&&T.onComment(!0,w.slice(H+2,G),H,P,R,T.locations&&new Tn)}function or(){for(var R=P,H=T.onComment&&T.locations&&new Tn,G=w.charCodeAt(P+=2);P<C&&G!==10&&G!==13&&G!==8232&&G!==8233;)++P,G=w.charCodeAt(P);T.onComment&&T.onComment(!1,w.slice(R+2,P),R,P,H,T.locations&&new Tn)}function jn(){for(;P<C;){var R=w.charCodeAt(P);if(R===32)++P;else if(R===13){++P;var H=w.charCodeAt(P);H===10&&++P,T.locations&&(++j,W=P)}else if(R===10||R===8232||R===8233)++P,T.locations&&(++j,W=P);else if(R>8&&R<14)++P;else if(R===47){var H=w.charCodeAt(P+1);if(H===42)Eu();else if(H===47)or();else break}else if(R===160)++P;else if(R>=5760&&Iu.test(String.fromCharCode(R)))++P;else break}}function Mu(){var R=w.charCodeAt(P+1);return R>=48&&R<=57?ys(!0):(++P,ve(rr))}function Au(){var R=w.charCodeAt(P+1);return V?(++P,ms()):R===61?me(In,2):me(ar,1)}function Lu(){var R=w.charCodeAt(P+1);return R===61?me(In,2):me(xu,1)}function zu(R){var H=w.charCodeAt(P+1);return H===R?me(R===124?fs:hs,2):H===61?me(In,2):me(R===124?gu:vu,1)}function ku(){var R=w.charCodeAt(P+1);return R===61?me(In,2):me(pu,1)}function Ru(R){var H=w.charCodeAt(P+1);return H===R?H==45&&w.charCodeAt(P+2)==62&&Si.test(w.slice(nt,P))?(P+=3,or(),jn(),On()):me(_u,2):H===61?me(In,2):me(bu,1)}function Nu(R){var H=w.charCodeAt(P+1),G=1;return H===R?(G=R===62&&w.charCodeAt(P+2)===62?3:2,w.charCodeAt(P+G)===61?me(In,G+1):me(wu,G)):H==33&&R==60&&w.charCodeAt(P+2)==45&&w.charCodeAt(P+3)==45?(P+=4,or(),jn(),On()):(H===61&&(G=w.charCodeAt(P+2)===61?3:2),me(yu,G))}function Fu(R){var H=w.charCodeAt(P+1);return H===61?me(mu,w.charCodeAt(P+2)===61?3:2):me(R===61?ur:ls,1)}function Bu(R){switch(R){case 46:return Mu();case 40:return++P,ve(Ye);case 41:return++P,ve(Ue);case 59:return++P,ve($e);case 44:return++P,ve(nn);case 91:return++P,ve(bi);case 93:return++P,ve(xi);case 123:return++P,ve(Hn);case 125:return++P,ve(Pn);case 58:return++P,ve(qn);case 63:return++P,ve(sr);case 48:var H=w.charCodeAt(P+1);if(H===120||H===88)return Du();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return ys(!1);case 34:case 39:return Vu(R);case 47:return Au();case 37:case 42:return Lu();case 124:case 38:return zu(R);case 94:return ku();case 43:case 45:return Ru(R);case 60:case 62:return Nu(R);case 61:case 33:return Fu(R);case 126:return me(ls,1)}return!1}function On(R){if(R?P=M+1:M=P,T.locations&&(z=new Tn),R)return ms();if(P>=C)return ve(Lt);var H=w.charCodeAt(P);if(Pi(H)||H===92)return bs();var G=Bu(H);if(G===!1){var Q=String.fromCharCode(H);if(Q==="\\"||gs.test(Q))return bs();$(P,"Unexpected character '"+Q+"'")}return G}function me(R,H){var G=w.slice(P,P+H);P+=H,ve(R,G)}function ms(){for(var Et="",R,H,G=P;;){P>=C&&$(G,"Unterminated regular expression");var Q=w.charAt(P);if(Si.test(Q)&&$(G,"Unterminated regular expression"),R)R=!1;else{if(Q==="[")H=!0;else if(Q==="]"&&H)H=!1;else if(Q==="/"&&!H)break;R=Q==="\\"}++P}var Et=w.slice(G,P);++P;var Mt=ws();Mt&&!/^[gmsiy]*$/.test(Mt)&&$(G,"Invalid regexp flag");try{var zt=new RegExp(Et,Mt)}catch(Gt){Gt instanceof SyntaxError&&$(G,Gt.message),$(Gt)}return ve(wt,zt)}function ei(R,H){for(var G=P,Q=0,Et=0,Mt=H??1/0;Et<Mt;++Et){var zt=w.charCodeAt(P),Gt;if(zt>=97?Gt=zt-97+10:zt>=65?Gt=zt-65+10:zt>=48&&zt<=57?Gt=zt-48:Gt=1/0,Gt>=R)break;++P,Q=Q*R+Gt}return P===G||H!=null&&P-G!==H?null:Q}function Du(){P+=2;var R=ei(16);return R==null&&$(M+2,"Expected hexadecimal number"),Pi(w.charCodeAt(P))&&$(P,"Identifier directly after number"),ve(bt,R)}function ys(R){var H=P,G=!1,Q=w.charCodeAt(P)===48;!R&&ei(10)===null&&$(H,"Invalid number"),w.charCodeAt(P)===46&&(++P,ei(10),G=!0);var Et=w.charCodeAt(P);(Et===69||Et===101)&&(Et=w.charCodeAt(++P),(Et===43||Et===45)&&++P,ei(10)===null&&$(H,"Invalid number"),G=!0),Pi(w.charCodeAt(P))&&$(P,"Identifier directly after number");var Mt=w.slice(H,P),zt;return G?zt=parseFloat(Mt):!Q||Mt.length===1?zt=parseInt(Mt,10):/[89]/.test(Mt)||J?$(H,"Invalid number"):zt=parseInt(Mt,8),ve(bt,zt)}function Vu(R){P++;for(var H="";;){P>=C&&$(M,"Unterminated string constant");var G=w.charCodeAt(P);if(G===R)return++P,ve(Ot,H);if(G===92){G=w.charCodeAt(++P);var Q=/^[0-7]+/.exec(w.slice(P,P+3));for(Q&&(Q=Q[0]);Q&&parseInt(Q,8)>255;)Q=Q.slice(0,-1);if(Q==="0"&&(Q=null),++P,Q)J&&$(P-2,"Octal literal in strict mode"),H+=String.fromCharCode(parseInt(Q,8)),P+=Q.length-1;else switch(G){case 110:H+=`
`;break;case 114:H+="\r";break;case 120:H+=String.fromCharCode(Ii(2));break;case 117:H+=String.fromCharCode(Ii(4));break;case 85:H+=String.fromCharCode(Ii(8));break;case 116:H+="	";break;case 98:H+="\b";break;case 118:H+="\v";break;case 102:H+="\f";break;case 48:H+="\0";break;case 13:w.charCodeAt(P)===10&&++P;case 10:T.locations&&(W=P,++j);break;default:H+=String.fromCharCode(G);break}}else(G===13||G===10||G===8232||G===8233)&&$(M,"Unterminated string constant"),H+=String.fromCharCode(G),++P}}function Ii(R){var H=ei(16,R);return H===null&&$(M,"Bad character escape sequence"),H}var Wn;function ws(){Wn=!1;for(var R,H=!0,G=P;;){var Q=w.charCodeAt(P);if(ps(Q))Wn&&(R+=w.charAt(P)),++P;else if(Q===92){Wn||(R=w.slice(G,P)),Wn=!0,w.charCodeAt(++P)!=117&&$(P,"Expecting Unicode escape sequence \\uXXXX"),++P;var Et=Ii(4),Mt=String.fromCharCode(Et);Mt||$(P-1,"Invalid Unicode escape"),(H?Pi(Et):ps(Et))||$(P-4,"Invalid Unicode escape"),R+=Mt}else break;H=!1}return Wn?R:w.slice(G,P)}function bs(){var R=ws(),H=Tt;return!Wn&&Pu(R)&&(H=ir[R]),ve(H,R)}function Zt(){K=M,nt=L,ht=D,On()}function lr(R){if(J=R,P=M,T.locations)for(;P<W;)W=w.lastIndexOf(`
`,W-2)+1,--j;jn(),On()}function xs(){this.type=null,this.start=M,this.end=null}function Cs(){this.start=z,this.end=null,_!==null&&(this.source=_)}function be(){var R=new xs;return T.locations&&(R.loc=new Cs),T.directSourceFile&&(R.sourceFile=T.directSourceFile),T.ranges&&(R.range=[M,0]),R}function hn(R){var H=new xs;return H.start=R.start,T.locations&&(H.loc=new Cs,H.loc.start=R.loc.start),T.ranges&&(H.range=[R.range[0],0]),H}function Dt(R,H){return R.type=H,R.end=nt,T.locations&&(R.loc.end=ht),T.ranges&&(R.range[1]=nt),R}function fr(R){return T.ecmaVersion>=5&&R.type==="ExpressionStatement"&&R.expression.type==="Literal"&&R.expression.value==="use strict"}function re(R){if(A===R)return Zt(),!0}function Ti(){return!T.strictSemicolons&&(A===Lt||A===Pn||Si.test(w.slice(nt,M)))}function En(){!re($e)&&!Ti()&&rn()}function le(R){A===R?Zt():rn()}function rn(){$(M,"Unexpected token")}function Oi(R){R.type!=="Identifier"&&R.type!=="MemberExpression"&&$(R.start,"Assigning to rvalue"),J&&R.type==="Identifier"&&Ci(R.name)&&$(R.start,"Assigning to "+R.name+" in strict mode")}function Hu(R){K=nt=P,T.locations&&(ht=new Tn),_t=J=null,yt=[],On();var H=R||be(),G=!0;for(R||(H.body=[]);A!==Lt;){var Q=je();H.body.push(Q),G&&fr(Q)&&lr(!0),G=!1}return Dt(H,"Program")}var hr={kind:"loop"},qu={kind:"switch"};function je(){(A===ar||A===In&&N=="/=")&&On(!0);var R=A,H=be();switch(R){case Rt:case he:Zt();var G=R===Rt;re($e)||Ti()?H.label=null:A!==Tt?rn():(H.label=cn(),En());for(var Q=0;Q<yt.length;++Q){var Et=yt[Q];if((H.label==null||Et.name===H.label.name)&&(Et.kind!=null&&(G||Et.kind==="loop")||H.label&&G))break}return Q===yt.length&&$(H.start,"Unsyntactic "+R.keyword),Dt(H,G?"BreakStatement":"ContinueStatement");case we:return Zt(),En(),Dt(H,"DebuggerStatement");case Xt:return Zt(),yt.push(hr),H.body=je(),yt.pop(),le(qe),H.test=ni(),En(),Dt(H,"DoWhileStatement");case ce:if(Zt(),yt.push(hr),le(Ye),A===$e)return cr(H,null);if(A===fn){var Mt=be();return Zt(),Ps(Mt,!0),Dt(Mt,"VariableDeclaration"),Mt.declarations.length===1&&re(wi)?Ss(H,Mt):cr(H,Mt)}var Mt=xe(!1,!0);return re(wi)?(Oi(Mt),Ss(H,Mt)):cr(H,Mt);case Fe:return Zt(),vr(H,!0);case ln:return Zt(),H.test=ni(),H.consequent=je(),H.alternate=re(oe)?je():null,Dt(H,"IfStatement");case Ve:return!_t&&!T.allowReturnOutsideFunction&&$(M,"'return' outside of function"),Zt(),re($e)||Ti()?H.argument=null:(H.argument=xe(),En()),Dt(H,"ReturnStatement");case He:Zt(),H.discriminant=ni(),H.cases=[],le(Hn),yt.push(qu);for(var zt,Gt;A!=Pn;)if(A===At||A===ue){var We=A===At;zt&&Dt(zt,"SwitchCase"),H.cases.push(zt=be()),zt.consequent=[],Zt(),We?zt.test=xe():(Gt&&$(K,"Multiple default clauses"),Gt=!0,zt.test=null),le(qn)}else zt||rn(),zt.consequent.push(je());return zt&&Dt(zt,"SwitchCase"),Zt(),yt.pop(),Dt(H,"SwitchStatement");case Me:return Zt(),Si.test(w.slice(nt,M))&&$(nt,"Illegal newline after throw"),H.argument=xe(),En(),Dt(H,"ThrowStatement");case ke:if(Zt(),H.block=ii(),H.handler=null,A===fe){var Mn=be();Zt(),le(Ye),Mn.param=cn(),J&&Ci(Mn.param.name)&&$(Mn.param.start,"Binding "+Mn.param.name+" in strict mode"),le(Ue),Mn.guard=null,Mn.body=ii(),H.handler=Dt(Mn,"CatchClause")}return H.guardedHandlers=gt,H.finalizer=re(Ee)?ii():null,!H.handler&&!H.finalizer&&$(H.start,"Missing catch or finally clause"),Dt(H,"TryStatement");case fn:return Zt(),Ps(H),En(),Dt(H,"VariableDeclaration");case qe:return Zt(),H.test=ni(),yt.push(hr),H.body=je(),yt.pop(),Dt(H,"WhileStatement");case yi:return J&&$(M,"'with' in strict mode"),Zt(),H.object=ni(),H.body=je(),Dt(H,"WithStatement");case Hn:return ii();case $e:return Zt(),Dt(H,"EmptyStatement");default:var yr=N,Ei=xe();if(R===Tt&&Ei.type==="Identifier"&&re(qn)){for(var Q=0;Q<yt.length;++Q)yt[Q].name===yr&&$(Ei.start,"Label '"+yr+"' is already declared");var Gu=A.isLoop?"loop":A===He?"switch":null;return yt.push({name:yr,kind:Gu}),H.body=je(),yt.pop(),H.label=Ei,Dt(H,"LabeledStatement")}else return H.expression=Ei,En(),Dt(H,"ExpressionStatement")}}function ni(){le(Ye);var R=xe();return le(Ue),R}function ii(R){var H=be(),G=!0,Q=!1,Et;for(H.body=[],le(Hn);!re(Pn);){var Mt=je();H.body.push(Mt),G&&R&&fr(Mt)&&(Et=Q,lr(Q=!0)),G=!1}return Q&&!Et&&lr(!1),Dt(H,"BlockStatement")}function cr(R,H){return R.init=H,le($e),R.test=A===$e?null:xe(),le($e),R.update=A===Ue?null:xe(),le(Ue),R.body=je(),yt.pop(),Dt(R,"ForStatement")}function Ss(R,H){return R.left=H,R.right=xe(),le(Ue),R.body=je(),yt.pop(),Dt(R,"ForInStatement")}function Ps(R,H){for(R.declarations=[],R.kind="var";;){var G=be();if(G.id=cn(),J&&Ci(G.id.name)&&$(G.id.start,"Binding "+G.id.name+" in strict mode"),G.init=re(ur)?xe(!0,H):null,R.declarations.push(Dt(G,"VariableDeclarator")),!re(nn))break}return R}function xe(R,H){var G=dr(H);if(!R&&A===nn){var Q=hn(G);for(Q.expressions=[G];re(nn);)Q.expressions.push(dr(H));return Dt(Q,"SequenceExpression")}return G}function dr(R){var H=Uu(R);if(A.isAssign){var G=hn(H);return G.operator=N,G.left=H,Zt(),G.right=dr(R),Oi(H),Dt(G,"AssignmentExpression")}return H}function Uu(R){var H=ju(R);if(re(sr)){var G=hn(H);return G.test=H,G.consequent=xe(!0),le(qn),G.alternate=xe(!0,R),Dt(G,"ConditionalExpression")}return H}function ju(R){return _r(gr(),-1,R)}function _r(R,H,G){var Q=A.binop;if(Q!=null&&(!G||A!==wi)&&Q>H){var Et=hn(R);Et.left=R,Et.operator=N;var Mt=A;Zt(),Et.right=_r(gr(),Q,G);var zt=Dt(Et,Mt===fs||Mt===hs?"LogicalExpression":"BinaryExpression");return _r(zt,H,G)}return R}function gr(){if(A.prefix){var R=be(),H=A.isUpdate;return R.operator=N,R.prefix=!0,V=!0,Zt(),R.argument=gr(),H?Oi(R.argument):J&&R.operator==="delete"&&R.argument.type==="Identifier"&&$(R.start,"Deleting local variable in strict mode"),Dt(R,H?"UpdateExpression":"UnaryExpression")}for(var G=Wu();A.postfix&&!Ti();){var R=hn(G);R.operator=N,R.prefix=!1,R.argument=G,Oi(G),Zt(),G=Dt(R,"UpdateExpression")}return G}function Wu(){return ri(pr())}function ri(R,H){if(re(rr)){var G=hn(R);return G.object=R,G.property=cn(!0),G.computed=!1,ri(Dt(G,"MemberExpression"),H)}else if(re(bi)){var G=hn(R);return G.object=R,G.property=xe(),G.computed=!0,le(xi),ri(Dt(G,"MemberExpression"),H)}else if(!H&&re(Ye)){var G=hn(R);return G.callee=R,G.arguments=mr(Ue,!1),ri(Dt(G,"CallExpression"),H)}else return R}function pr(){switch(A){case ss:var Q=be();return Zt(),Dt(Q,"ThisExpression");case Tt:return cn();case bt:case Ot:case wt:var Q=be();return Q.value=N,Q.raw=w.slice(M,L),Zt(),Dt(Q,"Literal");case as:case us:case os:var Q=be();return Q.value=A.atomValue,Q.raw=A.keyword,Zt(),Dt(Q,"Literal");case Ye:var R=z,H=M;Zt();var G=xe();return G.start=H,G.end=L,T.locations&&(G.loc.start=R,G.loc.end=D),T.ranges&&(G.range=[H,L]),le(Ue),G;case bi:var Q=be();return Zt(),Q.elements=mr(xi,!0,!0),Dt(Q,"ArrayExpression");case Hn:return Ku();case Fe:var Q=be();return Zt(),vr(Q,!1);case rs:return Zu();default:rn()}}function Zu(){var R=be();return Zt(),R.callee=ri(pr(),!0),re(Ye)?R.arguments=mr(Ue,!1):R.arguments=gt,Dt(R,"NewExpression")}function Ku(){var R=be(),H=!0,G=!1;for(R.properties=[],Zt();!re(Pn);){if(H)H=!1;else if(le(nn),T.allowTrailingCommas&&re(Pn))break;var Q={key:Is()},Et=!1,Mt;if(re(qn)?(Q.value=xe(!0),Mt=Q.kind="init"):T.ecmaVersion>=5&&Q.key.type==="Identifier"&&(Q.key.name==="get"||Q.key.name==="set")?(Et=G=!0,Mt=Q.kind=Q.key.name,Q.key=Is(),A!==Ye&&rn(),Q.value=vr(be(),!1)):rn(),Q.key.type==="Identifier"&&(J||G))for(var zt=0;zt<R.properties.length;++zt){var Gt=R.properties[zt];if(Gt.key.name===Q.key.name){var We=Mt==Gt.kind||Et&&Gt.kind==="init"||Mt==="init"&&(Gt.kind==="get"||Gt.kind==="set");We&&!J&&Mt==="init"&&Gt.kind==="init"&&(We=!1),We&&$(Q.key.start,"Redefinition of property")}}R.properties.push(Q)}return Dt(R,"ObjectExpression")}function Is(){return A===bt||A===Ot?pr():cn(!0)}function vr(R,H){A===Tt?R.id=cn():H?rn():R.id=null,R.params=[];var G=!0;for(le(Ye);!re(Ue);)G?G=!1:le(nn),R.params.push(cn());var Q=_t,Et=yt;if(_t=!0,yt=[],R.body=ii(!0),_t=Q,yt=Et,J||R.body.body.length&&fr(R.body.body[0]))for(var Mt=R.id?-1:0;Mt<R.params.length;++Mt){var zt=Mt<0?R.id:R.params[Mt];if((ds(zt.name)||Ci(zt.name))&&$(zt.start,"Defining '"+zt.name+"' in strict mode"),Mt>=0)for(var Gt=0;Gt<Mt;++Gt)zt.name===R.params[Gt].name&&$(zt.start,"Argument name clash in strict mode")}return Dt(R,H?"FunctionDeclaration":"FunctionExpression")}function mr(R,H,G){for(var Q=[],Et=!0;!re(R);){if(Et)Et=!1;else if(le(nn),H&&T.allowTrailingCommas&&re(R))break;G&&A===nn?Q.push(null):Q.push(xe(!0))}return Q}function cn(R){var H=be();return R&&T.forbidReserved=="everywhere"&&(R=!1),A===Tt?(!R&&(T.forbidReserved&&(T.ecmaVersion===3?Cu:Su)(N)||J&&ds(N))&&w.slice(M,L).indexOf("\\")==-1&&$(M,"The keyword '"+N+"' is reserved"),H.name=N):R&&A.keyword?H.name=A.keyword:rn(),V=!1,Zt(),Dt(H,"Identifier")}}),e.version||(e=null)}function s(b,T){return(t.acorn||e).parse(b,T)}var u={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},l={"-":"__negate","+":"__self"},o=d.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(b){this["__"+b]="#"+b},{__self:function(){return this}});F.inject(o),ct.inject(o),ae.inject(o);function h(b,T,w){var C=u[T];if(b&&b[C]){var _=b[C](w);return T==="!="?!_:_}switch(T){case"+":return b+w;case"-":return b-w;case"*":return b*w;case"/":return b/w;case"%":return b%w;case"==":return b==w;case"!=":return b!=w}}function c(b,T){var w=l[b];if(T&&T[w])return T[w]();switch(b){case"+":return+T;case"-":return-T}}function v(b,T){if(!b)return"";T=T||{};var w=[];function C(J){for(var $=0,gt=w.length;$<gt;$++){var bt=w[$];if(bt[0]>=J)break;J+=bt[1]}return J}function _(J){return b.substring(C(J.range[0]),C(J.range[1]))}function x(J,$){return b.substring(C(J.range[1]),C($.range[0]))}function O(J,$){for(var gt=C(J.range[0]),bt=C(J.range[1]),wt=0,Ot=w.length-1;Ot>=0;Ot--)if(gt>w[Ot][0]){wt=Ot+1;break}w.splice(wt,0,[gt,$.length-bt+gt]),b=b.substring(0,gt)+$+b.substring(bt)}function E(J,$){switch(J.type){case"UnaryExpression":if(J.operator in l&&J.argument.type!=="Literal"){var gt=_(J.argument);O(J,'$__("'+J.operator+'", '+gt+")")}break;case"BinaryExpression":if(J.operator in u&&J.left.type!=="Literal"){var bt=_(J.left),wt=_(J.right),Ot=x(J.left,J.right),Tt=J.operator;O(J,"__$__("+bt+","+Ot.replace(new RegExp("\\"+Tt),'"'+Tt+'"')+", "+wt+")")}break;case"UpdateExpression":case"AssignmentExpression":var Lt=$&&$.type;if(!(Lt==="ForStatement"||Lt==="BinaryExpression"&&/^[=!<>]/.test($.operator)||Lt==="MemberExpression"&&$.computed)){if(J.type==="UpdateExpression"){var gt=_(J.argument),Rt="__$__("+gt+', "'+J.operator[0]+'", 1)',At=gt+" = "+Rt;J.prefix?At="("+At+")":(Lt==="AssignmentExpression"||Lt==="VariableDeclarator"||Lt==="BinaryExpression")&&(_($.left||$.id)===gt&&(At=Rt),At=gt+"; "+At),O(J,At)}else if(/^.=$/.test(J.operator)&&J.left.type!=="Literal"){var bt=_(J.left),wt=_(J.right),Rt=bt+" = __$__("+bt+', "'+J.operator[0]+'", '+wt+")";O(J,/^\(.*\)$/.test(_(J))?"("+Rt+")":Rt)}}break}}function P(J){switch(J.type){case"ExportDefaultDeclaration":O({range:[J.start,J.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var $=J.declaration,gt=J.specifiers;if($){var bt=$.declarations;bt&&(bt.forEach(function(Ot){O(Ot,"module.exports."+_(Ot))}),O({range:[J.start,$.start+$.kind.length]},""))}else if(gt){var wt=gt.map(function(Ot){var Tt=_(Ot);return"module.exports."+Tt+" = "+Tt+"; "}).join("");wt&&O(J,wt)}break}}function M(J,$,gt){if(J){for(var bt in J)if(bt!=="range"&&bt!=="loc"){var wt=J[bt];if(Array.isArray(wt))for(var Ot=0,Tt=wt.length;Ot<Tt;Ot++)M(wt[Ot],J,gt);else wt&&typeof wt=="object"&&M(wt,J,gt)}gt.operatorOverloading!==!1&&E(J,$),gt.moduleExports!==!1&&P(J)}}function L(J){var $="",gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(J=(Math.abs(J)<<1)+(J<0?1:0);J||!$;){var bt=J&31;J>>=5,J&&(bt|=32),$+=gt[bt]}return $}var z=T.url||"",D=T.sourceMaps,A=T.paperFeatures||{},N=T.source||b,V=T.offset||0,j=lt.agent,W=j.versionNumber,K=!1,nt=/\r\n|\n|\r/mg,ht;if(D&&(j.chrome&&W>=30||j.webkit&&W>=537.76||j.firefox&&W>=23||j.node)){if(j.node)V-=2;else if(m&&z&&!m.location.href.indexOf(z)){var _t=S.getElementsByTagName("html")[0].innerHTML;V=_t.substr(0,_t.indexOf(b)+1).match(nt).length+1}K=V>0&&!(j.chrome&&W>=36||j.safari&&W>=600||j.firefox&&W>=40||j.node);var yt=["AA"+L(K?0:V)+"A"];yt.length=(b.match(nt)||[]).length+1+(K?V:0),ht={version:3,file:z,names:[],mappings:yt.join(";AACA"),sourceRoot:"",sources:[z],sourcesContent:[N]}}return(A.operatorOverloading!==!1||A.moduleExports!==!1)&&M(s(b,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,A),ht&&(K&&(b=new Array(V+1).join(`
`)+b),/^(inline|both)$/.test(D)&&(b+=`
//# sourceMappingURL=data:application/json;base64,`+a.btoa(unescape(encodeURIComponent(JSON.stringify(ht))))),b+=`
//# sourceURL=`+(z||"paperscript")),{url:z,source:N,code:b,map:ht}}function y(b,T,w){lt=T;var C=T.getView(),_=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(b)&&!/\bnew\s+Tool\b/.test(b)?new ft:null,x=_?_._events:[],O=["onFrame","onResize"].concat(x),E=[],P=[],M,L=typeof b=="object"?b:v(b,w);b=L.code;function z(W,K){for(var nt in W)(K||!/^_/.test(nt))&&new RegExp("([\\b\\s\\W]|^)"+nt.replace(/\$/g,"\\$")+"\\b").test(b)&&(E.push(nt),P.push(W[nt]))}z({__$__:h,$__:c,paper:T,tool:_},!0),z(T),b="var module = { exports: {} }; "+b;var V=d.each(O,function(W){new RegExp("\\s+"+W+"\\b").test(b)&&(E.push(W),this.push("module.exports."+W+" = "+W+";"))},[]).join(`
`);V&&(b+=`
`+V),b+=`
return module.exports;`;var D=lt.agent;if(S&&(D.chrome||D.firefox&&D.versionNumber<40)){var A=S.createElement("script"),N=S.head||S.getElementsByTagName("head")[0];D.firefox&&(b=`
`+b),A.appendChild(S.createTextNode("document.__paperscript__ = function("+E+") {"+b+`
}`)),N.appendChild(A),M=S.__paperscript__,delete S.__paperscript__,N.removeChild(A)}else M=Function(E,b);var V=M&&M.apply(T,P),j=V||{};return d.each(x,function(W){var K=j[W];K&&(_[W]=K)}),C&&(j.onResize&&C.setOnResize(j.onResize),C.emit("resize",{size:C.size,delta:new F}),j.onFrame&&C.setOnFrame(j.onFrame),C.requestUpdate()),V}function p(b){if(/^text\/(?:x-|)paperscript$/.test(b.type)&&q.getAttribute(b,"ignore")!=="true"){var T=q.getAttribute(b,"canvas"),w=S.getElementById(T),C=b.src||b.getAttribute("data-src"),_=q.hasAttribute(b,"async"),x="data-paper-scope";if(!w)throw new Error('Unable to find canvas with id "'+T+'"');var O=q.get(w.getAttribute(x))||new q().setup(w);return w.setAttribute(x,O._id),C?pt.request({url:C,async:_,mimeType:"text/plain",onLoad:function(E){y(E,O,C)}}):y(b.innerHTML,O,b.baseURI),b.setAttribute("data-paper-ignore","true"),O}}function g(){d.each(S&&S.getElementsByTagName("script"),p)}function I(b){return b?p(b):g()}return m&&(S.readyState==="complete"?setTimeout(g):$t.add(m,{load:g})),{compile:v,execute:y,load:I,parse:s,calculateBinary:h,calculateUnary:c}}).call(this);var lt=new(q.inject(d.exports,{Base:d,Numerical:et,Key:X,DomEvent:$t,DomElement:ee,document:S,window:m,Symbol:ye,PlacedSymbol:Se}));return lt.agent.node&&ra(lt),typeof f=="function"&&f.amd?f("paper",lt):r&&(r.exports=lt),lt}).call(Sf,typeof self=="object"?self:null)})(hu);var Mf=hu.exports;const de=Pf(Mf);function Af(r){return{all:r=r||new Map,on:function(a,f){var m=r.get(a);m?m.push(f):r.set(a,[f])},off:function(a,f){var m=r.get(a);m&&(f?m.splice(m.indexOf(f)>>>0,1):r.set(a,[]))},emit:function(a,f){var m=r.get(a);m&&m.slice().map(function(S){S(f)}),(m=r.get("*"))&&m.slice().map(function(S){S(a,f)})}}}const cu=Af();function Lf(r){const a=new Uint8Array(r);let f="";for(let S=0;S<a.length;S++)f+=String.fromCharCode(a[S]);return`data:image/png;base64,${window.btoa(f)}`}const du=window.electronAPI,zf=()=>{du.sendImage((r,a)=>{cu.emit("image",{base64:Lf(a),imageData:a})})},sa=(r,a,f=!1)=>{du.crop({imageBuffer:a,isTop:f,devicePixelRatio:window.devicePixelRatio,x:r.x,y:r.y,width:r.width,height:r.height})},kf=kn("canvas",{id:"paper"},null,-1),Rf=["title","onClick"],Nf={__name:"App",setup(r){let a,f,m,S,d={0:{x:[0,1,2],y:[0,6,7],xHalf:[3,7],yHalf:[1,5],cursor:"ne-resize"},1:{x:[1,0,2],y:[],xHalf:[3,7],yHalf:[],cursor:"ew-resize"},2:{x:[2,0,1],y:[2,3,4],xHalf:[3,7],yHalf:[1,5],cursor:"nw-resize"},3:{x:[],y:[3,2,4],xHalf:[],yHalf:[1,5],cursor:"ns-resize"},4:{x:[4,5,6],y:[4,2,3],xHalf:[3,7],yHalf:[1,5],cursor:"ne-resize"},5:{x:[5,4,6],y:[],xHalf:[3,7],yHalf:[],cursor:"ew-resize"},6:{x:[6,4,5],y:[6,0,7],xHalf:[3,7],yHalf:[1,5],cursor:"nw-resize"},7:{x:[],y:[7,0,6],xHalf:[],yHalf:[1,5],cursor:"ns-resize"}};const k=Zn({x:0,y:0}),q=Zn(!1),Z=Zn(null),tt=Zn(""),Y=Zn({x:0,y:0});let et=null,Ct=Zn("");const F=[{icon:"icon-guding",title:"置顶",key:"top",func:()=>{sa(f.bounds,S,!0)},tool:null},{icon:"icon-ai210",title:"完成",key:"finish",func:()=>{sa(f.bounds,S)},tool:null}],Ht=xt=>{let Ft=xt.bounds.topLeft,it=`${xt.bounds.width}x${xt.bounds.height}`,Vt=16;a&&a.remove(),a=new de.PointText({point:[Ft.x,Ft.y-Vt],content:it,fillColor:"white",fontSize:Vt})},ct=xt=>{let Ft=xt.segments,it=Ft[0].point,Vt=Ft[2].point,qt=Ft[1].point,Ut=Ft[3].point,Yt=new de.Point((it.x+qt.x)/2,(it.y+qt.y)/2),Se=new de.Point((Vt.x+qt.x)/2,(Vt.y+qt.y)/2),ye=new de.Point((it.x+Ut.x)/2,(it.y+Ut.y)/2),ge=new de.Point((Vt.x+Ut.x)/2,(Vt.y+Ut.y)/2);xt.insert(1,Yt),xt.insert(3,Se),xt.insert(5,ge),xt.insert(7,ye)},te=xt=>{const it=new de.Color(0,0,1);return new de.Path.Rectangle({from:[xt.x-6/2,xt.y-6/2],to:[xt.x+6/2,xt.y+6/2],fillColor:it})},vt=xt=>{let Ft=xt.bounds.bottomRight,it=Z.value.getClientRects()[0].width,Vt=Z.value.getClientRects()[0].height,qt=0,Ut=0,Yt=document.documentElement.clientHeight,Se=Ft.y;Ut=Yt-Se<Vt?Ft.y-Vt:Ft.y,qt=xt.bounds.right-it,xt.bounds.left<it&&(qt=xt.bounds.left),k.value={x:qt,y:Ut}},ie=xt=>{q.value=!0,Ra(vt.bind(null,xt))},St=()=>{let xt;et=new de.Tool,et.onMouseDown=function(Ft){xt=Ft.point,f=new de.Path.Rectangle({from:Ft.point,to:Ft.point,strokeColor:"blue"})},et.onMouseDrag=function(Ft){f.remove(),f=new de.Path.Rectangle({from:xt,to:Ft.point,strokeColor:"blue",strokeWidth:1}),Ht(f)},et.onMouseUp=function(Ft){if(f.bounds.width<3||f.bounds.height<3){a.remove(),f.remove();return}et.remove(),ie(f),ct(f),f.fillColor=new de.Color(0,0,1,1e-8),f.onMouseDrag=Vt=>{document.body.style.cursor="move";let qt=Vt.delta;f.position.x+=qt.x,f.position.y+=qt.y,f.bounds.topLeft.x<=0?f.position.x=f.bounds.width/2+1:f.bounds.topLeft.y<=0?f.position.y=f.bounds.height/2+1:f.bounds.bottomRight.x>=de.view.bounds.width?f.position.x=de.view.bounds.width-f.bounds.width/2-1:f.bounds.bottomRight.y>=de.view.bounds.height&&(f.position.y=de.view.bounds.height-f.bounds.height/2-1),it.forEach(Ut=>{Ut.controlPoint.position=Ut.segment.point,Ut.controlPoint.position=Ut.segment.point}),Ht(f),vt(f)},f.onMouseEnter=()=>{document.body.style.cursor="move"},f.onMouseLeave=()=>{document.body.style.cursor="default"};let it=[];f.segments.forEach((Vt,qt)=>{let Ut=te(Vt.point);it.push({index:qt,controlPoint:Ut,segment:Vt})}),it.forEach((Vt,qt)=>{Vt.controlPoint.onMouseDrag=Ut=>{let Yt=Ut.delta,{x:Se,y:ye,xHalf:ge,yHalf:Pt}=d[qt];Se.forEach(pe=>{it[pe].controlPoint.position.x+=Yt.x,it[pe].segment.point.x+=Yt.x}),ye.forEach(pe=>{it[pe].controlPoint.position.y+=Yt.y,it[pe].segment.point.y+=Yt.y}),ge.forEach(pe=>{it[pe].controlPoint.position.x+=Yt.x/2,it[pe].segment.point.x+=Yt.x/2}),Pt.forEach(pe=>{it[pe].controlPoint.position.y+=Yt.y/2,it[pe].segment.point.y+=Yt.y/2}),Ht(f),vt(f),document.body.style.cursor=d[qt].cursor},Vt.controlPoint.onMouseEnter=()=>{document.body.style.cursor=d[qt].cursor},Vt.controlPoint.onMouseLeave=()=>{document.body.style.cursor="default"}})}};return cu.on("image",async({base64:xt,imageData:Ft})=>{de.project.clear(),q.value=!1,S=Ft,m=new de.Raster(xt),m.onLoad=()=>{m.fitBounds(de.view.bounds),St()}}),Ua(async()=>{de.setup("paper"),zf()}),(xt,Ft)=>(Us(),Ws(Ke,null,[kf,qo(kn("div",{class:"toolBar",style:Jn({left:k.value.x+"px",top:k.value.y+"px"}),ref_key:"toolBarRef",ref:Z},[(Us(),Ws(Ke,null,el(F,it=>kn("div",{class:"toolBar-item",title:it.title,onClick:it.func,style:Jn({border:it.key===La(Ct)?"1px solid red":""})},[kn("span",{class:Gi("ksdhy "+it.icon)},null,2)],12,Rf)),64))],4),[[nf,q.value]]),kn("div",{style:Jn({left:Y.value.x+"px",top:Y.value.y+"px"})},ga(tt.value),5)],64))}};bf(Nf).mount("#app");
//# sourceMappingURL=index-DPZYCE7o.js.map
