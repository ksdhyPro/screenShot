{"version":3,"file":"index-DeL3MQsb.js","sources":["../../../screenshot/node_modules/@vue/shared/dist/shared.esm-bundler.js","../../../screenshot/node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js","../../../screenshot/node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js","../../../screenshot/node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js","../../../screenshot/__vite-browser-external","../../../screenshot/node_modules/paper/dist/paper-full.js","../../../screenshot/node_modules/mitt/dist/mitt.mjs","../../../screenshot/src/mitt.js","../../../screenshot/src/electron.js","../../../screenshot/src/App.vue","../../../screenshot/src/main.js"],"sourcesContent":["/**\n* @vue/shared v3.4.38\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction makeMap(str, expectsLowerCase) {\n  const set = new Set(str.split(\",\"));\n  return expectsLowerCase ? (val) => set.has(val.toLowerCase()) : (val) => set.has(val);\n}\n\nconst EMPTY_OBJ = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze({}) : {};\nconst EMPTY_ARR = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze([]) : [];\nconst NOOP = () => {\n};\nconst NO = () => false;\nconst isOn = (key) => key.charCodeAt(0) === 111 && key.charCodeAt(1) === 110 && // uppercase letter\n(key.charCodeAt(2) > 122 || key.charCodeAt(2) < 97);\nconst isModelListener = (key) => key.startsWith(\"onUpdate:\");\nconst extend = Object.assign;\nconst remove = (arr, el) => {\n  const i = arr.indexOf(el);\n  if (i > -1) {\n    arr.splice(i, 1);\n  }\n};\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\nconst isArray = Array.isArray;\nconst isMap = (val) => toTypeString(val) === \"[object Map]\";\nconst isSet = (val) => toTypeString(val) === \"[object Set]\";\nconst isDate = (val) => toTypeString(val) === \"[object Date]\";\nconst isRegExp = (val) => toTypeString(val) === \"[object RegExp]\";\nconst isFunction = (val) => typeof val === \"function\";\nconst isString = (val) => typeof val === \"string\";\nconst isSymbol = (val) => typeof val === \"symbol\";\nconst isObject = (val) => val !== null && typeof val === \"object\";\nconst isPromise = (val) => {\n  return (isObject(val) || isFunction(val)) && isFunction(val.then) && isFunction(val.catch);\n};\nconst objectToString = Object.prototype.toString;\nconst toTypeString = (value) => objectToString.call(value);\nconst toRawType = (value) => {\n  return toTypeString(value).slice(8, -1);\n};\nconst isPlainObject = (val) => toTypeString(val) === \"[object Object]\";\nconst isIntegerKey = (key) => isString(key) && key !== \"NaN\" && key[0] !== \"-\" && \"\" + parseInt(key, 10) === key;\nconst isReservedProp = /* @__PURE__ */ makeMap(\n  // the leading comma is intentional so empty string \"\" is also included\n  \",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted\"\n);\nconst isBuiltInDirective = /* @__PURE__ */ makeMap(\n  \"bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo\"\n);\nconst cacheStringFunction = (fn) => {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (str) => {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n};\nconst camelizeRE = /-(\\w)/g;\nconst camelize = cacheStringFunction((str) => {\n  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : \"\");\n});\nconst hyphenateRE = /\\B([A-Z])/g;\nconst hyphenate = cacheStringFunction(\n  (str) => str.replace(hyphenateRE, \"-$1\").toLowerCase()\n);\nconst capitalize = cacheStringFunction((str) => {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n});\nconst toHandlerKey = cacheStringFunction((str) => {\n  const s = str ? `on${capitalize(str)}` : ``;\n  return s;\n});\nconst hasChanged = (value, oldValue) => !Object.is(value, oldValue);\nconst invokeArrayFns = (fns, ...arg) => {\n  for (let i = 0; i < fns.length; i++) {\n    fns[i](...arg);\n  }\n};\nconst def = (obj, key, value, writable = false) => {\n  Object.defineProperty(obj, key, {\n    configurable: true,\n    enumerable: false,\n    writable,\n    value\n  });\n};\nconst looseToNumber = (val) => {\n  const n = parseFloat(val);\n  return isNaN(n) ? val : n;\n};\nconst toNumber = (val) => {\n  const n = isString(val) ? Number(val) : NaN;\n  return isNaN(n) ? val : n;\n};\nlet _globalThis;\nconst getGlobalThis = () => {\n  return _globalThis || (_globalThis = typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {});\n};\nconst identRE = /^[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/;\nfunction genPropsAccessExp(name) {\n  return identRE.test(name) ? `__props.${name}` : `__props[${JSON.stringify(name)}]`;\n}\n\nconst PatchFlags = {\n  \"TEXT\": 1,\n  \"1\": \"TEXT\",\n  \"CLASS\": 2,\n  \"2\": \"CLASS\",\n  \"STYLE\": 4,\n  \"4\": \"STYLE\",\n  \"PROPS\": 8,\n  \"8\": \"PROPS\",\n  \"FULL_PROPS\": 16,\n  \"16\": \"FULL_PROPS\",\n  \"NEED_HYDRATION\": 32,\n  \"32\": \"NEED_HYDRATION\",\n  \"STABLE_FRAGMENT\": 64,\n  \"64\": \"STABLE_FRAGMENT\",\n  \"KEYED_FRAGMENT\": 128,\n  \"128\": \"KEYED_FRAGMENT\",\n  \"UNKEYED_FRAGMENT\": 256,\n  \"256\": \"UNKEYED_FRAGMENT\",\n  \"NEED_PATCH\": 512,\n  \"512\": \"NEED_PATCH\",\n  \"DYNAMIC_SLOTS\": 1024,\n  \"1024\": \"DYNAMIC_SLOTS\",\n  \"DEV_ROOT_FRAGMENT\": 2048,\n  \"2048\": \"DEV_ROOT_FRAGMENT\",\n  \"HOISTED\": -1,\n  \"-1\": \"HOISTED\",\n  \"BAIL\": -2,\n  \"-2\": \"BAIL\"\n};\nconst PatchFlagNames = {\n  [1]: `TEXT`,\n  [2]: `CLASS`,\n  [4]: `STYLE`,\n  [8]: `PROPS`,\n  [16]: `FULL_PROPS`,\n  [32]: `NEED_HYDRATION`,\n  [64]: `STABLE_FRAGMENT`,\n  [128]: `KEYED_FRAGMENT`,\n  [256]: `UNKEYED_FRAGMENT`,\n  [512]: `NEED_PATCH`,\n  [1024]: `DYNAMIC_SLOTS`,\n  [2048]: `DEV_ROOT_FRAGMENT`,\n  [-1]: `HOISTED`,\n  [-2]: `BAIL`\n};\n\nconst ShapeFlags = {\n  \"ELEMENT\": 1,\n  \"1\": \"ELEMENT\",\n  \"FUNCTIONAL_COMPONENT\": 2,\n  \"2\": \"FUNCTIONAL_COMPONENT\",\n  \"STATEFUL_COMPONENT\": 4,\n  \"4\": \"STATEFUL_COMPONENT\",\n  \"TEXT_CHILDREN\": 8,\n  \"8\": \"TEXT_CHILDREN\",\n  \"ARRAY_CHILDREN\": 16,\n  \"16\": \"ARRAY_CHILDREN\",\n  \"SLOTS_CHILDREN\": 32,\n  \"32\": \"SLOTS_CHILDREN\",\n  \"TELEPORT\": 64,\n  \"64\": \"TELEPORT\",\n  \"SUSPENSE\": 128,\n  \"128\": \"SUSPENSE\",\n  \"COMPONENT_SHOULD_KEEP_ALIVE\": 256,\n  \"256\": \"COMPONENT_SHOULD_KEEP_ALIVE\",\n  \"COMPONENT_KEPT_ALIVE\": 512,\n  \"512\": \"COMPONENT_KEPT_ALIVE\",\n  \"COMPONENT\": 6,\n  \"6\": \"COMPONENT\"\n};\n\nconst SlotFlags = {\n  \"STABLE\": 1,\n  \"1\": \"STABLE\",\n  \"DYNAMIC\": 2,\n  \"2\": \"DYNAMIC\",\n  \"FORWARDED\": 3,\n  \"3\": \"FORWARDED\"\n};\nconst slotFlagsText = {\n  [1]: \"STABLE\",\n  [2]: \"DYNAMIC\",\n  [3]: \"FORWARDED\"\n};\n\nconst GLOBALS_ALLOWED = \"Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error\";\nconst isGloballyAllowed = /* @__PURE__ */ makeMap(GLOBALS_ALLOWED);\nconst isGloballyWhitelisted = isGloballyAllowed;\n\nconst range = 2;\nfunction generateCodeFrame(source, start = 0, end = source.length) {\n  start = Math.max(0, Math.min(start, source.length));\n  end = Math.max(0, Math.min(end, source.length));\n  if (start > end) return \"\";\n  let lines = source.split(/(\\r?\\n)/);\n  const newlineSequences = lines.filter((_, idx) => idx % 2 === 1);\n  lines = lines.filter((_, idx) => idx % 2 === 0);\n  let count = 0;\n  const res = [];\n  for (let i = 0; i < lines.length; i++) {\n    count += lines[i].length + (newlineSequences[i] && newlineSequences[i].length || 0);\n    if (count >= start) {\n      for (let j = i - range; j <= i + range || end > count; j++) {\n        if (j < 0 || j >= lines.length) continue;\n        const line = j + 1;\n        res.push(\n          `${line}${\" \".repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`\n        );\n        const lineLength = lines[j].length;\n        const newLineSeqLength = newlineSequences[j] && newlineSequences[j].length || 0;\n        if (j === i) {\n          const pad = start - (count - (lineLength + newLineSeqLength));\n          const length = Math.max(\n            1,\n            end > count ? lineLength - pad : end - start\n          );\n          res.push(`   |  ` + \" \".repeat(pad) + \"^\".repeat(length));\n        } else if (j > i) {\n          if (end > count) {\n            const length = Math.max(Math.min(end - count, lineLength), 1);\n            res.push(`   |  ` + \"^\".repeat(length));\n          }\n          count += lineLength + newLineSeqLength;\n        }\n      }\n      break;\n    }\n  }\n  return res.join(\"\\n\");\n}\n\nfunction normalizeStyle(value) {\n  if (isArray(value)) {\n    const res = {};\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i];\n      const normalized = isString(item) ? parseStringStyle(item) : normalizeStyle(item);\n      if (normalized) {\n        for (const key in normalized) {\n          res[key] = normalized[key];\n        }\n      }\n    }\n    return res;\n  } else if (isString(value) || isObject(value)) {\n    return value;\n  }\n}\nconst listDelimiterRE = /;(?![^(]*\\))/g;\nconst propertyDelimiterRE = /:([^]+)/;\nconst styleCommentRE = /\\/\\*[^]*?\\*\\//g;\nfunction parseStringStyle(cssText) {\n  const ret = {};\n  cssText.replace(styleCommentRE, \"\").split(listDelimiterRE).forEach((item) => {\n    if (item) {\n      const tmp = item.split(propertyDelimiterRE);\n      tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return ret;\n}\nfunction stringifyStyle(styles) {\n  let ret = \"\";\n  if (!styles || isString(styles)) {\n    return ret;\n  }\n  for (const key in styles) {\n    const value = styles[key];\n    if (isString(value) || typeof value === \"number\") {\n      const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\n      ret += `${normalizedKey}:${value};`;\n    }\n  }\n  return ret;\n}\nfunction normalizeClass(value) {\n  let res = \"\";\n  if (isString(value)) {\n    res = value;\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      const normalized = normalizeClass(value[i]);\n      if (normalized) {\n        res += normalized + \" \";\n      }\n    }\n  } else if (isObject(value)) {\n    for (const name in value) {\n      if (value[name]) {\n        res += name + \" \";\n      }\n    }\n  }\n  return res.trim();\n}\nfunction normalizeProps(props) {\n  if (!props) return null;\n  let { class: klass, style } = props;\n  if (klass && !isString(klass)) {\n    props.class = normalizeClass(klass);\n  }\n  if (style) {\n    props.style = normalizeStyle(style);\n  }\n  return props;\n}\n\nconst HTML_TAGS = \"html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot\";\nconst SVG_TAGS = \"svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view\";\nconst MATH_TAGS = \"annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics\";\nconst VOID_TAGS = \"area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr\";\nconst isHTMLTag = /* @__PURE__ */ makeMap(HTML_TAGS);\nconst isSVGTag = /* @__PURE__ */ makeMap(SVG_TAGS);\nconst isMathMLTag = /* @__PURE__ */ makeMap(MATH_TAGS);\nconst isVoidTag = /* @__PURE__ */ makeMap(VOID_TAGS);\n\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\nconst isSpecialBooleanAttr = /* @__PURE__ */ makeMap(specialBooleanAttrs);\nconst isBooleanAttr = /* @__PURE__ */ makeMap(\n  specialBooleanAttrs + `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected`\n);\nfunction includeBooleanAttr(value) {\n  return !!value || value === \"\";\n}\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\nconst attrValidationCache = {};\nfunction isSSRSafeAttrName(name) {\n  if (attrValidationCache.hasOwnProperty(name)) {\n    return attrValidationCache[name];\n  }\n  const isUnsafe = unsafeAttrCharRE.test(name);\n  if (isUnsafe) {\n    console.error(`unsafe attribute name: ${name}`);\n  }\n  return attrValidationCache[name] = !isUnsafe;\n}\nconst propsToAttrMap = {\n  acceptCharset: \"accept-charset\",\n  className: \"class\",\n  htmlFor: \"for\",\n  httpEquiv: \"http-equiv\"\n};\nconst isKnownHtmlAttr = /* @__PURE__ */ makeMap(\n  `accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap`\n);\nconst isKnownSvgAttr = /* @__PURE__ */ makeMap(\n  `xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan`\n);\nfunction isRenderableAttrValue(value) {\n  if (value == null) {\n    return false;\n  }\n  const type = typeof value;\n  return type === \"string\" || type === \"number\" || type === \"boolean\";\n}\n\nconst escapeRE = /[\"'&<>]/;\nfunction escapeHtml(string) {\n  const str = \"\" + string;\n  const match = escapeRE.exec(str);\n  if (!match) {\n    return str;\n  }\n  let html = \"\";\n  let escaped;\n  let index;\n  let lastIndex = 0;\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escaped = \"&quot;\";\n        break;\n      case 38:\n        escaped = \"&amp;\";\n        break;\n      case 39:\n        escaped = \"&#39;\";\n        break;\n      case 60:\n        escaped = \"&lt;\";\n        break;\n      case 62:\n        escaped = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    if (lastIndex !== index) {\n      html += str.slice(lastIndex, index);\n    }\n    lastIndex = index + 1;\n    html += escaped;\n  }\n  return lastIndex !== index ? html + str.slice(lastIndex, index) : html;\n}\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\nfunction escapeHtmlComment(src) {\n  return src.replace(commentStripRE, \"\");\n}\n\nfunction looseCompareArrays(a, b) {\n  if (a.length !== b.length) return false;\n  let equal = true;\n  for (let i = 0; equal && i < a.length; i++) {\n    equal = looseEqual(a[i], b[i]);\n  }\n  return equal;\n}\nfunction looseEqual(a, b) {\n  if (a === b) return true;\n  let aValidType = isDate(a);\n  let bValidType = isDate(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? a.getTime() === b.getTime() : false;\n  }\n  aValidType = isSymbol(a);\n  bValidType = isSymbol(b);\n  if (aValidType || bValidType) {\n    return a === b;\n  }\n  aValidType = isArray(a);\n  bValidType = isArray(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? looseCompareArrays(a, b) : false;\n  }\n  aValidType = isObject(a);\n  bValidType = isObject(b);\n  if (aValidType || bValidType) {\n    if (!aValidType || !bValidType) {\n      return false;\n    }\n    const aKeysCount = Object.keys(a).length;\n    const bKeysCount = Object.keys(b).length;\n    if (aKeysCount !== bKeysCount) {\n      return false;\n    }\n    for (const key in a) {\n      const aHasKey = a.hasOwnProperty(key);\n      const bHasKey = b.hasOwnProperty(key);\n      if (aHasKey && !bHasKey || !aHasKey && bHasKey || !looseEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n  }\n  return String(a) === String(b);\n}\nfunction looseIndexOf(arr, val) {\n  return arr.findIndex((item) => looseEqual(item, val));\n}\n\nconst isRef = (val) => {\n  return !!(val && val.__v_isRef === true);\n};\nconst toDisplayString = (val) => {\n  return isString(val) ? val : val == null ? \"\" : isArray(val) || isObject(val) && (val.toString === objectToString || !isFunction(val.toString)) ? isRef(val) ? toDisplayString(val.value) : JSON.stringify(val, replacer, 2) : String(val);\n};\nconst replacer = (_key, val) => {\n  if (isRef(val)) {\n    return replacer(_key, val.value);\n  } else if (isMap(val)) {\n    return {\n      [`Map(${val.size})`]: [...val.entries()].reduce(\n        (entries, [key, val2], i) => {\n          entries[stringifySymbol(key, i) + \" =>\"] = val2;\n          return entries;\n        },\n        {}\n      )\n    };\n  } else if (isSet(val)) {\n    return {\n      [`Set(${val.size})`]: [...val.values()].map((v) => stringifySymbol(v))\n    };\n  } else if (isSymbol(val)) {\n    return stringifySymbol(val);\n  } else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\n    return String(val);\n  }\n  return val;\n};\nconst stringifySymbol = (v, i = \"\") => {\n  var _a;\n  return (\n    // Symbol.description in es2019+ so we need to cast here to pass\n    // the lib: es2016 check\n    isSymbol(v) ? `Symbol(${(_a = v.description) != null ? _a : i})` : v\n  );\n};\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, PatchFlags, ShapeFlags, SlotFlags, camelize, capitalize, def, escapeHtml, escapeHtmlComment, extend, genPropsAccessExp, generateCodeFrame, getGlobalThis, hasChanged, hasOwn, hyphenate, includeBooleanAttr, invokeArrayFns, isArray, isBooleanAttr, isBuiltInDirective, isDate, isFunction, isGloballyAllowed, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownHtmlAttr, isKnownSvgAttr, isMap, isMathMLTag, isModelListener, isObject, isOn, isPlainObject, isPromise, isRegExp, isRenderableAttrValue, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, looseToNumber, makeMap, normalizeClass, normalizeProps, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n","/**\n* @vue/reactivity v3.4.38\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\nimport { NOOP, extend, isArray, isSymbol, isMap, isIntegerKey, hasOwn, hasChanged, isObject, makeMap, capitalize, toRawType, def, isFunction } from '@vue/shared';\n\nfunction warn(msg, ...args) {\n  console.warn(`[Vue warn] ${msg}`, ...args);\n}\n\nlet activeEffectScope;\nclass EffectScope {\n  constructor(detached = false) {\n    this.detached = detached;\n    /**\n     * @internal\n     */\n    this._active = true;\n    /**\n     * @internal\n     */\n    this.effects = [];\n    /**\n     * @internal\n     */\n    this.cleanups = [];\n    this.parent = activeEffectScope;\n    if (!detached && activeEffectScope) {\n      this.index = (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(\n        this\n      ) - 1;\n    }\n  }\n  get active() {\n    return this._active;\n  }\n  run(fn) {\n    if (this._active) {\n      const currentEffectScope = activeEffectScope;\n      try {\n        activeEffectScope = this;\n        return fn();\n      } finally {\n        activeEffectScope = currentEffectScope;\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`cannot run an inactive effect scope.`);\n    }\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  on() {\n    activeEffectScope = this;\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  off() {\n    activeEffectScope = this.parent;\n  }\n  stop(fromParent) {\n    if (this._active) {\n      let i, l;\n      for (i = 0, l = this.effects.length; i < l; i++) {\n        this.effects[i].stop();\n      }\n      for (i = 0, l = this.cleanups.length; i < l; i++) {\n        this.cleanups[i]();\n      }\n      if (this.scopes) {\n        for (i = 0, l = this.scopes.length; i < l; i++) {\n          this.scopes[i].stop(true);\n        }\n      }\n      if (!this.detached && this.parent && !fromParent) {\n        const last = this.parent.scopes.pop();\n        if (last && last !== this) {\n          this.parent.scopes[this.index] = last;\n          last.index = this.index;\n        }\n      }\n      this.parent = void 0;\n      this._active = false;\n    }\n  }\n}\nfunction effectScope(detached) {\n  return new EffectScope(detached);\n}\nfunction recordEffectScope(effect, scope = activeEffectScope) {\n  if (scope && scope.active) {\n    scope.effects.push(effect);\n  }\n}\nfunction getCurrentScope() {\n  return activeEffectScope;\n}\nfunction onScopeDispose(fn) {\n  if (activeEffectScope) {\n    activeEffectScope.cleanups.push(fn);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(\n      `onScopeDispose() is called when there is no active effect scope to be associated with.`\n    );\n  }\n}\n\nlet activeEffect;\nclass ReactiveEffect {\n  constructor(fn, trigger, scheduler, scope) {\n    this.fn = fn;\n    this.trigger = trigger;\n    this.scheduler = scheduler;\n    this.active = true;\n    this.deps = [];\n    /**\n     * @internal\n     */\n    this._dirtyLevel = 4;\n    /**\n     * @internal\n     */\n    this._trackId = 0;\n    /**\n     * @internal\n     */\n    this._runnings = 0;\n    /**\n     * @internal\n     */\n    this._shouldSchedule = false;\n    /**\n     * @internal\n     */\n    this._depsLength = 0;\n    recordEffectScope(this, scope);\n  }\n  get dirty() {\n    if (this._dirtyLevel === 2 || this._dirtyLevel === 3) {\n      this._dirtyLevel = 1;\n      pauseTracking();\n      for (let i = 0; i < this._depsLength; i++) {\n        const dep = this.deps[i];\n        if (dep.computed) {\n          triggerComputed(dep.computed);\n          if (this._dirtyLevel >= 4) {\n            break;\n          }\n        }\n      }\n      if (this._dirtyLevel === 1) {\n        this._dirtyLevel = 0;\n      }\n      resetTracking();\n    }\n    return this._dirtyLevel >= 4;\n  }\n  set dirty(v) {\n    this._dirtyLevel = v ? 4 : 0;\n  }\n  run() {\n    this._dirtyLevel = 0;\n    if (!this.active) {\n      return this.fn();\n    }\n    let lastShouldTrack = shouldTrack;\n    let lastEffect = activeEffect;\n    try {\n      shouldTrack = true;\n      activeEffect = this;\n      this._runnings++;\n      preCleanupEffect(this);\n      return this.fn();\n    } finally {\n      postCleanupEffect(this);\n      this._runnings--;\n      activeEffect = lastEffect;\n      shouldTrack = lastShouldTrack;\n    }\n  }\n  stop() {\n    if (this.active) {\n      preCleanupEffect(this);\n      postCleanupEffect(this);\n      this.onStop && this.onStop();\n      this.active = false;\n    }\n  }\n}\nfunction triggerComputed(computed) {\n  return computed.value;\n}\nfunction preCleanupEffect(effect2) {\n  effect2._trackId++;\n  effect2._depsLength = 0;\n}\nfunction postCleanupEffect(effect2) {\n  if (effect2.deps.length > effect2._depsLength) {\n    for (let i = effect2._depsLength; i < effect2.deps.length; i++) {\n      cleanupDepEffect(effect2.deps[i], effect2);\n    }\n    effect2.deps.length = effect2._depsLength;\n  }\n}\nfunction cleanupDepEffect(dep, effect2) {\n  const trackId = dep.get(effect2);\n  if (trackId !== void 0 && effect2._trackId !== trackId) {\n    dep.delete(effect2);\n    if (dep.size === 0) {\n      dep.cleanup();\n    }\n  }\n}\nfunction effect(fn, options) {\n  if (fn.effect instanceof ReactiveEffect) {\n    fn = fn.effect.fn;\n  }\n  const _effect = new ReactiveEffect(fn, NOOP, () => {\n    if (_effect.dirty) {\n      _effect.run();\n    }\n  });\n  if (options) {\n    extend(_effect, options);\n    if (options.scope) recordEffectScope(_effect, options.scope);\n  }\n  if (!options || !options.lazy) {\n    _effect.run();\n  }\n  const runner = _effect.run.bind(_effect);\n  runner.effect = _effect;\n  return runner;\n}\nfunction stop(runner) {\n  runner.effect.stop();\n}\nlet shouldTrack = true;\nlet pauseScheduleStack = 0;\nconst trackStack = [];\nfunction pauseTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = false;\n}\nfunction enableTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = true;\n}\nfunction resetTracking() {\n  const last = trackStack.pop();\n  shouldTrack = last === void 0 ? true : last;\n}\nfunction pauseScheduling() {\n  pauseScheduleStack++;\n}\nfunction resetScheduling() {\n  pauseScheduleStack--;\n  while (!pauseScheduleStack && queueEffectSchedulers.length) {\n    queueEffectSchedulers.shift()();\n  }\n}\nfunction trackEffect(effect2, dep, debuggerEventExtraInfo) {\n  var _a;\n  if (dep.get(effect2) !== effect2._trackId) {\n    dep.set(effect2, effect2._trackId);\n    const oldDep = effect2.deps[effect2._depsLength];\n    if (oldDep !== dep) {\n      if (oldDep) {\n        cleanupDepEffect(oldDep, effect2);\n      }\n      effect2.deps[effect2._depsLength++] = dep;\n    } else {\n      effect2._depsLength++;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      (_a = effect2.onTrack) == null ? void 0 : _a.call(effect2, extend({ effect: effect2 }, debuggerEventExtraInfo));\n    }\n  }\n}\nconst queueEffectSchedulers = [];\nfunction triggerEffects(dep, dirtyLevel, debuggerEventExtraInfo) {\n  var _a;\n  pauseScheduling();\n  for (const effect2 of dep.keys()) {\n    let tracking;\n    if (effect2._dirtyLevel < dirtyLevel && (tracking != null ? tracking : tracking = dep.get(effect2) === effect2._trackId)) {\n      effect2._shouldSchedule || (effect2._shouldSchedule = effect2._dirtyLevel === 0);\n      effect2._dirtyLevel = dirtyLevel;\n    }\n    if (effect2._shouldSchedule && (tracking != null ? tracking : tracking = dep.get(effect2) === effect2._trackId)) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        (_a = effect2.onTrigger) == null ? void 0 : _a.call(effect2, extend({ effect: effect2 }, debuggerEventExtraInfo));\n      }\n      effect2.trigger();\n      if ((!effect2._runnings || effect2.allowRecurse) && effect2._dirtyLevel !== 2) {\n        effect2._shouldSchedule = false;\n        if (effect2.scheduler) {\n          queueEffectSchedulers.push(effect2.scheduler);\n        }\n      }\n    }\n  }\n  resetScheduling();\n}\n\nconst createDep = (cleanup, computed) => {\n  const dep = /* @__PURE__ */ new Map();\n  dep.cleanup = cleanup;\n  dep.computed = computed;\n  return dep;\n};\n\nconst targetMap = /* @__PURE__ */ new WeakMap();\nconst ITERATE_KEY = Symbol(!!(process.env.NODE_ENV !== \"production\") ? \"iterate\" : \"\");\nconst MAP_KEY_ITERATE_KEY = Symbol(!!(process.env.NODE_ENV !== \"production\") ? \"Map key iterate\" : \"\");\nfunction track(target, type, key) {\n  if (shouldTrack && activeEffect) {\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n      targetMap.set(target, depsMap = /* @__PURE__ */ new Map());\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n      depsMap.set(key, dep = createDep(() => depsMap.delete(key)));\n    }\n    trackEffect(\n      activeEffect,\n      dep,\n      !!(process.env.NODE_ENV !== \"production\") ? {\n        target,\n        type,\n        key\n      } : void 0\n    );\n  }\n}\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\n  const depsMap = targetMap.get(target);\n  if (!depsMap) {\n    return;\n  }\n  let deps = [];\n  if (type === \"clear\") {\n    deps = [...depsMap.values()];\n  } else if (key === \"length\" && isArray(target)) {\n    const newLength = Number(newValue);\n    depsMap.forEach((dep, key2) => {\n      if (key2 === \"length\" || !isSymbol(key2) && key2 >= newLength) {\n        deps.push(dep);\n      }\n    });\n  } else {\n    if (key !== void 0) {\n      deps.push(depsMap.get(key));\n    }\n    switch (type) {\n      case \"add\":\n        if (!isArray(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n          if (isMap(target)) {\n            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n          }\n        } else if (isIntegerKey(key)) {\n          deps.push(depsMap.get(\"length\"));\n        }\n        break;\n      case \"delete\":\n        if (!isArray(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n          if (isMap(target)) {\n            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n          }\n        }\n        break;\n      case \"set\":\n        if (isMap(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n        }\n        break;\n    }\n  }\n  pauseScheduling();\n  for (const dep of deps) {\n    if (dep) {\n      triggerEffects(\n        dep,\n        4,\n        !!(process.env.NODE_ENV !== \"production\") ? {\n          target,\n          type,\n          key,\n          newValue,\n          oldValue,\n          oldTarget\n        } : void 0\n      );\n    }\n  }\n  resetScheduling();\n}\nfunction getDepFromReactive(object, key) {\n  const depsMap = targetMap.get(object);\n  return depsMap && depsMap.get(key);\n}\n\nconst isNonTrackableKeys = /* @__PURE__ */ makeMap(`__proto__,__v_isRef,__isVue`);\nconst builtInSymbols = new Set(\n  /* @__PURE__ */ Object.getOwnPropertyNames(Symbol).filter((key) => key !== \"arguments\" && key !== \"caller\").map((key) => Symbol[key]).filter(isSymbol)\n);\nconst arrayInstrumentations = /* @__PURE__ */ createArrayInstrumentations();\nfunction createArrayInstrumentations() {\n  const instrumentations = {};\n  [\"includes\", \"indexOf\", \"lastIndexOf\"].forEach((key) => {\n    instrumentations[key] = function(...args) {\n      const arr = toRaw(this);\n      for (let i = 0, l = this.length; i < l; i++) {\n        track(arr, \"get\", i + \"\");\n      }\n      const res = arr[key](...args);\n      if (res === -1 || res === false) {\n        return arr[key](...args.map(toRaw));\n      } else {\n        return res;\n      }\n    };\n  });\n  [\"push\", \"pop\", \"shift\", \"unshift\", \"splice\"].forEach((key) => {\n    instrumentations[key] = function(...args) {\n      pauseTracking();\n      pauseScheduling();\n      const res = toRaw(this)[key].apply(this, args);\n      resetScheduling();\n      resetTracking();\n      return res;\n    };\n  });\n  return instrumentations;\n}\nfunction hasOwnProperty(key) {\n  if (!isSymbol(key)) key = String(key);\n  const obj = toRaw(this);\n  track(obj, \"has\", key);\n  return obj.hasOwnProperty(key);\n}\nclass BaseReactiveHandler {\n  constructor(_isReadonly = false, _isShallow = false) {\n    this._isReadonly = _isReadonly;\n    this._isShallow = _isShallow;\n  }\n  get(target, key, receiver) {\n    const isReadonly2 = this._isReadonly, isShallow2 = this._isShallow;\n    if (key === \"__v_isReactive\") {\n      return !isReadonly2;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly2;\n    } else if (key === \"__v_isShallow\") {\n      return isShallow2;\n    } else if (key === \"__v_raw\") {\n      if (receiver === (isReadonly2 ? isShallow2 ? shallowReadonlyMap : readonlyMap : isShallow2 ? shallowReactiveMap : reactiveMap).get(target) || // receiver is not the reactive proxy, but has the same prototype\n      // this means the receiver is a user proxy of the reactive proxy\n      Object.getPrototypeOf(target) === Object.getPrototypeOf(receiver)) {\n        return target;\n      }\n      return;\n    }\n    const targetIsArray = isArray(target);\n    if (!isReadonly2) {\n      if (targetIsArray && hasOwn(arrayInstrumentations, key)) {\n        return Reflect.get(arrayInstrumentations, key, receiver);\n      }\n      if (key === \"hasOwnProperty\") {\n        return hasOwnProperty;\n      }\n    }\n    const res = Reflect.get(target, key, receiver);\n    if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {\n      return res;\n    }\n    if (!isReadonly2) {\n      track(target, \"get\", key);\n    }\n    if (isShallow2) {\n      return res;\n    }\n    if (isRef(res)) {\n      return targetIsArray && isIntegerKey(key) ? res : res.value;\n    }\n    if (isObject(res)) {\n      return isReadonly2 ? readonly(res) : reactive(res);\n    }\n    return res;\n  }\n}\nclass MutableReactiveHandler extends BaseReactiveHandler {\n  constructor(isShallow2 = false) {\n    super(false, isShallow2);\n  }\n  set(target, key, value, receiver) {\n    let oldValue = target[key];\n    if (!this._isShallow) {\n      const isOldValueReadonly = isReadonly(oldValue);\n      if (!isShallow(value) && !isReadonly(value)) {\n        oldValue = toRaw(oldValue);\n        value = toRaw(value);\n      }\n      if (!isArray(target) && isRef(oldValue) && !isRef(value)) {\n        if (isOldValueReadonly) {\n          return false;\n        } else {\n          oldValue.value = value;\n          return true;\n        }\n      }\n    }\n    const hadKey = isArray(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn(target, key);\n    const result = Reflect.set(target, key, value, receiver);\n    if (target === toRaw(receiver)) {\n      if (!hadKey) {\n        trigger(target, \"add\", key, value);\n      } else if (hasChanged(value, oldValue)) {\n        trigger(target, \"set\", key, value, oldValue);\n      }\n    }\n    return result;\n  }\n  deleteProperty(target, key) {\n    const hadKey = hasOwn(target, key);\n    const oldValue = target[key];\n    const result = Reflect.deleteProperty(target, key);\n    if (result && hadKey) {\n      trigger(target, \"delete\", key, void 0, oldValue);\n    }\n    return result;\n  }\n  has(target, key) {\n    const result = Reflect.has(target, key);\n    if (!isSymbol(key) || !builtInSymbols.has(key)) {\n      track(target, \"has\", key);\n    }\n    return result;\n  }\n  ownKeys(target) {\n    track(\n      target,\n      \"iterate\",\n      isArray(target) ? \"length\" : ITERATE_KEY\n    );\n    return Reflect.ownKeys(target);\n  }\n}\nclass ReadonlyReactiveHandler extends BaseReactiveHandler {\n  constructor(isShallow2 = false) {\n    super(true, isShallow2);\n  }\n  set(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Set operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  }\n  deleteProperty(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Delete operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  }\n}\nconst mutableHandlers = /* @__PURE__ */ new MutableReactiveHandler();\nconst readonlyHandlers = /* @__PURE__ */ new ReadonlyReactiveHandler();\nconst shallowReactiveHandlers = /* @__PURE__ */ new MutableReactiveHandler(\n  true\n);\nconst shallowReadonlyHandlers = /* @__PURE__ */ new ReadonlyReactiveHandler(true);\n\nconst toShallow = (value) => value;\nconst getProto = (v) => Reflect.getPrototypeOf(v);\nfunction get(target, key, isReadonly2 = false, isShallow2 = false) {\n  target = target[\"__v_raw\"];\n  const rawTarget = toRaw(target);\n  const rawKey = toRaw(key);\n  if (!isReadonly2) {\n    if (hasChanged(key, rawKey)) {\n      track(rawTarget, \"get\", key);\n    }\n    track(rawTarget, \"get\", rawKey);\n  }\n  const { has: has2 } = getProto(rawTarget);\n  const wrap = isShallow2 ? toShallow : isReadonly2 ? toReadonly : toReactive;\n  if (has2.call(rawTarget, key)) {\n    return wrap(target.get(key));\n  } else if (has2.call(rawTarget, rawKey)) {\n    return wrap(target.get(rawKey));\n  } else if (target !== rawTarget) {\n    target.get(key);\n  }\n}\nfunction has(key, isReadonly2 = false) {\n  const target = this[\"__v_raw\"];\n  const rawTarget = toRaw(target);\n  const rawKey = toRaw(key);\n  if (!isReadonly2) {\n    if (hasChanged(key, rawKey)) {\n      track(rawTarget, \"has\", key);\n    }\n    track(rawTarget, \"has\", rawKey);\n  }\n  return key === rawKey ? target.has(key) : target.has(key) || target.has(rawKey);\n}\nfunction size(target, isReadonly2 = false) {\n  target = target[\"__v_raw\"];\n  !isReadonly2 && track(toRaw(target), \"iterate\", ITERATE_KEY);\n  return Reflect.get(target, \"size\", target);\n}\nfunction add(value, _isShallow = false) {\n  if (!_isShallow && !isShallow(value) && !isReadonly(value)) {\n    value = toRaw(value);\n  }\n  const target = toRaw(this);\n  const proto = getProto(target);\n  const hadKey = proto.has.call(target, value);\n  if (!hadKey) {\n    target.add(value);\n    trigger(target, \"add\", value, value);\n  }\n  return this;\n}\nfunction set(key, value, _isShallow = false) {\n  if (!_isShallow && !isShallow(value) && !isReadonly(value)) {\n    value = toRaw(value);\n  }\n  const target = toRaw(this);\n  const { has: has2, get: get2 } = getProto(target);\n  let hadKey = has2.call(target, key);\n  if (!hadKey) {\n    key = toRaw(key);\n    hadKey = has2.call(target, key);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    checkIdentityKeys(target, has2, key);\n  }\n  const oldValue = get2.call(target, key);\n  target.set(key, value);\n  if (!hadKey) {\n    trigger(target, \"add\", key, value);\n  } else if (hasChanged(value, oldValue)) {\n    trigger(target, \"set\", key, value, oldValue);\n  }\n  return this;\n}\nfunction deleteEntry(key) {\n  const target = toRaw(this);\n  const { has: has2, get: get2 } = getProto(target);\n  let hadKey = has2.call(target, key);\n  if (!hadKey) {\n    key = toRaw(key);\n    hadKey = has2.call(target, key);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    checkIdentityKeys(target, has2, key);\n  }\n  const oldValue = get2 ? get2.call(target, key) : void 0;\n  const result = target.delete(key);\n  if (hadKey) {\n    trigger(target, \"delete\", key, void 0, oldValue);\n  }\n  return result;\n}\nfunction clear() {\n  const target = toRaw(this);\n  const hadItems = target.size !== 0;\n  const oldTarget = !!(process.env.NODE_ENV !== \"production\") ? isMap(target) ? new Map(target) : new Set(target) : void 0;\n  const result = target.clear();\n  if (hadItems) {\n    trigger(target, \"clear\", void 0, void 0, oldTarget);\n  }\n  return result;\n}\nfunction createForEach(isReadonly2, isShallow2) {\n  return function forEach(callback, thisArg) {\n    const observed = this;\n    const target = observed[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const wrap = isShallow2 ? toShallow : isReadonly2 ? toReadonly : toReactive;\n    !isReadonly2 && track(rawTarget, \"iterate\", ITERATE_KEY);\n    return target.forEach((value, key) => {\n      return callback.call(thisArg, wrap(value), wrap(key), observed);\n    });\n  };\n}\nfunction createIterableMethod(method, isReadonly2, isShallow2) {\n  return function(...args) {\n    const target = this[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const targetIsMap = isMap(rawTarget);\n    const isPair = method === \"entries\" || method === Symbol.iterator && targetIsMap;\n    const isKeyOnly = method === \"keys\" && targetIsMap;\n    const innerIterator = target[method](...args);\n    const wrap = isShallow2 ? toShallow : isReadonly2 ? toReadonly : toReactive;\n    !isReadonly2 && track(\n      rawTarget,\n      \"iterate\",\n      isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY\n    );\n    return {\n      // iterator protocol\n      next() {\n        const { value, done } = innerIterator.next();\n        return done ? { value, done } : {\n          value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\n          done\n        };\n      },\n      // iterable protocol\n      [Symbol.iterator]() {\n        return this;\n      }\n    };\n  };\n}\nfunction createReadonlyMethod(type) {\n  return function(...args) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      const key = args[0] ? `on key \"${args[0]}\" ` : ``;\n      warn(\n        `${capitalize(type)} operation ${key}failed: target is readonly.`,\n        toRaw(this)\n      );\n    }\n    return type === \"delete\" ? false : type === \"clear\" ? void 0 : this;\n  };\n}\nfunction createInstrumentations() {\n  const mutableInstrumentations2 = {\n    get(key) {\n      return get(this, key);\n    },\n    get size() {\n      return size(this);\n    },\n    has,\n    add,\n    set,\n    delete: deleteEntry,\n    clear,\n    forEach: createForEach(false, false)\n  };\n  const shallowInstrumentations2 = {\n    get(key) {\n      return get(this, key, false, true);\n    },\n    get size() {\n      return size(this);\n    },\n    has,\n    add(value) {\n      return add.call(this, value, true);\n    },\n    set(key, value) {\n      return set.call(this, key, value, true);\n    },\n    delete: deleteEntry,\n    clear,\n    forEach: createForEach(false, true)\n  };\n  const readonlyInstrumentations2 = {\n    get(key) {\n      return get(this, key, true);\n    },\n    get size() {\n      return size(this, true);\n    },\n    has(key) {\n      return has.call(this, key, true);\n    },\n    add: createReadonlyMethod(\"add\"),\n    set: createReadonlyMethod(\"set\"),\n    delete: createReadonlyMethod(\"delete\"),\n    clear: createReadonlyMethod(\"clear\"),\n    forEach: createForEach(true, false)\n  };\n  const shallowReadonlyInstrumentations2 = {\n    get(key) {\n      return get(this, key, true, true);\n    },\n    get size() {\n      return size(this, true);\n    },\n    has(key) {\n      return has.call(this, key, true);\n    },\n    add: createReadonlyMethod(\"add\"),\n    set: createReadonlyMethod(\"set\"),\n    delete: createReadonlyMethod(\"delete\"),\n    clear: createReadonlyMethod(\"clear\"),\n    forEach: createForEach(true, true)\n  };\n  const iteratorMethods = [\n    \"keys\",\n    \"values\",\n    \"entries\",\n    Symbol.iterator\n  ];\n  iteratorMethods.forEach((method) => {\n    mutableInstrumentations2[method] = createIterableMethod(method, false, false);\n    readonlyInstrumentations2[method] = createIterableMethod(method, true, false);\n    shallowInstrumentations2[method] = createIterableMethod(method, false, true);\n    shallowReadonlyInstrumentations2[method] = createIterableMethod(\n      method,\n      true,\n      true\n    );\n  });\n  return [\n    mutableInstrumentations2,\n    readonlyInstrumentations2,\n    shallowInstrumentations2,\n    shallowReadonlyInstrumentations2\n  ];\n}\nconst [\n  mutableInstrumentations,\n  readonlyInstrumentations,\n  shallowInstrumentations,\n  shallowReadonlyInstrumentations\n] = /* @__PURE__ */ createInstrumentations();\nfunction createInstrumentationGetter(isReadonly2, shallow) {\n  const instrumentations = shallow ? isReadonly2 ? shallowReadonlyInstrumentations : shallowInstrumentations : isReadonly2 ? readonlyInstrumentations : mutableInstrumentations;\n  return (target, key, receiver) => {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly2;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly2;\n    } else if (key === \"__v_raw\") {\n      return target;\n    }\n    return Reflect.get(\n      hasOwn(instrumentations, key) && key in target ? instrumentations : target,\n      key,\n      receiver\n    );\n  };\n}\nconst mutableCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, false)\n};\nconst shallowCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, true)\n};\nconst readonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, false)\n};\nconst shallowReadonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, true)\n};\nfunction checkIdentityKeys(target, has2, key) {\n  const rawKey = toRaw(key);\n  if (rawKey !== key && has2.call(target, rawKey)) {\n    const type = toRawType(target);\n    warn(\n      `Reactive ${type} contains both the raw and reactive versions of the same object${type === `Map` ? ` as keys` : ``}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`\n    );\n  }\n}\n\nconst reactiveMap = /* @__PURE__ */ new WeakMap();\nconst shallowReactiveMap = /* @__PURE__ */ new WeakMap();\nconst readonlyMap = /* @__PURE__ */ new WeakMap();\nconst shallowReadonlyMap = /* @__PURE__ */ new WeakMap();\nfunction targetTypeMap(rawType) {\n  switch (rawType) {\n    case \"Object\":\n    case \"Array\":\n      return 1 /* COMMON */;\n    case \"Map\":\n    case \"Set\":\n    case \"WeakMap\":\n    case \"WeakSet\":\n      return 2 /* COLLECTION */;\n    default:\n      return 0 /* INVALID */;\n  }\n}\nfunction getTargetType(value) {\n  return value[\"__v_skip\"] || !Object.isExtensible(value) ? 0 /* INVALID */ : targetTypeMap(toRawType(value));\n}\nfunction reactive(target) {\n  if (isReadonly(target)) {\n    return target;\n  }\n  return createReactiveObject(\n    target,\n    false,\n    mutableHandlers,\n    mutableCollectionHandlers,\n    reactiveMap\n  );\n}\nfunction shallowReactive(target) {\n  return createReactiveObject(\n    target,\n    false,\n    shallowReactiveHandlers,\n    shallowCollectionHandlers,\n    shallowReactiveMap\n  );\n}\nfunction readonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    readonlyHandlers,\n    readonlyCollectionHandlers,\n    readonlyMap\n  );\n}\nfunction shallowReadonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    shallowReadonlyHandlers,\n    shallowReadonlyCollectionHandlers,\n    shallowReadonlyMap\n  );\n}\nfunction createReactiveObject(target, isReadonly2, baseHandlers, collectionHandlers, proxyMap) {\n  if (!isObject(target)) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `value cannot be made ${isReadonly2 ? \"readonly\" : \"reactive\"}: ${String(\n          target\n        )}`\n      );\n    }\n    return target;\n  }\n  if (target[\"__v_raw\"] && !(isReadonly2 && target[\"__v_isReactive\"])) {\n    return target;\n  }\n  const existingProxy = proxyMap.get(target);\n  if (existingProxy) {\n    return existingProxy;\n  }\n  const targetType = getTargetType(target);\n  if (targetType === 0 /* INVALID */) {\n    return target;\n  }\n  const proxy = new Proxy(\n    target,\n    targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers\n  );\n  proxyMap.set(target, proxy);\n  return proxy;\n}\nfunction isReactive(value) {\n  if (isReadonly(value)) {\n    return isReactive(value[\"__v_raw\"]);\n  }\n  return !!(value && value[\"__v_isReactive\"]);\n}\nfunction isReadonly(value) {\n  return !!(value && value[\"__v_isReadonly\"]);\n}\nfunction isShallow(value) {\n  return !!(value && value[\"__v_isShallow\"]);\n}\nfunction isProxy(value) {\n  return value ? !!value[\"__v_raw\"] : false;\n}\nfunction toRaw(observed) {\n  const raw = observed && observed[\"__v_raw\"];\n  return raw ? toRaw(raw) : observed;\n}\nfunction markRaw(value) {\n  if (Object.isExtensible(value)) {\n    def(value, \"__v_skip\", true);\n  }\n  return value;\n}\nconst toReactive = (value) => isObject(value) ? reactive(value) : value;\nconst toReadonly = (value) => isObject(value) ? readonly(value) : value;\n\nconst COMPUTED_SIDE_EFFECT_WARN = `Computed is still dirty after getter evaluation, likely because a computed is mutating its own dependency in its getter. State mutations in computed getters should be avoided.  Check the docs for more details: https://vuejs.org/guide/essentials/computed.html#getters-should-be-side-effect-free`;\nclass ComputedRefImpl {\n  constructor(getter, _setter, isReadonly, isSSR) {\n    this.getter = getter;\n    this._setter = _setter;\n    this.dep = void 0;\n    this.__v_isRef = true;\n    this[\"__v_isReadonly\"] = false;\n    this.effect = new ReactiveEffect(\n      () => getter(this._value),\n      () => triggerRefValue(\n        this,\n        this.effect._dirtyLevel === 2 ? 2 : 3\n      )\n    );\n    this.effect.computed = this;\n    this.effect.active = this._cacheable = !isSSR;\n    this[\"__v_isReadonly\"] = isReadonly;\n  }\n  get value() {\n    const self = toRaw(this);\n    if ((!self._cacheable || self.effect.dirty) && hasChanged(self._value, self._value = self.effect.run())) {\n      triggerRefValue(self, 4);\n    }\n    trackRefValue(self);\n    if (self.effect._dirtyLevel >= 2) {\n      if (!!(process.env.NODE_ENV !== \"production\") && this._warnRecursive) {\n        warn(COMPUTED_SIDE_EFFECT_WARN, `\n\ngetter: `, this.getter);\n      }\n      triggerRefValue(self, 2);\n    }\n    return self._value;\n  }\n  set value(newValue) {\n    this._setter(newValue);\n  }\n  // #region polyfill _dirty for backward compatibility third party code for Vue <= 3.3.x\n  get _dirty() {\n    return this.effect.dirty;\n  }\n  set _dirty(v) {\n    this.effect.dirty = v;\n  }\n  // #endregion\n}\nfunction computed(getterOrOptions, debugOptions, isSSR = false) {\n  let getter;\n  let setter;\n  const onlyGetter = isFunction(getterOrOptions);\n  if (onlyGetter) {\n    getter = getterOrOptions;\n    setter = !!(process.env.NODE_ENV !== \"production\") ? () => {\n      warn(\"Write operation failed: computed value is readonly\");\n    } : NOOP;\n  } else {\n    getter = getterOrOptions.get;\n    setter = getterOrOptions.set;\n  }\n  const cRef = new ComputedRefImpl(getter, setter, onlyGetter || !setter, isSSR);\n  if (!!(process.env.NODE_ENV !== \"production\") && debugOptions && !isSSR) {\n    cRef.effect.onTrack = debugOptions.onTrack;\n    cRef.effect.onTrigger = debugOptions.onTrigger;\n  }\n  return cRef;\n}\n\nfunction trackRefValue(ref2) {\n  var _a;\n  if (shouldTrack && activeEffect) {\n    ref2 = toRaw(ref2);\n    trackEffect(\n      activeEffect,\n      (_a = ref2.dep) != null ? _a : ref2.dep = createDep(\n        () => ref2.dep = void 0,\n        ref2 instanceof ComputedRefImpl ? ref2 : void 0\n      ),\n      !!(process.env.NODE_ENV !== \"production\") ? {\n        target: ref2,\n        type: \"get\",\n        key: \"value\"\n      } : void 0\n    );\n  }\n}\nfunction triggerRefValue(ref2, dirtyLevel = 4, newVal, oldVal) {\n  ref2 = toRaw(ref2);\n  const dep = ref2.dep;\n  if (dep) {\n    triggerEffects(\n      dep,\n      dirtyLevel,\n      !!(process.env.NODE_ENV !== \"production\") ? {\n        target: ref2,\n        type: \"set\",\n        key: \"value\",\n        newValue: newVal,\n        oldValue: oldVal\n      } : void 0\n    );\n  }\n}\nfunction isRef(r) {\n  return !!(r && r.__v_isRef === true);\n}\nfunction ref(value) {\n  return createRef(value, false);\n}\nfunction shallowRef(value) {\n  return createRef(value, true);\n}\nfunction createRef(rawValue, shallow) {\n  if (isRef(rawValue)) {\n    return rawValue;\n  }\n  return new RefImpl(rawValue, shallow);\n}\nclass RefImpl {\n  constructor(value, __v_isShallow) {\n    this.__v_isShallow = __v_isShallow;\n    this.dep = void 0;\n    this.__v_isRef = true;\n    this._rawValue = __v_isShallow ? value : toRaw(value);\n    this._value = __v_isShallow ? value : toReactive(value);\n  }\n  get value() {\n    trackRefValue(this);\n    return this._value;\n  }\n  set value(newVal) {\n    const useDirectValue = this.__v_isShallow || isShallow(newVal) || isReadonly(newVal);\n    newVal = useDirectValue ? newVal : toRaw(newVal);\n    if (hasChanged(newVal, this._rawValue)) {\n      const oldVal = this._rawValue;\n      this._rawValue = newVal;\n      this._value = useDirectValue ? newVal : toReactive(newVal);\n      triggerRefValue(this, 4, newVal, oldVal);\n    }\n  }\n}\nfunction triggerRef(ref2) {\n  triggerRefValue(ref2, 4, !!(process.env.NODE_ENV !== \"production\") ? ref2.value : void 0);\n}\nfunction unref(ref2) {\n  return isRef(ref2) ? ref2.value : ref2;\n}\nfunction toValue(source) {\n  return isFunction(source) ? source() : unref(source);\n}\nconst shallowUnwrapHandlers = {\n  get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),\n  set: (target, key, value, receiver) => {\n    const oldValue = target[key];\n    if (isRef(oldValue) && !isRef(value)) {\n      oldValue.value = value;\n      return true;\n    } else {\n      return Reflect.set(target, key, value, receiver);\n    }\n  }\n};\nfunction proxyRefs(objectWithRefs) {\n  return isReactive(objectWithRefs) ? objectWithRefs : new Proxy(objectWithRefs, shallowUnwrapHandlers);\n}\nclass CustomRefImpl {\n  constructor(factory) {\n    this.dep = void 0;\n    this.__v_isRef = true;\n    const { get, set } = factory(\n      () => trackRefValue(this),\n      () => triggerRefValue(this)\n    );\n    this._get = get;\n    this._set = set;\n  }\n  get value() {\n    return this._get();\n  }\n  set value(newVal) {\n    this._set(newVal);\n  }\n}\nfunction customRef(factory) {\n  return new CustomRefImpl(factory);\n}\nfunction toRefs(object) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isProxy(object)) {\n    warn(`toRefs() expects a reactive object but received a plain one.`);\n  }\n  const ret = isArray(object) ? new Array(object.length) : {};\n  for (const key in object) {\n    ret[key] = propertyToRef(object, key);\n  }\n  return ret;\n}\nclass ObjectRefImpl {\n  constructor(_object, _key, _defaultValue) {\n    this._object = _object;\n    this._key = _key;\n    this._defaultValue = _defaultValue;\n    this.__v_isRef = true;\n  }\n  get value() {\n    const val = this._object[this._key];\n    return val === void 0 ? this._defaultValue : val;\n  }\n  set value(newVal) {\n    this._object[this._key] = newVal;\n  }\n  get dep() {\n    return getDepFromReactive(toRaw(this._object), this._key);\n  }\n}\nclass GetterRefImpl {\n  constructor(_getter) {\n    this._getter = _getter;\n    this.__v_isRef = true;\n    this.__v_isReadonly = true;\n  }\n  get value() {\n    return this._getter();\n  }\n}\nfunction toRef(source, key, defaultValue) {\n  if (isRef(source)) {\n    return source;\n  } else if (isFunction(source)) {\n    return new GetterRefImpl(source);\n  } else if (isObject(source) && arguments.length > 1) {\n    return propertyToRef(source, key, defaultValue);\n  } else {\n    return ref(source);\n  }\n}\nfunction propertyToRef(source, key, defaultValue) {\n  const val = source[key];\n  return isRef(val) ? val : new ObjectRefImpl(source, key, defaultValue);\n}\n\nconst deferredComputed = computed;\n\nconst TrackOpTypes = {\n  \"GET\": \"get\",\n  \"HAS\": \"has\",\n  \"ITERATE\": \"iterate\"\n};\nconst TriggerOpTypes = {\n  \"SET\": \"set\",\n  \"ADD\": \"add\",\n  \"DELETE\": \"delete\",\n  \"CLEAR\": \"clear\"\n};\nconst ReactiveFlags = {\n  \"SKIP\": \"__v_skip\",\n  \"IS_REACTIVE\": \"__v_isReactive\",\n  \"IS_READONLY\": \"__v_isReadonly\",\n  \"IS_SHALLOW\": \"__v_isShallow\",\n  \"RAW\": \"__v_raw\"\n};\n\nexport { EffectScope, ITERATE_KEY, ReactiveEffect, ReactiveFlags, TrackOpTypes, TriggerOpTypes, computed, customRef, deferredComputed, effect, effectScope, enableTracking, getCurrentScope, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, pauseScheduling, pauseTracking, proxyRefs, reactive, readonly, ref, resetScheduling, resetTracking, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, toValue, track, trigger, triggerRef, unref };\n","/**\n* @vue/runtime-core v3.4.38\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\nimport { pauseTracking, resetTracking, isRef, toRaw, ref, shallowReadonly, track, reactive, shallowReactive, trigger, isReactive, ReactiveEffect, isShallow, getCurrentScope, customRef, isProxy, proxyRefs, markRaw, EffectScope, computed as computed$1, isReadonly } from '@vue/reactivity';\nexport { EffectScope, ReactiveEffect, TrackOpTypes, TriggerOpTypes, customRef, effect, effectScope, getCurrentScope, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, proxyRefs, reactive, readonly, ref, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, toValue, triggerRef, unref } from '@vue/reactivity';\nimport { isString, isFunction, isPromise, isArray, NOOP, getGlobalThis, extend, isBuiltInDirective, EMPTY_OBJ, isObject, remove, isRegExp, invokeArrayFns, toHandlerKey, capitalize, camelize, hasOwn, isGloballyAllowed, NO, hyphenate, isReservedProp, EMPTY_ARR, toRawType, makeMap, def, isOn, normalizeClass, stringifyStyle, normalizeStyle, isKnownSvgAttr, isBooleanAttr, isKnownHtmlAttr, includeBooleanAttr, isRenderableAttrValue, hasChanged, isSet, isMap, isPlainObject, looseToNumber, isModelListener, toNumber } from '@vue/shared';\nexport { camelize, capitalize, normalizeClass, normalizeProps, normalizeStyle, toDisplayString, toHandlerKey } from '@vue/shared';\n\nconst stack = [];\nfunction pushWarningContext(vnode) {\n  stack.push(vnode);\n}\nfunction popWarningContext() {\n  stack.pop();\n}\nlet isWarning = false;\nfunction warn$1(msg, ...args) {\n  if (isWarning) return;\n  isWarning = true;\n  pauseTracking();\n  const instance = stack.length ? stack[stack.length - 1].component : null;\n  const appWarnHandler = instance && instance.appContext.config.warnHandler;\n  const trace = getComponentTrace();\n  if (appWarnHandler) {\n    callWithErrorHandling(\n      appWarnHandler,\n      instance,\n      11,\n      [\n        // eslint-disable-next-line no-restricted-syntax\n        msg + args.map((a) => {\n          var _a, _b;\n          return (_b = (_a = a.toString) == null ? void 0 : _a.call(a)) != null ? _b : JSON.stringify(a);\n        }).join(\"\"),\n        instance && instance.proxy,\n        trace.map(\n          ({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`\n        ).join(\"\\n\"),\n        trace\n      ]\n    );\n  } else {\n    const warnArgs = [`[Vue warn]: ${msg}`, ...args];\n    if (trace.length && // avoid spamming console during tests\n    true) {\n      warnArgs.push(`\n`, ...formatTrace(trace));\n    }\n    console.warn(...warnArgs);\n  }\n  resetTracking();\n  isWarning = false;\n}\nfunction getComponentTrace() {\n  let currentVNode = stack[stack.length - 1];\n  if (!currentVNode) {\n    return [];\n  }\n  const normalizedStack = [];\n  while (currentVNode) {\n    const last = normalizedStack[0];\n    if (last && last.vnode === currentVNode) {\n      last.recurseCount++;\n    } else {\n      normalizedStack.push({\n        vnode: currentVNode,\n        recurseCount: 0\n      });\n    }\n    const parentInstance = currentVNode.component && currentVNode.component.parent;\n    currentVNode = parentInstance && parentInstance.vnode;\n  }\n  return normalizedStack;\n}\nfunction formatTrace(trace) {\n  const logs = [];\n  trace.forEach((entry, i) => {\n    logs.push(...i === 0 ? [] : [`\n`], ...formatTraceEntry(entry));\n  });\n  return logs;\n}\nfunction formatTraceEntry({ vnode, recurseCount }) {\n  const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;\n  const isRoot = vnode.component ? vnode.component.parent == null : false;\n  const open = ` at <${formatComponentName(\n    vnode.component,\n    vnode.type,\n    isRoot\n  )}`;\n  const close = `>` + postfix;\n  return vnode.props ? [open, ...formatProps(vnode.props), close] : [open + close];\n}\nfunction formatProps(props) {\n  const res = [];\n  const keys = Object.keys(props);\n  keys.slice(0, 3).forEach((key) => {\n    res.push(...formatProp(key, props[key]));\n  });\n  if (keys.length > 3) {\n    res.push(` ...`);\n  }\n  return res;\n}\nfunction formatProp(key, value, raw) {\n  if (isString(value)) {\n    value = JSON.stringify(value);\n    return raw ? value : [`${key}=${value}`];\n  } else if (typeof value === \"number\" || typeof value === \"boolean\" || value == null) {\n    return raw ? value : [`${key}=${value}`];\n  } else if (isRef(value)) {\n    value = formatProp(key, toRaw(value.value), true);\n    return raw ? value : [`${key}=Ref<`, value, `>`];\n  } else if (isFunction(value)) {\n    return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];\n  } else {\n    value = toRaw(value);\n    return raw ? value : [`${key}=`, value];\n  }\n}\nfunction assertNumber(val, type) {\n  if (!!!(process.env.NODE_ENV !== \"production\")) return;\n  if (val === void 0) {\n    return;\n  } else if (typeof val !== \"number\") {\n    warn$1(`${type} is not a valid number - got ${JSON.stringify(val)}.`);\n  } else if (isNaN(val)) {\n    warn$1(`${type} is NaN - the duration expression might be incorrect.`);\n  }\n}\n\nconst ErrorCodes = {\n  \"SETUP_FUNCTION\": 0,\n  \"0\": \"SETUP_FUNCTION\",\n  \"RENDER_FUNCTION\": 1,\n  \"1\": \"RENDER_FUNCTION\",\n  \"WATCH_GETTER\": 2,\n  \"2\": \"WATCH_GETTER\",\n  \"WATCH_CALLBACK\": 3,\n  \"3\": \"WATCH_CALLBACK\",\n  \"WATCH_CLEANUP\": 4,\n  \"4\": \"WATCH_CLEANUP\",\n  \"NATIVE_EVENT_HANDLER\": 5,\n  \"5\": \"NATIVE_EVENT_HANDLER\",\n  \"COMPONENT_EVENT_HANDLER\": 6,\n  \"6\": \"COMPONENT_EVENT_HANDLER\",\n  \"VNODE_HOOK\": 7,\n  \"7\": \"VNODE_HOOK\",\n  \"DIRECTIVE_HOOK\": 8,\n  \"8\": \"DIRECTIVE_HOOK\",\n  \"TRANSITION_HOOK\": 9,\n  \"9\": \"TRANSITION_HOOK\",\n  \"APP_ERROR_HANDLER\": 10,\n  \"10\": \"APP_ERROR_HANDLER\",\n  \"APP_WARN_HANDLER\": 11,\n  \"11\": \"APP_WARN_HANDLER\",\n  \"FUNCTION_REF\": 12,\n  \"12\": \"FUNCTION_REF\",\n  \"ASYNC_COMPONENT_LOADER\": 13,\n  \"13\": \"ASYNC_COMPONENT_LOADER\",\n  \"SCHEDULER\": 14,\n  \"14\": \"SCHEDULER\",\n  \"COMPONENT_UPDATE\": 15,\n  \"15\": \"COMPONENT_UPDATE\"\n};\nconst ErrorTypeStrings$1 = {\n  [\"sp\"]: \"serverPrefetch hook\",\n  [\"bc\"]: \"beforeCreate hook\",\n  [\"c\"]: \"created hook\",\n  [\"bm\"]: \"beforeMount hook\",\n  [\"m\"]: \"mounted hook\",\n  [\"bu\"]: \"beforeUpdate hook\",\n  [\"u\"]: \"updated\",\n  [\"bum\"]: \"beforeUnmount hook\",\n  [\"um\"]: \"unmounted hook\",\n  [\"a\"]: \"activated hook\",\n  [\"da\"]: \"deactivated hook\",\n  [\"ec\"]: \"errorCaptured hook\",\n  [\"rtc\"]: \"renderTracked hook\",\n  [\"rtg\"]: \"renderTriggered hook\",\n  [0]: \"setup function\",\n  [1]: \"render function\",\n  [2]: \"watcher getter\",\n  [3]: \"watcher callback\",\n  [4]: \"watcher cleanup function\",\n  [5]: \"native event handler\",\n  [6]: \"component event handler\",\n  [7]: \"vnode hook\",\n  [8]: \"directive hook\",\n  [9]: \"transition hook\",\n  [10]: \"app errorHandler\",\n  [11]: \"app warnHandler\",\n  [12]: \"ref function\",\n  [13]: \"async component loader\",\n  [14]: \"scheduler flush\",\n  [15]: \"component update\"\n};\nfunction callWithErrorHandling(fn, instance, type, args) {\n  try {\n    return args ? fn(...args) : fn();\n  } catch (err) {\n    handleError(err, instance, type);\n  }\n}\nfunction callWithAsyncErrorHandling(fn, instance, type, args) {\n  if (isFunction(fn)) {\n    const res = callWithErrorHandling(fn, instance, type, args);\n    if (res && isPromise(res)) {\n      res.catch((err) => {\n        handleError(err, instance, type);\n      });\n    }\n    return res;\n  }\n  if (isArray(fn)) {\n    const values = [];\n    for (let i = 0; i < fn.length; i++) {\n      values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));\n    }\n    return values;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(\n      `Invalid value type passed to callWithAsyncErrorHandling(): ${typeof fn}`\n    );\n  }\n}\nfunction handleError(err, instance, type, throwInDev = true) {\n  const contextVNode = instance ? instance.vnode : null;\n  if (instance) {\n    let cur = instance.parent;\n    const exposedInstance = instance.proxy;\n    const errorInfo = !!(process.env.NODE_ENV !== \"production\") ? ErrorTypeStrings$1[type] : `https://vuejs.org/error-reference/#runtime-${type}`;\n    while (cur) {\n      const errorCapturedHooks = cur.ec;\n      if (errorCapturedHooks) {\n        for (let i = 0; i < errorCapturedHooks.length; i++) {\n          if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {\n            return;\n          }\n        }\n      }\n      cur = cur.parent;\n    }\n    const appErrorHandler = instance.appContext.config.errorHandler;\n    if (appErrorHandler) {\n      pauseTracking();\n      callWithErrorHandling(\n        appErrorHandler,\n        null,\n        10,\n        [err, exposedInstance, errorInfo]\n      );\n      resetTracking();\n      return;\n    }\n  }\n  logError(err, type, contextVNode, throwInDev);\n}\nfunction logError(err, type, contextVNode, throwInDev = true) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const info = ErrorTypeStrings$1[type];\n    if (contextVNode) {\n      pushWarningContext(contextVNode);\n    }\n    warn$1(`Unhandled error${info ? ` during execution of ${info}` : ``}`);\n    if (contextVNode) {\n      popWarningContext();\n    }\n    if (throwInDev) {\n      throw err;\n    } else {\n      console.error(err);\n    }\n  } else {\n    console.error(err);\n  }\n}\n\nlet isFlushing = false;\nlet isFlushPending = false;\nconst queue = [];\nlet flushIndex = 0;\nconst pendingPostFlushCbs = [];\nlet activePostFlushCbs = null;\nlet postFlushIndex = 0;\nconst resolvedPromise = /* @__PURE__ */ Promise.resolve();\nlet currentFlushPromise = null;\nconst RECURSION_LIMIT = 100;\nfunction nextTick(fn) {\n  const p = currentFlushPromise || resolvedPromise;\n  return fn ? p.then(this ? fn.bind(this) : fn) : p;\n}\nfunction findInsertionIndex(id) {\n  let start = flushIndex + 1;\n  let end = queue.length;\n  while (start < end) {\n    const middle = start + end >>> 1;\n    const middleJob = queue[middle];\n    const middleJobId = getId(middleJob);\n    if (middleJobId < id || middleJobId === id && middleJob.pre) {\n      start = middle + 1;\n    } else {\n      end = middle;\n    }\n  }\n  return start;\n}\nfunction queueJob(job) {\n  if (!queue.length || !queue.includes(\n    job,\n    isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex\n  )) {\n    if (job.id == null) {\n      queue.push(job);\n    } else {\n      queue.splice(findInsertionIndex(job.id), 0, job);\n    }\n    queueFlush();\n  }\n}\nfunction queueFlush() {\n  if (!isFlushing && !isFlushPending) {\n    isFlushPending = true;\n    currentFlushPromise = resolvedPromise.then(flushJobs);\n  }\n}\nfunction invalidateJob(job) {\n  const i = queue.indexOf(job);\n  if (i > flushIndex) {\n    queue.splice(i, 1);\n  }\n}\nfunction queuePostFlushCb(cb) {\n  if (!isArray(cb)) {\n    if (!activePostFlushCbs || !activePostFlushCbs.includes(\n      cb,\n      cb.allowRecurse ? postFlushIndex + 1 : postFlushIndex\n    )) {\n      pendingPostFlushCbs.push(cb);\n    }\n  } else {\n    pendingPostFlushCbs.push(...cb);\n  }\n  queueFlush();\n}\nfunction flushPreFlushCbs(instance, seen, i = isFlushing ? flushIndex + 1 : 0) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    seen = seen || /* @__PURE__ */ new Map();\n  }\n  for (; i < queue.length; i++) {\n    const cb = queue[i];\n    if (cb && cb.pre) {\n      if (instance && cb.id !== instance.uid) {\n        continue;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && checkRecursiveUpdates(seen, cb)) {\n        continue;\n      }\n      queue.splice(i, 1);\n      i--;\n      cb();\n    }\n  }\n}\nfunction flushPostFlushCbs(seen) {\n  if (pendingPostFlushCbs.length) {\n    const deduped = [...new Set(pendingPostFlushCbs)].sort(\n      (a, b) => getId(a) - getId(b)\n    );\n    pendingPostFlushCbs.length = 0;\n    if (activePostFlushCbs) {\n      activePostFlushCbs.push(...deduped);\n      return;\n    }\n    activePostFlushCbs = deduped;\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      seen = seen || /* @__PURE__ */ new Map();\n    }\n    for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {\n      const cb = activePostFlushCbs[postFlushIndex];\n      if (!!(process.env.NODE_ENV !== \"production\") && checkRecursiveUpdates(seen, cb)) {\n        continue;\n      }\n      if (cb.active !== false) cb();\n    }\n    activePostFlushCbs = null;\n    postFlushIndex = 0;\n  }\n}\nconst getId = (job) => job.id == null ? Infinity : job.id;\nconst comparator = (a, b) => {\n  const diff = getId(a) - getId(b);\n  if (diff === 0) {\n    if (a.pre && !b.pre) return -1;\n    if (b.pre && !a.pre) return 1;\n  }\n  return diff;\n};\nfunction flushJobs(seen) {\n  isFlushPending = false;\n  isFlushing = true;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    seen = seen || /* @__PURE__ */ new Map();\n  }\n  queue.sort(comparator);\n  const check = !!(process.env.NODE_ENV !== \"production\") ? (job) => checkRecursiveUpdates(seen, job) : NOOP;\n  try {\n    for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {\n      const job = queue[flushIndex];\n      if (job && job.active !== false) {\n        if (!!(process.env.NODE_ENV !== \"production\") && check(job)) {\n          continue;\n        }\n        callWithErrorHandling(\n          job,\n          job.i,\n          job.i ? 15 : 14\n        );\n      }\n    }\n  } finally {\n    flushIndex = 0;\n    queue.length = 0;\n    flushPostFlushCbs(seen);\n    isFlushing = false;\n    currentFlushPromise = null;\n    if (queue.length || pendingPostFlushCbs.length) {\n      flushJobs(seen);\n    }\n  }\n}\nfunction checkRecursiveUpdates(seen, fn) {\n  if (!seen.has(fn)) {\n    seen.set(fn, 1);\n  } else {\n    const count = seen.get(fn);\n    if (count > RECURSION_LIMIT) {\n      const instance = fn.i;\n      const componentName = instance && getComponentName(instance.type);\n      handleError(\n        `Maximum recursive updates exceeded${componentName ? ` in component <${componentName}>` : ``}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,\n        null,\n        10\n      );\n      return true;\n    } else {\n      seen.set(fn, count + 1);\n    }\n  }\n}\n\nlet isHmrUpdating = false;\nconst hmrDirtyComponents = /* @__PURE__ */ new Map();\nif (!!(process.env.NODE_ENV !== \"production\")) {\n  getGlobalThis().__VUE_HMR_RUNTIME__ = {\n    createRecord: tryWrap(createRecord),\n    rerender: tryWrap(rerender),\n    reload: tryWrap(reload)\n  };\n}\nconst map = /* @__PURE__ */ new Map();\nfunction registerHMR(instance) {\n  const id = instance.type.__hmrId;\n  let record = map.get(id);\n  if (!record) {\n    createRecord(id, instance.type);\n    record = map.get(id);\n  }\n  record.instances.add(instance);\n}\nfunction unregisterHMR(instance) {\n  map.get(instance.type.__hmrId).instances.delete(instance);\n}\nfunction createRecord(id, initialDef) {\n  if (map.has(id)) {\n    return false;\n  }\n  map.set(id, {\n    initialDef: normalizeClassComponent(initialDef),\n    instances: /* @__PURE__ */ new Set()\n  });\n  return true;\n}\nfunction normalizeClassComponent(component) {\n  return isClassComponent(component) ? component.__vccOpts : component;\n}\nfunction rerender(id, newRender) {\n  const record = map.get(id);\n  if (!record) {\n    return;\n  }\n  record.initialDef.render = newRender;\n  [...record.instances].forEach((instance) => {\n    if (newRender) {\n      instance.render = newRender;\n      normalizeClassComponent(instance.type).render = newRender;\n    }\n    instance.renderCache = [];\n    isHmrUpdating = true;\n    instance.effect.dirty = true;\n    instance.update();\n    isHmrUpdating = false;\n  });\n}\nfunction reload(id, newComp) {\n  const record = map.get(id);\n  if (!record) return;\n  newComp = normalizeClassComponent(newComp);\n  updateComponentDef(record.initialDef, newComp);\n  const instances = [...record.instances];\n  for (let i = 0; i < instances.length; i++) {\n    const instance = instances[i];\n    const oldComp = normalizeClassComponent(instance.type);\n    let dirtyInstances = hmrDirtyComponents.get(oldComp);\n    if (!dirtyInstances) {\n      if (oldComp !== record.initialDef) {\n        updateComponentDef(oldComp, newComp);\n      }\n      hmrDirtyComponents.set(oldComp, dirtyInstances = /* @__PURE__ */ new Set());\n    }\n    dirtyInstances.add(instance);\n    instance.appContext.propsCache.delete(instance.type);\n    instance.appContext.emitsCache.delete(instance.type);\n    instance.appContext.optionsCache.delete(instance.type);\n    if (instance.ceReload) {\n      dirtyInstances.add(instance);\n      instance.ceReload(newComp.styles);\n      dirtyInstances.delete(instance);\n    } else if (instance.parent) {\n      instance.parent.effect.dirty = true;\n      queueJob(() => {\n        instance.parent.update();\n        dirtyInstances.delete(instance);\n      });\n    } else if (instance.appContext.reload) {\n      instance.appContext.reload();\n    } else if (typeof window !== \"undefined\") {\n      window.location.reload();\n    } else {\n      console.warn(\n        \"[HMR] Root or manually mounted instance modified. Full reload required.\"\n      );\n    }\n  }\n  queuePostFlushCb(() => {\n    hmrDirtyComponents.clear();\n  });\n}\nfunction updateComponentDef(oldComp, newComp) {\n  extend(oldComp, newComp);\n  for (const key in oldComp) {\n    if (key !== \"__file\" && !(key in newComp)) {\n      delete oldComp[key];\n    }\n  }\n}\nfunction tryWrap(fn) {\n  return (id, arg) => {\n    try {\n      return fn(id, arg);\n    } catch (e) {\n      console.error(e);\n      console.warn(\n        `[HMR] Something went wrong during Vue component hot-reload. Full reload required.`\n      );\n    }\n  };\n}\n\nlet devtools$1;\nlet buffer = [];\nlet devtoolsNotInstalled = false;\nfunction emit$1(event, ...args) {\n  if (devtools$1) {\n    devtools$1.emit(event, ...args);\n  } else if (!devtoolsNotInstalled) {\n    buffer.push({ event, args });\n  }\n}\nfunction setDevtoolsHook$1(hook, target) {\n  var _a, _b;\n  devtools$1 = hook;\n  if (devtools$1) {\n    devtools$1.enabled = true;\n    buffer.forEach(({ event, args }) => devtools$1.emit(event, ...args));\n    buffer = [];\n  } else if (\n    // handle late devtools injection - only do this if we are in an actual\n    // browser environment to avoid the timer handle stalling test runner exit\n    // (#4815)\n    typeof window !== \"undefined\" && // some envs mock window but not fully\n    window.HTMLElement && // also exclude jsdom\n    // eslint-disable-next-line no-restricted-syntax\n    !((_b = (_a = window.navigator) == null ? void 0 : _a.userAgent) == null ? void 0 : _b.includes(\"jsdom\"))\n  ) {\n    const replay = target.__VUE_DEVTOOLS_HOOK_REPLAY__ = target.__VUE_DEVTOOLS_HOOK_REPLAY__ || [];\n    replay.push((newHook) => {\n      setDevtoolsHook$1(newHook, target);\n    });\n    setTimeout(() => {\n      if (!devtools$1) {\n        target.__VUE_DEVTOOLS_HOOK_REPLAY__ = null;\n        devtoolsNotInstalled = true;\n        buffer = [];\n      }\n    }, 3e3);\n  } else {\n    devtoolsNotInstalled = true;\n    buffer = [];\n  }\n}\nfunction devtoolsInitApp(app, version) {\n  emit$1(\"app:init\" /* APP_INIT */, app, version, {\n    Fragment,\n    Text,\n    Comment,\n    Static\n  });\n}\nfunction devtoolsUnmountApp(app) {\n  emit$1(\"app:unmount\" /* APP_UNMOUNT */, app);\n}\nconst devtoolsComponentAdded = /* @__PURE__ */ createDevtoolsComponentHook(\n  \"component:added\" /* COMPONENT_ADDED */\n);\nconst devtoolsComponentUpdated = /* @__PURE__ */ createDevtoolsComponentHook(\"component:updated\" /* COMPONENT_UPDATED */);\nconst _devtoolsComponentRemoved = /* @__PURE__ */ createDevtoolsComponentHook(\n  \"component:removed\" /* COMPONENT_REMOVED */\n);\nconst devtoolsComponentRemoved = (component) => {\n  if (devtools$1 && typeof devtools$1.cleanupBuffer === \"function\" && // remove the component if it wasn't buffered\n  !devtools$1.cleanupBuffer(component)) {\n    _devtoolsComponentRemoved(component);\n  }\n};\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction createDevtoolsComponentHook(hook) {\n  return (component) => {\n    emit$1(\n      hook,\n      component.appContext.app,\n      component.uid,\n      component.parent ? component.parent.uid : void 0,\n      component\n    );\n  };\n}\nconst devtoolsPerfStart = /* @__PURE__ */ createDevtoolsPerformanceHook(\n  \"perf:start\" /* PERFORMANCE_START */\n);\nconst devtoolsPerfEnd = /* @__PURE__ */ createDevtoolsPerformanceHook(\n  \"perf:end\" /* PERFORMANCE_END */\n);\nfunction createDevtoolsPerformanceHook(hook) {\n  return (component, type, time) => {\n    emit$1(hook, component.appContext.app, component.uid, component, type, time);\n  };\n}\nfunction devtoolsComponentEmit(component, event, params) {\n  emit$1(\n    \"component:emit\" /* COMPONENT_EMIT */,\n    component.appContext.app,\n    component,\n    event,\n    params\n  );\n}\n\nlet currentRenderingInstance = null;\nlet currentScopeId = null;\nfunction setCurrentRenderingInstance(instance) {\n  const prev = currentRenderingInstance;\n  currentRenderingInstance = instance;\n  currentScopeId = instance && instance.type.__scopeId || null;\n  return prev;\n}\nfunction pushScopeId(id) {\n  currentScopeId = id;\n}\nfunction popScopeId() {\n  currentScopeId = null;\n}\nconst withScopeId = (_id) => withCtx;\nfunction withCtx(fn, ctx = currentRenderingInstance, isNonScopedSlot) {\n  if (!ctx) return fn;\n  if (fn._n) {\n    return fn;\n  }\n  const renderFnWithContext = (...args) => {\n    if (renderFnWithContext._d) {\n      setBlockTracking(-1);\n    }\n    const prevInstance = setCurrentRenderingInstance(ctx);\n    let res;\n    try {\n      res = fn(...args);\n    } finally {\n      setCurrentRenderingInstance(prevInstance);\n      if (renderFnWithContext._d) {\n        setBlockTracking(1);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      devtoolsComponentUpdated(ctx);\n    }\n    return res;\n  };\n  renderFnWithContext._n = true;\n  renderFnWithContext._c = true;\n  renderFnWithContext._d = true;\n  return renderFnWithContext;\n}\n\nfunction validateDirectiveName(name) {\n  if (isBuiltInDirective(name)) {\n    warn$1(\"Do not use built-in directive ids as custom directive id: \" + name);\n  }\n}\nfunction withDirectives(vnode, directives) {\n  if (currentRenderingInstance === null) {\n    !!(process.env.NODE_ENV !== \"production\") && warn$1(`withDirectives can only be used inside render functions.`);\n    return vnode;\n  }\n  const instance = getComponentPublicInstance(currentRenderingInstance);\n  const bindings = vnode.dirs || (vnode.dirs = []);\n  for (let i = 0; i < directives.length; i++) {\n    let [dir, value, arg, modifiers = EMPTY_OBJ] = directives[i];\n    if (dir) {\n      if (isFunction(dir)) {\n        dir = {\n          mounted: dir,\n          updated: dir\n        };\n      }\n      if (dir.deep) {\n        traverse(value);\n      }\n      bindings.push({\n        dir,\n        instance,\n        value,\n        oldValue: void 0,\n        arg,\n        modifiers\n      });\n    }\n  }\n  return vnode;\n}\nfunction invokeDirectiveHook(vnode, prevVNode, instance, name) {\n  const bindings = vnode.dirs;\n  const oldBindings = prevVNode && prevVNode.dirs;\n  for (let i = 0; i < bindings.length; i++) {\n    const binding = bindings[i];\n    if (oldBindings) {\n      binding.oldValue = oldBindings[i].value;\n    }\n    let hook = binding.dir[name];\n    if (hook) {\n      pauseTracking();\n      callWithAsyncErrorHandling(hook, instance, 8, [\n        vnode.el,\n        binding,\n        vnode,\n        prevVNode\n      ]);\n      resetTracking();\n    }\n  }\n}\n\nconst leaveCbKey = Symbol(\"_leaveCb\");\nconst enterCbKey = Symbol(\"_enterCb\");\nfunction useTransitionState() {\n  const state = {\n    isMounted: false,\n    isLeaving: false,\n    isUnmounting: false,\n    leavingVNodes: /* @__PURE__ */ new Map()\n  };\n  onMounted(() => {\n    state.isMounted = true;\n  });\n  onBeforeUnmount(() => {\n    state.isUnmounting = true;\n  });\n  return state;\n}\nconst TransitionHookValidator = [Function, Array];\nconst BaseTransitionPropsValidators = {\n  mode: String,\n  appear: Boolean,\n  persisted: Boolean,\n  // enter\n  onBeforeEnter: TransitionHookValidator,\n  onEnter: TransitionHookValidator,\n  onAfterEnter: TransitionHookValidator,\n  onEnterCancelled: TransitionHookValidator,\n  // leave\n  onBeforeLeave: TransitionHookValidator,\n  onLeave: TransitionHookValidator,\n  onAfterLeave: TransitionHookValidator,\n  onLeaveCancelled: TransitionHookValidator,\n  // appear\n  onBeforeAppear: TransitionHookValidator,\n  onAppear: TransitionHookValidator,\n  onAfterAppear: TransitionHookValidator,\n  onAppearCancelled: TransitionHookValidator\n};\nconst recursiveGetSubtree = (instance) => {\n  const subTree = instance.subTree;\n  return subTree.component ? recursiveGetSubtree(subTree.component) : subTree;\n};\nconst BaseTransitionImpl = {\n  name: `BaseTransition`,\n  props: BaseTransitionPropsValidators,\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const state = useTransitionState();\n    return () => {\n      const children = slots.default && getTransitionRawChildren(slots.default(), true);\n      if (!children || !children.length) {\n        return;\n      }\n      let child = children[0];\n      if (children.length > 1) {\n        let hasFound = false;\n        for (const c of children) {\n          if (c.type !== Comment) {\n            if (!!(process.env.NODE_ENV !== \"production\") && hasFound) {\n              warn$1(\n                \"<transition> can only be used on a single element or component. Use <transition-group> for lists.\"\n              );\n              break;\n            }\n            child = c;\n            hasFound = true;\n            if (!!!(process.env.NODE_ENV !== \"production\")) break;\n          }\n        }\n      }\n      const rawProps = toRaw(props);\n      const { mode } = rawProps;\n      if (!!(process.env.NODE_ENV !== \"production\") && mode && mode !== \"in-out\" && mode !== \"out-in\" && mode !== \"default\") {\n        warn$1(`invalid <transition> mode: ${mode}`);\n      }\n      if (state.isLeaving) {\n        return emptyPlaceholder(child);\n      }\n      const innerChild = getKeepAliveChild(child);\n      if (!innerChild) {\n        return emptyPlaceholder(child);\n      }\n      let enterHooks = resolveTransitionHooks(\n        innerChild,\n        rawProps,\n        state,\n        instance,\n        // #11061, ensure enterHooks is fresh after clone\n        (hooks) => enterHooks = hooks\n      );\n      setTransitionHooks(innerChild, enterHooks);\n      const oldChild = instance.subTree;\n      const oldInnerChild = oldChild && getKeepAliveChild(oldChild);\n      if (oldInnerChild && oldInnerChild.type !== Comment && !isSameVNodeType(innerChild, oldInnerChild) && recursiveGetSubtree(instance).type !== Comment) {\n        const leavingHooks = resolveTransitionHooks(\n          oldInnerChild,\n          rawProps,\n          state,\n          instance\n        );\n        setTransitionHooks(oldInnerChild, leavingHooks);\n        if (mode === \"out-in\" && innerChild.type !== Comment) {\n          state.isLeaving = true;\n          leavingHooks.afterLeave = () => {\n            state.isLeaving = false;\n            if (instance.update.active !== false) {\n              instance.effect.dirty = true;\n              instance.update();\n            }\n          };\n          return emptyPlaceholder(child);\n        } else if (mode === \"in-out\" && innerChild.type !== Comment) {\n          leavingHooks.delayLeave = (el, earlyRemove, delayedLeave) => {\n            const leavingVNodesCache = getLeavingNodesForType(\n              state,\n              oldInnerChild\n            );\n            leavingVNodesCache[String(oldInnerChild.key)] = oldInnerChild;\n            el[leaveCbKey] = () => {\n              earlyRemove();\n              el[leaveCbKey] = void 0;\n              delete enterHooks.delayedLeave;\n            };\n            enterHooks.delayedLeave = delayedLeave;\n          };\n        }\n      }\n      return child;\n    };\n  }\n};\nconst BaseTransition = BaseTransitionImpl;\nfunction getLeavingNodesForType(state, vnode) {\n  const { leavingVNodes } = state;\n  let leavingVNodesCache = leavingVNodes.get(vnode.type);\n  if (!leavingVNodesCache) {\n    leavingVNodesCache = /* @__PURE__ */ Object.create(null);\n    leavingVNodes.set(vnode.type, leavingVNodesCache);\n  }\n  return leavingVNodesCache;\n}\nfunction resolveTransitionHooks(vnode, props, state, instance, postClone) {\n  const {\n    appear,\n    mode,\n    persisted = false,\n    onBeforeEnter,\n    onEnter,\n    onAfterEnter,\n    onEnterCancelled,\n    onBeforeLeave,\n    onLeave,\n    onAfterLeave,\n    onLeaveCancelled,\n    onBeforeAppear,\n    onAppear,\n    onAfterAppear,\n    onAppearCancelled\n  } = props;\n  const key = String(vnode.key);\n  const leavingVNodesCache = getLeavingNodesForType(state, vnode);\n  const callHook = (hook, args) => {\n    hook && callWithAsyncErrorHandling(\n      hook,\n      instance,\n      9,\n      args\n    );\n  };\n  const callAsyncHook = (hook, args) => {\n    const done = args[1];\n    callHook(hook, args);\n    if (isArray(hook)) {\n      if (hook.every((hook2) => hook2.length <= 1)) done();\n    } else if (hook.length <= 1) {\n      done();\n    }\n  };\n  const hooks = {\n    mode,\n    persisted,\n    beforeEnter(el) {\n      let hook = onBeforeEnter;\n      if (!state.isMounted) {\n        if (appear) {\n          hook = onBeforeAppear || onBeforeEnter;\n        } else {\n          return;\n        }\n      }\n      if (el[leaveCbKey]) {\n        el[leaveCbKey](\n          true\n          /* cancelled */\n        );\n      }\n      const leavingVNode = leavingVNodesCache[key];\n      if (leavingVNode && isSameVNodeType(vnode, leavingVNode) && leavingVNode.el[leaveCbKey]) {\n        leavingVNode.el[leaveCbKey]();\n      }\n      callHook(hook, [el]);\n    },\n    enter(el) {\n      let hook = onEnter;\n      let afterHook = onAfterEnter;\n      let cancelHook = onEnterCancelled;\n      if (!state.isMounted) {\n        if (appear) {\n          hook = onAppear || onEnter;\n          afterHook = onAfterAppear || onAfterEnter;\n          cancelHook = onAppearCancelled || onEnterCancelled;\n        } else {\n          return;\n        }\n      }\n      let called = false;\n      const done = el[enterCbKey] = (cancelled) => {\n        if (called) return;\n        called = true;\n        if (cancelled) {\n          callHook(cancelHook, [el]);\n        } else {\n          callHook(afterHook, [el]);\n        }\n        if (hooks.delayedLeave) {\n          hooks.delayedLeave();\n        }\n        el[enterCbKey] = void 0;\n      };\n      if (hook) {\n        callAsyncHook(hook, [el, done]);\n      } else {\n        done();\n      }\n    },\n    leave(el, remove) {\n      const key2 = String(vnode.key);\n      if (el[enterCbKey]) {\n        el[enterCbKey](\n          true\n          /* cancelled */\n        );\n      }\n      if (state.isUnmounting) {\n        return remove();\n      }\n      callHook(onBeforeLeave, [el]);\n      let called = false;\n      const done = el[leaveCbKey] = (cancelled) => {\n        if (called) return;\n        called = true;\n        remove();\n        if (cancelled) {\n          callHook(onLeaveCancelled, [el]);\n        } else {\n          callHook(onAfterLeave, [el]);\n        }\n        el[leaveCbKey] = void 0;\n        if (leavingVNodesCache[key2] === vnode) {\n          delete leavingVNodesCache[key2];\n        }\n      };\n      leavingVNodesCache[key2] = vnode;\n      if (onLeave) {\n        callAsyncHook(onLeave, [el, done]);\n      } else {\n        done();\n      }\n    },\n    clone(vnode2) {\n      const hooks2 = resolveTransitionHooks(\n        vnode2,\n        props,\n        state,\n        instance,\n        postClone\n      );\n      if (postClone) postClone(hooks2);\n      return hooks2;\n    }\n  };\n  return hooks;\n}\nfunction emptyPlaceholder(vnode) {\n  if (isKeepAlive(vnode)) {\n    vnode = cloneVNode(vnode);\n    vnode.children = null;\n    return vnode;\n  }\n}\nfunction getKeepAliveChild(vnode) {\n  if (!isKeepAlive(vnode)) {\n    return vnode;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && vnode.component) {\n    return vnode.component.subTree;\n  }\n  const { shapeFlag, children } = vnode;\n  if (children) {\n    if (shapeFlag & 16) {\n      return children[0];\n    }\n    if (shapeFlag & 32 && isFunction(children.default)) {\n      return children.default();\n    }\n  }\n}\nfunction setTransitionHooks(vnode, hooks) {\n  if (vnode.shapeFlag & 6 && vnode.component) {\n    setTransitionHooks(vnode.component.subTree, hooks);\n  } else if (vnode.shapeFlag & 128) {\n    vnode.ssContent.transition = hooks.clone(vnode.ssContent);\n    vnode.ssFallback.transition = hooks.clone(vnode.ssFallback);\n  } else {\n    vnode.transition = hooks;\n  }\n}\nfunction getTransitionRawChildren(children, keepComment = false, parentKey) {\n  let ret = [];\n  let keyedFragmentCount = 0;\n  for (let i = 0; i < children.length; i++) {\n    let child = children[i];\n    const key = parentKey == null ? child.key : String(parentKey) + String(child.key != null ? child.key : i);\n    if (child.type === Fragment) {\n      if (child.patchFlag & 128) keyedFragmentCount++;\n      ret = ret.concat(\n        getTransitionRawChildren(child.children, keepComment, key)\n      );\n    } else if (keepComment || child.type !== Comment) {\n      ret.push(key != null ? cloneVNode(child, { key }) : child);\n    }\n  }\n  if (keyedFragmentCount > 1) {\n    for (let i = 0; i < ret.length; i++) {\n      ret[i].patchFlag = -2;\n    }\n  }\n  return ret;\n}\n\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction defineComponent(options, extraOptions) {\n  return isFunction(options) ? (\n    // #8326: extend call and options.name access are considered side-effects\n    // by Rollup, so we have to wrap it in a pure-annotated IIFE.\n    /* @__PURE__ */ (() => extend({ name: options.name }, extraOptions, { setup: options }))()\n  ) : options;\n}\n\nconst isAsyncWrapper = (i) => !!i.type.__asyncLoader;\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction defineAsyncComponent(source) {\n  if (isFunction(source)) {\n    source = { loader: source };\n  }\n  const {\n    loader,\n    loadingComponent,\n    errorComponent,\n    delay = 200,\n    timeout,\n    // undefined = never times out\n    suspensible = true,\n    onError: userOnError\n  } = source;\n  let pendingRequest = null;\n  let resolvedComp;\n  let retries = 0;\n  const retry = () => {\n    retries++;\n    pendingRequest = null;\n    return load();\n  };\n  const load = () => {\n    let thisRequest;\n    return pendingRequest || (thisRequest = pendingRequest = loader().catch((err) => {\n      err = err instanceof Error ? err : new Error(String(err));\n      if (userOnError) {\n        return new Promise((resolve, reject) => {\n          const userRetry = () => resolve(retry());\n          const userFail = () => reject(err);\n          userOnError(err, userRetry, userFail, retries + 1);\n        });\n      } else {\n        throw err;\n      }\n    }).then((comp) => {\n      if (thisRequest !== pendingRequest && pendingRequest) {\n        return pendingRequest;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && !comp) {\n        warn$1(\n          `Async component loader resolved to undefined. If you are using retry(), make sure to return its return value.`\n        );\n      }\n      if (comp && (comp.__esModule || comp[Symbol.toStringTag] === \"Module\")) {\n        comp = comp.default;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && comp && !isObject(comp) && !isFunction(comp)) {\n        throw new Error(`Invalid async component load result: ${comp}`);\n      }\n      resolvedComp = comp;\n      return comp;\n    }));\n  };\n  return defineComponent({\n    name: \"AsyncComponentWrapper\",\n    __asyncLoader: load,\n    get __asyncResolved() {\n      return resolvedComp;\n    },\n    setup() {\n      const instance = currentInstance;\n      if (resolvedComp) {\n        return () => createInnerComp(resolvedComp, instance);\n      }\n      const onError = (err) => {\n        pendingRequest = null;\n        handleError(\n          err,\n          instance,\n          13,\n          !errorComponent\n        );\n      };\n      if (suspensible && instance.suspense || isInSSRComponentSetup) {\n        return load().then((comp) => {\n          return () => createInnerComp(comp, instance);\n        }).catch((err) => {\n          onError(err);\n          return () => errorComponent ? createVNode(errorComponent, {\n            error: err\n          }) : null;\n        });\n      }\n      const loaded = ref(false);\n      const error = ref();\n      const delayed = ref(!!delay);\n      if (delay) {\n        setTimeout(() => {\n          delayed.value = false;\n        }, delay);\n      }\n      if (timeout != null) {\n        setTimeout(() => {\n          if (!loaded.value && !error.value) {\n            const err = new Error(\n              `Async component timed out after ${timeout}ms.`\n            );\n            onError(err);\n            error.value = err;\n          }\n        }, timeout);\n      }\n      load().then(() => {\n        loaded.value = true;\n        if (instance.parent && isKeepAlive(instance.parent.vnode)) {\n          instance.parent.effect.dirty = true;\n          queueJob(instance.parent.update);\n        }\n      }).catch((err) => {\n        onError(err);\n        error.value = err;\n      });\n      return () => {\n        if (loaded.value && resolvedComp) {\n          return createInnerComp(resolvedComp, instance);\n        } else if (error.value && errorComponent) {\n          return createVNode(errorComponent, {\n            error: error.value\n          });\n        } else if (loadingComponent && !delayed.value) {\n          return createVNode(loadingComponent);\n        }\n      };\n    }\n  });\n}\nfunction createInnerComp(comp, parent) {\n  const { ref: ref2, props, children, ce } = parent.vnode;\n  const vnode = createVNode(comp, props, children);\n  vnode.ref = ref2;\n  vnode.ce = ce;\n  delete parent.vnode.ce;\n  return vnode;\n}\n\nconst isKeepAlive = (vnode) => vnode.type.__isKeepAlive;\nconst KeepAliveImpl = {\n  name: `KeepAlive`,\n  // Marker for special handling inside the renderer. We are not using a ===\n  // check directly on KeepAlive in the renderer, because importing it directly\n  // would prevent it from being tree-shaken.\n  __isKeepAlive: true,\n  props: {\n    include: [String, RegExp, Array],\n    exclude: [String, RegExp, Array],\n    max: [String, Number]\n  },\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const sharedContext = instance.ctx;\n    if (!sharedContext.renderer) {\n      return () => {\n        const children = slots.default && slots.default();\n        return children && children.length === 1 ? children[0] : children;\n      };\n    }\n    const cache = /* @__PURE__ */ new Map();\n    const keys = /* @__PURE__ */ new Set();\n    let current = null;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      instance.__v_cache = cache;\n    }\n    const parentSuspense = instance.suspense;\n    const {\n      renderer: {\n        p: patch,\n        m: move,\n        um: _unmount,\n        o: { createElement }\n      }\n    } = sharedContext;\n    const storageContainer = createElement(\"div\");\n    sharedContext.activate = (vnode, container, anchor, namespace, optimized) => {\n      const instance2 = vnode.component;\n      move(vnode, container, anchor, 0, parentSuspense);\n      patch(\n        instance2.vnode,\n        vnode,\n        container,\n        anchor,\n        instance2,\n        parentSuspense,\n        namespace,\n        vnode.slotScopeIds,\n        optimized\n      );\n      queuePostRenderEffect(() => {\n        instance2.isDeactivated = false;\n        if (instance2.a) {\n          invokeArrayFns(instance2.a);\n        }\n        const vnodeHook = vnode.props && vnode.props.onVnodeMounted;\n        if (vnodeHook) {\n          invokeVNodeHook(vnodeHook, instance2.parent, vnode);\n        }\n      }, parentSuspense);\n      if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n        devtoolsComponentAdded(instance2);\n      }\n    };\n    sharedContext.deactivate = (vnode) => {\n      const instance2 = vnode.component;\n      invalidateMount(instance2.m);\n      invalidateMount(instance2.a);\n      move(vnode, storageContainer, null, 1, parentSuspense);\n      queuePostRenderEffect(() => {\n        if (instance2.da) {\n          invokeArrayFns(instance2.da);\n        }\n        const vnodeHook = vnode.props && vnode.props.onVnodeUnmounted;\n        if (vnodeHook) {\n          invokeVNodeHook(vnodeHook, instance2.parent, vnode);\n        }\n        instance2.isDeactivated = true;\n      }, parentSuspense);\n      if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n        devtoolsComponentAdded(instance2);\n      }\n    };\n    function unmount(vnode) {\n      resetShapeFlag(vnode);\n      _unmount(vnode, instance, parentSuspense, true);\n    }\n    function pruneCache(filter) {\n      cache.forEach((vnode, key) => {\n        const name = getComponentName(vnode.type);\n        if (name && (!filter || !filter(name))) {\n          pruneCacheEntry(key);\n        }\n      });\n    }\n    function pruneCacheEntry(key) {\n      const cached = cache.get(key);\n      if (cached && (!current || !isSameVNodeType(cached, current))) {\n        unmount(cached);\n      } else if (current) {\n        resetShapeFlag(current);\n      }\n      cache.delete(key);\n      keys.delete(key);\n    }\n    watch(\n      () => [props.include, props.exclude],\n      ([include, exclude]) => {\n        include && pruneCache((name) => matches(include, name));\n        exclude && pruneCache((name) => !matches(exclude, name));\n      },\n      // prune post-render after `current` has been updated\n      { flush: \"post\", deep: true }\n    );\n    let pendingCacheKey = null;\n    const cacheSubtree = () => {\n      if (pendingCacheKey != null) {\n        if (isSuspense(instance.subTree.type)) {\n          queuePostRenderEffect(() => {\n            cache.set(pendingCacheKey, getInnerChild(instance.subTree));\n          }, instance.subTree.suspense);\n        } else {\n          cache.set(pendingCacheKey, getInnerChild(instance.subTree));\n        }\n      }\n    };\n    onMounted(cacheSubtree);\n    onUpdated(cacheSubtree);\n    onBeforeUnmount(() => {\n      cache.forEach((cached) => {\n        const { subTree, suspense } = instance;\n        const vnode = getInnerChild(subTree);\n        if (cached.type === vnode.type && cached.key === vnode.key) {\n          resetShapeFlag(vnode);\n          const da = vnode.component.da;\n          da && queuePostRenderEffect(da, suspense);\n          return;\n        }\n        unmount(cached);\n      });\n    });\n    return () => {\n      pendingCacheKey = null;\n      if (!slots.default) {\n        return null;\n      }\n      const children = slots.default();\n      const rawVNode = children[0];\n      if (children.length > 1) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(`KeepAlive should contain exactly one component child.`);\n        }\n        current = null;\n        return children;\n      } else if (!isVNode(rawVNode) || !(rawVNode.shapeFlag & 4) && !(rawVNode.shapeFlag & 128)) {\n        current = null;\n        return rawVNode;\n      }\n      let vnode = getInnerChild(rawVNode);\n      if (vnode.type === Comment) {\n        current = null;\n        return vnode;\n      }\n      const comp = vnode.type;\n      const name = getComponentName(\n        isAsyncWrapper(vnode) ? vnode.type.__asyncResolved || {} : comp\n      );\n      const { include, exclude, max } = props;\n      if (include && (!name || !matches(include, name)) || exclude && name && matches(exclude, name)) {\n        current = vnode;\n        return rawVNode;\n      }\n      const key = vnode.key == null ? comp : vnode.key;\n      const cachedVNode = cache.get(key);\n      if (vnode.el) {\n        vnode = cloneVNode(vnode);\n        if (rawVNode.shapeFlag & 128) {\n          rawVNode.ssContent = vnode;\n        }\n      }\n      pendingCacheKey = key;\n      if (cachedVNode) {\n        vnode.el = cachedVNode.el;\n        vnode.component = cachedVNode.component;\n        if (vnode.transition) {\n          setTransitionHooks(vnode, vnode.transition);\n        }\n        vnode.shapeFlag |= 512;\n        keys.delete(key);\n        keys.add(key);\n      } else {\n        keys.add(key);\n        if (max && keys.size > parseInt(max, 10)) {\n          pruneCacheEntry(keys.values().next().value);\n        }\n      }\n      vnode.shapeFlag |= 256;\n      current = vnode;\n      return isSuspense(rawVNode.type) ? rawVNode : vnode;\n    };\n  }\n};\nconst KeepAlive = KeepAliveImpl;\nfunction matches(pattern, name) {\n  if (isArray(pattern)) {\n    return pattern.some((p) => matches(p, name));\n  } else if (isString(pattern)) {\n    return pattern.split(\",\").includes(name);\n  } else if (isRegExp(pattern)) {\n    return pattern.test(name);\n  }\n  return false;\n}\nfunction onActivated(hook, target) {\n  registerKeepAliveHook(hook, \"a\", target);\n}\nfunction onDeactivated(hook, target) {\n  registerKeepAliveHook(hook, \"da\", target);\n}\nfunction registerKeepAliveHook(hook, type, target = currentInstance) {\n  const wrappedHook = hook.__wdc || (hook.__wdc = () => {\n    let current = target;\n    while (current) {\n      if (current.isDeactivated) {\n        return;\n      }\n      current = current.parent;\n    }\n    return hook();\n  });\n  injectHook(type, wrappedHook, target);\n  if (target) {\n    let current = target.parent;\n    while (current && current.parent) {\n      if (isKeepAlive(current.parent.vnode)) {\n        injectToKeepAliveRoot(wrappedHook, type, target, current);\n      }\n      current = current.parent;\n    }\n  }\n}\nfunction injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {\n  const injected = injectHook(\n    type,\n    hook,\n    keepAliveRoot,\n    true\n    /* prepend */\n  );\n  onUnmounted(() => {\n    remove(keepAliveRoot[type], injected);\n  }, target);\n}\nfunction resetShapeFlag(vnode) {\n  vnode.shapeFlag &= ~256;\n  vnode.shapeFlag &= ~512;\n}\nfunction getInnerChild(vnode) {\n  return vnode.shapeFlag & 128 ? vnode.ssContent : vnode;\n}\n\nfunction injectHook(type, hook, target = currentInstance, prepend = false) {\n  if (target) {\n    const hooks = target[type] || (target[type] = []);\n    const wrappedHook = hook.__weh || (hook.__weh = (...args) => {\n      pauseTracking();\n      const reset = setCurrentInstance(target);\n      const res = callWithAsyncErrorHandling(hook, target, type, args);\n      reset();\n      resetTracking();\n      return res;\n    });\n    if (prepend) {\n      hooks.unshift(wrappedHook);\n    } else {\n      hooks.push(wrappedHook);\n    }\n    return wrappedHook;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    const apiName = toHandlerKey(ErrorTypeStrings$1[type].replace(/ hook$/, \"\"));\n    warn$1(\n      `${apiName} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup().` + (` If you are using async setup(), make sure to register lifecycle hooks before the first await statement.` )\n    );\n  }\n}\nconst createHook = (lifecycle) => (hook, target = currentInstance) => {\n  if (!isInSSRComponentSetup || lifecycle === \"sp\") {\n    injectHook(lifecycle, (...args) => hook(...args), target);\n  }\n};\nconst onBeforeMount = createHook(\"bm\");\nconst onMounted = createHook(\"m\");\nconst onBeforeUpdate = createHook(\"bu\");\nconst onUpdated = createHook(\"u\");\nconst onBeforeUnmount = createHook(\"bum\");\nconst onUnmounted = createHook(\"um\");\nconst onServerPrefetch = createHook(\"sp\");\nconst onRenderTriggered = createHook(\n  \"rtg\"\n);\nconst onRenderTracked = createHook(\n  \"rtc\"\n);\nfunction onErrorCaptured(hook, target = currentInstance) {\n  injectHook(\"ec\", hook, target);\n}\n\nconst COMPONENTS = \"components\";\nconst DIRECTIVES = \"directives\";\nfunction resolveComponent(name, maybeSelfReference) {\n  return resolveAsset(COMPONENTS, name, true, maybeSelfReference) || name;\n}\nconst NULL_DYNAMIC_COMPONENT = Symbol.for(\"v-ndc\");\nfunction resolveDynamicComponent(component) {\n  if (isString(component)) {\n    return resolveAsset(COMPONENTS, component, false) || component;\n  } else {\n    return component || NULL_DYNAMIC_COMPONENT;\n  }\n}\nfunction resolveDirective(name) {\n  return resolveAsset(DIRECTIVES, name);\n}\nfunction resolveAsset(type, name, warnMissing = true, maybeSelfReference = false) {\n  const instance = currentRenderingInstance || currentInstance;\n  if (instance) {\n    const Component = instance.type;\n    if (type === COMPONENTS) {\n      const selfName = getComponentName(\n        Component,\n        false\n      );\n      if (selfName && (selfName === name || selfName === camelize(name) || selfName === capitalize(camelize(name)))) {\n        return Component;\n      }\n    }\n    const res = (\n      // local registration\n      // check instance[type] first which is resolved for options API\n      resolve(instance[type] || Component[type], name) || // global registration\n      resolve(instance.appContext[type], name)\n    );\n    if (!res && maybeSelfReference) {\n      return Component;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") && warnMissing && !res) {\n      const extra = type === COMPONENTS ? `\nIf this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.` : ``;\n      warn$1(`Failed to resolve ${type.slice(0, -1)}: ${name}${extra}`);\n    }\n    return res;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(\n      `resolve${capitalize(type.slice(0, -1))} can only be used in render() or setup().`\n    );\n  }\n}\nfunction resolve(registry, name) {\n  return registry && (registry[name] || registry[camelize(name)] || registry[capitalize(camelize(name))]);\n}\n\nfunction renderList(source, renderItem, cache, index) {\n  let ret;\n  const cached = cache && cache[index];\n  if (isArray(source) || isString(source)) {\n    ret = new Array(source.length);\n    for (let i = 0, l = source.length; i < l; i++) {\n      ret[i] = renderItem(source[i], i, void 0, cached && cached[i]);\n    }\n  } else if (typeof source === \"number\") {\n    if (!!(process.env.NODE_ENV !== \"production\") && !Number.isInteger(source)) {\n      warn$1(`The v-for range expect an integer value but got ${source}.`);\n    }\n    ret = new Array(source);\n    for (let i = 0; i < source; i++) {\n      ret[i] = renderItem(i + 1, i, void 0, cached && cached[i]);\n    }\n  } else if (isObject(source)) {\n    if (source[Symbol.iterator]) {\n      ret = Array.from(\n        source,\n        (item, i) => renderItem(item, i, void 0, cached && cached[i])\n      );\n    } else {\n      const keys = Object.keys(source);\n      ret = new Array(keys.length);\n      for (let i = 0, l = keys.length; i < l; i++) {\n        const key = keys[i];\n        ret[i] = renderItem(source[key], key, i, cached && cached[i]);\n      }\n    }\n  } else {\n    ret = [];\n  }\n  if (cache) {\n    cache[index] = ret;\n  }\n  return ret;\n}\n\nfunction createSlots(slots, dynamicSlots) {\n  for (let i = 0; i < dynamicSlots.length; i++) {\n    const slot = dynamicSlots[i];\n    if (isArray(slot)) {\n      for (let j = 0; j < slot.length; j++) {\n        slots[slot[j].name] = slot[j].fn;\n      }\n    } else if (slot) {\n      slots[slot.name] = slot.key ? (...args) => {\n        const res = slot.fn(...args);\n        if (res) res.key = slot.key;\n        return res;\n      } : slot.fn;\n    }\n  }\n  return slots;\n}\n\nfunction renderSlot(slots, name, props = {}, fallback, noSlotted) {\n  if (currentRenderingInstance.isCE || currentRenderingInstance.parent && isAsyncWrapper(currentRenderingInstance.parent) && currentRenderingInstance.parent.isCE) {\n    if (name !== \"default\") props.name = name;\n    return createVNode(\"slot\", props, fallback && fallback());\n  }\n  let slot = slots[name];\n  if (!!(process.env.NODE_ENV !== \"production\") && slot && slot.length > 1) {\n    warn$1(\n      `SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template.`\n    );\n    slot = () => [];\n  }\n  if (slot && slot._c) {\n    slot._d = false;\n  }\n  openBlock();\n  const validSlotContent = slot && ensureValidVNode(slot(props));\n  const rendered = createBlock(\n    Fragment,\n    {\n      key: (props.key || // slot content array of a dynamic conditional slot may have a branch\n      // key attached in the `createSlots` helper, respect that\n      validSlotContent && validSlotContent.key || `_${name}`) + // #7256 force differentiate fallback content from actual content\n      (!validSlotContent && fallback ? \"_fb\" : \"\")\n    },\n    validSlotContent || (fallback ? fallback() : []),\n    validSlotContent && slots._ === 1 ? 64 : -2\n  );\n  if (!noSlotted && rendered.scopeId) {\n    rendered.slotScopeIds = [rendered.scopeId + \"-s\"];\n  }\n  if (slot && slot._c) {\n    slot._d = true;\n  }\n  return rendered;\n}\nfunction ensureValidVNode(vnodes) {\n  return vnodes.some((child) => {\n    if (!isVNode(child)) return true;\n    if (child.type === Comment) return false;\n    if (child.type === Fragment && !ensureValidVNode(child.children))\n      return false;\n    return true;\n  }) ? vnodes : null;\n}\n\nfunction toHandlers(obj, preserveCaseIfNecessary) {\n  const ret = {};\n  if (!!(process.env.NODE_ENV !== \"production\") && !isObject(obj)) {\n    warn$1(`v-on with no argument expects an object value.`);\n    return ret;\n  }\n  for (const key in obj) {\n    ret[preserveCaseIfNecessary && /[A-Z]/.test(key) ? `on:${key}` : toHandlerKey(key)] = obj[key];\n  }\n  return ret;\n}\n\nconst getPublicInstance = (i) => {\n  if (!i) return null;\n  if (isStatefulComponent(i)) return getComponentPublicInstance(i);\n  return getPublicInstance(i.parent);\n};\nconst publicPropertiesMap = (\n  // Move PURE marker to new line to workaround compiler discarding it\n  // due to type annotation\n  /* @__PURE__ */ extend(/* @__PURE__ */ Object.create(null), {\n    $: (i) => i,\n    $el: (i) => i.vnode.el,\n    $data: (i) => i.data,\n    $props: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.props) : i.props,\n    $attrs: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.attrs) : i.attrs,\n    $slots: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.slots) : i.slots,\n    $refs: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.refs) : i.refs,\n    $parent: (i) => getPublicInstance(i.parent),\n    $root: (i) => getPublicInstance(i.root),\n    $emit: (i) => i.emit,\n    $options: (i) => __VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type,\n    $forceUpdate: (i) => i.f || (i.f = () => {\n      i.effect.dirty = true;\n      queueJob(i.update);\n    }),\n    $nextTick: (i) => i.n || (i.n = nextTick.bind(i.proxy)),\n    $watch: (i) => __VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP\n  })\n);\nconst isReservedPrefix = (key) => key === \"_\" || key === \"$\";\nconst hasSetupBinding = (state, key) => state !== EMPTY_OBJ && !state.__isScriptSetup && hasOwn(state, key);\nconst PublicInstanceProxyHandlers = {\n  get({ _: instance }, key) {\n    if (key === \"__v_skip\") {\n      return true;\n    }\n    const { ctx, setupState, data, props, accessCache, type, appContext } = instance;\n    if (!!(process.env.NODE_ENV !== \"production\") && key === \"__isVue\") {\n      return true;\n    }\n    let normalizedProps;\n    if (key[0] !== \"$\") {\n      const n = accessCache[key];\n      if (n !== void 0) {\n        switch (n) {\n          case 1 /* SETUP */:\n            return setupState[key];\n          case 2 /* DATA */:\n            return data[key];\n          case 4 /* CONTEXT */:\n            return ctx[key];\n          case 3 /* PROPS */:\n            return props[key];\n        }\n      } else if (hasSetupBinding(setupState, key)) {\n        accessCache[key] = 1 /* SETUP */;\n        return setupState[key];\n      } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\n        accessCache[key] = 2 /* DATA */;\n        return data[key];\n      } else if (\n        // only cache other properties when instance has declared (thus stable)\n        // props\n        (normalizedProps = instance.propsOptions[0]) && hasOwn(normalizedProps, key)\n      ) {\n        accessCache[key] = 3 /* PROPS */;\n        return props[key];\n      } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n        accessCache[key] = 4 /* CONTEXT */;\n        return ctx[key];\n      } else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {\n        accessCache[key] = 0 /* OTHER */;\n      }\n    }\n    const publicGetter = publicPropertiesMap[key];\n    let cssModule, globalProperties;\n    if (publicGetter) {\n      if (key === \"$attrs\") {\n        track(instance.attrs, \"get\", \"\");\n        !!(process.env.NODE_ENV !== \"production\") && markAttrsAccessed();\n      } else if (!!(process.env.NODE_ENV !== \"production\") && key === \"$slots\") {\n        track(instance, \"get\", key);\n      }\n      return publicGetter(instance);\n    } else if (\n      // css module (injected by vue-loader)\n      (cssModule = type.__cssModules) && (cssModule = cssModule[key])\n    ) {\n      return cssModule;\n    } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n      accessCache[key] = 4 /* CONTEXT */;\n      return ctx[key];\n    } else if (\n      // global properties\n      globalProperties = appContext.config.globalProperties, hasOwn(globalProperties, key)\n    ) {\n      {\n        return globalProperties[key];\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\") && currentRenderingInstance && (!isString(key) || // #1091 avoid internal isRef/isVNode checks on component instance leading\n    // to infinite warning loop\n    key.indexOf(\"__v\") !== 0)) {\n      if (data !== EMPTY_OBJ && isReservedPrefix(key[0]) && hasOwn(data, key)) {\n        warn$1(\n          `Property ${JSON.stringify(\n            key\n          )} must be accessed via $data because it starts with a reserved character (\"$\" or \"_\") and is not proxied on the render context.`\n        );\n      } else if (instance === currentRenderingInstance) {\n        warn$1(\n          `Property ${JSON.stringify(key)} was accessed during render but is not defined on instance.`\n        );\n      }\n    }\n  },\n  set({ _: instance }, key, value) {\n    const { data, setupState, ctx } = instance;\n    if (hasSetupBinding(setupState, key)) {\n      setupState[key] = value;\n      return true;\n    } else if (!!(process.env.NODE_ENV !== \"production\") && setupState.__isScriptSetup && hasOwn(setupState, key)) {\n      warn$1(`Cannot mutate <script setup> binding \"${key}\" from Options API.`);\n      return false;\n    } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\n      data[key] = value;\n      return true;\n    } else if (hasOwn(instance.props, key)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(`Attempting to mutate prop \"${key}\". Props are readonly.`);\n      return false;\n    }\n    if (key[0] === \"$\" && key.slice(1) in instance) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(\n        `Attempting to mutate public property \"${key}\". Properties starting with $ are reserved and readonly.`\n      );\n      return false;\n    } else {\n      if (!!(process.env.NODE_ENV !== \"production\") && key in instance.appContext.config.globalProperties) {\n        Object.defineProperty(ctx, key, {\n          enumerable: true,\n          configurable: true,\n          value\n        });\n      } else {\n        ctx[key] = value;\n      }\n    }\n    return true;\n  },\n  has({\n    _: { data, setupState, accessCache, ctx, appContext, propsOptions }\n  }, key) {\n    let normalizedProps;\n    return !!accessCache[key] || data !== EMPTY_OBJ && hasOwn(data, key) || hasSetupBinding(setupState, key) || (normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key) || hasOwn(ctx, key) || hasOwn(publicPropertiesMap, key) || hasOwn(appContext.config.globalProperties, key);\n  },\n  defineProperty(target, key, descriptor) {\n    if (descriptor.get != null) {\n      target._.accessCache[key] = 0;\n    } else if (hasOwn(descriptor, \"value\")) {\n      this.set(target, key, descriptor.value, null);\n    }\n    return Reflect.defineProperty(target, key, descriptor);\n  }\n};\nif (!!(process.env.NODE_ENV !== \"production\") && true) {\n  PublicInstanceProxyHandlers.ownKeys = (target) => {\n    warn$1(\n      `Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead.`\n    );\n    return Reflect.ownKeys(target);\n  };\n}\nconst RuntimeCompiledPublicInstanceProxyHandlers = /* @__PURE__ */ extend(\n  {},\n  PublicInstanceProxyHandlers,\n  {\n    get(target, key) {\n      if (key === Symbol.unscopables) {\n        return;\n      }\n      return PublicInstanceProxyHandlers.get(target, key, target);\n    },\n    has(_, key) {\n      const has = key[0] !== \"_\" && !isGloballyAllowed(key);\n      if (!!(process.env.NODE_ENV !== \"production\") && !has && PublicInstanceProxyHandlers.has(_, key)) {\n        warn$1(\n          `Property ${JSON.stringify(\n            key\n          )} should not start with _ which is a reserved prefix for Vue internals.`\n        );\n      }\n      return has;\n    }\n  }\n);\nfunction createDevRenderContext(instance) {\n  const target = {};\n  Object.defineProperty(target, `_`, {\n    configurable: true,\n    enumerable: false,\n    get: () => instance\n  });\n  Object.keys(publicPropertiesMap).forEach((key) => {\n    Object.defineProperty(target, key, {\n      configurable: true,\n      enumerable: false,\n      get: () => publicPropertiesMap[key](instance),\n      // intercepted by the proxy so no need for implementation,\n      // but needed to prevent set errors\n      set: NOOP\n    });\n  });\n  return target;\n}\nfunction exposePropsOnRenderContext(instance) {\n  const {\n    ctx,\n    propsOptions: [propsOptions]\n  } = instance;\n  if (propsOptions) {\n    Object.keys(propsOptions).forEach((key) => {\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => instance.props[key],\n        set: NOOP\n      });\n    });\n  }\n}\nfunction exposeSetupStateOnRenderContext(instance) {\n  const { ctx, setupState } = instance;\n  Object.keys(toRaw(setupState)).forEach((key) => {\n    if (!setupState.__isScriptSetup) {\n      if (isReservedPrefix(key[0])) {\n        warn$1(\n          `setup() return property ${JSON.stringify(\n            key\n          )} should not start with \"$\" or \"_\" which are reserved prefixes for Vue internals.`\n        );\n        return;\n      }\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => setupState[key],\n        set: NOOP\n      });\n    }\n  });\n}\n\nconst warnRuntimeUsage = (method) => warn$1(\n  `${method}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`\n);\nfunction defineProps() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineProps`);\n  }\n  return null;\n}\nfunction defineEmits() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineEmits`);\n  }\n  return null;\n}\nfunction defineExpose(exposed) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineExpose`);\n  }\n}\nfunction defineOptions(options) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineOptions`);\n  }\n}\nfunction defineSlots() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineSlots`);\n  }\n  return null;\n}\nfunction defineModel() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(\"defineModel\");\n  }\n}\nfunction withDefaults(props, defaults) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`withDefaults`);\n  }\n  return null;\n}\nfunction useSlots() {\n  return getContext().slots;\n}\nfunction useAttrs() {\n  return getContext().attrs;\n}\nfunction getContext() {\n  const i = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !i) {\n    warn$1(`useContext() called without active instance.`);\n  }\n  return i.setupContext || (i.setupContext = createSetupContext(i));\n}\nfunction normalizePropsOrEmits(props) {\n  return isArray(props) ? props.reduce(\n    (normalized, p) => (normalized[p] = null, normalized),\n    {}\n  ) : props;\n}\nfunction mergeDefaults(raw, defaults) {\n  const props = normalizePropsOrEmits(raw);\n  for (const key in defaults) {\n    if (key.startsWith(\"__skip\")) continue;\n    let opt = props[key];\n    if (opt) {\n      if (isArray(opt) || isFunction(opt)) {\n        opt = props[key] = { type: opt, default: defaults[key] };\n      } else {\n        opt.default = defaults[key];\n      }\n    } else if (opt === null) {\n      opt = props[key] = { default: defaults[key] };\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(`props default key \"${key}\" has no corresponding declaration.`);\n    }\n    if (opt && defaults[`__skip_${key}`]) {\n      opt.skipFactory = true;\n    }\n  }\n  return props;\n}\nfunction mergeModels(a, b) {\n  if (!a || !b) return a || b;\n  if (isArray(a) && isArray(b)) return a.concat(b);\n  return extend({}, normalizePropsOrEmits(a), normalizePropsOrEmits(b));\n}\nfunction createPropsRestProxy(props, excludedKeys) {\n  const ret = {};\n  for (const key in props) {\n    if (!excludedKeys.includes(key)) {\n      Object.defineProperty(ret, key, {\n        enumerable: true,\n        get: () => props[key]\n      });\n    }\n  }\n  return ret;\n}\nfunction withAsyncContext(getAwaitable) {\n  const ctx = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !ctx) {\n    warn$1(\n      `withAsyncContext called without active current instance. This is likely a bug.`\n    );\n  }\n  let awaitable = getAwaitable();\n  unsetCurrentInstance();\n  if (isPromise(awaitable)) {\n    awaitable = awaitable.catch((e) => {\n      setCurrentInstance(ctx);\n      throw e;\n    });\n  }\n  return [awaitable, () => setCurrentInstance(ctx)];\n}\n\nfunction createDuplicateChecker() {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (type, key) => {\n    if (cache[key]) {\n      warn$1(`${type} property \"${key}\" is already defined in ${cache[key]}.`);\n    } else {\n      cache[key] = type;\n    }\n  };\n}\nlet shouldCacheAccess = true;\nfunction applyOptions(instance) {\n  const options = resolveMergedOptions(instance);\n  const publicThis = instance.proxy;\n  const ctx = instance.ctx;\n  shouldCacheAccess = false;\n  if (options.beforeCreate) {\n    callHook(options.beforeCreate, instance, \"bc\");\n  }\n  const {\n    // state\n    data: dataOptions,\n    computed: computedOptions,\n    methods,\n    watch: watchOptions,\n    provide: provideOptions,\n    inject: injectOptions,\n    // lifecycle\n    created,\n    beforeMount,\n    mounted,\n    beforeUpdate,\n    updated,\n    activated,\n    deactivated,\n    beforeDestroy,\n    beforeUnmount,\n    destroyed,\n    unmounted,\n    render,\n    renderTracked,\n    renderTriggered,\n    errorCaptured,\n    serverPrefetch,\n    // public API\n    expose,\n    inheritAttrs,\n    // assets\n    components,\n    directives,\n    filters\n  } = options;\n  const checkDuplicateProperties = !!(process.env.NODE_ENV !== \"production\") ? createDuplicateChecker() : null;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const [propsOptions] = instance.propsOptions;\n    if (propsOptions) {\n      for (const key in propsOptions) {\n        checkDuplicateProperties(\"Props\" /* PROPS */, key);\n      }\n    }\n  }\n  if (injectOptions) {\n    resolveInjections(injectOptions, ctx, checkDuplicateProperties);\n  }\n  if (methods) {\n    for (const key in methods) {\n      const methodHandler = methods[key];\n      if (isFunction(methodHandler)) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          Object.defineProperty(ctx, key, {\n            value: methodHandler.bind(publicThis),\n            configurable: true,\n            enumerable: true,\n            writable: true\n          });\n        } else {\n          ctx[key] = methodHandler.bind(publicThis);\n        }\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          checkDuplicateProperties(\"Methods\" /* METHODS */, key);\n        }\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn$1(\n          `Method \"${key}\" has type \"${typeof methodHandler}\" in the component definition. Did you reference the function correctly?`\n        );\n      }\n    }\n  }\n  if (dataOptions) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isFunction(dataOptions)) {\n      warn$1(\n        `The data option must be a function. Plain object usage is no longer supported.`\n      );\n    }\n    const data = dataOptions.call(publicThis, publicThis);\n    if (!!(process.env.NODE_ENV !== \"production\") && isPromise(data)) {\n      warn$1(\n        `data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>.`\n      );\n    }\n    if (!isObject(data)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(`data() should return an object.`);\n    } else {\n      instance.data = reactive(data);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        for (const key in data) {\n          checkDuplicateProperties(\"Data\" /* DATA */, key);\n          if (!isReservedPrefix(key[0])) {\n            Object.defineProperty(ctx, key, {\n              configurable: true,\n              enumerable: true,\n              get: () => data[key],\n              set: NOOP\n            });\n          }\n        }\n      }\n    }\n  }\n  shouldCacheAccess = true;\n  if (computedOptions) {\n    for (const key in computedOptions) {\n      const opt = computedOptions[key];\n      const get = isFunction(opt) ? opt.bind(publicThis, publicThis) : isFunction(opt.get) ? opt.get.bind(publicThis, publicThis) : NOOP;\n      if (!!(process.env.NODE_ENV !== \"production\") && get === NOOP) {\n        warn$1(`Computed property \"${key}\" has no getter.`);\n      }\n      const set = !isFunction(opt) && isFunction(opt.set) ? opt.set.bind(publicThis) : !!(process.env.NODE_ENV !== \"production\") ? () => {\n        warn$1(\n          `Write operation failed: computed property \"${key}\" is readonly.`\n        );\n      } : NOOP;\n      const c = computed({\n        get,\n        set\n      });\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => c.value,\n        set: (v) => c.value = v\n      });\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        checkDuplicateProperties(\"Computed\" /* COMPUTED */, key);\n      }\n    }\n  }\n  if (watchOptions) {\n    for (const key in watchOptions) {\n      createWatcher(watchOptions[key], ctx, publicThis, key);\n    }\n  }\n  if (provideOptions) {\n    const provides = isFunction(provideOptions) ? provideOptions.call(publicThis) : provideOptions;\n    Reflect.ownKeys(provides).forEach((key) => {\n      provide(key, provides[key]);\n    });\n  }\n  if (created) {\n    callHook(created, instance, \"c\");\n  }\n  function registerLifecycleHook(register, hook) {\n    if (isArray(hook)) {\n      hook.forEach((_hook) => register(_hook.bind(publicThis)));\n    } else if (hook) {\n      register(hook.bind(publicThis));\n    }\n  }\n  registerLifecycleHook(onBeforeMount, beforeMount);\n  registerLifecycleHook(onMounted, mounted);\n  registerLifecycleHook(onBeforeUpdate, beforeUpdate);\n  registerLifecycleHook(onUpdated, updated);\n  registerLifecycleHook(onActivated, activated);\n  registerLifecycleHook(onDeactivated, deactivated);\n  registerLifecycleHook(onErrorCaptured, errorCaptured);\n  registerLifecycleHook(onRenderTracked, renderTracked);\n  registerLifecycleHook(onRenderTriggered, renderTriggered);\n  registerLifecycleHook(onBeforeUnmount, beforeUnmount);\n  registerLifecycleHook(onUnmounted, unmounted);\n  registerLifecycleHook(onServerPrefetch, serverPrefetch);\n  if (isArray(expose)) {\n    if (expose.length) {\n      const exposed = instance.exposed || (instance.exposed = {});\n      expose.forEach((key) => {\n        Object.defineProperty(exposed, key, {\n          get: () => publicThis[key],\n          set: (val) => publicThis[key] = val\n        });\n      });\n    } else if (!instance.exposed) {\n      instance.exposed = {};\n    }\n  }\n  if (render && instance.render === NOOP) {\n    instance.render = render;\n  }\n  if (inheritAttrs != null) {\n    instance.inheritAttrs = inheritAttrs;\n  }\n  if (components) instance.components = components;\n  if (directives) instance.directives = directives;\n}\nfunction resolveInjections(injectOptions, ctx, checkDuplicateProperties = NOOP) {\n  if (isArray(injectOptions)) {\n    injectOptions = normalizeInject(injectOptions);\n  }\n  for (const key in injectOptions) {\n    const opt = injectOptions[key];\n    let injected;\n    if (isObject(opt)) {\n      if (\"default\" in opt) {\n        injected = inject(\n          opt.from || key,\n          opt.default,\n          true\n        );\n      } else {\n        injected = inject(opt.from || key);\n      }\n    } else {\n      injected = inject(opt);\n    }\n    if (isRef(injected)) {\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => injected.value,\n        set: (v) => injected.value = v\n      });\n    } else {\n      ctx[key] = injected;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      checkDuplicateProperties(\"Inject\" /* INJECT */, key);\n    }\n  }\n}\nfunction callHook(hook, instance, type) {\n  callWithAsyncErrorHandling(\n    isArray(hook) ? hook.map((h) => h.bind(instance.proxy)) : hook.bind(instance.proxy),\n    instance,\n    type\n  );\n}\nfunction createWatcher(raw, ctx, publicThis, key) {\n  const getter = key.includes(\".\") ? createPathGetter(publicThis, key) : () => publicThis[key];\n  if (isString(raw)) {\n    const handler = ctx[raw];\n    if (isFunction(handler)) {\n      watch(getter, handler);\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(`Invalid watch handler specified by key \"${raw}\"`, handler);\n    }\n  } else if (isFunction(raw)) {\n    watch(getter, raw.bind(publicThis));\n  } else if (isObject(raw)) {\n    if (isArray(raw)) {\n      raw.forEach((r) => createWatcher(r, ctx, publicThis, key));\n    } else {\n      const handler = isFunction(raw.handler) ? raw.handler.bind(publicThis) : ctx[raw.handler];\n      if (isFunction(handler)) {\n        watch(getter, handler, raw);\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn$1(`Invalid watch handler specified by key \"${raw.handler}\"`, handler);\n      }\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(`Invalid watch option: \"${key}\"`, raw);\n  }\n}\nfunction resolveMergedOptions(instance) {\n  const base = instance.type;\n  const { mixins, extends: extendsOptions } = base;\n  const {\n    mixins: globalMixins,\n    optionsCache: cache,\n    config: { optionMergeStrategies }\n  } = instance.appContext;\n  const cached = cache.get(base);\n  let resolved;\n  if (cached) {\n    resolved = cached;\n  } else if (!globalMixins.length && !mixins && !extendsOptions) {\n    {\n      resolved = base;\n    }\n  } else {\n    resolved = {};\n    if (globalMixins.length) {\n      globalMixins.forEach(\n        (m) => mergeOptions(resolved, m, optionMergeStrategies, true)\n      );\n    }\n    mergeOptions(resolved, base, optionMergeStrategies);\n  }\n  if (isObject(base)) {\n    cache.set(base, resolved);\n  }\n  return resolved;\n}\nfunction mergeOptions(to, from, strats, asMixin = false) {\n  const { mixins, extends: extendsOptions } = from;\n  if (extendsOptions) {\n    mergeOptions(to, extendsOptions, strats, true);\n  }\n  if (mixins) {\n    mixins.forEach(\n      (m) => mergeOptions(to, m, strats, true)\n    );\n  }\n  for (const key in from) {\n    if (asMixin && key === \"expose\") {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(\n        `\"expose\" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.`\n      );\n    } else {\n      const strat = internalOptionMergeStrats[key] || strats && strats[key];\n      to[key] = strat ? strat(to[key], from[key]) : from[key];\n    }\n  }\n  return to;\n}\nconst internalOptionMergeStrats = {\n  data: mergeDataFn,\n  props: mergeEmitsOrPropsOptions,\n  emits: mergeEmitsOrPropsOptions,\n  // objects\n  methods: mergeObjectOptions,\n  computed: mergeObjectOptions,\n  // lifecycle\n  beforeCreate: mergeAsArray,\n  created: mergeAsArray,\n  beforeMount: mergeAsArray,\n  mounted: mergeAsArray,\n  beforeUpdate: mergeAsArray,\n  updated: mergeAsArray,\n  beforeDestroy: mergeAsArray,\n  beforeUnmount: mergeAsArray,\n  destroyed: mergeAsArray,\n  unmounted: mergeAsArray,\n  activated: mergeAsArray,\n  deactivated: mergeAsArray,\n  errorCaptured: mergeAsArray,\n  serverPrefetch: mergeAsArray,\n  // assets\n  components: mergeObjectOptions,\n  directives: mergeObjectOptions,\n  // watch\n  watch: mergeWatchOptions,\n  // provide / inject\n  provide: mergeDataFn,\n  inject: mergeInject\n};\nfunction mergeDataFn(to, from) {\n  if (!from) {\n    return to;\n  }\n  if (!to) {\n    return from;\n  }\n  return function mergedDataFn() {\n    return (extend)(\n      isFunction(to) ? to.call(this, this) : to,\n      isFunction(from) ? from.call(this, this) : from\n    );\n  };\n}\nfunction mergeInject(to, from) {\n  return mergeObjectOptions(normalizeInject(to), normalizeInject(from));\n}\nfunction normalizeInject(raw) {\n  if (isArray(raw)) {\n    const res = {};\n    for (let i = 0; i < raw.length; i++) {\n      res[raw[i]] = raw[i];\n    }\n    return res;\n  }\n  return raw;\n}\nfunction mergeAsArray(to, from) {\n  return to ? [...new Set([].concat(to, from))] : from;\n}\nfunction mergeObjectOptions(to, from) {\n  return to ? extend(/* @__PURE__ */ Object.create(null), to, from) : from;\n}\nfunction mergeEmitsOrPropsOptions(to, from) {\n  if (to) {\n    if (isArray(to) && isArray(from)) {\n      return [.../* @__PURE__ */ new Set([...to, ...from])];\n    }\n    return extend(\n      /* @__PURE__ */ Object.create(null),\n      normalizePropsOrEmits(to),\n      normalizePropsOrEmits(from != null ? from : {})\n    );\n  } else {\n    return from;\n  }\n}\nfunction mergeWatchOptions(to, from) {\n  if (!to) return from;\n  if (!from) return to;\n  const merged = extend(/* @__PURE__ */ Object.create(null), to);\n  for (const key in from) {\n    merged[key] = mergeAsArray(to[key], from[key]);\n  }\n  return merged;\n}\n\nfunction createAppContext() {\n  return {\n    app: null,\n    config: {\n      isNativeTag: NO,\n      performance: false,\n      globalProperties: {},\n      optionMergeStrategies: {},\n      errorHandler: void 0,\n      warnHandler: void 0,\n      compilerOptions: {}\n    },\n    mixins: [],\n    components: {},\n    directives: {},\n    provides: /* @__PURE__ */ Object.create(null),\n    optionsCache: /* @__PURE__ */ new WeakMap(),\n    propsCache: /* @__PURE__ */ new WeakMap(),\n    emitsCache: /* @__PURE__ */ new WeakMap()\n  };\n}\nlet uid$1 = 0;\nfunction createAppAPI(render, hydrate) {\n  return function createApp(rootComponent, rootProps = null) {\n    if (!isFunction(rootComponent)) {\n      rootComponent = extend({}, rootComponent);\n    }\n    if (rootProps != null && !isObject(rootProps)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(`root props passed to app.mount() must be an object.`);\n      rootProps = null;\n    }\n    const context = createAppContext();\n    const installedPlugins = /* @__PURE__ */ new WeakSet();\n    let isMounted = false;\n    const app = context.app = {\n      _uid: uid$1++,\n      _component: rootComponent,\n      _props: rootProps,\n      _container: null,\n      _context: context,\n      _instance: null,\n      version,\n      get config() {\n        return context.config;\n      },\n      set config(v) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\n            `app.config cannot be replaced. Modify individual options instead.`\n          );\n        }\n      },\n      use(plugin, ...options) {\n        if (installedPlugins.has(plugin)) {\n          !!(process.env.NODE_ENV !== \"production\") && warn$1(`Plugin has already been applied to target app.`);\n        } else if (plugin && isFunction(plugin.install)) {\n          installedPlugins.add(plugin);\n          plugin.install(app, ...options);\n        } else if (isFunction(plugin)) {\n          installedPlugins.add(plugin);\n          plugin(app, ...options);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\n            `A plugin must either be a function or an object with an \"install\" function.`\n          );\n        }\n        return app;\n      },\n      mixin(mixin) {\n        if (__VUE_OPTIONS_API__) {\n          if (!context.mixins.includes(mixin)) {\n            context.mixins.push(mixin);\n          } else if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn$1(\n              \"Mixin has already been applied to target app\" + (mixin.name ? `: ${mixin.name}` : \"\")\n            );\n          }\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\"Mixins are only available in builds supporting Options API\");\n        }\n        return app;\n      },\n      component(name, component) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          validateComponentName(name, context.config);\n        }\n        if (!component) {\n          return context.components[name];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") && context.components[name]) {\n          warn$1(`Component \"${name}\" has already been registered in target app.`);\n        }\n        context.components[name] = component;\n        return app;\n      },\n      directive(name, directive) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          validateDirectiveName(name);\n        }\n        if (!directive) {\n          return context.directives[name];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") && context.directives[name]) {\n          warn$1(`Directive \"${name}\" has already been registered in target app.`);\n        }\n        context.directives[name] = directive;\n        return app;\n      },\n      mount(rootContainer, isHydrate, namespace) {\n        if (!isMounted) {\n          if (!!(process.env.NODE_ENV !== \"production\") && rootContainer.__vue_app__) {\n            warn$1(\n              `There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling \\`app.unmount()\\` first.`\n            );\n          }\n          const vnode = createVNode(rootComponent, rootProps);\n          vnode.appContext = context;\n          if (namespace === true) {\n            namespace = \"svg\";\n          } else if (namespace === false) {\n            namespace = void 0;\n          }\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            context.reload = () => {\n              render(\n                cloneVNode(vnode),\n                rootContainer,\n                namespace\n              );\n            };\n          }\n          if (isHydrate && hydrate) {\n            hydrate(vnode, rootContainer);\n          } else {\n            render(vnode, rootContainer, namespace);\n          }\n          isMounted = true;\n          app._container = rootContainer;\n          rootContainer.__vue_app__ = app;\n          if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n            app._instance = vnode.component;\n            devtoolsInitApp(app, version);\n          }\n          return getComponentPublicInstance(vnode.component);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\n            `App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. \\`const createMyApp = () => createApp(App)\\``\n          );\n        }\n      },\n      unmount() {\n        if (isMounted) {\n          render(null, app._container);\n          if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n            app._instance = null;\n            devtoolsUnmountApp(app);\n          }\n          delete app._container.__vue_app__;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(`Cannot unmount an app that is not mounted.`);\n        }\n      },\n      provide(key, value) {\n        if (!!(process.env.NODE_ENV !== \"production\") && key in context.provides) {\n          warn$1(\n            `App already provides property with key \"${String(key)}\". It will be overwritten with the new value.`\n          );\n        }\n        context.provides[key] = value;\n        return app;\n      },\n      runWithContext(fn) {\n        const lastApp = currentApp;\n        currentApp = app;\n        try {\n          return fn();\n        } finally {\n          currentApp = lastApp;\n        }\n      }\n    };\n    return app;\n  };\n}\nlet currentApp = null;\n\nfunction provide(key, value) {\n  if (!currentInstance) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(`provide() can only be used inside setup().`);\n    }\n  } else {\n    let provides = currentInstance.provides;\n    const parentProvides = currentInstance.parent && currentInstance.parent.provides;\n    if (parentProvides === provides) {\n      provides = currentInstance.provides = Object.create(parentProvides);\n    }\n    provides[key] = value;\n  }\n}\nfunction inject(key, defaultValue, treatDefaultAsFactory = false) {\n  const instance = currentInstance || currentRenderingInstance;\n  if (instance || currentApp) {\n    const provides = currentApp ? currentApp._context.provides : instance ? instance.parent == null ? instance.vnode.appContext && instance.vnode.appContext.provides : instance.parent.provides : void 0;\n    if (provides && key in provides) {\n      return provides[key];\n    } else if (arguments.length > 1) {\n      return treatDefaultAsFactory && isFunction(defaultValue) ? defaultValue.call(instance && instance.proxy) : defaultValue;\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(`injection \"${String(key)}\" not found.`);\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(`inject() can only be used inside setup() or functional components.`);\n  }\n}\nfunction hasInjectionContext() {\n  return !!(currentInstance || currentRenderingInstance || currentApp);\n}\n\nconst internalObjectProto = {};\nconst createInternalObject = () => Object.create(internalObjectProto);\nconst isInternalObject = (obj) => Object.getPrototypeOf(obj) === internalObjectProto;\n\nfunction initProps(instance, rawProps, isStateful, isSSR = false) {\n  const props = {};\n  const attrs = createInternalObject();\n  instance.propsDefaults = /* @__PURE__ */ Object.create(null);\n  setFullProps(instance, rawProps, props, attrs);\n  for (const key in instance.propsOptions[0]) {\n    if (!(key in props)) {\n      props[key] = void 0;\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    validateProps(rawProps || {}, props, instance);\n  }\n  if (isStateful) {\n    instance.props = isSSR ? props : shallowReactive(props);\n  } else {\n    if (!instance.type.props) {\n      instance.props = attrs;\n    } else {\n      instance.props = props;\n    }\n  }\n  instance.attrs = attrs;\n}\nfunction isInHmrContext(instance) {\n  while (instance) {\n    if (instance.type.__hmrId) return true;\n    instance = instance.parent;\n  }\n}\nfunction updateProps(instance, rawProps, rawPrevProps, optimized) {\n  const {\n    props,\n    attrs,\n    vnode: { patchFlag }\n  } = instance;\n  const rawCurrentProps = toRaw(props);\n  const [options] = instance.propsOptions;\n  let hasAttrsChanged = false;\n  if (\n    // always force full diff in dev\n    // - #1942 if hmr is enabled with sfc component\n    // - vite#872 non-sfc component used by sfc component\n    !(!!(process.env.NODE_ENV !== \"production\") && isInHmrContext(instance)) && (optimized || patchFlag > 0) && !(patchFlag & 16)\n  ) {\n    if (patchFlag & 8) {\n      const propsToUpdate = instance.vnode.dynamicProps;\n      for (let i = 0; i < propsToUpdate.length; i++) {\n        let key = propsToUpdate[i];\n        if (isEmitListener(instance.emitsOptions, key)) {\n          continue;\n        }\n        const value = rawProps[key];\n        if (options) {\n          if (hasOwn(attrs, key)) {\n            if (value !== attrs[key]) {\n              attrs[key] = value;\n              hasAttrsChanged = true;\n            }\n          } else {\n            const camelizedKey = camelize(key);\n            props[camelizedKey] = resolvePropValue(\n              options,\n              rawCurrentProps,\n              camelizedKey,\n              value,\n              instance,\n              false\n            );\n          }\n        } else {\n          if (value !== attrs[key]) {\n            attrs[key] = value;\n            hasAttrsChanged = true;\n          }\n        }\n      }\n    }\n  } else {\n    if (setFullProps(instance, rawProps, props, attrs)) {\n      hasAttrsChanged = true;\n    }\n    let kebabKey;\n    for (const key in rawCurrentProps) {\n      if (!rawProps || // for camelCase\n      !hasOwn(rawProps, key) && // it's possible the original props was passed in as kebab-case\n      // and converted to camelCase (#955)\n      ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey))) {\n        if (options) {\n          if (rawPrevProps && // for camelCase\n          (rawPrevProps[key] !== void 0 || // for kebab-case\n          rawPrevProps[kebabKey] !== void 0)) {\n            props[key] = resolvePropValue(\n              options,\n              rawCurrentProps,\n              key,\n              void 0,\n              instance,\n              true\n            );\n          }\n        } else {\n          delete props[key];\n        }\n      }\n    }\n    if (attrs !== rawCurrentProps) {\n      for (const key in attrs) {\n        if (!rawProps || !hasOwn(rawProps, key) && true) {\n          delete attrs[key];\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (hasAttrsChanged) {\n    trigger(instance.attrs, \"set\", \"\");\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    validateProps(rawProps || {}, props, instance);\n  }\n}\nfunction setFullProps(instance, rawProps, props, attrs) {\n  const [options, needCastKeys] = instance.propsOptions;\n  let hasAttrsChanged = false;\n  let rawCastValues;\n  if (rawProps) {\n    for (let key in rawProps) {\n      if (isReservedProp(key)) {\n        continue;\n      }\n      const value = rawProps[key];\n      let camelKey;\n      if (options && hasOwn(options, camelKey = camelize(key))) {\n        if (!needCastKeys || !needCastKeys.includes(camelKey)) {\n          props[camelKey] = value;\n        } else {\n          (rawCastValues || (rawCastValues = {}))[camelKey] = value;\n        }\n      } else if (!isEmitListener(instance.emitsOptions, key)) {\n        if (!(key in attrs) || value !== attrs[key]) {\n          attrs[key] = value;\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (needCastKeys) {\n    const rawCurrentProps = toRaw(props);\n    const castValues = rawCastValues || EMPTY_OBJ;\n    for (let i = 0; i < needCastKeys.length; i++) {\n      const key = needCastKeys[i];\n      props[key] = resolvePropValue(\n        options,\n        rawCurrentProps,\n        key,\n        castValues[key],\n        instance,\n        !hasOwn(castValues, key)\n      );\n    }\n  }\n  return hasAttrsChanged;\n}\nfunction resolvePropValue(options, props, key, value, instance, isAbsent) {\n  const opt = options[key];\n  if (opt != null) {\n    const hasDefault = hasOwn(opt, \"default\");\n    if (hasDefault && value === void 0) {\n      const defaultValue = opt.default;\n      if (opt.type !== Function && !opt.skipFactory && isFunction(defaultValue)) {\n        const { propsDefaults } = instance;\n        if (key in propsDefaults) {\n          value = propsDefaults[key];\n        } else {\n          const reset = setCurrentInstance(instance);\n          value = propsDefaults[key] = defaultValue.call(\n            null,\n            props\n          );\n          reset();\n        }\n      } else {\n        value = defaultValue;\n      }\n    }\n    if (opt[0 /* shouldCast */]) {\n      if (isAbsent && !hasDefault) {\n        value = false;\n      } else if (opt[1 /* shouldCastTrue */] && (value === \"\" || value === hyphenate(key))) {\n        value = true;\n      }\n    }\n  }\n  return value;\n}\nconst mixinPropsCache = /* @__PURE__ */ new WeakMap();\nfunction normalizePropsOptions(comp, appContext, asMixin = false) {\n  const cache = __VUE_OPTIONS_API__ && asMixin ? mixinPropsCache : appContext.propsCache;\n  const cached = cache.get(comp);\n  if (cached) {\n    return cached;\n  }\n  const raw = comp.props;\n  const normalized = {};\n  const needCastKeys = [];\n  let hasExtends = false;\n  if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\n    const extendProps = (raw2) => {\n      hasExtends = true;\n      const [props, keys] = normalizePropsOptions(raw2, appContext, true);\n      extend(normalized, props);\n      if (keys) needCastKeys.push(...keys);\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendProps);\n    }\n    if (comp.extends) {\n      extendProps(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendProps);\n    }\n  }\n  if (!raw && !hasExtends) {\n    if (isObject(comp)) {\n      cache.set(comp, EMPTY_ARR);\n    }\n    return EMPTY_ARR;\n  }\n  if (isArray(raw)) {\n    for (let i = 0; i < raw.length; i++) {\n      if (!!(process.env.NODE_ENV !== \"production\") && !isString(raw[i])) {\n        warn$1(`props must be strings when using array syntax.`, raw[i]);\n      }\n      const normalizedKey = camelize(raw[i]);\n      if (validatePropName(normalizedKey)) {\n        normalized[normalizedKey] = EMPTY_OBJ;\n      }\n    }\n  } else if (raw) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isObject(raw)) {\n      warn$1(`invalid props options`, raw);\n    }\n    for (const key in raw) {\n      const normalizedKey = camelize(key);\n      if (validatePropName(normalizedKey)) {\n        const opt = raw[key];\n        const prop = normalized[normalizedKey] = isArray(opt) || isFunction(opt) ? { type: opt } : extend({}, opt);\n        const propType = prop.type;\n        let shouldCast = false;\n        let shouldCastTrue = true;\n        if (isArray(propType)) {\n          for (let index = 0; index < propType.length; ++index) {\n            const type = propType[index];\n            const typeName = isFunction(type) && type.name;\n            if (typeName === \"Boolean\") {\n              shouldCast = true;\n              break;\n            } else if (typeName === \"String\") {\n              shouldCastTrue = false;\n            }\n          }\n        } else {\n          shouldCast = isFunction(propType) && propType.name === \"Boolean\";\n        }\n        prop[0 /* shouldCast */] = shouldCast;\n        prop[1 /* shouldCastTrue */] = shouldCastTrue;\n        if (shouldCast || hasOwn(prop, \"default\")) {\n          needCastKeys.push(normalizedKey);\n        }\n      }\n    }\n  }\n  const res = [normalized, needCastKeys];\n  if (isObject(comp)) {\n    cache.set(comp, res);\n  }\n  return res;\n}\nfunction validatePropName(key) {\n  if (key[0] !== \"$\" && !isReservedProp(key)) {\n    return true;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(`Invalid prop name: \"${key}\" is a reserved property.`);\n  }\n  return false;\n}\nfunction getType(ctor) {\n  if (ctor === null) {\n    return \"null\";\n  }\n  if (typeof ctor === \"function\") {\n    return ctor.name || \"\";\n  } else if (typeof ctor === \"object\") {\n    const name = ctor.constructor && ctor.constructor.name;\n    return name || \"\";\n  }\n  return \"\";\n}\nfunction validateProps(rawProps, props, instance) {\n  const resolvedValues = toRaw(props);\n  const options = instance.propsOptions[0];\n  for (const key in options) {\n    let opt = options[key];\n    if (opt == null) continue;\n    validateProp(\n      key,\n      resolvedValues[key],\n      opt,\n      !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(resolvedValues) : resolvedValues,\n      !hasOwn(rawProps, key) && !hasOwn(rawProps, hyphenate(key))\n    );\n  }\n}\nfunction validateProp(name, value, prop, props, isAbsent) {\n  const { type, required, validator, skipCheck } = prop;\n  if (required && isAbsent) {\n    warn$1('Missing required prop: \"' + name + '\"');\n    return;\n  }\n  if (value == null && !required) {\n    return;\n  }\n  if (type != null && type !== true && !skipCheck) {\n    let isValid = false;\n    const types = isArray(type) ? type : [type];\n    const expectedTypes = [];\n    for (let i = 0; i < types.length && !isValid; i++) {\n      const { valid, expectedType } = assertType(value, types[i]);\n      expectedTypes.push(expectedType || \"\");\n      isValid = valid;\n    }\n    if (!isValid) {\n      warn$1(getInvalidTypeMessage(name, value, expectedTypes));\n      return;\n    }\n  }\n  if (validator && !validator(value, props)) {\n    warn$1('Invalid prop: custom validator check failed for prop \"' + name + '\".');\n  }\n}\nconst isSimpleType = /* @__PURE__ */ makeMap(\n  \"String,Number,Boolean,Function,Symbol,BigInt\"\n);\nfunction assertType(value, type) {\n  let valid;\n  const expectedType = getType(type);\n  if (isSimpleType(expectedType)) {\n    const t = typeof value;\n    valid = t === expectedType.toLowerCase();\n    if (!valid && t === \"object\") {\n      valid = value instanceof type;\n    }\n  } else if (expectedType === \"Object\") {\n    valid = isObject(value);\n  } else if (expectedType === \"Array\") {\n    valid = isArray(value);\n  } else if (expectedType === \"null\") {\n    valid = value === null;\n  } else {\n    valid = value instanceof type;\n  }\n  return {\n    valid,\n    expectedType\n  };\n}\nfunction getInvalidTypeMessage(name, value, expectedTypes) {\n  if (expectedTypes.length === 0) {\n    return `Prop type [] for prop \"${name}\" won't match anything. Did you mean to use type Array instead?`;\n  }\n  let message = `Invalid prop: type check failed for prop \"${name}\". Expected ${expectedTypes.map(capitalize).join(\" | \")}`;\n  const expectedType = expectedTypes[0];\n  const receivedType = toRawType(value);\n  const expectedValue = styleValue(value, expectedType);\n  const receivedValue = styleValue(value, receivedType);\n  if (expectedTypes.length === 1 && isExplicable(expectedType) && !isBoolean(expectedType, receivedType)) {\n    message += ` with value ${expectedValue}`;\n  }\n  message += `, got ${receivedType} `;\n  if (isExplicable(receivedType)) {\n    message += `with value ${receivedValue}.`;\n  }\n  return message;\n}\nfunction styleValue(value, type) {\n  if (type === \"String\") {\n    return `\"${value}\"`;\n  } else if (type === \"Number\") {\n    return `${Number(value)}`;\n  } else {\n    return `${value}`;\n  }\n}\nfunction isExplicable(type) {\n  const explicitTypes = [\"string\", \"number\", \"boolean\"];\n  return explicitTypes.some((elem) => type.toLowerCase() === elem);\n}\nfunction isBoolean(...args) {\n  return args.some((elem) => elem.toLowerCase() === \"boolean\");\n}\n\nconst isInternalKey = (key) => key[0] === \"_\" || key === \"$stable\";\nconst normalizeSlotValue = (value) => isArray(value) ? value.map(normalizeVNode) : [normalizeVNode(value)];\nconst normalizeSlot = (key, rawSlot, ctx) => {\n  if (rawSlot._n) {\n    return rawSlot;\n  }\n  const normalized = withCtx((...args) => {\n    if (!!(process.env.NODE_ENV !== \"production\") && currentInstance && (!ctx || ctx.root === currentInstance.root)) {\n      warn$1(\n        `Slot \"${key}\" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`\n      );\n    }\n    return normalizeSlotValue(rawSlot(...args));\n  }, ctx);\n  normalized._c = false;\n  return normalized;\n};\nconst normalizeObjectSlots = (rawSlots, slots, instance) => {\n  const ctx = rawSlots._ctx;\n  for (const key in rawSlots) {\n    if (isInternalKey(key)) continue;\n    const value = rawSlots[key];\n    if (isFunction(value)) {\n      slots[key] = normalizeSlot(key, value, ctx);\n    } else if (value != null) {\n      if (!!(process.env.NODE_ENV !== \"production\") && true) {\n        warn$1(\n          `Non-function value encountered for slot \"${key}\". Prefer function slots for better performance.`\n        );\n      }\n      const normalized = normalizeSlotValue(value);\n      slots[key] = () => normalized;\n    }\n  }\n};\nconst normalizeVNodeSlots = (instance, children) => {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isKeepAlive(instance.vnode) && true) {\n    warn$1(\n      `Non-function value encountered for default slot. Prefer function slots for better performance.`\n    );\n  }\n  const normalized = normalizeSlotValue(children);\n  instance.slots.default = () => normalized;\n};\nconst assignSlots = (slots, children, optimized) => {\n  for (const key in children) {\n    if (optimized || key !== \"_\") {\n      slots[key] = children[key];\n    }\n  }\n};\nconst initSlots = (instance, children, optimized) => {\n  const slots = instance.slots = createInternalObject();\n  if (instance.vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      assignSlots(slots, children, optimized);\n      if (optimized) {\n        def(slots, \"_\", type, true);\n      }\n    } else {\n      normalizeObjectSlots(children, slots);\n    }\n  } else if (children) {\n    normalizeVNodeSlots(instance, children);\n  }\n};\nconst updateSlots = (instance, children, optimized) => {\n  const { vnode, slots } = instance;\n  let needDeletionCheck = true;\n  let deletionComparisonTarget = EMPTY_OBJ;\n  if (vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n        assignSlots(slots, children, optimized);\n        trigger(instance, \"set\", \"$slots\");\n      } else if (optimized && type === 1) {\n        needDeletionCheck = false;\n      } else {\n        assignSlots(slots, children, optimized);\n      }\n    } else {\n      needDeletionCheck = !children.$stable;\n      normalizeObjectSlots(children, slots);\n    }\n    deletionComparisonTarget = children;\n  } else if (children) {\n    normalizeVNodeSlots(instance, children);\n    deletionComparisonTarget = { default: 1 };\n  }\n  if (needDeletionCheck) {\n    for (const key in slots) {\n      if (!isInternalKey(key) && deletionComparisonTarget[key] == null) {\n        delete slots[key];\n      }\n    }\n  }\n};\n\nfunction setRef(rawRef, oldRawRef, parentSuspense, vnode, isUnmount = false) {\n  if (isArray(rawRef)) {\n    rawRef.forEach(\n      (r, i) => setRef(\n        r,\n        oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef),\n        parentSuspense,\n        vnode,\n        isUnmount\n      )\n    );\n    return;\n  }\n  if (isAsyncWrapper(vnode) && !isUnmount) {\n    return;\n  }\n  const refValue = vnode.shapeFlag & 4 ? getComponentPublicInstance(vnode.component) : vnode.el;\n  const value = isUnmount ? null : refValue;\n  const { i: owner, r: ref } = rawRef;\n  if (!!(process.env.NODE_ENV !== \"production\") && !owner) {\n    warn$1(\n      `Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.`\n    );\n    return;\n  }\n  const oldRef = oldRawRef && oldRawRef.r;\n  const refs = owner.refs === EMPTY_OBJ ? owner.refs = {} : owner.refs;\n  const setupState = owner.setupState;\n  if (oldRef != null && oldRef !== ref) {\n    if (isString(oldRef)) {\n      refs[oldRef] = null;\n      if (hasOwn(setupState, oldRef)) {\n        setupState[oldRef] = null;\n      }\n    } else if (isRef(oldRef)) {\n      oldRef.value = null;\n    }\n  }\n  if (isFunction(ref)) {\n    callWithErrorHandling(ref, owner, 12, [value, refs]);\n  } else {\n    const _isString = isString(ref);\n    const _isRef = isRef(ref);\n    if (_isString || _isRef) {\n      const doSet = () => {\n        if (rawRef.f) {\n          const existing = _isString ? hasOwn(setupState, ref) ? setupState[ref] : refs[ref] : ref.value;\n          if (isUnmount) {\n            isArray(existing) && remove(existing, refValue);\n          } else {\n            if (!isArray(existing)) {\n              if (_isString) {\n                refs[ref] = [refValue];\n                if (hasOwn(setupState, ref)) {\n                  setupState[ref] = refs[ref];\n                }\n              } else {\n                ref.value = [refValue];\n                if (rawRef.k) refs[rawRef.k] = ref.value;\n              }\n            } else if (!existing.includes(refValue)) {\n              existing.push(refValue);\n            }\n          }\n        } else if (_isString) {\n          refs[ref] = value;\n          if (hasOwn(setupState, ref)) {\n            setupState[ref] = value;\n          }\n        } else if (_isRef) {\n          ref.value = value;\n          if (rawRef.k) refs[rawRef.k] = value;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\"Invalid template ref type:\", ref, `(${typeof ref})`);\n        }\n      };\n      if (value) {\n        doSet.id = -1;\n        queuePostRenderEffect(doSet, parentSuspense);\n      } else {\n        doSet();\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(\"Invalid template ref type:\", ref, `(${typeof ref})`);\n    }\n  }\n}\n\nconst TeleportEndKey = Symbol(\"_vte\");\nconst isTeleport = (type) => type.__isTeleport;\nconst isTeleportDisabled = (props) => props && (props.disabled || props.disabled === \"\");\nconst isTargetSVG = (target) => typeof SVGElement !== \"undefined\" && target instanceof SVGElement;\nconst isTargetMathML = (target) => typeof MathMLElement === \"function\" && target instanceof MathMLElement;\nconst resolveTarget = (props, select) => {\n  const targetSelector = props && props.to;\n  if (isString(targetSelector)) {\n    if (!select) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(\n        `Current renderer does not support string target for Teleports. (missing querySelector renderer option)`\n      );\n      return null;\n    } else {\n      const target = select(targetSelector);\n      if (!!(process.env.NODE_ENV !== \"production\") && !target && !isTeleportDisabled(props)) {\n        warn$1(\n          `Failed to locate Teleport target with selector \"${targetSelector}\". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`\n        );\n      }\n      return target;\n    }\n  } else {\n    if (!!(process.env.NODE_ENV !== \"production\") && !targetSelector && !isTeleportDisabled(props)) {\n      warn$1(`Invalid Teleport target: ${targetSelector}`);\n    }\n    return targetSelector;\n  }\n};\nconst TeleportImpl = {\n  name: \"Teleport\",\n  __isTeleport: true,\n  process(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, internals) {\n    const {\n      mc: mountChildren,\n      pc: patchChildren,\n      pbc: patchBlockChildren,\n      o: { insert, querySelector, createText, createComment }\n    } = internals;\n    const disabled = isTeleportDisabled(n2.props);\n    let { shapeFlag, children, dynamicChildren } = n2;\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (n1 == null) {\n      const placeholder = n2.el = !!(process.env.NODE_ENV !== \"production\") ? createComment(\"teleport start\") : createText(\"\");\n      const mainAnchor = n2.anchor = !!(process.env.NODE_ENV !== \"production\") ? createComment(\"teleport end\") : createText(\"\");\n      insert(placeholder, container, anchor);\n      insert(mainAnchor, container, anchor);\n      const target = n2.target = resolveTarget(n2.props, querySelector);\n      const targetAnchor = prepareAnchor(target, n2, createText, insert);\n      if (target) {\n        if (namespace === \"svg\" || isTargetSVG(target)) {\n          namespace = \"svg\";\n        } else if (namespace === \"mathml\" || isTargetMathML(target)) {\n          namespace = \"mathml\";\n        }\n      } else if (!!(process.env.NODE_ENV !== \"production\") && !disabled) {\n        warn$1(\"Invalid Teleport target on mount:\", target, `(${typeof target})`);\n      }\n      const mount = (container2, anchor2) => {\n        if (shapeFlag & 16) {\n          mountChildren(\n            children,\n            container2,\n            anchor2,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        }\n      };\n      if (disabled) {\n        mount(container, mainAnchor);\n      } else if (target) {\n        mount(target, targetAnchor);\n      }\n    } else {\n      n2.el = n1.el;\n      n2.targetStart = n1.targetStart;\n      const mainAnchor = n2.anchor = n1.anchor;\n      const target = n2.target = n1.target;\n      const targetAnchor = n2.targetAnchor = n1.targetAnchor;\n      const wasDisabled = isTeleportDisabled(n1.props);\n      const currentContainer = wasDisabled ? container : target;\n      const currentAnchor = wasDisabled ? mainAnchor : targetAnchor;\n      if (namespace === \"svg\" || isTargetSVG(target)) {\n        namespace = \"svg\";\n      } else if (namespace === \"mathml\" || isTargetMathML(target)) {\n        namespace = \"mathml\";\n      }\n      if (dynamicChildren) {\n        patchBlockChildren(\n          n1.dynamicChildren,\n          dynamicChildren,\n          currentContainer,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds\n        );\n        traverseStaticChildren(n1, n2, true);\n      } else if (!optimized) {\n        patchChildren(\n          n1,\n          n2,\n          currentContainer,\n          currentAnchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          false\n        );\n      }\n      if (disabled) {\n        if (!wasDisabled) {\n          moveTeleport(\n            n2,\n            container,\n            mainAnchor,\n            internals,\n            1\n          );\n        } else {\n          if (n2.props && n1.props && n2.props.to !== n1.props.to) {\n            n2.props.to = n1.props.to;\n          }\n        }\n      } else {\n        if ((n2.props && n2.props.to) !== (n1.props && n1.props.to)) {\n          const nextTarget = n2.target = resolveTarget(\n            n2.props,\n            querySelector\n          );\n          if (nextTarget) {\n            moveTeleport(\n              n2,\n              nextTarget,\n              null,\n              internals,\n              0\n            );\n          } else if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn$1(\n              \"Invalid Teleport target on update:\",\n              target,\n              `(${typeof target})`\n            );\n          }\n        } else if (wasDisabled) {\n          moveTeleport(\n            n2,\n            target,\n            targetAnchor,\n            internals,\n            1\n          );\n        }\n      }\n    }\n    updateCssVars(n2);\n  },\n  remove(vnode, parentComponent, parentSuspense, { um: unmount, o: { remove: hostRemove } }, doRemove) {\n    const {\n      shapeFlag,\n      children,\n      anchor,\n      targetStart,\n      targetAnchor,\n      target,\n      props\n    } = vnode;\n    if (target) {\n      hostRemove(targetStart);\n      hostRemove(targetAnchor);\n    }\n    doRemove && hostRemove(anchor);\n    if (shapeFlag & 16) {\n      const shouldRemove = doRemove || !isTeleportDisabled(props);\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        unmount(\n          child,\n          parentComponent,\n          parentSuspense,\n          shouldRemove,\n          !!child.dynamicChildren\n        );\n      }\n    }\n  },\n  move: moveTeleport,\n  hydrate: hydrateTeleport\n};\nfunction moveTeleport(vnode, container, parentAnchor, { o: { insert }, m: move }, moveType = 2) {\n  if (moveType === 0) {\n    insert(vnode.targetAnchor, container, parentAnchor);\n  }\n  const { el, anchor, shapeFlag, children, props } = vnode;\n  const isReorder = moveType === 2;\n  if (isReorder) {\n    insert(el, container, parentAnchor);\n  }\n  if (!isReorder || isTeleportDisabled(props)) {\n    if (shapeFlag & 16) {\n      for (let i = 0; i < children.length; i++) {\n        move(\n          children[i],\n          container,\n          parentAnchor,\n          2\n        );\n      }\n    }\n  }\n  if (isReorder) {\n    insert(anchor, container, parentAnchor);\n  }\n}\nfunction hydrateTeleport(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized, {\n  o: { nextSibling, parentNode, querySelector, insert, createText }\n}, hydrateChildren) {\n  const target = vnode.target = resolveTarget(\n    vnode.props,\n    querySelector\n  );\n  if (target) {\n    const targetNode = target._lpa || target.firstChild;\n    if (vnode.shapeFlag & 16) {\n      if (isTeleportDisabled(vnode.props)) {\n        vnode.anchor = hydrateChildren(\n          nextSibling(node),\n          vnode,\n          parentNode(node),\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n        vnode.targetStart = targetNode;\n        vnode.targetAnchor = targetNode && nextSibling(targetNode);\n      } else {\n        vnode.anchor = nextSibling(node);\n        let targetAnchor = targetNode;\n        while (targetAnchor) {\n          if (targetAnchor && targetAnchor.nodeType === 8) {\n            if (targetAnchor.data === \"teleport start anchor\") {\n              vnode.targetStart = targetAnchor;\n            } else if (targetAnchor.data === \"teleport anchor\") {\n              vnode.targetAnchor = targetAnchor;\n              target._lpa = vnode.targetAnchor && nextSibling(vnode.targetAnchor);\n              break;\n            }\n          }\n          targetAnchor = nextSibling(targetAnchor);\n        }\n        if (!vnode.targetAnchor) {\n          prepareAnchor(target, vnode, createText, insert);\n        }\n        hydrateChildren(\n          targetNode && nextSibling(targetNode),\n          vnode,\n          target,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n      }\n    }\n    updateCssVars(vnode);\n  }\n  return vnode.anchor && nextSibling(vnode.anchor);\n}\nconst Teleport = TeleportImpl;\nfunction updateCssVars(vnode) {\n  const ctx = vnode.ctx;\n  if (ctx && ctx.ut) {\n    let node = vnode.children[0].el;\n    while (node && node !== vnode.targetAnchor) {\n      if (node.nodeType === 1) node.setAttribute(\"data-v-owner\", ctx.uid);\n      node = node.nextSibling;\n    }\n    ctx.ut();\n  }\n}\nfunction prepareAnchor(target, vnode, createText, insert) {\n  const targetStart = vnode.targetStart = createText(\"\");\n  const targetAnchor = vnode.targetAnchor = createText(\"\");\n  targetStart[TeleportEndKey] = targetAnchor;\n  if (target) {\n    insert(targetStart, target);\n    insert(targetAnchor, target);\n  }\n  return targetAnchor;\n}\n\nlet hasLoggedMismatchError = false;\nconst logMismatchError = () => {\n  if (hasLoggedMismatchError) {\n    return;\n  }\n  console.error(\"Hydration completed but contains mismatches.\");\n  hasLoggedMismatchError = true;\n};\nconst isSVGContainer = (container) => container.namespaceURI.includes(\"svg\") && container.tagName !== \"foreignObject\";\nconst isMathMLContainer = (container) => container.namespaceURI.includes(\"MathML\");\nconst getContainerType = (container) => {\n  if (isSVGContainer(container)) return \"svg\";\n  if (isMathMLContainer(container)) return \"mathml\";\n  return void 0;\n};\nconst isComment = (node) => node.nodeType === 8 /* COMMENT */;\nfunction createHydrationFunctions(rendererInternals) {\n  const {\n    mt: mountComponent,\n    p: patch,\n    o: {\n      patchProp,\n      createText,\n      nextSibling,\n      parentNode,\n      remove,\n      insert,\n      createComment\n    }\n  } = rendererInternals;\n  const hydrate = (vnode, container) => {\n    if (!container.hasChildNodes()) {\n      (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && warn$1(\n        `Attempting to hydrate existing markup but container is empty. Performing full mount instead.`\n      );\n      patch(null, vnode, container);\n      flushPostFlushCbs();\n      container._vnode = vnode;\n      return;\n    }\n    hydrateNode(container.firstChild, vnode, null, null, null);\n    flushPostFlushCbs();\n    container._vnode = vnode;\n  };\n  const hydrateNode = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized = false) => {\n    optimized = optimized || !!vnode.dynamicChildren;\n    const isFragmentStart = isComment(node) && node.data === \"[\";\n    const onMismatch = () => handleMismatch(\n      node,\n      vnode,\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      isFragmentStart\n    );\n    const { type, ref, shapeFlag, patchFlag } = vnode;\n    let domType = node.nodeType;\n    vnode.el = node;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      def(node, \"__vnode\", vnode, true);\n      def(node, \"__vueParentComponent\", parentComponent, true);\n    }\n    if (patchFlag === -2) {\n      optimized = false;\n      vnode.dynamicChildren = null;\n    }\n    let nextNode = null;\n    switch (type) {\n      case Text:\n        if (domType !== 3 /* TEXT */) {\n          if (vnode.children === \"\") {\n            insert(vnode.el = createText(\"\"), parentNode(node), node);\n            nextNode = node;\n          } else {\n            nextNode = onMismatch();\n          }\n        } else {\n          if (node.data !== vnode.children) {\n            (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && warn$1(\n              `Hydration text mismatch in`,\n              node.parentNode,\n              `\n  - rendered on server: ${JSON.stringify(\n                node.data\n              )}\n  - expected on client: ${JSON.stringify(vnode.children)}`\n            );\n            logMismatchError();\n            node.data = vnode.children;\n          }\n          nextNode = nextSibling(node);\n        }\n        break;\n      case Comment:\n        if (isTemplateNode(node)) {\n          nextNode = nextSibling(node);\n          replaceNode(\n            vnode.el = node.content.firstChild,\n            node,\n            parentComponent\n          );\n        } else if (domType !== 8 /* COMMENT */ || isFragmentStart) {\n          nextNode = onMismatch();\n        } else {\n          nextNode = nextSibling(node);\n        }\n        break;\n      case Static:\n        if (isFragmentStart) {\n          node = nextSibling(node);\n          domType = node.nodeType;\n        }\n        if (domType === 1 /* ELEMENT */ || domType === 3 /* TEXT */) {\n          nextNode = node;\n          const needToAdoptContent = !vnode.children.length;\n          for (let i = 0; i < vnode.staticCount; i++) {\n            if (needToAdoptContent)\n              vnode.children += nextNode.nodeType === 1 /* ELEMENT */ ? nextNode.outerHTML : nextNode.data;\n            if (i === vnode.staticCount - 1) {\n              vnode.anchor = nextNode;\n            }\n            nextNode = nextSibling(nextNode);\n          }\n          return isFragmentStart ? nextSibling(nextNode) : nextNode;\n        } else {\n          onMismatch();\n        }\n        break;\n      case Fragment:\n        if (!isFragmentStart) {\n          nextNode = onMismatch();\n        } else {\n          nextNode = hydrateFragment(\n            node,\n            vnode,\n            parentComponent,\n            parentSuspense,\n            slotScopeIds,\n            optimized\n          );\n        }\n        break;\n      default:\n        if (shapeFlag & 1) {\n          if ((domType !== 1 /* ELEMENT */ || vnode.type.toLowerCase() !== node.tagName.toLowerCase()) && !isTemplateNode(node)) {\n            nextNode = onMismatch();\n          } else {\n            nextNode = hydrateElement(\n              node,\n              vnode,\n              parentComponent,\n              parentSuspense,\n              slotScopeIds,\n              optimized\n            );\n          }\n        } else if (shapeFlag & 6) {\n          vnode.slotScopeIds = slotScopeIds;\n          const container = parentNode(node);\n          if (isFragmentStart) {\n            nextNode = locateClosingAnchor(node);\n          } else if (isComment(node) && node.data === \"teleport start\") {\n            nextNode = locateClosingAnchor(node, node.data, \"teleport end\");\n          } else {\n            nextNode = nextSibling(node);\n          }\n          mountComponent(\n            vnode,\n            container,\n            null,\n            parentComponent,\n            parentSuspense,\n            getContainerType(container),\n            optimized\n          );\n          if (isAsyncWrapper(vnode)) {\n            let subTree;\n            if (isFragmentStart) {\n              subTree = createVNode(Fragment);\n              subTree.anchor = nextNode ? nextNode.previousSibling : container.lastChild;\n            } else {\n              subTree = node.nodeType === 3 ? createTextVNode(\"\") : createVNode(\"div\");\n            }\n            subTree.el = node;\n            vnode.component.subTree = subTree;\n          }\n        } else if (shapeFlag & 64) {\n          if (domType !== 8 /* COMMENT */) {\n            nextNode = onMismatch();\n          } else {\n            nextNode = vnode.type.hydrate(\n              node,\n              vnode,\n              parentComponent,\n              parentSuspense,\n              slotScopeIds,\n              optimized,\n              rendererInternals,\n              hydrateChildren\n            );\n          }\n        } else if (shapeFlag & 128) {\n          nextNode = vnode.type.hydrate(\n            node,\n            vnode,\n            parentComponent,\n            parentSuspense,\n            getContainerType(parentNode(node)),\n            slotScopeIds,\n            optimized,\n            rendererInternals,\n            hydrateNode\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) {\n          warn$1(\"Invalid HostVNode type:\", type, `(${typeof type})`);\n        }\n    }\n    if (ref != null) {\n      setRef(ref, null, parentSuspense, vnode);\n    }\n    return nextNode;\n  };\n  const hydrateElement = (el, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    optimized = optimized || !!vnode.dynamicChildren;\n    const { type, props, patchFlag, shapeFlag, dirs, transition } = vnode;\n    const forcePatch = type === \"input\" || type === \"option\";\n    if (!!(process.env.NODE_ENV !== \"production\") || forcePatch || patchFlag !== -1) {\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n      }\n      let needCallTransitionHooks = false;\n      if (isTemplateNode(el)) {\n        needCallTransitionHooks = needTransition(parentSuspense, transition) && parentComponent && parentComponent.vnode.props && parentComponent.vnode.props.appear;\n        const content = el.content.firstChild;\n        if (needCallTransitionHooks) {\n          transition.beforeEnter(content);\n        }\n        replaceNode(content, el, parentComponent);\n        vnode.el = el = content;\n      }\n      if (shapeFlag & 16 && // skip if element has innerHTML / textContent\n      !(props && (props.innerHTML || props.textContent))) {\n        let next = hydrateChildren(\n          el.firstChild,\n          vnode,\n          el,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n        let hasWarned = false;\n        while (next) {\n          if ((!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && !hasWarned) {\n            warn$1(\n              `Hydration children mismatch on`,\n              el,\n              `\nServer rendered element contains more child nodes than client vdom.`\n            );\n            hasWarned = true;\n          }\n          logMismatchError();\n          const cur = next;\n          next = next.nextSibling;\n          remove(cur);\n        }\n      } else if (shapeFlag & 8) {\n        if (el.textContent !== vnode.children) {\n          (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && warn$1(\n            `Hydration text content mismatch on`,\n            el,\n            `\n  - rendered on server: ${el.textContent}\n  - expected on client: ${vnode.children}`\n          );\n          logMismatchError();\n          el.textContent = vnode.children;\n        }\n      }\n      if (props) {\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__ || forcePatch || !optimized || patchFlag & (16 | 32)) {\n          const isCustomElement = el.tagName.includes(\"-\");\n          for (const key in props) {\n            if ((!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && // #11189 skip if this node has directives that have created hooks\n            // as it could have mutated the DOM in any possible way\n            !(dirs && dirs.some((d) => d.dir.created)) && propHasMismatch(el, key, props[key], vnode, parentComponent)) {\n              logMismatchError();\n            }\n            if (forcePatch && (key.endsWith(\"value\") || key === \"indeterminate\") || isOn(key) && !isReservedProp(key) || // force hydrate v-bind with .prop modifiers\n            key[0] === \".\" || isCustomElement) {\n              patchProp(el, key, null, props[key], void 0, parentComponent);\n            }\n          }\n        } else if (props.onClick) {\n          patchProp(\n            el,\n            \"onClick\",\n            null,\n            props.onClick,\n            void 0,\n            parentComponent\n          );\n        } else if (patchFlag & 4 && isReactive(props.style)) {\n          for (const key in props.style) props.style[key];\n        }\n      }\n      let vnodeHooks;\n      if (vnodeHooks = props && props.onVnodeBeforeMount) {\n        invokeVNodeHook(vnodeHooks, parentComponent, vnode);\n      }\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n      }\n      if ((vnodeHooks = props && props.onVnodeMounted) || dirs || needCallTransitionHooks) {\n        queueEffectWithSuspense(() => {\n          vnodeHooks && invokeVNodeHook(vnodeHooks, parentComponent, vnode);\n          needCallTransitionHooks && transition.enter(el);\n          dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n        }, parentSuspense);\n      }\n    }\n    return el.nextSibling;\n  };\n  const hydrateChildren = (node, parentVNode, container, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    optimized = optimized || !!parentVNode.dynamicChildren;\n    const children = parentVNode.children;\n    const l = children.length;\n    let hasWarned = false;\n    for (let i = 0; i < l; i++) {\n      const vnode = optimized ? children[i] : children[i] = normalizeVNode(children[i]);\n      const isText = vnode.type === Text;\n      if (node) {\n        if (isText && !optimized) {\n          let next = children[i + 1];\n          if (next && (next = normalizeVNode(next)).type === Text) {\n            insert(\n              createText(\n                node.data.slice(vnode.children.length)\n              ),\n              container,\n              nextSibling(node)\n            );\n            node.data = vnode.children;\n          }\n        }\n        node = hydrateNode(\n          node,\n          vnode,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n      } else if (isText && !vnode.children) {\n        insert(vnode.el = createText(\"\"), container);\n      } else {\n        if ((!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && !hasWarned) {\n          warn$1(\n            `Hydration children mismatch on`,\n            container,\n            `\nServer rendered element contains fewer child nodes than client vdom.`\n          );\n          hasWarned = true;\n        }\n        logMismatchError();\n        patch(\n          null,\n          vnode,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          getContainerType(container),\n          slotScopeIds\n        );\n      }\n    }\n    return node;\n  };\n  const hydrateFragment = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    const { slotScopeIds: fragmentSlotScopeIds } = vnode;\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    const container = parentNode(node);\n    const next = hydrateChildren(\n      nextSibling(node),\n      vnode,\n      container,\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      optimized\n    );\n    if (next && isComment(next) && next.data === \"]\") {\n      return nextSibling(vnode.anchor = next);\n    } else {\n      logMismatchError();\n      insert(vnode.anchor = createComment(`]`), container, next);\n      return next;\n    }\n  };\n  const handleMismatch = (node, vnode, parentComponent, parentSuspense, slotScopeIds, isFragment) => {\n    (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && warn$1(\n      `Hydration node mismatch:\n- rendered on server:`,\n      node,\n      node.nodeType === 3 /* TEXT */ ? `(text)` : isComment(node) && node.data === \"[\" ? `(start of fragment)` : ``,\n      `\n- expected on client:`,\n      vnode.type\n    );\n    logMismatchError();\n    vnode.el = null;\n    if (isFragment) {\n      const end = locateClosingAnchor(node);\n      while (true) {\n        const next2 = nextSibling(node);\n        if (next2 && next2 !== end) {\n          remove(next2);\n        } else {\n          break;\n        }\n      }\n    }\n    const next = nextSibling(node);\n    const container = parentNode(node);\n    remove(node);\n    patch(\n      null,\n      vnode,\n      container,\n      next,\n      parentComponent,\n      parentSuspense,\n      getContainerType(container),\n      slotScopeIds\n    );\n    return next;\n  };\n  const locateClosingAnchor = (node, open = \"[\", close = \"]\") => {\n    let match = 0;\n    while (node) {\n      node = nextSibling(node);\n      if (node && isComment(node)) {\n        if (node.data === open) match++;\n        if (node.data === close) {\n          if (match === 0) {\n            return nextSibling(node);\n          } else {\n            match--;\n          }\n        }\n      }\n    }\n    return node;\n  };\n  const replaceNode = (newNode, oldNode, parentComponent) => {\n    const parentNode2 = oldNode.parentNode;\n    if (parentNode2) {\n      parentNode2.replaceChild(newNode, oldNode);\n    }\n    let parent = parentComponent;\n    while (parent) {\n      if (parent.vnode.el === oldNode) {\n        parent.vnode.el = parent.subTree.el = newNode;\n      }\n      parent = parent.parent;\n    }\n  };\n  const isTemplateNode = (node) => {\n    return node.nodeType === 1 /* ELEMENT */ && node.tagName.toLowerCase() === \"template\";\n  };\n  return [hydrate, hydrateNode];\n}\nfunction propHasMismatch(el, key, clientValue, vnode, instance) {\n  let mismatchType;\n  let mismatchKey;\n  let actual;\n  let expected;\n  if (key === \"class\") {\n    actual = el.getAttribute(\"class\");\n    expected = normalizeClass(clientValue);\n    if (!isSetEqual(toClassSet(actual || \"\"), toClassSet(expected))) {\n      mismatchType = mismatchKey = `class`;\n    }\n  } else if (key === \"style\") {\n    actual = el.getAttribute(\"style\") || \"\";\n    expected = isString(clientValue) ? clientValue : stringifyStyle(normalizeStyle(clientValue));\n    const actualMap = toStyleMap(actual);\n    const expectedMap = toStyleMap(expected);\n    if (vnode.dirs) {\n      for (const { dir, value } of vnode.dirs) {\n        if (dir.name === \"show\" && !value) {\n          expectedMap.set(\"display\", \"none\");\n        }\n      }\n    }\n    if (instance) {\n      resolveCssVars(instance, vnode, expectedMap);\n    }\n    if (!isMapEqual(actualMap, expectedMap)) {\n      mismatchType = mismatchKey = \"style\";\n    }\n  } else if (el instanceof SVGElement && isKnownSvgAttr(key) || el instanceof HTMLElement && (isBooleanAttr(key) || isKnownHtmlAttr(key))) {\n    if (isBooleanAttr(key)) {\n      actual = el.hasAttribute(key);\n      expected = includeBooleanAttr(clientValue);\n    } else if (clientValue == null) {\n      actual = el.hasAttribute(key);\n      expected = false;\n    } else {\n      if (el.hasAttribute(key)) {\n        actual = el.getAttribute(key);\n      } else if (key === \"value\" && el.tagName === \"TEXTAREA\") {\n        actual = el.value;\n      } else {\n        actual = false;\n      }\n      expected = isRenderableAttrValue(clientValue) ? String(clientValue) : false;\n    }\n    if (actual !== expected) {\n      mismatchType = `attribute`;\n      mismatchKey = key;\n    }\n  }\n  if (mismatchType) {\n    const format = (v) => v === false ? `(not rendered)` : `${mismatchKey}=\"${v}\"`;\n    const preSegment = `Hydration ${mismatchType} mismatch on`;\n    const postSegment = `\n  - rendered on server: ${format(actual)}\n  - expected on client: ${format(expected)}\n  Note: this mismatch is check-only. The DOM will not be rectified in production due to performance overhead.\n  You should fix the source of the mismatch.`;\n    {\n      warn$1(preSegment, el, postSegment);\n    }\n    return true;\n  }\n  return false;\n}\nfunction toClassSet(str) {\n  return new Set(str.trim().split(/\\s+/));\n}\nfunction isSetEqual(a, b) {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const s of a) {\n    if (!b.has(s)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction toStyleMap(str) {\n  const styleMap = /* @__PURE__ */ new Map();\n  for (const item of str.split(\";\")) {\n    let [key, value] = item.split(\":\");\n    key = key.trim();\n    value = value && value.trim();\n    if (key && value) {\n      styleMap.set(key, value);\n    }\n  }\n  return styleMap;\n}\nfunction isMapEqual(a, b) {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const [key, value] of a) {\n    if (value !== b.get(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction resolveCssVars(instance, vnode, expectedMap) {\n  const root = instance.subTree;\n  if (instance.getCssVars && (vnode === root || root && root.type === Fragment && root.children.includes(vnode))) {\n    const cssVars = instance.getCssVars();\n    for (const key in cssVars) {\n      expectedMap.set(`--${key}`, String(cssVars[key]));\n    }\n  }\n  if (vnode === root && instance.parent) {\n    resolveCssVars(instance.parent, instance.vnode, expectedMap);\n  }\n}\n\nlet supported;\nlet perf;\nfunction startMeasure(instance, type) {\n  if (instance.appContext.config.performance && isSupported()) {\n    perf.mark(`vue-${type}-${instance.uid}`);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsPerfStart(instance, type, isSupported() ? perf.now() : Date.now());\n  }\n}\nfunction endMeasure(instance, type) {\n  if (instance.appContext.config.performance && isSupported()) {\n    const startTag = `vue-${type}-${instance.uid}`;\n    const endTag = startTag + `:end`;\n    perf.mark(endTag);\n    perf.measure(\n      `<${formatComponentName(instance, instance.type)}> ${type}`,\n      startTag,\n      endTag\n    );\n    perf.clearMarks(startTag);\n    perf.clearMarks(endTag);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsPerfEnd(instance, type, isSupported() ? perf.now() : Date.now());\n  }\n}\nfunction isSupported() {\n  if (supported !== void 0) {\n    return supported;\n  }\n  if (typeof window !== \"undefined\" && window.performance) {\n    supported = true;\n    perf = window.performance;\n  } else {\n    supported = false;\n  }\n  return supported;\n}\n\nfunction initFeatureFlags() {\n  const needWarn = [];\n  if (typeof __VUE_OPTIONS_API__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_OPTIONS_API__`);\n    getGlobalThis().__VUE_OPTIONS_API__ = true;\n  }\n  if (typeof __VUE_PROD_DEVTOOLS__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_PROD_DEVTOOLS__`);\n    getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;\n  }\n  if (typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_PROD_HYDRATION_MISMATCH_DETAILS__`);\n    getGlobalThis().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__ = false;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && needWarn.length) {\n    const multi = needWarn.length > 1;\n    console.warn(\n      `Feature flag${multi ? `s` : ``} ${needWarn.join(\", \")} ${multi ? `are` : `is`} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.\n\nFor more details, see https://link.vuejs.org/feature-flags.`\n    );\n  }\n}\n\nconst queuePostRenderEffect = queueEffectWithSuspense ;\nfunction createRenderer(options) {\n  return baseCreateRenderer(options);\n}\nfunction createHydrationRenderer(options) {\n  return baseCreateRenderer(options, createHydrationFunctions);\n}\nfunction baseCreateRenderer(options, createHydrationFns) {\n  {\n    initFeatureFlags();\n  }\n  const target = getGlobalThis();\n  target.__VUE__ = true;\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    setDevtoolsHook$1(target.__VUE_DEVTOOLS_GLOBAL_HOOK__, target);\n  }\n  const {\n    insert: hostInsert,\n    remove: hostRemove,\n    patchProp: hostPatchProp,\n    createElement: hostCreateElement,\n    createText: hostCreateText,\n    createComment: hostCreateComment,\n    setText: hostSetText,\n    setElementText: hostSetElementText,\n    parentNode: hostParentNode,\n    nextSibling: hostNextSibling,\n    setScopeId: hostSetScopeId = NOOP,\n    insertStaticContent: hostInsertStaticContent\n  } = options;\n  const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, namespace = void 0, slotScopeIds = null, optimized = !!(process.env.NODE_ENV !== \"production\") && isHmrUpdating ? false : !!n2.dynamicChildren) => {\n    if (n1 === n2) {\n      return;\n    }\n    if (n1 && !isSameVNodeType(n1, n2)) {\n      anchor = getNextHostNode(n1);\n      unmount(n1, parentComponent, parentSuspense, true);\n      n1 = null;\n    }\n    if (n2.patchFlag === -2) {\n      optimized = false;\n      n2.dynamicChildren = null;\n    }\n    const { type, ref, shapeFlag } = n2;\n    switch (type) {\n      case Text:\n        processText(n1, n2, container, anchor);\n        break;\n      case Comment:\n        processCommentNode(n1, n2, container, anchor);\n        break;\n      case Static:\n        if (n1 == null) {\n          mountStaticNode(n2, container, anchor, namespace);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          patchStaticNode(n1, n2, container, namespace);\n        }\n        break;\n      case Fragment:\n        processFragment(\n          n1,\n          n2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        break;\n      default:\n        if (shapeFlag & 1) {\n          processElement(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        } else if (shapeFlag & 6) {\n          processComponent(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        } else if (shapeFlag & 64) {\n          type.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        } else if (shapeFlag & 128) {\n          type.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\"Invalid VNode type:\", type, `(${typeof type})`);\n        }\n    }\n    if (ref != null && parentComponent) {\n      setRef(ref, n1 && n1.ref, parentSuspense, n2 || n1, !n2);\n    }\n  };\n  const processText = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(\n        n2.el = hostCreateText(n2.children),\n        container,\n        anchor\n      );\n    } else {\n      const el = n2.el = n1.el;\n      if (n2.children !== n1.children) {\n        hostSetText(el, n2.children);\n      }\n    }\n  };\n  const processCommentNode = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(\n        n2.el = hostCreateComment(n2.children || \"\"),\n        container,\n        anchor\n      );\n    } else {\n      n2.el = n1.el;\n    }\n  };\n  const mountStaticNode = (n2, container, anchor, namespace) => {\n    [n2.el, n2.anchor] = hostInsertStaticContent(\n      n2.children,\n      container,\n      anchor,\n      namespace,\n      n2.el,\n      n2.anchor\n    );\n  };\n  const patchStaticNode = (n1, n2, container, namespace) => {\n    if (n2.children !== n1.children) {\n      const anchor = hostNextSibling(n1.anchor);\n      removeStaticNode(n1);\n      [n2.el, n2.anchor] = hostInsertStaticContent(\n        n2.children,\n        container,\n        anchor,\n        namespace\n      );\n    } else {\n      n2.el = n1.el;\n      n2.anchor = n1.anchor;\n    }\n  };\n  const moveStaticNode = ({ el, anchor }, container, nextSibling) => {\n    let next;\n    while (el && el !== anchor) {\n      next = hostNextSibling(el);\n      hostInsert(el, container, nextSibling);\n      el = next;\n    }\n    hostInsert(anchor, container, nextSibling);\n  };\n  const removeStaticNode = ({ el, anchor }) => {\n    let next;\n    while (el && el !== anchor) {\n      next = hostNextSibling(el);\n      hostRemove(el);\n      el = next;\n    }\n    hostRemove(anchor);\n  };\n  const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    if (n2.type === \"svg\") {\n      namespace = \"svg\";\n    } else if (n2.type === \"math\") {\n      namespace = \"mathml\";\n    }\n    if (n1 == null) {\n      mountElement(\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    } else {\n      patchElement(\n        n1,\n        n2,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    }\n  };\n  const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    let el;\n    let vnodeHook;\n    const { props, shapeFlag, transition, dirs } = vnode;\n    el = vnode.el = hostCreateElement(\n      vnode.type,\n      namespace,\n      props && props.is,\n      props\n    );\n    if (shapeFlag & 8) {\n      hostSetElementText(el, vnode.children);\n    } else if (shapeFlag & 16) {\n      mountChildren(\n        vnode.children,\n        el,\n        null,\n        parentComponent,\n        parentSuspense,\n        resolveChildrenNamespace(vnode, namespace),\n        slotScopeIds,\n        optimized\n      );\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n    }\n    setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);\n    if (props) {\n      for (const key in props) {\n        if (key !== \"value\" && !isReservedProp(key)) {\n          hostPatchProp(el, key, null, props[key], namespace, parentComponent);\n        }\n      }\n      if (\"value\" in props) {\n        hostPatchProp(el, \"value\", null, props.value, namespace);\n      }\n      if (vnodeHook = props.onVnodeBeforeMount) {\n        invokeVNodeHook(vnodeHook, parentComponent, vnode);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      def(el, \"__vnode\", vnode, true);\n      def(el, \"__vueParentComponent\", parentComponent, true);\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n    }\n    const needCallTransitionHooks = needTransition(parentSuspense, transition);\n    if (needCallTransitionHooks) {\n      transition.beforeEnter(el);\n    }\n    hostInsert(el, container, anchor);\n    if ((vnodeHook = props && props.onVnodeMounted) || needCallTransitionHooks || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        needCallTransitionHooks && transition.enter(el);\n        dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n      }, parentSuspense);\n    }\n  };\n  const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {\n    if (scopeId) {\n      hostSetScopeId(el, scopeId);\n    }\n    if (slotScopeIds) {\n      for (let i = 0; i < slotScopeIds.length; i++) {\n        hostSetScopeId(el, slotScopeIds[i]);\n      }\n    }\n    if (parentComponent) {\n      let subTree = parentComponent.subTree;\n      if (!!(process.env.NODE_ENV !== \"production\") && subTree.patchFlag > 0 && subTree.patchFlag & 2048) {\n        subTree = filterSingleRoot(subTree.children) || subTree;\n      }\n      if (vnode === subTree) {\n        const parentVNode = parentComponent.vnode;\n        setScopeId(\n          el,\n          parentVNode,\n          parentVNode.scopeId,\n          parentVNode.slotScopeIds,\n          parentComponent.parent\n        );\n      }\n    }\n  };\n  const mountChildren = (children, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, start = 0) => {\n    for (let i = start; i < children.length; i++) {\n      const child = children[i] = optimized ? cloneIfMounted(children[i]) : normalizeVNode(children[i]);\n      patch(\n        null,\n        child,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    }\n  };\n  const patchElement = (n1, n2, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    const el = n2.el = n1.el;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      el.__vnode = n2;\n    }\n    let { patchFlag, dynamicChildren, dirs } = n2;\n    patchFlag |= n1.patchFlag & 16;\n    const oldProps = n1.props || EMPTY_OBJ;\n    const newProps = n2.props || EMPTY_OBJ;\n    let vnodeHook;\n    parentComponent && toggleRecurse(parentComponent, false);\n    if (vnodeHook = newProps.onVnodeBeforeUpdate) {\n      invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n    }\n    if (dirs) {\n      invokeDirectiveHook(n2, n1, parentComponent, \"beforeUpdate\");\n    }\n    parentComponent && toggleRecurse(parentComponent, true);\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n      patchFlag = 0;\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (oldProps.innerHTML && newProps.innerHTML == null || oldProps.textContent && newProps.textContent == null) {\n      hostSetElementText(el, \"\");\n    }\n    if (dynamicChildren) {\n      patchBlockChildren(\n        n1.dynamicChildren,\n        dynamicChildren,\n        el,\n        parentComponent,\n        parentSuspense,\n        resolveChildrenNamespace(n2, namespace),\n        slotScopeIds\n      );\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        traverseStaticChildren(n1, n2);\n      }\n    } else if (!optimized) {\n      patchChildren(\n        n1,\n        n2,\n        el,\n        null,\n        parentComponent,\n        parentSuspense,\n        resolveChildrenNamespace(n2, namespace),\n        slotScopeIds,\n        false\n      );\n    }\n    if (patchFlag > 0) {\n      if (patchFlag & 16) {\n        patchProps(el, oldProps, newProps, parentComponent, namespace);\n      } else {\n        if (patchFlag & 2) {\n          if (oldProps.class !== newProps.class) {\n            hostPatchProp(el, \"class\", null, newProps.class, namespace);\n          }\n        }\n        if (patchFlag & 4) {\n          hostPatchProp(el, \"style\", oldProps.style, newProps.style, namespace);\n        }\n        if (patchFlag & 8) {\n          const propsToUpdate = n2.dynamicProps;\n          for (let i = 0; i < propsToUpdate.length; i++) {\n            const key = propsToUpdate[i];\n            const prev = oldProps[key];\n            const next = newProps[key];\n            if (next !== prev || key === \"value\") {\n              hostPatchProp(el, key, prev, next, namespace, parentComponent);\n            }\n          }\n        }\n      }\n      if (patchFlag & 1) {\n        if (n1.children !== n2.children) {\n          hostSetElementText(el, n2.children);\n        }\n      }\n    } else if (!optimized && dynamicChildren == null) {\n      patchProps(el, oldProps, newProps, parentComponent, namespace);\n    }\n    if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n        dirs && invokeDirectiveHook(n2, n1, parentComponent, \"updated\");\n      }, parentSuspense);\n    }\n  };\n  const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, namespace, slotScopeIds) => {\n    for (let i = 0; i < newChildren.length; i++) {\n      const oldVNode = oldChildren[i];\n      const newVNode = newChildren[i];\n      const container = (\n        // oldVNode may be an errored async setup() component inside Suspense\n        // which will not have a mounted element\n        oldVNode.el && // - In the case of a Fragment, we need to provide the actual parent\n        // of the Fragment itself so it can move its children.\n        (oldVNode.type === Fragment || // - In the case of different nodes, there is going to be a replacement\n        // which also requires the correct parent container\n        !isSameVNodeType(oldVNode, newVNode) || // - In the case of a component, it could contain anything.\n        oldVNode.shapeFlag & (6 | 64)) ? hostParentNode(oldVNode.el) : (\n          // In other cases, the parent container is not actually used so we\n          // just pass the block element here to avoid a DOM parentNode call.\n          fallbackContainer\n        )\n      );\n      patch(\n        oldVNode,\n        newVNode,\n        container,\n        null,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        true\n      );\n    }\n  };\n  const patchProps = (el, oldProps, newProps, parentComponent, namespace) => {\n    if (oldProps !== newProps) {\n      if (oldProps !== EMPTY_OBJ) {\n        for (const key in oldProps) {\n          if (!isReservedProp(key) && !(key in newProps)) {\n            hostPatchProp(\n              el,\n              key,\n              oldProps[key],\n              null,\n              namespace,\n              parentComponent\n            );\n          }\n        }\n      }\n      for (const key in newProps) {\n        if (isReservedProp(key)) continue;\n        const next = newProps[key];\n        const prev = oldProps[key];\n        if (next !== prev && key !== \"value\") {\n          hostPatchProp(el, key, prev, next, namespace, parentComponent);\n        }\n      }\n      if (\"value\" in newProps) {\n        hostPatchProp(el, \"value\", oldProps.value, newProps.value, namespace);\n      }\n    }\n  };\n  const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    const fragmentStartAnchor = n2.el = n1 ? n1.el : hostCreateText(\"\");\n    const fragmentEndAnchor = n2.anchor = n1 ? n1.anchor : hostCreateText(\"\");\n    let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;\n    if (!!(process.env.NODE_ENV !== \"production\") && // #5523 dev root fragment may inherit directives\n    (isHmrUpdating || patchFlag & 2048)) {\n      patchFlag = 0;\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    if (n1 == null) {\n      hostInsert(fragmentStartAnchor, container, anchor);\n      hostInsert(fragmentEndAnchor, container, anchor);\n      mountChildren(\n        // #10007\n        // such fragment like `<></>` will be compiled into\n        // a fragment which doesn't have a children.\n        // In this case fallback to an empty array\n        n2.children || [],\n        container,\n        fragmentEndAnchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    } else {\n      if (patchFlag > 0 && patchFlag & 64 && dynamicChildren && // #2715 the previous fragment could've been a BAILed one as a result\n      // of renderSlot() with no valid children\n      n1.dynamicChildren) {\n        patchBlockChildren(\n          n1.dynamicChildren,\n          dynamicChildren,\n          container,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds\n        );\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          traverseStaticChildren(n1, n2);\n        } else if (\n          // #2080 if the stable fragment has a key, it's a <template v-for> that may\n          //  get moved around. Make sure all root level vnodes inherit el.\n          // #2134 or if it's a component root, it may also get moved around\n          // as the component is being moved.\n          n2.key != null || parentComponent && n2 === parentComponent.subTree\n        ) {\n          traverseStaticChildren(\n            n1,\n            n2,\n            true\n            /* shallow */\n          );\n        }\n      } else {\n        patchChildren(\n          n1,\n          n2,\n          container,\n          fragmentEndAnchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n      }\n    }\n  };\n  const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    n2.slotScopeIds = slotScopeIds;\n    if (n1 == null) {\n      if (n2.shapeFlag & 512) {\n        parentComponent.ctx.activate(\n          n2,\n          container,\n          anchor,\n          namespace,\n          optimized\n        );\n      } else {\n        mountComponent(\n          n2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          optimized\n        );\n      }\n    } else {\n      updateComponent(n1, n2, optimized);\n    }\n  };\n  const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, namespace, optimized) => {\n    const instance = (initialVNode.component = createComponentInstance(\n      initialVNode,\n      parentComponent,\n      parentSuspense\n    ));\n    if (!!(process.env.NODE_ENV !== \"production\") && instance.type.__hmrId) {\n      registerHMR(instance);\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      pushWarningContext(initialVNode);\n      startMeasure(instance, `mount`);\n    }\n    if (isKeepAlive(initialVNode)) {\n      instance.ctx.renderer = internals;\n    }\n    {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        startMeasure(instance, `init`);\n      }\n      setupComponent(instance, false, optimized);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        endMeasure(instance, `init`);\n      }\n    }\n    if (instance.asyncDep) {\n      parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect, optimized);\n      if (!initialVNode.el) {\n        const placeholder = instance.subTree = createVNode(Comment);\n        processCommentNode(null, placeholder, container, anchor);\n      }\n    } else {\n      setupRenderEffect(\n        instance,\n        initialVNode,\n        container,\n        anchor,\n        parentSuspense,\n        namespace,\n        optimized\n      );\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      popWarningContext();\n      endMeasure(instance, `mount`);\n    }\n  };\n  const updateComponent = (n1, n2, optimized) => {\n    const instance = n2.component = n1.component;\n    if (shouldUpdateComponent(n1, n2, optimized)) {\n      if (instance.asyncDep && !instance.asyncResolved) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(n2);\n        }\n        updateComponentPreRender(instance, n2, optimized);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n        return;\n      } else {\n        instance.next = n2;\n        invalidateJob(instance.update);\n        instance.effect.dirty = true;\n        instance.update();\n      }\n    } else {\n      n2.el = n1.el;\n      instance.vnode = n2;\n    }\n  };\n  const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, namespace, optimized) => {\n    const componentUpdateFn = () => {\n      if (!instance.isMounted) {\n        let vnodeHook;\n        const { el, props } = initialVNode;\n        const { bm, m, parent } = instance;\n        const isAsyncWrapperVNode = isAsyncWrapper(initialVNode);\n        toggleRecurse(instance, false);\n        if (bm) {\n          invokeArrayFns(bm);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeBeforeMount)) {\n          invokeVNodeHook(vnodeHook, parent, initialVNode);\n        }\n        toggleRecurse(instance, true);\n        if (el && hydrateNode) {\n          const hydrateSubTree = () => {\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              startMeasure(instance, `render`);\n            }\n            instance.subTree = renderComponentRoot(instance);\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              endMeasure(instance, `render`);\n            }\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              startMeasure(instance, `hydrate`);\n            }\n            hydrateNode(\n              el,\n              instance.subTree,\n              instance,\n              parentSuspense,\n              null\n            );\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              endMeasure(instance, `hydrate`);\n            }\n          };\n          if (isAsyncWrapperVNode) {\n            initialVNode.type.__asyncLoader().then(\n              // note: we are moving the render call into an async callback,\n              // which means it won't track dependencies - but it's ok because\n              // a server-rendered async wrapper is already in resolved state\n              // and it will never need to change.\n              () => !instance.isUnmounted && hydrateSubTree()\n            );\n          } else {\n            hydrateSubTree();\n          }\n        } else {\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            startMeasure(instance, `render`);\n          }\n          const subTree = instance.subTree = renderComponentRoot(instance);\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            endMeasure(instance, `render`);\n          }\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            startMeasure(instance, `patch`);\n          }\n          patch(\n            null,\n            subTree,\n            container,\n            anchor,\n            instance,\n            parentSuspense,\n            namespace\n          );\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            endMeasure(instance, `patch`);\n          }\n          initialVNode.el = subTree.el;\n        }\n        if (m) {\n          queuePostRenderEffect(m, parentSuspense);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeMounted)) {\n          const scopedInitialVNode = initialVNode;\n          queuePostRenderEffect(\n            () => invokeVNodeHook(vnodeHook, parent, scopedInitialVNode),\n            parentSuspense\n          );\n        }\n        if (initialVNode.shapeFlag & 256 || parent && isAsyncWrapper(parent.vnode) && parent.vnode.shapeFlag & 256) {\n          instance.a && queuePostRenderEffect(instance.a, parentSuspense);\n        }\n        instance.isMounted = true;\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n          devtoolsComponentAdded(instance);\n        }\n        initialVNode = container = anchor = null;\n      } else {\n        let { next, bu, u, parent, vnode } = instance;\n        {\n          const nonHydratedAsyncRoot = locateNonHydratedAsyncRoot(instance);\n          if (nonHydratedAsyncRoot) {\n            if (next) {\n              next.el = vnode.el;\n              updateComponentPreRender(instance, next, optimized);\n            }\n            nonHydratedAsyncRoot.asyncDep.then(() => {\n              if (!instance.isUnmounted) {\n                componentUpdateFn();\n              }\n            });\n            return;\n          }\n        }\n        let originNext = next;\n        let vnodeHook;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(next || instance.vnode);\n        }\n        toggleRecurse(instance, false);\n        if (next) {\n          next.el = vnode.el;\n          updateComponentPreRender(instance, next, optimized);\n        } else {\n          next = vnode;\n        }\n        if (bu) {\n          invokeArrayFns(bu);\n        }\n        if (vnodeHook = next.props && next.props.onVnodeBeforeUpdate) {\n          invokeVNodeHook(vnodeHook, parent, next, vnode);\n        }\n        toggleRecurse(instance, true);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `render`);\n        }\n        const nextTree = renderComponentRoot(instance);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `render`);\n        }\n        const prevTree = instance.subTree;\n        instance.subTree = nextTree;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `patch`);\n        }\n        patch(\n          prevTree,\n          nextTree,\n          // parent may have changed if it's in a teleport\n          hostParentNode(prevTree.el),\n          // anchor may have changed if it's in a fragment\n          getNextHostNode(prevTree),\n          instance,\n          parentSuspense,\n          namespace\n        );\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `patch`);\n        }\n        next.el = nextTree.el;\n        if (originNext === null) {\n          updateHOCHostEl(instance, nextTree.el);\n        }\n        if (u) {\n          queuePostRenderEffect(u, parentSuspense);\n        }\n        if (vnodeHook = next.props && next.props.onVnodeUpdated) {\n          queuePostRenderEffect(\n            () => invokeVNodeHook(vnodeHook, parent, next, vnode),\n            parentSuspense\n          );\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n          devtoolsComponentUpdated(instance);\n        }\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n      }\n    };\n    const effect = instance.effect = new ReactiveEffect(\n      componentUpdateFn,\n      NOOP,\n      () => queueJob(update),\n      instance.scope\n      // track it in component's effect scope\n    );\n    const update = instance.update = () => {\n      if (effect.dirty) {\n        effect.run();\n      }\n    };\n    update.i = instance;\n    update.id = instance.uid;\n    toggleRecurse(instance, true);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      effect.onTrack = instance.rtc ? (e) => invokeArrayFns(instance.rtc, e) : void 0;\n      effect.onTrigger = instance.rtg ? (e) => invokeArrayFns(instance.rtg, e) : void 0;\n    }\n    update();\n  };\n  const updateComponentPreRender = (instance, nextVNode, optimized) => {\n    nextVNode.component = instance;\n    const prevProps = instance.vnode.props;\n    instance.vnode = nextVNode;\n    instance.next = null;\n    updateProps(instance, nextVNode.props, prevProps, optimized);\n    updateSlots(instance, nextVNode.children, optimized);\n    pauseTracking();\n    flushPreFlushCbs(instance);\n    resetTracking();\n  };\n  const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized = false) => {\n    const c1 = n1 && n1.children;\n    const prevShapeFlag = n1 ? n1.shapeFlag : 0;\n    const c2 = n2.children;\n    const { patchFlag, shapeFlag } = n2;\n    if (patchFlag > 0) {\n      if (patchFlag & 128) {\n        patchKeyedChildren(\n          c1,\n          c2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        return;\n      } else if (patchFlag & 256) {\n        patchUnkeyedChildren(\n          c1,\n          c2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        return;\n      }\n    }\n    if (shapeFlag & 8) {\n      if (prevShapeFlag & 16) {\n        unmountChildren(c1, parentComponent, parentSuspense);\n      }\n      if (c2 !== c1) {\n        hostSetElementText(container, c2);\n      }\n    } else {\n      if (prevShapeFlag & 16) {\n        if (shapeFlag & 16) {\n          patchKeyedChildren(\n            c1,\n            c2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        } else {\n          unmountChildren(c1, parentComponent, parentSuspense, true);\n        }\n      } else {\n        if (prevShapeFlag & 8) {\n          hostSetElementText(container, \"\");\n        }\n        if (shapeFlag & 16) {\n          mountChildren(\n            c2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        }\n      }\n    }\n  };\n  const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    c1 = c1 || EMPTY_ARR;\n    c2 = c2 || EMPTY_ARR;\n    const oldLength = c1.length;\n    const newLength = c2.length;\n    const commonLength = Math.min(oldLength, newLength);\n    let i;\n    for (i = 0; i < commonLength; i++) {\n      const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      patch(\n        c1[i],\n        nextChild,\n        container,\n        null,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    }\n    if (oldLength > newLength) {\n      unmountChildren(\n        c1,\n        parentComponent,\n        parentSuspense,\n        true,\n        false,\n        commonLength\n      );\n    } else {\n      mountChildren(\n        c2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized,\n        commonLength\n      );\n    }\n  };\n  const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    let i = 0;\n    const l2 = c2.length;\n    let e1 = c1.length - 1;\n    let e2 = l2 - 1;\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[i];\n      const n2 = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(\n          n1,\n          n2,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n      } else {\n        break;\n      }\n      i++;\n    }\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[e1];\n      const n2 = c2[e2] = optimized ? cloneIfMounted(c2[e2]) : normalizeVNode(c2[e2]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(\n          n1,\n          n2,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n      } else {\n        break;\n      }\n      e1--;\n      e2--;\n    }\n    if (i > e1) {\n      if (i <= e2) {\n        const nextPos = e2 + 1;\n        const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;\n        while (i <= e2) {\n          patch(\n            null,\n            c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]),\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n          i++;\n        }\n      }\n    } else if (i > e2) {\n      while (i <= e1) {\n        unmount(c1[i], parentComponent, parentSuspense, true);\n        i++;\n      }\n    } else {\n      const s1 = i;\n      const s2 = i;\n      const keyToNewIndexMap = /* @__PURE__ */ new Map();\n      for (i = s2; i <= e2; i++) {\n        const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n        if (nextChild.key != null) {\n          if (!!(process.env.NODE_ENV !== \"production\") && keyToNewIndexMap.has(nextChild.key)) {\n            warn$1(\n              `Duplicate keys found during update:`,\n              JSON.stringify(nextChild.key),\n              `Make sure keys are unique.`\n            );\n          }\n          keyToNewIndexMap.set(nextChild.key, i);\n        }\n      }\n      let j;\n      let patched = 0;\n      const toBePatched = e2 - s2 + 1;\n      let moved = false;\n      let maxNewIndexSoFar = 0;\n      const newIndexToOldIndexMap = new Array(toBePatched);\n      for (i = 0; i < toBePatched; i++) newIndexToOldIndexMap[i] = 0;\n      for (i = s1; i <= e1; i++) {\n        const prevChild = c1[i];\n        if (patched >= toBePatched) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n          continue;\n        }\n        let newIndex;\n        if (prevChild.key != null) {\n          newIndex = keyToNewIndexMap.get(prevChild.key);\n        } else {\n          for (j = s2; j <= e2; j++) {\n            if (newIndexToOldIndexMap[j - s2] === 0 && isSameVNodeType(prevChild, c2[j])) {\n              newIndex = j;\n              break;\n            }\n          }\n        }\n        if (newIndex === void 0) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n        } else {\n          newIndexToOldIndexMap[newIndex - s2] = i + 1;\n          if (newIndex >= maxNewIndexSoFar) {\n            maxNewIndexSoFar = newIndex;\n          } else {\n            moved = true;\n          }\n          patch(\n            prevChild,\n            c2[newIndex],\n            container,\n            null,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n          patched++;\n        }\n      }\n      const increasingNewIndexSequence = moved ? getSequence(newIndexToOldIndexMap) : EMPTY_ARR;\n      j = increasingNewIndexSequence.length - 1;\n      for (i = toBePatched - 1; i >= 0; i--) {\n        const nextIndex = s2 + i;\n        const nextChild = c2[nextIndex];\n        const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;\n        if (newIndexToOldIndexMap[i] === 0) {\n          patch(\n            null,\n            nextChild,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        } else if (moved) {\n          if (j < 0 || i !== increasingNewIndexSequence[j]) {\n            move(nextChild, container, anchor, 2);\n          } else {\n            j--;\n          }\n        }\n      }\n    }\n  };\n  const move = (vnode, container, anchor, moveType, parentSuspense = null) => {\n    const { el, type, transition, children, shapeFlag } = vnode;\n    if (shapeFlag & 6) {\n      move(vnode.component.subTree, container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 128) {\n      vnode.suspense.move(container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 64) {\n      type.move(vnode, container, anchor, internals);\n      return;\n    }\n    if (type === Fragment) {\n      hostInsert(el, container, anchor);\n      for (let i = 0; i < children.length; i++) {\n        move(children[i], container, anchor, moveType);\n      }\n      hostInsert(vnode.anchor, container, anchor);\n      return;\n    }\n    if (type === Static) {\n      moveStaticNode(vnode, container, anchor);\n      return;\n    }\n    const needTransition2 = moveType !== 2 && shapeFlag & 1 && transition;\n    if (needTransition2) {\n      if (moveType === 0) {\n        transition.beforeEnter(el);\n        hostInsert(el, container, anchor);\n        queuePostRenderEffect(() => transition.enter(el), parentSuspense);\n      } else {\n        const { leave, delayLeave, afterLeave } = transition;\n        const remove2 = () => hostInsert(el, container, anchor);\n        const performLeave = () => {\n          leave(el, () => {\n            remove2();\n            afterLeave && afterLeave();\n          });\n        };\n        if (delayLeave) {\n          delayLeave(el, remove2, performLeave);\n        } else {\n          performLeave();\n        }\n      }\n    } else {\n      hostInsert(el, container, anchor);\n    }\n  };\n  const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {\n    const {\n      type,\n      props,\n      ref,\n      children,\n      dynamicChildren,\n      shapeFlag,\n      patchFlag,\n      dirs,\n      cacheIndex\n    } = vnode;\n    if (patchFlag === -2) {\n      optimized = false;\n    }\n    if (ref != null) {\n      setRef(ref, null, parentSuspense, vnode, true);\n    }\n    if (cacheIndex != null) {\n      parentComponent.renderCache[cacheIndex] = void 0;\n    }\n    if (shapeFlag & 256) {\n      parentComponent.ctx.deactivate(vnode);\n      return;\n    }\n    const shouldInvokeDirs = shapeFlag & 1 && dirs;\n    const shouldInvokeVnodeHook = !isAsyncWrapper(vnode);\n    let vnodeHook;\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeBeforeUnmount)) {\n      invokeVNodeHook(vnodeHook, parentComponent, vnode);\n    }\n    if (shapeFlag & 6) {\n      unmountComponent(vnode.component, parentSuspense, doRemove);\n    } else {\n      if (shapeFlag & 128) {\n        vnode.suspense.unmount(parentSuspense, doRemove);\n        return;\n      }\n      if (shouldInvokeDirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeUnmount\");\n      }\n      if (shapeFlag & 64) {\n        vnode.type.remove(\n          vnode,\n          parentComponent,\n          parentSuspense,\n          internals,\n          doRemove\n        );\n      } else if (dynamicChildren && // #5154\n      // when v-once is used inside a block, setBlockTracking(-1) marks the\n      // parent block with hasOnce: true\n      // so that it doesn't take the fast path during unmount - otherwise\n      // components nested in v-once are never unmounted.\n      !dynamicChildren.hasOnce && // #1153: fast path should not be taken for non-stable (v-for) fragments\n      (type !== Fragment || patchFlag > 0 && patchFlag & 64)) {\n        unmountChildren(\n          dynamicChildren,\n          parentComponent,\n          parentSuspense,\n          false,\n          true\n        );\n      } else if (type === Fragment && patchFlag & (128 | 256) || !optimized && shapeFlag & 16) {\n        unmountChildren(children, parentComponent, parentSuspense);\n      }\n      if (doRemove) {\n        remove(vnode);\n      }\n    }\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        shouldInvokeDirs && invokeDirectiveHook(vnode, null, parentComponent, \"unmounted\");\n      }, parentSuspense);\n    }\n  };\n  const remove = (vnode) => {\n    const { type, el, anchor, transition } = vnode;\n    if (type === Fragment) {\n      if (!!(process.env.NODE_ENV !== \"production\") && vnode.patchFlag > 0 && vnode.patchFlag & 2048 && transition && !transition.persisted) {\n        vnode.children.forEach((child) => {\n          if (child.type === Comment) {\n            hostRemove(child.el);\n          } else {\n            remove(child);\n          }\n        });\n      } else {\n        removeFragment(el, anchor);\n      }\n      return;\n    }\n    if (type === Static) {\n      removeStaticNode(vnode);\n      return;\n    }\n    const performRemove = () => {\n      hostRemove(el);\n      if (transition && !transition.persisted && transition.afterLeave) {\n        transition.afterLeave();\n      }\n    };\n    if (vnode.shapeFlag & 1 && transition && !transition.persisted) {\n      const { leave, delayLeave } = transition;\n      const performLeave = () => leave(el, performRemove);\n      if (delayLeave) {\n        delayLeave(vnode.el, performRemove, performLeave);\n      } else {\n        performLeave();\n      }\n    } else {\n      performRemove();\n    }\n  };\n  const removeFragment = (cur, end) => {\n    let next;\n    while (cur !== end) {\n      next = hostNextSibling(cur);\n      hostRemove(cur);\n      cur = next;\n    }\n    hostRemove(end);\n  };\n  const unmountComponent = (instance, parentSuspense, doRemove) => {\n    if (!!(process.env.NODE_ENV !== \"production\") && instance.type.__hmrId) {\n      unregisterHMR(instance);\n    }\n    const { bum, scope, update, subTree, um, m, a } = instance;\n    invalidateMount(m);\n    invalidateMount(a);\n    if (bum) {\n      invokeArrayFns(bum);\n    }\n    scope.stop();\n    if (update) {\n      update.active = false;\n      unmount(subTree, instance, parentSuspense, doRemove);\n    }\n    if (um) {\n      queuePostRenderEffect(um, parentSuspense);\n    }\n    queuePostRenderEffect(() => {\n      instance.isUnmounted = true;\n    }, parentSuspense);\n    if (parentSuspense && parentSuspense.pendingBranch && !parentSuspense.isUnmounted && instance.asyncDep && !instance.asyncResolved && instance.suspenseId === parentSuspense.pendingId) {\n      parentSuspense.deps--;\n      if (parentSuspense.deps === 0) {\n        parentSuspense.resolve();\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      devtoolsComponentRemoved(instance);\n    }\n  };\n  const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {\n    for (let i = start; i < children.length; i++) {\n      unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);\n    }\n  };\n  const getNextHostNode = (vnode) => {\n    if (vnode.shapeFlag & 6) {\n      return getNextHostNode(vnode.component.subTree);\n    }\n    if (vnode.shapeFlag & 128) {\n      return vnode.suspense.next();\n    }\n    const el = hostNextSibling(vnode.anchor || vnode.el);\n    const teleportEnd = el && el[TeleportEndKey];\n    return teleportEnd ? hostNextSibling(teleportEnd) : el;\n  };\n  let isFlushing = false;\n  const render = (vnode, container, namespace) => {\n    if (vnode == null) {\n      if (container._vnode) {\n        unmount(container._vnode, null, null, true);\n      }\n    } else {\n      patch(\n        container._vnode || null,\n        vnode,\n        container,\n        null,\n        null,\n        null,\n        namespace\n      );\n    }\n    container._vnode = vnode;\n    if (!isFlushing) {\n      isFlushing = true;\n      flushPreFlushCbs();\n      flushPostFlushCbs();\n      isFlushing = false;\n    }\n  };\n  const internals = {\n    p: patch,\n    um: unmount,\n    m: move,\n    r: remove,\n    mt: mountComponent,\n    mc: mountChildren,\n    pc: patchChildren,\n    pbc: patchBlockChildren,\n    n: getNextHostNode,\n    o: options\n  };\n  let hydrate;\n  let hydrateNode;\n  if (createHydrationFns) {\n    [hydrate, hydrateNode] = createHydrationFns(\n      internals\n    );\n  }\n  return {\n    render,\n    hydrate,\n    createApp: createAppAPI(render, hydrate)\n  };\n}\nfunction resolveChildrenNamespace({ type, props }, currentNamespace) {\n  return currentNamespace === \"svg\" && type === \"foreignObject\" || currentNamespace === \"mathml\" && type === \"annotation-xml\" && props && props.encoding && props.encoding.includes(\"html\") ? void 0 : currentNamespace;\n}\nfunction toggleRecurse({ effect, update }, allowed) {\n  effect.allowRecurse = update.allowRecurse = allowed;\n}\nfunction needTransition(parentSuspense, transition) {\n  return (!parentSuspense || parentSuspense && !parentSuspense.pendingBranch) && transition && !transition.persisted;\n}\nfunction traverseStaticChildren(n1, n2, shallow = false) {\n  const ch1 = n1.children;\n  const ch2 = n2.children;\n  if (isArray(ch1) && isArray(ch2)) {\n    for (let i = 0; i < ch1.length; i++) {\n      const c1 = ch1[i];\n      let c2 = ch2[i];\n      if (c2.shapeFlag & 1 && !c2.dynamicChildren) {\n        if (c2.patchFlag <= 0 || c2.patchFlag === 32) {\n          c2 = ch2[i] = cloneIfMounted(ch2[i]);\n          c2.el = c1.el;\n        }\n        if (!shallow && c2.patchFlag !== -2)\n          traverseStaticChildren(c1, c2);\n      }\n      if (c2.type === Text) {\n        c2.el = c1.el;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && c2.type === Comment && !c2.el) {\n        c2.el = c1.el;\n      }\n    }\n  }\n}\nfunction getSequence(arr) {\n  const p = arr.slice();\n  const result = [0];\n  let i, j, u, v, c;\n  const len = arr.length;\n  for (i = 0; i < len; i++) {\n    const arrI = arr[i];\n    if (arrI !== 0) {\n      j = result[result.length - 1];\n      if (arr[j] < arrI) {\n        p[i] = j;\n        result.push(i);\n        continue;\n      }\n      u = 0;\n      v = result.length - 1;\n      while (u < v) {\n        c = u + v >> 1;\n        if (arr[result[c]] < arrI) {\n          u = c + 1;\n        } else {\n          v = c;\n        }\n      }\n      if (arrI < arr[result[u]]) {\n        if (u > 0) {\n          p[i] = result[u - 1];\n        }\n        result[u] = i;\n      }\n    }\n  }\n  u = result.length;\n  v = result[u - 1];\n  while (u-- > 0) {\n    result[u] = v;\n    v = p[v];\n  }\n  return result;\n}\nfunction locateNonHydratedAsyncRoot(instance) {\n  const subComponent = instance.subTree.component;\n  if (subComponent) {\n    if (subComponent.asyncDep && !subComponent.asyncResolved) {\n      return subComponent;\n    } else {\n      return locateNonHydratedAsyncRoot(subComponent);\n    }\n  }\n}\nfunction invalidateMount(hooks) {\n  if (hooks) {\n    for (let i = 0; i < hooks.length; i++) hooks[i].active = false;\n  }\n}\n\nconst ssrContextKey = Symbol.for(\"v-scx\");\nconst useSSRContext = () => {\n  {\n    const ctx = inject(ssrContextKey);\n    if (!ctx) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(\n        `Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build.`\n      );\n    }\n    return ctx;\n  }\n};\n\nfunction watchEffect(effect, options) {\n  return doWatch(effect, null, options);\n}\nfunction watchPostEffect(effect, options) {\n  return doWatch(\n    effect,\n    null,\n    !!(process.env.NODE_ENV !== \"production\") ? extend({}, options, { flush: \"post\" }) : { flush: \"post\" }\n  );\n}\nfunction watchSyncEffect(effect, options) {\n  return doWatch(\n    effect,\n    null,\n    !!(process.env.NODE_ENV !== \"production\") ? extend({}, options, { flush: \"sync\" }) : { flush: \"sync\" }\n  );\n}\nconst INITIAL_WATCHER_VALUE = {};\nfunction watch(source, cb, options) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isFunction(cb)) {\n    warn$1(\n      `\\`watch(fn, options?)\\` signature has been moved to a separate API. Use \\`watchEffect(fn, options?)\\` instead. \\`watch\\` now only supports \\`watch(source, cb, options?) signature.`\n    );\n  }\n  return doWatch(source, cb, options);\n}\nfunction doWatch(source, cb, {\n  immediate,\n  deep,\n  flush,\n  once,\n  onTrack,\n  onTrigger\n} = EMPTY_OBJ) {\n  if (cb && once) {\n    const _cb = cb;\n    cb = (...args) => {\n      _cb(...args);\n      unwatch();\n    };\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && deep !== void 0 && typeof deep === \"number\") {\n    warn$1(\n      `watch() \"deep\" option with number value will be used as watch depth in future versions. Please use a boolean instead to avoid potential breakage.`\n    );\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && !cb) {\n    if (immediate !== void 0) {\n      warn$1(\n        `watch() \"immediate\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n    if (deep !== void 0) {\n      warn$1(\n        `watch() \"deep\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n    if (once !== void 0) {\n      warn$1(\n        `watch() \"once\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n  }\n  const warnInvalidSource = (s) => {\n    warn$1(\n      `Invalid watch source: `,\n      s,\n      `A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.`\n    );\n  };\n  const instance = currentInstance;\n  const reactiveGetter = (source2) => deep === true ? source2 : (\n    // for deep: false, only traverse root-level properties\n    traverse(source2, deep === false ? 1 : void 0)\n  );\n  let getter;\n  let forceTrigger = false;\n  let isMultiSource = false;\n  if (isRef(source)) {\n    getter = () => source.value;\n    forceTrigger = isShallow(source);\n  } else if (isReactive(source)) {\n    getter = () => reactiveGetter(source);\n    forceTrigger = true;\n  } else if (isArray(source)) {\n    isMultiSource = true;\n    forceTrigger = source.some((s) => isReactive(s) || isShallow(s));\n    getter = () => source.map((s) => {\n      if (isRef(s)) {\n        return s.value;\n      } else if (isReactive(s)) {\n        return reactiveGetter(s);\n      } else if (isFunction(s)) {\n        return callWithErrorHandling(s, instance, 2);\n      } else {\n        !!(process.env.NODE_ENV !== \"production\") && warnInvalidSource(s);\n      }\n    });\n  } else if (isFunction(source)) {\n    if (cb) {\n      getter = () => callWithErrorHandling(source, instance, 2);\n    } else {\n      getter = () => {\n        if (cleanup) {\n          cleanup();\n        }\n        return callWithAsyncErrorHandling(\n          source,\n          instance,\n          3,\n          [onCleanup]\n        );\n      };\n    }\n  } else {\n    getter = NOOP;\n    !!(process.env.NODE_ENV !== \"production\") && warnInvalidSource(source);\n  }\n  if (cb && deep) {\n    const baseGetter = getter;\n    getter = () => traverse(baseGetter());\n  }\n  let cleanup;\n  let onCleanup = (fn) => {\n    cleanup = effect.onStop = () => {\n      callWithErrorHandling(fn, instance, 4);\n      cleanup = effect.onStop = void 0;\n    };\n  };\n  let ssrCleanup;\n  if (isInSSRComponentSetup) {\n    onCleanup = NOOP;\n    if (!cb) {\n      getter();\n    } else if (immediate) {\n      callWithAsyncErrorHandling(cb, instance, 3, [\n        getter(),\n        isMultiSource ? [] : void 0,\n        onCleanup\n      ]);\n    }\n    if (flush === \"sync\") {\n      const ctx = useSSRContext();\n      ssrCleanup = ctx.__watcherHandles || (ctx.__watcherHandles = []);\n    } else {\n      return NOOP;\n    }\n  }\n  let oldValue = isMultiSource ? new Array(source.length).fill(INITIAL_WATCHER_VALUE) : INITIAL_WATCHER_VALUE;\n  const job = () => {\n    if (!effect.active || !effect.dirty) {\n      return;\n    }\n    if (cb) {\n      const newValue = effect.run();\n      if (deep || forceTrigger || (isMultiSource ? newValue.some((v, i) => hasChanged(v, oldValue[i])) : hasChanged(newValue, oldValue)) || false) {\n        if (cleanup) {\n          cleanup();\n        }\n        callWithAsyncErrorHandling(cb, instance, 3, [\n          newValue,\n          // pass undefined as the old value when it's changed for the first time\n          oldValue === INITIAL_WATCHER_VALUE ? void 0 : isMultiSource && oldValue[0] === INITIAL_WATCHER_VALUE ? [] : oldValue,\n          onCleanup\n        ]);\n        oldValue = newValue;\n      }\n    } else {\n      effect.run();\n    }\n  };\n  job.allowRecurse = !!cb;\n  let scheduler;\n  if (flush === \"sync\") {\n    scheduler = job;\n  } else if (flush === \"post\") {\n    scheduler = () => queuePostRenderEffect(job, instance && instance.suspense);\n  } else {\n    job.pre = true;\n    if (instance) job.id = instance.uid;\n    scheduler = () => queueJob(job);\n  }\n  const effect = new ReactiveEffect(getter, NOOP, scheduler);\n  const scope = getCurrentScope();\n  const unwatch = () => {\n    effect.stop();\n    if (scope) {\n      remove(scope.effects, effect);\n    }\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    effect.onTrack = onTrack;\n    effect.onTrigger = onTrigger;\n  }\n  if (cb) {\n    if (immediate) {\n      job();\n    } else {\n      oldValue = effect.run();\n    }\n  } else if (flush === \"post\") {\n    queuePostRenderEffect(\n      effect.run.bind(effect),\n      instance && instance.suspense\n    );\n  } else {\n    effect.run();\n  }\n  if (ssrCleanup) ssrCleanup.push(unwatch);\n  return unwatch;\n}\nfunction instanceWatch(source, value, options) {\n  const publicThis = this.proxy;\n  const getter = isString(source) ? source.includes(\".\") ? createPathGetter(publicThis, source) : () => publicThis[source] : source.bind(publicThis, publicThis);\n  let cb;\n  if (isFunction(value)) {\n    cb = value;\n  } else {\n    cb = value.handler;\n    options = value;\n  }\n  const reset = setCurrentInstance(this);\n  const res = doWatch(getter, cb.bind(publicThis), options);\n  reset();\n  return res;\n}\nfunction createPathGetter(ctx, path) {\n  const segments = path.split(\".\");\n  return () => {\n    let cur = ctx;\n    for (let i = 0; i < segments.length && cur; i++) {\n      cur = cur[segments[i]];\n    }\n    return cur;\n  };\n}\nfunction traverse(value, depth = Infinity, seen) {\n  if (depth <= 0 || !isObject(value) || value[\"__v_skip\"]) {\n    return value;\n  }\n  seen = seen || /* @__PURE__ */ new Set();\n  if (seen.has(value)) {\n    return value;\n  }\n  seen.add(value);\n  depth--;\n  if (isRef(value)) {\n    traverse(value.value, depth, seen);\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      traverse(value[i], depth, seen);\n    }\n  } else if (isSet(value) || isMap(value)) {\n    value.forEach((v) => {\n      traverse(v, depth, seen);\n    });\n  } else if (isPlainObject(value)) {\n    for (const key in value) {\n      traverse(value[key], depth, seen);\n    }\n    for (const key of Object.getOwnPropertySymbols(value)) {\n      if (Object.prototype.propertyIsEnumerable.call(value, key)) {\n        traverse(value[key], depth, seen);\n      }\n    }\n  }\n  return value;\n}\n\nfunction useModel(props, name, options = EMPTY_OBJ) {\n  const i = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !i) {\n    warn$1(`useModel() called without active instance.`);\n    return ref();\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && !i.propsOptions[0][name]) {\n    warn$1(`useModel() called with prop \"${name}\" which is not declared.`);\n    return ref();\n  }\n  const camelizedName = camelize(name);\n  const hyphenatedName = hyphenate(name);\n  const modifiers = getModelModifiers(props, name);\n  const res = customRef((track, trigger) => {\n    let localValue;\n    let prevSetValue = EMPTY_OBJ;\n    let prevEmittedValue;\n    watchSyncEffect(() => {\n      const propValue = props[name];\n      if (hasChanged(localValue, propValue)) {\n        localValue = propValue;\n        trigger();\n      }\n    });\n    return {\n      get() {\n        track();\n        return options.get ? options.get(localValue) : localValue;\n      },\n      set(value) {\n        const emittedValue = options.set ? options.set(value) : value;\n        if (!hasChanged(emittedValue, localValue) && !(prevSetValue !== EMPTY_OBJ && hasChanged(value, prevSetValue))) {\n          return;\n        }\n        const rawProps = i.vnode.props;\n        if (!(rawProps && // check if parent has passed v-model\n        (name in rawProps || camelizedName in rawProps || hyphenatedName in rawProps) && (`onUpdate:${name}` in rawProps || `onUpdate:${camelizedName}` in rawProps || `onUpdate:${hyphenatedName}` in rawProps))) {\n          localValue = value;\n          trigger();\n        }\n        i.emit(`update:${name}`, emittedValue);\n        if (hasChanged(value, emittedValue) && hasChanged(value, prevSetValue) && !hasChanged(emittedValue, prevEmittedValue)) {\n          trigger();\n        }\n        prevSetValue = value;\n        prevEmittedValue = emittedValue;\n      }\n    };\n  });\n  res[Symbol.iterator] = () => {\n    let i2 = 0;\n    return {\n      next() {\n        if (i2 < 2) {\n          return { value: i2++ ? modifiers || EMPTY_OBJ : res, done: false };\n        } else {\n          return { done: true };\n        }\n      }\n    };\n  };\n  return res;\n}\nconst getModelModifiers = (props, modelName) => {\n  return modelName === \"modelValue\" || modelName === \"model-value\" ? props.modelModifiers : props[`${modelName}Modifiers`] || props[`${camelize(modelName)}Modifiers`] || props[`${hyphenate(modelName)}Modifiers`];\n};\n\nfunction emit(instance, event, ...rawArgs) {\n  if (instance.isUnmounted) return;\n  const props = instance.vnode.props || EMPTY_OBJ;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const {\n      emitsOptions,\n      propsOptions: [propsOptions]\n    } = instance;\n    if (emitsOptions) {\n      if (!(event in emitsOptions) && true) {\n        if (!propsOptions || !(toHandlerKey(camelize(event)) in propsOptions)) {\n          warn$1(\n            `Component emitted event \"${event}\" but it is neither declared in the emits option nor as an \"${toHandlerKey(camelize(event))}\" prop.`\n          );\n        }\n      } else {\n        const validator = emitsOptions[event];\n        if (isFunction(validator)) {\n          const isValid = validator(...rawArgs);\n          if (!isValid) {\n            warn$1(\n              `Invalid event arguments: event validation failed for event \"${event}\".`\n            );\n          }\n        }\n      }\n    }\n  }\n  let args = rawArgs;\n  const isModelListener = event.startsWith(\"update:\");\n  const modifiers = isModelListener && getModelModifiers(props, event.slice(7));\n  if (modifiers) {\n    if (modifiers.trim) {\n      args = rawArgs.map((a) => isString(a) ? a.trim() : a);\n    }\n    if (modifiers.number) {\n      args = rawArgs.map(looseToNumber);\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsComponentEmit(instance, event, args);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const lowerCaseEvent = event.toLowerCase();\n    if (lowerCaseEvent !== event && props[toHandlerKey(lowerCaseEvent)]) {\n      warn$1(\n        `Event \"${lowerCaseEvent}\" is emitted in component ${formatComponentName(\n          instance,\n          instance.type\n        )} but the handler is registered for \"${event}\". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use \"${hyphenate(\n          event\n        )}\" instead of \"${event}\".`\n      );\n    }\n  }\n  let handlerName;\n  let handler = props[handlerName = toHandlerKey(event)] || // also try camelCase event handler (#2249)\n  props[handlerName = toHandlerKey(camelize(event))];\n  if (!handler && isModelListener) {\n    handler = props[handlerName = toHandlerKey(hyphenate(event))];\n  }\n  if (handler) {\n    callWithAsyncErrorHandling(\n      handler,\n      instance,\n      6,\n      args\n    );\n  }\n  const onceHandler = props[handlerName + `Once`];\n  if (onceHandler) {\n    if (!instance.emitted) {\n      instance.emitted = {};\n    } else if (instance.emitted[handlerName]) {\n      return;\n    }\n    instance.emitted[handlerName] = true;\n    callWithAsyncErrorHandling(\n      onceHandler,\n      instance,\n      6,\n      args\n    );\n  }\n}\nfunction normalizeEmitsOptions(comp, appContext, asMixin = false) {\n  const cache = appContext.emitsCache;\n  const cached = cache.get(comp);\n  if (cached !== void 0) {\n    return cached;\n  }\n  const raw = comp.emits;\n  let normalized = {};\n  let hasExtends = false;\n  if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\n    const extendEmits = (raw2) => {\n      const normalizedFromExtend = normalizeEmitsOptions(raw2, appContext, true);\n      if (normalizedFromExtend) {\n        hasExtends = true;\n        extend(normalized, normalizedFromExtend);\n      }\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendEmits);\n    }\n    if (comp.extends) {\n      extendEmits(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendEmits);\n    }\n  }\n  if (!raw && !hasExtends) {\n    if (isObject(comp)) {\n      cache.set(comp, null);\n    }\n    return null;\n  }\n  if (isArray(raw)) {\n    raw.forEach((key) => normalized[key] = null);\n  } else {\n    extend(normalized, raw);\n  }\n  if (isObject(comp)) {\n    cache.set(comp, normalized);\n  }\n  return normalized;\n}\nfunction isEmitListener(options, key) {\n  if (!options || !isOn(key)) {\n    return false;\n  }\n  key = key.slice(2).replace(/Once$/, \"\");\n  return hasOwn(options, key[0].toLowerCase() + key.slice(1)) || hasOwn(options, hyphenate(key)) || hasOwn(options, key);\n}\n\nlet accessedAttrs = false;\nfunction markAttrsAccessed() {\n  accessedAttrs = true;\n}\nfunction renderComponentRoot(instance) {\n  const {\n    type: Component,\n    vnode,\n    proxy,\n    withProxy,\n    propsOptions: [propsOptions],\n    slots,\n    attrs,\n    emit,\n    render,\n    renderCache,\n    props,\n    data,\n    setupState,\n    ctx,\n    inheritAttrs\n  } = instance;\n  const prev = setCurrentRenderingInstance(instance);\n  let result;\n  let fallthroughAttrs;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    accessedAttrs = false;\n  }\n  try {\n    if (vnode.shapeFlag & 4) {\n      const proxyToUse = withProxy || proxy;\n      const thisProxy = !!(process.env.NODE_ENV !== \"production\") && setupState.__isScriptSetup ? new Proxy(proxyToUse, {\n        get(target, key, receiver) {\n          warn$1(\n            `Property '${String(\n              key\n            )}' was accessed via 'this'. Avoid using 'this' in templates.`\n          );\n          return Reflect.get(target, key, receiver);\n        }\n      }) : proxyToUse;\n      result = normalizeVNode(\n        render.call(\n          thisProxy,\n          proxyToUse,\n          renderCache,\n          !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(props) : props,\n          setupState,\n          data,\n          ctx\n        )\n      );\n      fallthroughAttrs = attrs;\n    } else {\n      const render2 = Component;\n      if (!!(process.env.NODE_ENV !== \"production\") && attrs === props) {\n        markAttrsAccessed();\n      }\n      result = normalizeVNode(\n        render2.length > 1 ? render2(\n          !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(props) : props,\n          !!(process.env.NODE_ENV !== \"production\") ? {\n            get attrs() {\n              markAttrsAccessed();\n              return shallowReadonly(attrs);\n            },\n            slots,\n            emit\n          } : { attrs, slots, emit }\n        ) : render2(\n          !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(props) : props,\n          null\n        )\n      );\n      fallthroughAttrs = Component.props ? attrs : getFunctionalFallthrough(attrs);\n    }\n  } catch (err) {\n    blockStack.length = 0;\n    handleError(err, instance, 1);\n    result = createVNode(Comment);\n  }\n  let root = result;\n  let setRoot = void 0;\n  if (!!(process.env.NODE_ENV !== \"production\") && result.patchFlag > 0 && result.patchFlag & 2048) {\n    [root, setRoot] = getChildRoot(result);\n  }\n  if (fallthroughAttrs && inheritAttrs !== false) {\n    const keys = Object.keys(fallthroughAttrs);\n    const { shapeFlag } = root;\n    if (keys.length) {\n      if (shapeFlag & (1 | 6)) {\n        if (propsOptions && keys.some(isModelListener)) {\n          fallthroughAttrs = filterModelListeners(\n            fallthroughAttrs,\n            propsOptions\n          );\n        }\n        root = cloneVNode(root, fallthroughAttrs, false, true);\n      } else if (!!(process.env.NODE_ENV !== \"production\") && !accessedAttrs && root.type !== Comment) {\n        const allAttrs = Object.keys(attrs);\n        const eventAttrs = [];\n        const extraAttrs = [];\n        for (let i = 0, l = allAttrs.length; i < l; i++) {\n          const key = allAttrs[i];\n          if (isOn(key)) {\n            if (!isModelListener(key)) {\n              eventAttrs.push(key[2].toLowerCase() + key.slice(3));\n            }\n          } else {\n            extraAttrs.push(key);\n          }\n        }\n        if (extraAttrs.length) {\n          warn$1(\n            `Extraneous non-props attributes (${extraAttrs.join(\", \")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`\n          );\n        }\n        if (eventAttrs.length) {\n          warn$1(\n            `Extraneous non-emits event listeners (${eventAttrs.join(\", \")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the \"emits\" option.`\n          );\n        }\n      }\n    }\n  }\n  if (vnode.dirs) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isElementRoot(root)) {\n      warn$1(\n        `Runtime directive used on component with non-element root node. The directives will not function as intended.`\n      );\n    }\n    root = cloneVNode(root, null, false, true);\n    root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;\n  }\n  if (vnode.transition) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isElementRoot(root)) {\n      warn$1(\n        `Component inside <Transition> renders non-element root node that cannot be animated.`\n      );\n    }\n    root.transition = vnode.transition;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && setRoot) {\n    setRoot(root);\n  } else {\n    result = root;\n  }\n  setCurrentRenderingInstance(prev);\n  return result;\n}\nconst getChildRoot = (vnode) => {\n  const rawChildren = vnode.children;\n  const dynamicChildren = vnode.dynamicChildren;\n  const childRoot = filterSingleRoot(rawChildren, false);\n  if (!childRoot) {\n    return [vnode, void 0];\n  } else if (!!(process.env.NODE_ENV !== \"production\") && childRoot.patchFlag > 0 && childRoot.patchFlag & 2048) {\n    return getChildRoot(childRoot);\n  }\n  const index = rawChildren.indexOf(childRoot);\n  const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;\n  const setRoot = (updatedRoot) => {\n    rawChildren[index] = updatedRoot;\n    if (dynamicChildren) {\n      if (dynamicIndex > -1) {\n        dynamicChildren[dynamicIndex] = updatedRoot;\n      } else if (updatedRoot.patchFlag > 0) {\n        vnode.dynamicChildren = [...dynamicChildren, updatedRoot];\n      }\n    }\n  };\n  return [normalizeVNode(childRoot), setRoot];\n};\nfunction filterSingleRoot(children, recurse = true) {\n  let singleRoot;\n  for (let i = 0; i < children.length; i++) {\n    const child = children[i];\n    if (isVNode(child)) {\n      if (child.type !== Comment || child.children === \"v-if\") {\n        if (singleRoot) {\n          return;\n        } else {\n          singleRoot = child;\n          if (!!(process.env.NODE_ENV !== \"production\") && recurse && singleRoot.patchFlag > 0 && singleRoot.patchFlag & 2048) {\n            return filterSingleRoot(singleRoot.children);\n          }\n        }\n      }\n    } else {\n      return;\n    }\n  }\n  return singleRoot;\n}\nconst getFunctionalFallthrough = (attrs) => {\n  let res;\n  for (const key in attrs) {\n    if (key === \"class\" || key === \"style\" || isOn(key)) {\n      (res || (res = {}))[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst filterModelListeners = (attrs, props) => {\n  const res = {};\n  for (const key in attrs) {\n    if (!isModelListener(key) || !(key.slice(9) in props)) {\n      res[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst isElementRoot = (vnode) => {\n  return vnode.shapeFlag & (6 | 1) || vnode.type === Comment;\n};\nfunction shouldUpdateComponent(prevVNode, nextVNode, optimized) {\n  const { props: prevProps, children: prevChildren, component } = prevVNode;\n  const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;\n  const emits = component.emitsOptions;\n  if (!!(process.env.NODE_ENV !== \"production\") && (prevChildren || nextChildren) && isHmrUpdating) {\n    return true;\n  }\n  if (nextVNode.dirs || nextVNode.transition) {\n    return true;\n  }\n  if (optimized && patchFlag >= 0) {\n    if (patchFlag & 1024) {\n      return true;\n    }\n    if (patchFlag & 16) {\n      if (!prevProps) {\n        return !!nextProps;\n      }\n      return hasPropsChanged(prevProps, nextProps, emits);\n    } else if (patchFlag & 8) {\n      const dynamicProps = nextVNode.dynamicProps;\n      for (let i = 0; i < dynamicProps.length; i++) {\n        const key = dynamicProps[i];\n        if (nextProps[key] !== prevProps[key] && !isEmitListener(emits, key)) {\n          return true;\n        }\n      }\n    }\n  } else {\n    if (prevChildren || nextChildren) {\n      if (!nextChildren || !nextChildren.$stable) {\n        return true;\n      }\n    }\n    if (prevProps === nextProps) {\n      return false;\n    }\n    if (!prevProps) {\n      return !!nextProps;\n    }\n    if (!nextProps) {\n      return true;\n    }\n    return hasPropsChanged(prevProps, nextProps, emits);\n  }\n  return false;\n}\nfunction hasPropsChanged(prevProps, nextProps, emitsOptions) {\n  const nextKeys = Object.keys(nextProps);\n  if (nextKeys.length !== Object.keys(prevProps).length) {\n    return true;\n  }\n  for (let i = 0; i < nextKeys.length; i++) {\n    const key = nextKeys[i];\n    if (nextProps[key] !== prevProps[key] && !isEmitListener(emitsOptions, key)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction updateHOCHostEl({ vnode, parent }, el) {\n  while (parent) {\n    const root = parent.subTree;\n    if (root.suspense && root.suspense.activeBranch === vnode) {\n      root.el = vnode.el;\n    }\n    if (root === vnode) {\n      (vnode = parent.vnode).el = el;\n      parent = parent.parent;\n    } else {\n      break;\n    }\n  }\n}\n\nconst isSuspense = (type) => type.__isSuspense;\nlet suspenseId = 0;\nconst SuspenseImpl = {\n  name: \"Suspense\",\n  // In order to make Suspense tree-shakable, we need to avoid importing it\n  // directly in the renderer. The renderer checks for the __isSuspense flag\n  // on a vnode's type and calls the `process` method, passing in renderer\n  // internals.\n  __isSuspense: true,\n  process(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, rendererInternals) {\n    if (n1 == null) {\n      mountSuspense(\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized,\n        rendererInternals\n      );\n    } else {\n      if (parentSuspense && parentSuspense.deps > 0 && !n1.suspense.isInFallback) {\n        n2.suspense = n1.suspense;\n        n2.suspense.vnode = n2;\n        n2.el = n1.el;\n        return;\n      }\n      patchSuspense(\n        n1,\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        namespace,\n        slotScopeIds,\n        optimized,\n        rendererInternals\n      );\n    }\n  },\n  hydrate: hydrateSuspense,\n  normalize: normalizeSuspenseChildren\n};\nconst Suspense = SuspenseImpl ;\nfunction triggerEvent(vnode, name) {\n  const eventListener = vnode.props && vnode.props[name];\n  if (isFunction(eventListener)) {\n    eventListener();\n  }\n}\nfunction mountSuspense(vnode, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, rendererInternals) {\n  const {\n    p: patch,\n    o: { createElement }\n  } = rendererInternals;\n  const hiddenContainer = createElement(\"div\");\n  const suspense = vnode.suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    container,\n    hiddenContainer,\n    anchor,\n    namespace,\n    slotScopeIds,\n    optimized,\n    rendererInternals\n  );\n  patch(\n    null,\n    suspense.pendingBranch = vnode.ssContent,\n    hiddenContainer,\n    null,\n    parentComponent,\n    suspense,\n    namespace,\n    slotScopeIds\n  );\n  if (suspense.deps > 0) {\n    triggerEvent(vnode, \"onPending\");\n    triggerEvent(vnode, \"onFallback\");\n    patch(\n      null,\n      vnode.ssFallback,\n      container,\n      anchor,\n      parentComponent,\n      null,\n      // fallback tree will not have suspense context\n      namespace,\n      slotScopeIds\n    );\n    setActiveBranch(suspense, vnode.ssFallback);\n  } else {\n    suspense.resolve(false, true);\n  }\n}\nfunction patchSuspense(n1, n2, container, anchor, parentComponent, namespace, slotScopeIds, optimized, { p: patch, um: unmount, o: { createElement } }) {\n  const suspense = n2.suspense = n1.suspense;\n  suspense.vnode = n2;\n  n2.el = n1.el;\n  const newBranch = n2.ssContent;\n  const newFallback = n2.ssFallback;\n  const { activeBranch, pendingBranch, isInFallback, isHydrating } = suspense;\n  if (pendingBranch) {\n    suspense.pendingBranch = newBranch;\n    if (isSameVNodeType(newBranch, pendingBranch)) {\n      patch(\n        pendingBranch,\n        newBranch,\n        suspense.hiddenContainer,\n        null,\n        parentComponent,\n        suspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n      if (suspense.deps <= 0) {\n        suspense.resolve();\n      } else if (isInFallback) {\n        if (!isHydrating) {\n          patch(\n            activeBranch,\n            newFallback,\n            container,\n            anchor,\n            parentComponent,\n            null,\n            // fallback tree will not have suspense context\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n          setActiveBranch(suspense, newFallback);\n        }\n      }\n    } else {\n      suspense.pendingId = suspenseId++;\n      if (isHydrating) {\n        suspense.isHydrating = false;\n        suspense.activeBranch = pendingBranch;\n      } else {\n        unmount(pendingBranch, parentComponent, suspense);\n      }\n      suspense.deps = 0;\n      suspense.effects.length = 0;\n      suspense.hiddenContainer = createElement(\"div\");\n      if (isInFallback) {\n        patch(\n          null,\n          newBranch,\n          suspense.hiddenContainer,\n          null,\n          parentComponent,\n          suspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        if (suspense.deps <= 0) {\n          suspense.resolve();\n        } else {\n          patch(\n            activeBranch,\n            newFallback,\n            container,\n            anchor,\n            parentComponent,\n            null,\n            // fallback tree will not have suspense context\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n          setActiveBranch(suspense, newFallback);\n        }\n      } else if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\n        patch(\n          activeBranch,\n          newBranch,\n          container,\n          anchor,\n          parentComponent,\n          suspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        suspense.resolve(true);\n      } else {\n        patch(\n          null,\n          newBranch,\n          suspense.hiddenContainer,\n          null,\n          parentComponent,\n          suspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        if (suspense.deps <= 0) {\n          suspense.resolve();\n        }\n      }\n    }\n  } else {\n    if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\n      patch(\n        activeBranch,\n        newBranch,\n        container,\n        anchor,\n        parentComponent,\n        suspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n      setActiveBranch(suspense, newBranch);\n    } else {\n      triggerEvent(n2, \"onPending\");\n      suspense.pendingBranch = newBranch;\n      if (newBranch.shapeFlag & 512) {\n        suspense.pendingId = newBranch.component.suspenseId;\n      } else {\n        suspense.pendingId = suspenseId++;\n      }\n      patch(\n        null,\n        newBranch,\n        suspense.hiddenContainer,\n        null,\n        parentComponent,\n        suspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n      if (suspense.deps <= 0) {\n        suspense.resolve();\n      } else {\n        const { timeout, pendingId } = suspense;\n        if (timeout > 0) {\n          setTimeout(() => {\n            if (suspense.pendingId === pendingId) {\n              suspense.fallback(newFallback);\n            }\n          }, timeout);\n        } else if (timeout === 0) {\n          suspense.fallback(newFallback);\n        }\n      }\n    }\n  }\n}\nlet hasWarned = false;\nfunction createSuspenseBoundary(vnode, parentSuspense, parentComponent, container, hiddenContainer, anchor, namespace, slotScopeIds, optimized, rendererInternals, isHydrating = false) {\n  if (!!(process.env.NODE_ENV !== \"production\") && true && !hasWarned) {\n    hasWarned = true;\n    console[console.info ? \"info\" : \"log\"](\n      `<Suspense> is an experimental feature and its API will likely change.`\n    );\n  }\n  const {\n    p: patch,\n    m: move,\n    um: unmount,\n    n: next,\n    o: { parentNode, remove }\n  } = rendererInternals;\n  let parentSuspenseId;\n  const isSuspensible = isVNodeSuspensible(vnode);\n  if (isSuspensible) {\n    if (parentSuspense && parentSuspense.pendingBranch) {\n      parentSuspenseId = parentSuspense.pendingId;\n      parentSuspense.deps++;\n    }\n  }\n  const timeout = vnode.props ? toNumber(vnode.props.timeout) : void 0;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    assertNumber(timeout, `Suspense timeout`);\n  }\n  const initialAnchor = anchor;\n  const suspense = {\n    vnode,\n    parent: parentSuspense,\n    parentComponent,\n    namespace,\n    container,\n    hiddenContainer,\n    deps: 0,\n    pendingId: suspenseId++,\n    timeout: typeof timeout === \"number\" ? timeout : -1,\n    activeBranch: null,\n    pendingBranch: null,\n    isInFallback: !isHydrating,\n    isHydrating,\n    isUnmounted: false,\n    effects: [],\n    resolve(resume = false, sync = false) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        if (!resume && !suspense.pendingBranch) {\n          throw new Error(\n            `suspense.resolve() is called without a pending branch.`\n          );\n        }\n        if (suspense.isUnmounted) {\n          throw new Error(\n            `suspense.resolve() is called on an already unmounted suspense boundary.`\n          );\n        }\n      }\n      const {\n        vnode: vnode2,\n        activeBranch,\n        pendingBranch,\n        pendingId,\n        effects,\n        parentComponent: parentComponent2,\n        container: container2\n      } = suspense;\n      let delayEnter = false;\n      if (suspense.isHydrating) {\n        suspense.isHydrating = false;\n      } else if (!resume) {\n        delayEnter = activeBranch && pendingBranch.transition && pendingBranch.transition.mode === \"out-in\";\n        if (delayEnter) {\n          activeBranch.transition.afterLeave = () => {\n            if (pendingId === suspense.pendingId) {\n              move(\n                pendingBranch,\n                container2,\n                anchor === initialAnchor ? next(activeBranch) : anchor,\n                0\n              );\n              queuePostFlushCb(effects);\n            }\n          };\n        }\n        if (activeBranch) {\n          if (parentNode(activeBranch.el) !== suspense.hiddenContainer) {\n            anchor = next(activeBranch);\n          }\n          unmount(activeBranch, parentComponent2, suspense, true);\n        }\n        if (!delayEnter) {\n          move(pendingBranch, container2, anchor, 0);\n        }\n      }\n      setActiveBranch(suspense, pendingBranch);\n      suspense.pendingBranch = null;\n      suspense.isInFallback = false;\n      let parent = suspense.parent;\n      let hasUnresolvedAncestor = false;\n      while (parent) {\n        if (parent.pendingBranch) {\n          parent.effects.push(...effects);\n          hasUnresolvedAncestor = true;\n          break;\n        }\n        parent = parent.parent;\n      }\n      if (!hasUnresolvedAncestor && !delayEnter) {\n        queuePostFlushCb(effects);\n      }\n      suspense.effects = [];\n      if (isSuspensible) {\n        if (parentSuspense && parentSuspense.pendingBranch && parentSuspenseId === parentSuspense.pendingId) {\n          parentSuspense.deps--;\n          if (parentSuspense.deps === 0 && !sync) {\n            parentSuspense.resolve();\n          }\n        }\n      }\n      triggerEvent(vnode2, \"onResolve\");\n    },\n    fallback(fallbackVNode) {\n      if (!suspense.pendingBranch) {\n        return;\n      }\n      const { vnode: vnode2, activeBranch, parentComponent: parentComponent2, container: container2, namespace: namespace2 } = suspense;\n      triggerEvent(vnode2, \"onFallback\");\n      const anchor2 = next(activeBranch);\n      const mountFallback = () => {\n        if (!suspense.isInFallback) {\n          return;\n        }\n        patch(\n          null,\n          fallbackVNode,\n          container2,\n          anchor2,\n          parentComponent2,\n          null,\n          // fallback tree will not have suspense context\n          namespace2,\n          slotScopeIds,\n          optimized\n        );\n        setActiveBranch(suspense, fallbackVNode);\n      };\n      const delayEnter = fallbackVNode.transition && fallbackVNode.transition.mode === \"out-in\";\n      if (delayEnter) {\n        activeBranch.transition.afterLeave = mountFallback;\n      }\n      suspense.isInFallback = true;\n      unmount(\n        activeBranch,\n        parentComponent2,\n        null,\n        // no suspense so unmount hooks fire now\n        true\n        // shouldRemove\n      );\n      if (!delayEnter) {\n        mountFallback();\n      }\n    },\n    move(container2, anchor2, type) {\n      suspense.activeBranch && move(suspense.activeBranch, container2, anchor2, type);\n      suspense.container = container2;\n    },\n    next() {\n      return suspense.activeBranch && next(suspense.activeBranch);\n    },\n    registerDep(instance, setupRenderEffect, optimized2) {\n      const isInPendingSuspense = !!suspense.pendingBranch;\n      if (isInPendingSuspense) {\n        suspense.deps++;\n      }\n      const hydratedEl = instance.vnode.el;\n      instance.asyncDep.catch((err) => {\n        handleError(err, instance, 0);\n      }).then((asyncSetupResult) => {\n        if (instance.isUnmounted || suspense.isUnmounted || suspense.pendingId !== instance.suspenseId) {\n          return;\n        }\n        instance.asyncResolved = true;\n        const { vnode: vnode2 } = instance;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(vnode2);\n        }\n        handleSetupResult(instance, asyncSetupResult, false);\n        if (hydratedEl) {\n          vnode2.el = hydratedEl;\n        }\n        const placeholder = !hydratedEl && instance.subTree.el;\n        setupRenderEffect(\n          instance,\n          vnode2,\n          // component may have been moved before resolve.\n          // if this is not a hydration, instance.subTree will be the comment\n          // placeholder.\n          parentNode(hydratedEl || instance.subTree.el),\n          // anchor will not be used if this is hydration, so only need to\n          // consider the comment placeholder case.\n          hydratedEl ? null : next(instance.subTree),\n          suspense,\n          namespace,\n          optimized2\n        );\n        if (placeholder) {\n          remove(placeholder);\n        }\n        updateHOCHostEl(instance, vnode2.el);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n        if (isInPendingSuspense && --suspense.deps === 0) {\n          suspense.resolve();\n        }\n      });\n    },\n    unmount(parentSuspense2, doRemove) {\n      suspense.isUnmounted = true;\n      if (suspense.activeBranch) {\n        unmount(\n          suspense.activeBranch,\n          parentComponent,\n          parentSuspense2,\n          doRemove\n        );\n      }\n      if (suspense.pendingBranch) {\n        unmount(\n          suspense.pendingBranch,\n          parentComponent,\n          parentSuspense2,\n          doRemove\n        );\n      }\n    }\n  };\n  return suspense;\n}\nfunction hydrateSuspense(node, vnode, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, rendererInternals, hydrateNode) {\n  const suspense = vnode.suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    node.parentNode,\n    // eslint-disable-next-line no-restricted-globals\n    document.createElement(\"div\"),\n    null,\n    namespace,\n    slotScopeIds,\n    optimized,\n    rendererInternals,\n    true\n  );\n  const result = hydrateNode(\n    node,\n    suspense.pendingBranch = vnode.ssContent,\n    parentComponent,\n    suspense,\n    slotScopeIds,\n    optimized\n  );\n  if (suspense.deps === 0) {\n    suspense.resolve(false, true);\n  }\n  return result;\n}\nfunction normalizeSuspenseChildren(vnode) {\n  const { shapeFlag, children } = vnode;\n  const isSlotChildren = shapeFlag & 32;\n  vnode.ssContent = normalizeSuspenseSlot(\n    isSlotChildren ? children.default : children\n  );\n  vnode.ssFallback = isSlotChildren ? normalizeSuspenseSlot(children.fallback) : createVNode(Comment);\n}\nfunction normalizeSuspenseSlot(s) {\n  let block;\n  if (isFunction(s)) {\n    const trackBlock = isBlockTreeEnabled && s._c;\n    if (trackBlock) {\n      s._d = false;\n      openBlock();\n    }\n    s = s();\n    if (trackBlock) {\n      s._d = true;\n      block = currentBlock;\n      closeBlock();\n    }\n  }\n  if (isArray(s)) {\n    const singleChild = filterSingleRoot(s);\n    if (!!(process.env.NODE_ENV !== \"production\") && !singleChild && s.filter((child) => child !== NULL_DYNAMIC_COMPONENT).length > 0) {\n      warn$1(`<Suspense> slots expect a single root node.`);\n    }\n    s = singleChild;\n  }\n  s = normalizeVNode(s);\n  if (block && !s.dynamicChildren) {\n    s.dynamicChildren = block.filter((c) => c !== s);\n  }\n  return s;\n}\nfunction queueEffectWithSuspense(fn, suspense) {\n  if (suspense && suspense.pendingBranch) {\n    if (isArray(fn)) {\n      suspense.effects.push(...fn);\n    } else {\n      suspense.effects.push(fn);\n    }\n  } else {\n    queuePostFlushCb(fn);\n  }\n}\nfunction setActiveBranch(suspense, branch) {\n  suspense.activeBranch = branch;\n  const { vnode, parentComponent } = suspense;\n  let el = branch.el;\n  while (!el && branch.component) {\n    branch = branch.component.subTree;\n    el = branch.el;\n  }\n  vnode.el = el;\n  if (parentComponent && parentComponent.subTree === vnode) {\n    parentComponent.vnode.el = el;\n    updateHOCHostEl(parentComponent, el);\n  }\n}\nfunction isVNodeSuspensible(vnode) {\n  const suspensible = vnode.props && vnode.props.suspensible;\n  return suspensible != null && suspensible !== false;\n}\n\nconst Fragment = Symbol.for(\"v-fgt\");\nconst Text = Symbol.for(\"v-txt\");\nconst Comment = Symbol.for(\"v-cmt\");\nconst Static = Symbol.for(\"v-stc\");\nconst blockStack = [];\nlet currentBlock = null;\nfunction openBlock(disableTracking = false) {\n  blockStack.push(currentBlock = disableTracking ? null : []);\n}\nfunction closeBlock() {\n  blockStack.pop();\n  currentBlock = blockStack[blockStack.length - 1] || null;\n}\nlet isBlockTreeEnabled = 1;\nfunction setBlockTracking(value) {\n  isBlockTreeEnabled += value;\n  if (value < 0 && currentBlock) {\n    currentBlock.hasOnce = true;\n  }\n}\nfunction setupBlock(vnode) {\n  vnode.dynamicChildren = isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null;\n  closeBlock();\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nfunction createElementBlock(type, props, children, patchFlag, dynamicProps, shapeFlag) {\n  return setupBlock(\n    createBaseVNode(\n      type,\n      props,\n      children,\n      patchFlag,\n      dynamicProps,\n      shapeFlag,\n      true\n    )\n  );\n}\nfunction createBlock(type, props, children, patchFlag, dynamicProps) {\n  return setupBlock(\n    createVNode(\n      type,\n      props,\n      children,\n      patchFlag,\n      dynamicProps,\n      true\n    )\n  );\n}\nfunction isVNode(value) {\n  return value ? value.__v_isVNode === true : false;\n}\nfunction isSameVNodeType(n1, n2) {\n  if (!!(process.env.NODE_ENV !== \"production\") && n2.shapeFlag & 6 && n1.component) {\n    const dirtyInstances = hmrDirtyComponents.get(n2.type);\n    if (dirtyInstances && dirtyInstances.has(n1.component)) {\n      n1.shapeFlag &= ~256;\n      n2.shapeFlag &= ~512;\n      return false;\n    }\n  }\n  return n1.type === n2.type && n1.key === n2.key;\n}\nlet vnodeArgsTransformer;\nfunction transformVNodeArgs(transformer) {\n  vnodeArgsTransformer = transformer;\n}\nconst createVNodeWithArgsTransform = (...args) => {\n  return _createVNode(\n    ...vnodeArgsTransformer ? vnodeArgsTransformer(args, currentRenderingInstance) : args\n  );\n};\nconst normalizeKey = ({ key }) => key != null ? key : null;\nconst normalizeRef = ({\n  ref,\n  ref_key,\n  ref_for\n}) => {\n  if (typeof ref === \"number\") {\n    ref = \"\" + ref;\n  }\n  return ref != null ? isString(ref) || isRef(ref) || isFunction(ref) ? { i: currentRenderingInstance, r: ref, k: ref_key, f: !!ref_for } : ref : null;\n};\nfunction createBaseVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, shapeFlag = type === Fragment ? 0 : 1, isBlockNode = false, needFullChildrenNormalization = false) {\n  const vnode = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type,\n    props,\n    key: props && normalizeKey(props),\n    ref: props && normalizeRef(props),\n    scopeId: currentScopeId,\n    slotScopeIds: null,\n    children,\n    component: null,\n    suspense: null,\n    ssContent: null,\n    ssFallback: null,\n    dirs: null,\n    transition: null,\n    el: null,\n    anchor: null,\n    target: null,\n    targetStart: null,\n    targetAnchor: null,\n    staticCount: 0,\n    shapeFlag,\n    patchFlag,\n    dynamicProps,\n    dynamicChildren: null,\n    appContext: null,\n    ctx: currentRenderingInstance\n  };\n  if (needFullChildrenNormalization) {\n    normalizeChildren(vnode, children);\n    if (shapeFlag & 128) {\n      type.normalize(vnode);\n    }\n  } else if (children) {\n    vnode.shapeFlag |= isString(children) ? 8 : 16;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && vnode.key !== vnode.key) {\n    warn$1(`VNode created with invalid key (NaN). VNode type:`, vnode.type);\n  }\n  if (isBlockTreeEnabled > 0 && // avoid a block node from tracking itself\n  !isBlockNode && // has current parent block\n  currentBlock && // presence of a patch flag indicates this node needs patching on updates.\n  // component nodes also should always be patched, because even if the\n  // component doesn't need to update, it needs to persist the instance on to\n  // the next vnode so that it can be properly unmounted later.\n  (vnode.patchFlag > 0 || shapeFlag & 6) && // the EVENTS flag is only for hydration and if it is the only flag, the\n  // vnode should not be considered dynamic due to handler caching.\n  vnode.patchFlag !== 32) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nconst createVNode = !!(process.env.NODE_ENV !== \"production\") ? createVNodeWithArgsTransform : _createVNode;\nfunction _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {\n  if (!type || type === NULL_DYNAMIC_COMPONENT) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !type) {\n      warn$1(`Invalid vnode type when creating vnode: ${type}.`);\n    }\n    type = Comment;\n  }\n  if (isVNode(type)) {\n    const cloned = cloneVNode(\n      type,\n      props,\n      true\n      /* mergeRef: true */\n    );\n    if (children) {\n      normalizeChildren(cloned, children);\n    }\n    if (isBlockTreeEnabled > 0 && !isBlockNode && currentBlock) {\n      if (cloned.shapeFlag & 6) {\n        currentBlock[currentBlock.indexOf(type)] = cloned;\n      } else {\n        currentBlock.push(cloned);\n      }\n    }\n    cloned.patchFlag = -2;\n    return cloned;\n  }\n  if (isClassComponent(type)) {\n    type = type.__vccOpts;\n  }\n  if (props) {\n    props = guardReactiveProps(props);\n    let { class: klass, style } = props;\n    if (klass && !isString(klass)) {\n      props.class = normalizeClass(klass);\n    }\n    if (isObject(style)) {\n      if (isProxy(style) && !isArray(style)) {\n        style = extend({}, style);\n      }\n      props.style = normalizeStyle(style);\n    }\n  }\n  const shapeFlag = isString(type) ? 1 : isSuspense(type) ? 128 : isTeleport(type) ? 64 : isObject(type) ? 4 : isFunction(type) ? 2 : 0;\n  if (!!(process.env.NODE_ENV !== \"production\") && shapeFlag & 4 && isProxy(type)) {\n    type = toRaw(type);\n    warn$1(\n      `Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with \\`markRaw\\` or using \\`shallowRef\\` instead of \\`ref\\`.`,\n      `\nComponent that was made reactive: `,\n      type\n    );\n  }\n  return createBaseVNode(\n    type,\n    props,\n    children,\n    patchFlag,\n    dynamicProps,\n    shapeFlag,\n    isBlockNode,\n    true\n  );\n}\nfunction guardReactiveProps(props) {\n  if (!props) return null;\n  return isProxy(props) || isInternalObject(props) ? extend({}, props) : props;\n}\nfunction cloneVNode(vnode, extraProps, mergeRef = false, cloneTransition = false) {\n  const { props, ref, patchFlag, children, transition } = vnode;\n  const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;\n  const cloned = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type: vnode.type,\n    props: mergedProps,\n    key: mergedProps && normalizeKey(mergedProps),\n    ref: extraProps && extraProps.ref ? (\n      // #2078 in the case of <component :is=\"vnode\" ref=\"extra\"/>\n      // if the vnode itself already has a ref, cloneVNode will need to merge\n      // the refs so the single vnode can be set on multiple refs\n      mergeRef && ref ? isArray(ref) ? ref.concat(normalizeRef(extraProps)) : [ref, normalizeRef(extraProps)] : normalizeRef(extraProps)\n    ) : ref,\n    scopeId: vnode.scopeId,\n    slotScopeIds: vnode.slotScopeIds,\n    children: !!(process.env.NODE_ENV !== \"production\") && patchFlag === -1 && isArray(children) ? children.map(deepCloneVNode) : children,\n    target: vnode.target,\n    targetStart: vnode.targetStart,\n    targetAnchor: vnode.targetAnchor,\n    staticCount: vnode.staticCount,\n    shapeFlag: vnode.shapeFlag,\n    // if the vnode is cloned with extra props, we can no longer assume its\n    // existing patch flag to be reliable and need to add the FULL_PROPS flag.\n    // note: preserve flag for fragments since they use the flag for children\n    // fast paths only.\n    patchFlag: extraProps && vnode.type !== Fragment ? patchFlag === -1 ? 16 : patchFlag | 16 : patchFlag,\n    dynamicProps: vnode.dynamicProps,\n    dynamicChildren: vnode.dynamicChildren,\n    appContext: vnode.appContext,\n    dirs: vnode.dirs,\n    transition,\n    // These should technically only be non-null on mounted VNodes. However,\n    // they *should* be copied for kept-alive vnodes. So we just always copy\n    // them since them being non-null during a mount doesn't affect the logic as\n    // they will simply be overwritten.\n    component: vnode.component,\n    suspense: vnode.suspense,\n    ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),\n    ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),\n    el: vnode.el,\n    anchor: vnode.anchor,\n    ctx: vnode.ctx,\n    ce: vnode.ce\n  };\n  if (transition && cloneTransition) {\n    setTransitionHooks(\n      cloned,\n      transition.clone(cloned)\n    );\n  }\n  return cloned;\n}\nfunction deepCloneVNode(vnode) {\n  const cloned = cloneVNode(vnode);\n  if (isArray(vnode.children)) {\n    cloned.children = vnode.children.map(deepCloneVNode);\n  }\n  return cloned;\n}\nfunction createTextVNode(text = \" \", flag = 0) {\n  return createVNode(Text, null, text, flag);\n}\nfunction createStaticVNode(content, numberOfNodes) {\n  const vnode = createVNode(Static, null, content);\n  vnode.staticCount = numberOfNodes;\n  return vnode;\n}\nfunction createCommentVNode(text = \"\", asBlock = false) {\n  return asBlock ? (openBlock(), createBlock(Comment, null, text)) : createVNode(Comment, null, text);\n}\nfunction normalizeVNode(child) {\n  if (child == null || typeof child === \"boolean\") {\n    return createVNode(Comment);\n  } else if (isArray(child)) {\n    return createVNode(\n      Fragment,\n      null,\n      // #3666, avoid reference pollution when reusing vnode\n      child.slice()\n    );\n  } else if (typeof child === \"object\") {\n    return cloneIfMounted(child);\n  } else {\n    return createVNode(Text, null, String(child));\n  }\n}\nfunction cloneIfMounted(child) {\n  return child.el === null && child.patchFlag !== -1 || child.memo ? child : cloneVNode(child);\n}\nfunction normalizeChildren(vnode, children) {\n  let type = 0;\n  const { shapeFlag } = vnode;\n  if (children == null) {\n    children = null;\n  } else if (isArray(children)) {\n    type = 16;\n  } else if (typeof children === \"object\") {\n    if (shapeFlag & (1 | 64)) {\n      const slot = children.default;\n      if (slot) {\n        slot._c && (slot._d = false);\n        normalizeChildren(vnode, slot());\n        slot._c && (slot._d = true);\n      }\n      return;\n    } else {\n      type = 32;\n      const slotFlag = children._;\n      if (!slotFlag && !isInternalObject(children)) {\n        children._ctx = currentRenderingInstance;\n      } else if (slotFlag === 3 && currentRenderingInstance) {\n        if (currentRenderingInstance.slots._ === 1) {\n          children._ = 1;\n        } else {\n          children._ = 2;\n          vnode.patchFlag |= 1024;\n        }\n      }\n    }\n  } else if (isFunction(children)) {\n    children = { default: children, _ctx: currentRenderingInstance };\n    type = 32;\n  } else {\n    children = String(children);\n    if (shapeFlag & 64) {\n      type = 16;\n      children = [createTextVNode(children)];\n    } else {\n      type = 8;\n    }\n  }\n  vnode.children = children;\n  vnode.shapeFlag |= type;\n}\nfunction mergeProps(...args) {\n  const ret = {};\n  for (let i = 0; i < args.length; i++) {\n    const toMerge = args[i];\n    for (const key in toMerge) {\n      if (key === \"class\") {\n        if (ret.class !== toMerge.class) {\n          ret.class = normalizeClass([ret.class, toMerge.class]);\n        }\n      } else if (key === \"style\") {\n        ret.style = normalizeStyle([ret.style, toMerge.style]);\n      } else if (isOn(key)) {\n        const existing = ret[key];\n        const incoming = toMerge[key];\n        if (incoming && existing !== incoming && !(isArray(existing) && existing.includes(incoming))) {\n          ret[key] = existing ? [].concat(existing, incoming) : incoming;\n        }\n      } else if (key !== \"\") {\n        ret[key] = toMerge[key];\n      }\n    }\n  }\n  return ret;\n}\nfunction invokeVNodeHook(hook, instance, vnode, prevVNode = null) {\n  callWithAsyncErrorHandling(hook, instance, 7, [\n    vnode,\n    prevVNode\n  ]);\n}\n\nconst emptyAppContext = createAppContext();\nlet uid = 0;\nfunction createComponentInstance(vnode, parent, suspense) {\n  const type = vnode.type;\n  const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;\n  const instance = {\n    uid: uid++,\n    vnode,\n    type,\n    parent,\n    appContext,\n    root: null,\n    // to be immediately set\n    next: null,\n    subTree: null,\n    // will be set synchronously right after creation\n    effect: null,\n    update: null,\n    // will be set synchronously right after creation\n    scope: new EffectScope(\n      true\n      /* detached */\n    ),\n    render: null,\n    proxy: null,\n    exposed: null,\n    exposeProxy: null,\n    withProxy: null,\n    provides: parent ? parent.provides : Object.create(appContext.provides),\n    accessCache: null,\n    renderCache: [],\n    // local resolved assets\n    components: null,\n    directives: null,\n    // resolved props and emits options\n    propsOptions: normalizePropsOptions(type, appContext),\n    emitsOptions: normalizeEmitsOptions(type, appContext),\n    // emit\n    emit: null,\n    // to be set immediately\n    emitted: null,\n    // props default value\n    propsDefaults: EMPTY_OBJ,\n    // inheritAttrs\n    inheritAttrs: type.inheritAttrs,\n    // state\n    ctx: EMPTY_OBJ,\n    data: EMPTY_OBJ,\n    props: EMPTY_OBJ,\n    attrs: EMPTY_OBJ,\n    slots: EMPTY_OBJ,\n    refs: EMPTY_OBJ,\n    setupState: EMPTY_OBJ,\n    setupContext: null,\n    // suspense related\n    suspense,\n    suspenseId: suspense ? suspense.pendingId : 0,\n    asyncDep: null,\n    asyncResolved: false,\n    // lifecycle hooks\n    // not using enums here because it results in computed properties\n    isMounted: false,\n    isUnmounted: false,\n    isDeactivated: false,\n    bc: null,\n    c: null,\n    bm: null,\n    m: null,\n    bu: null,\n    u: null,\n    um: null,\n    bum: null,\n    da: null,\n    a: null,\n    rtg: null,\n    rtc: null,\n    ec: null,\n    sp: null\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    instance.ctx = createDevRenderContext(instance);\n  } else {\n    instance.ctx = { _: instance };\n  }\n  instance.root = parent ? parent.root : instance;\n  instance.emit = emit.bind(null, instance);\n  if (vnode.ce) {\n    vnode.ce(instance);\n  }\n  return instance;\n}\nlet currentInstance = null;\nconst getCurrentInstance = () => currentInstance || currentRenderingInstance;\nlet internalSetCurrentInstance;\nlet setInSSRSetupState;\n{\n  const g = getGlobalThis();\n  const registerGlobalSetter = (key, setter) => {\n    let setters;\n    if (!(setters = g[key])) setters = g[key] = [];\n    setters.push(setter);\n    return (v) => {\n      if (setters.length > 1) setters.forEach((set) => set(v));\n      else setters[0](v);\n    };\n  };\n  internalSetCurrentInstance = registerGlobalSetter(\n    `__VUE_INSTANCE_SETTERS__`,\n    (v) => currentInstance = v\n  );\n  setInSSRSetupState = registerGlobalSetter(\n    `__VUE_SSR_SETTERS__`,\n    (v) => isInSSRComponentSetup = v\n  );\n}\nconst setCurrentInstance = (instance) => {\n  const prev = currentInstance;\n  internalSetCurrentInstance(instance);\n  instance.scope.on();\n  return () => {\n    instance.scope.off();\n    internalSetCurrentInstance(prev);\n  };\n};\nconst unsetCurrentInstance = () => {\n  currentInstance && currentInstance.scope.off();\n  internalSetCurrentInstance(null);\n};\nconst isBuiltInTag = /* @__PURE__ */ makeMap(\"slot,component\");\nfunction validateComponentName(name, { isNativeTag }) {\n  if (isBuiltInTag(name) || isNativeTag(name)) {\n    warn$1(\n      \"Do not use built-in or reserved HTML elements as component id: \" + name\n    );\n  }\n}\nfunction isStatefulComponent(instance) {\n  return instance.vnode.shapeFlag & 4;\n}\nlet isInSSRComponentSetup = false;\nfunction setupComponent(instance, isSSR = false, optimized = false) {\n  isSSR && setInSSRSetupState(isSSR);\n  const { props, children } = instance.vnode;\n  const isStateful = isStatefulComponent(instance);\n  initProps(instance, props, isStateful, isSSR);\n  initSlots(instance, children, optimized);\n  const setupResult = isStateful ? setupStatefulComponent(instance, isSSR) : void 0;\n  isSSR && setInSSRSetupState(false);\n  return setupResult;\n}\nfunction setupStatefulComponent(instance, isSSR) {\n  var _a;\n  const Component = instance.type;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    if (Component.name) {\n      validateComponentName(Component.name, instance.appContext.config);\n    }\n    if (Component.components) {\n      const names = Object.keys(Component.components);\n      for (let i = 0; i < names.length; i++) {\n        validateComponentName(names[i], instance.appContext.config);\n      }\n    }\n    if (Component.directives) {\n      const names = Object.keys(Component.directives);\n      for (let i = 0; i < names.length; i++) {\n        validateDirectiveName(names[i]);\n      }\n    }\n    if (Component.compilerOptions && isRuntimeOnly()) {\n      warn$1(\n        `\"compilerOptions\" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.`\n      );\n    }\n  }\n  instance.accessCache = /* @__PURE__ */ Object.create(null);\n  instance.proxy = new Proxy(instance.ctx, PublicInstanceProxyHandlers);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    exposePropsOnRenderContext(instance);\n  }\n  const { setup } = Component;\n  if (setup) {\n    const setupContext = instance.setupContext = setup.length > 1 ? createSetupContext(instance) : null;\n    const reset = setCurrentInstance(instance);\n    pauseTracking();\n    const setupResult = callWithErrorHandling(\n      setup,\n      instance,\n      0,\n      [\n        !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(instance.props) : instance.props,\n        setupContext\n      ]\n    );\n    resetTracking();\n    reset();\n    if (isPromise(setupResult)) {\n      setupResult.then(unsetCurrentInstance, unsetCurrentInstance);\n      if (isSSR) {\n        return setupResult.then((resolvedResult) => {\n          handleSetupResult(instance, resolvedResult, isSSR);\n        }).catch((e) => {\n          handleError(e, instance, 0);\n        });\n      } else {\n        instance.asyncDep = setupResult;\n        if (!!(process.env.NODE_ENV !== \"production\") && !instance.suspense) {\n          const name = (_a = Component.name) != null ? _a : \"Anonymous\";\n          warn$1(\n            `Component <${name}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`\n          );\n        }\n      }\n    } else {\n      handleSetupResult(instance, setupResult, isSSR);\n    }\n  } else {\n    finishComponentSetup(instance, isSSR);\n  }\n}\nfunction handleSetupResult(instance, setupResult, isSSR) {\n  if (isFunction(setupResult)) {\n    if (instance.type.__ssrInlineRender) {\n      instance.ssrRender = setupResult;\n    } else {\n      instance.render = setupResult;\n    }\n  } else if (isObject(setupResult)) {\n    if (!!(process.env.NODE_ENV !== \"production\") && isVNode(setupResult)) {\n      warn$1(\n        `setup() should not return VNodes directly - return a render function instead.`\n      );\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      instance.devtoolsRawSetupState = setupResult;\n    }\n    instance.setupState = proxyRefs(setupResult);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      exposeSetupStateOnRenderContext(instance);\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\") && setupResult !== void 0) {\n    warn$1(\n      `setup() should return an object. Received: ${setupResult === null ? \"null\" : typeof setupResult}`\n    );\n  }\n  finishComponentSetup(instance, isSSR);\n}\nlet compile;\nlet installWithProxy;\nfunction registerRuntimeCompiler(_compile) {\n  compile = _compile;\n  installWithProxy = (i) => {\n    if (i.render._rc) {\n      i.withProxy = new Proxy(i.ctx, RuntimeCompiledPublicInstanceProxyHandlers);\n    }\n  };\n}\nconst isRuntimeOnly = () => !compile;\nfunction finishComponentSetup(instance, isSSR, skipOptions) {\n  const Component = instance.type;\n  if (!instance.render) {\n    if (!isSSR && compile && !Component.render) {\n      const template = Component.template || resolveMergedOptions(instance).template;\n      if (template) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `compile`);\n        }\n        const { isCustomElement, compilerOptions } = instance.appContext.config;\n        const { delimiters, compilerOptions: componentCompilerOptions } = Component;\n        const finalCompilerOptions = extend(\n          extend(\n            {\n              isCustomElement,\n              delimiters\n            },\n            compilerOptions\n          ),\n          componentCompilerOptions\n        );\n        Component.render = compile(template, finalCompilerOptions);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `compile`);\n        }\n      }\n    }\n    instance.render = Component.render || NOOP;\n    if (installWithProxy) {\n      installWithProxy(instance);\n    }\n  }\n  if (__VUE_OPTIONS_API__ && true) {\n    const reset = setCurrentInstance(instance);\n    pauseTracking();\n    try {\n      applyOptions(instance);\n    } finally {\n      resetTracking();\n      reset();\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && !Component.render && instance.render === NOOP && !isSSR) {\n    if (!compile && Component.template) {\n      warn$1(\n        `Component provided template option but runtime compilation is not supported in this build of Vue.` + (` Configure your bundler to alias \"vue\" to \"vue/dist/vue.esm-bundler.js\".` )\n      );\n    } else {\n      warn$1(`Component is missing template or render function: `, Component);\n    }\n  }\n}\nconst attrsProxyHandlers = !!(process.env.NODE_ENV !== \"production\") ? {\n  get(target, key) {\n    markAttrsAccessed();\n    track(target, \"get\", \"\");\n    return target[key];\n  },\n  set() {\n    warn$1(`setupContext.attrs is readonly.`);\n    return false;\n  },\n  deleteProperty() {\n    warn$1(`setupContext.attrs is readonly.`);\n    return false;\n  }\n} : {\n  get(target, key) {\n    track(target, \"get\", \"\");\n    return target[key];\n  }\n};\nfunction getSlotsProxy(instance) {\n  return new Proxy(instance.slots, {\n    get(target, key) {\n      track(instance, \"get\", \"$slots\");\n      return target[key];\n    }\n  });\n}\nfunction createSetupContext(instance) {\n  const expose = (exposed) => {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (instance.exposed) {\n        warn$1(`expose() should be called only once per setup().`);\n      }\n      if (exposed != null) {\n        let exposedType = typeof exposed;\n        if (exposedType === \"object\") {\n          if (isArray(exposed)) {\n            exposedType = \"array\";\n          } else if (isRef(exposed)) {\n            exposedType = \"ref\";\n          }\n        }\n        if (exposedType !== \"object\") {\n          warn$1(\n            `expose() should be passed a plain object, received ${exposedType}.`\n          );\n        }\n      }\n    }\n    instance.exposed = exposed || {};\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    let attrsProxy;\n    let slotsProxy;\n    return Object.freeze({\n      get attrs() {\n        return attrsProxy || (attrsProxy = new Proxy(instance.attrs, attrsProxyHandlers));\n      },\n      get slots() {\n        return slotsProxy || (slotsProxy = getSlotsProxy(instance));\n      },\n      get emit() {\n        return (event, ...args) => instance.emit(event, ...args);\n      },\n      expose\n    });\n  } else {\n    return {\n      attrs: new Proxy(instance.attrs, attrsProxyHandlers),\n      slots: instance.slots,\n      emit: instance.emit,\n      expose\n    };\n  }\n}\nfunction getComponentPublicInstance(instance) {\n  if (instance.exposed) {\n    return instance.exposeProxy || (instance.exposeProxy = new Proxy(proxyRefs(markRaw(instance.exposed)), {\n      get(target, key) {\n        if (key in target) {\n          return target[key];\n        } else if (key in publicPropertiesMap) {\n          return publicPropertiesMap[key](instance);\n        }\n      },\n      has(target, key) {\n        return key in target || key in publicPropertiesMap;\n      }\n    }));\n  } else {\n    return instance.proxy;\n  }\n}\nconst classifyRE = /(?:^|[-_])(\\w)/g;\nconst classify = (str) => str.replace(classifyRE, (c) => c.toUpperCase()).replace(/[-_]/g, \"\");\nfunction getComponentName(Component, includeInferred = true) {\n  return isFunction(Component) ? Component.displayName || Component.name : Component.name || includeInferred && Component.__name;\n}\nfunction formatComponentName(instance, Component, isRoot = false) {\n  let name = getComponentName(Component);\n  if (!name && Component.__file) {\n    const match = Component.__file.match(/([^/\\\\]+)\\.\\w+$/);\n    if (match) {\n      name = match[1];\n    }\n  }\n  if (!name && instance && instance.parent) {\n    const inferFromRegistry = (registry) => {\n      for (const key in registry) {\n        if (registry[key] === Component) {\n          return key;\n        }\n      }\n    };\n    name = inferFromRegistry(\n      instance.components || instance.parent.type.components\n    ) || inferFromRegistry(instance.appContext.components);\n  }\n  return name ? classify(name) : isRoot ? `App` : `Anonymous`;\n}\nfunction isClassComponent(value) {\n  return isFunction(value) && \"__vccOpts\" in value;\n}\n\nconst computed = (getterOrOptions, debugOptions) => {\n  const c = computed$1(getterOrOptions, debugOptions, isInSSRComponentSetup);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const i = getCurrentInstance();\n    if (i && i.appContext.config.warnRecursiveComputed) {\n      c._warnRecursive = true;\n    }\n  }\n  return c;\n};\n\nfunction h(type, propsOrChildren, children) {\n  const l = arguments.length;\n  if (l === 2) {\n    if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\n      if (isVNode(propsOrChildren)) {\n        return createVNode(type, null, [propsOrChildren]);\n      }\n      return createVNode(type, propsOrChildren);\n    } else {\n      return createVNode(type, null, propsOrChildren);\n    }\n  } else {\n    if (l > 3) {\n      children = Array.prototype.slice.call(arguments, 2);\n    } else if (l === 3 && isVNode(children)) {\n      children = [children];\n    }\n    return createVNode(type, propsOrChildren, children);\n  }\n}\n\nfunction initCustomFormatter() {\n  if (!!!(process.env.NODE_ENV !== \"production\") || typeof window === \"undefined\") {\n    return;\n  }\n  const vueStyle = { style: \"color:#3ba776\" };\n  const numberStyle = { style: \"color:#1677ff\" };\n  const stringStyle = { style: \"color:#f5222d\" };\n  const keywordStyle = { style: \"color:#eb2f96\" };\n  const formatter = {\n    __vue_custom_formatter: true,\n    header(obj) {\n      if (!isObject(obj)) {\n        return null;\n      }\n      if (obj.__isVue) {\n        return [\"div\", vueStyle, `VueInstance`];\n      } else if (isRef(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, genRefFlag(obj)],\n          \"<\",\n          formatValue(obj.value),\n          `>`\n        ];\n      } else if (isReactive(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, isShallow(obj) ? \"ShallowReactive\" : \"Reactive\"],\n          \"<\",\n          formatValue(obj),\n          `>${isReadonly(obj) ? ` (readonly)` : ``}`\n        ];\n      } else if (isReadonly(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, isShallow(obj) ? \"ShallowReadonly\" : \"Readonly\"],\n          \"<\",\n          formatValue(obj),\n          \">\"\n        ];\n      }\n      return null;\n    },\n    hasBody(obj) {\n      return obj && obj.__isVue;\n    },\n    body(obj) {\n      if (obj && obj.__isVue) {\n        return [\n          \"div\",\n          {},\n          ...formatInstance(obj.$)\n        ];\n      }\n    }\n  };\n  function formatInstance(instance) {\n    const blocks = [];\n    if (instance.type.props && instance.props) {\n      blocks.push(createInstanceBlock(\"props\", toRaw(instance.props)));\n    }\n    if (instance.setupState !== EMPTY_OBJ) {\n      blocks.push(createInstanceBlock(\"setup\", instance.setupState));\n    }\n    if (instance.data !== EMPTY_OBJ) {\n      blocks.push(createInstanceBlock(\"data\", toRaw(instance.data)));\n    }\n    const computed = extractKeys(instance, \"computed\");\n    if (computed) {\n      blocks.push(createInstanceBlock(\"computed\", computed));\n    }\n    const injected = extractKeys(instance, \"inject\");\n    if (injected) {\n      blocks.push(createInstanceBlock(\"injected\", injected));\n    }\n    blocks.push([\n      \"div\",\n      {},\n      [\n        \"span\",\n        {\n          style: keywordStyle.style + \";opacity:0.66\"\n        },\n        \"$ (internal): \"\n      ],\n      [\"object\", { object: instance }]\n    ]);\n    return blocks;\n  }\n  function createInstanceBlock(type, target) {\n    target = extend({}, target);\n    if (!Object.keys(target).length) {\n      return [\"span\", {}];\n    }\n    return [\n      \"div\",\n      { style: \"line-height:1.25em;margin-bottom:0.6em\" },\n      [\n        \"div\",\n        {\n          style: \"color:#476582\"\n        },\n        type\n      ],\n      [\n        \"div\",\n        {\n          style: \"padding-left:1.25em\"\n        },\n        ...Object.keys(target).map((key) => {\n          return [\n            \"div\",\n            {},\n            [\"span\", keywordStyle, key + \": \"],\n            formatValue(target[key], false)\n          ];\n        })\n      ]\n    ];\n  }\n  function formatValue(v, asRaw = true) {\n    if (typeof v === \"number\") {\n      return [\"span\", numberStyle, v];\n    } else if (typeof v === \"string\") {\n      return [\"span\", stringStyle, JSON.stringify(v)];\n    } else if (typeof v === \"boolean\") {\n      return [\"span\", keywordStyle, v];\n    } else if (isObject(v)) {\n      return [\"object\", { object: asRaw ? toRaw(v) : v }];\n    } else {\n      return [\"span\", stringStyle, String(v)];\n    }\n  }\n  function extractKeys(instance, type) {\n    const Comp = instance.type;\n    if (isFunction(Comp)) {\n      return;\n    }\n    const extracted = {};\n    for (const key in instance.ctx) {\n      if (isKeyOfType(Comp, key, type)) {\n        extracted[key] = instance.ctx[key];\n      }\n    }\n    return extracted;\n  }\n  function isKeyOfType(Comp, key, type) {\n    const opts = Comp[type];\n    if (isArray(opts) && opts.includes(key) || isObject(opts) && key in opts) {\n      return true;\n    }\n    if (Comp.extends && isKeyOfType(Comp.extends, key, type)) {\n      return true;\n    }\n    if (Comp.mixins && Comp.mixins.some((m) => isKeyOfType(m, key, type))) {\n      return true;\n    }\n  }\n  function genRefFlag(v) {\n    if (isShallow(v)) {\n      return `ShallowRef`;\n    }\n    if (v.effect) {\n      return `ComputedRef`;\n    }\n    return `Ref`;\n  }\n  if (window.devtoolsFormatters) {\n    window.devtoolsFormatters.push(formatter);\n  } else {\n    window.devtoolsFormatters = [formatter];\n  }\n}\n\nfunction withMemo(memo, render, cache, index) {\n  const cached = cache[index];\n  if (cached && isMemoSame(cached, memo)) {\n    return cached;\n  }\n  const ret = render();\n  ret.memo = memo.slice();\n  ret.cacheIndex = index;\n  return cache[index] = ret;\n}\nfunction isMemoSame(cached, memo) {\n  const prev = cached.memo;\n  if (prev.length != memo.length) {\n    return false;\n  }\n  for (let i = 0; i < prev.length; i++) {\n    if (hasChanged(prev[i], memo[i])) {\n      return false;\n    }\n  }\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(cached);\n  }\n  return true;\n}\n\nconst version = \"3.4.38\";\nconst warn = !!(process.env.NODE_ENV !== \"production\") ? warn$1 : NOOP;\nconst ErrorTypeStrings = ErrorTypeStrings$1 ;\nconst devtools = !!(process.env.NODE_ENV !== \"production\") || true ? devtools$1 : void 0;\nconst setDevtoolsHook = !!(process.env.NODE_ENV !== \"production\") || true ? setDevtoolsHook$1 : NOOP;\nconst _ssrUtils = {\n  createComponentInstance,\n  setupComponent,\n  renderComponentRoot,\n  setCurrentRenderingInstance,\n  isVNode: isVNode,\n  normalizeVNode,\n  getComponentPublicInstance,\n  ensureValidVNode\n};\nconst ssrUtils = _ssrUtils ;\nconst resolveFilter = null;\nconst compatUtils = null;\nconst DeprecationTypes = null;\n\nexport { BaseTransition, BaseTransitionPropsValidators, Comment, DeprecationTypes, ErrorCodes, ErrorTypeStrings, Fragment, KeepAlive, Static, Suspense, Teleport, Text, assertNumber, callWithAsyncErrorHandling, callWithErrorHandling, cloneVNode, compatUtils, computed, createBlock, createCommentVNode, createElementBlock, createBaseVNode as createElementVNode, createHydrationRenderer, createPropsRestProxy, createRenderer, createSlots, createStaticVNode, createTextVNode, createVNode, defineAsyncComponent, defineComponent, defineEmits, defineExpose, defineModel, defineOptions, defineProps, defineSlots, devtools, getCurrentInstance, getTransitionRawChildren, guardReactiveProps, h, handleError, hasInjectionContext, initCustomFormatter, inject, isMemoSame, isRuntimeOnly, isVNode, mergeDefaults, mergeModels, mergeProps, nextTick, onActivated, onBeforeMount, onBeforeUnmount, onBeforeUpdate, onDeactivated, onErrorCaptured, onMounted, onRenderTracked, onRenderTriggered, onServerPrefetch, onUnmounted, onUpdated, openBlock, popScopeId, provide, pushScopeId, queuePostFlushCb, registerRuntimeCompiler, renderList, renderSlot, resolveComponent, resolveDirective, resolveDynamicComponent, resolveFilter, resolveTransitionHooks, setBlockTracking, setDevtoolsHook, setTransitionHooks, ssrContextKey, ssrUtils, toHandlers, transformVNodeArgs, useAttrs, useModel, useSSRContext, useSlots, useTransitionState, version, warn, watch, watchEffect, watchPostEffect, watchSyncEffect, withAsyncContext, withCtx, withDefaults, withDirectives, withMemo, withScopeId };\n","/**\n* @vue/runtime-dom v3.4.38\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\nimport { h, BaseTransition, BaseTransitionPropsValidators, assertNumber, getCurrentInstance, warn, onBeforeMount, watchPostEffect, onMounted, onUnmounted, Fragment, Static, camelize, callWithAsyncErrorHandling, defineComponent, nextTick, createVNode, useTransitionState, onUpdated, toRaw, getTransitionRawChildren, setTransitionHooks, resolveTransitionHooks, isRuntimeOnly, createRenderer, createHydrationRenderer } from '@vue/runtime-core';\nexport * from '@vue/runtime-core';\nimport { extend, isObject, toNumber, isArray, isString, hyphenate, capitalize, includeBooleanAttr, isSymbol, isSpecialBooleanAttr, isFunction, NOOP, isOn, isModelListener, camelize as camelize$1, EMPTY_OBJ, looseToNumber, looseIndexOf, isSet, looseEqual, invokeArrayFns, isHTMLTag, isSVGTag, isMathMLTag } from '@vue/shared';\n\nconst svgNS = \"http://www.w3.org/2000/svg\";\nconst mathmlNS = \"http://www.w3.org/1998/Math/MathML\";\nconst doc = typeof document !== \"undefined\" ? document : null;\nconst templateContainer = doc && /* @__PURE__ */ doc.createElement(\"template\");\nconst nodeOps = {\n  insert: (child, parent, anchor) => {\n    parent.insertBefore(child, anchor || null);\n  },\n  remove: (child) => {\n    const parent = child.parentNode;\n    if (parent) {\n      parent.removeChild(child);\n    }\n  },\n  createElement: (tag, namespace, is, props) => {\n    const el = namespace === \"svg\" ? doc.createElementNS(svgNS, tag) : namespace === \"mathml\" ? doc.createElementNS(mathmlNS, tag) : is ? doc.createElement(tag, { is }) : doc.createElement(tag);\n    if (tag === \"select\" && props && props.multiple != null) {\n      el.setAttribute(\"multiple\", props.multiple);\n    }\n    return el;\n  },\n  createText: (text) => doc.createTextNode(text),\n  createComment: (text) => doc.createComment(text),\n  setText: (node, text) => {\n    node.nodeValue = text;\n  },\n  setElementText: (el, text) => {\n    el.textContent = text;\n  },\n  parentNode: (node) => node.parentNode,\n  nextSibling: (node) => node.nextSibling,\n  querySelector: (selector) => doc.querySelector(selector),\n  setScopeId(el, id) {\n    el.setAttribute(id, \"\");\n  },\n  // __UNSAFE__\n  // Reason: innerHTML.\n  // Static content here can only come from compiled templates.\n  // As long as the user only uses trusted templates, this is safe.\n  insertStaticContent(content, parent, anchor, namespace, start, end) {\n    const before = anchor ? anchor.previousSibling : parent.lastChild;\n    if (start && (start === end || start.nextSibling)) {\n      while (true) {\n        parent.insertBefore(start.cloneNode(true), anchor);\n        if (start === end || !(start = start.nextSibling)) break;\n      }\n    } else {\n      templateContainer.innerHTML = namespace === \"svg\" ? `<svg>${content}</svg>` : namespace === \"mathml\" ? `<math>${content}</math>` : content;\n      const template = templateContainer.content;\n      if (namespace === \"svg\" || namespace === \"mathml\") {\n        const wrapper = template.firstChild;\n        while (wrapper.firstChild) {\n          template.appendChild(wrapper.firstChild);\n        }\n        template.removeChild(wrapper);\n      }\n      parent.insertBefore(template, anchor);\n    }\n    return [\n      // first\n      before ? before.nextSibling : parent.firstChild,\n      // last\n      anchor ? anchor.previousSibling : parent.lastChild\n    ];\n  }\n};\n\nconst TRANSITION = \"transition\";\nconst ANIMATION = \"animation\";\nconst vtcKey = Symbol(\"_vtc\");\nconst Transition = (props, { slots }) => h(BaseTransition, resolveTransitionProps(props), slots);\nTransition.displayName = \"Transition\";\nconst DOMTransitionPropsValidators = {\n  name: String,\n  type: String,\n  css: {\n    type: Boolean,\n    default: true\n  },\n  duration: [String, Number, Object],\n  enterFromClass: String,\n  enterActiveClass: String,\n  enterToClass: String,\n  appearFromClass: String,\n  appearActiveClass: String,\n  appearToClass: String,\n  leaveFromClass: String,\n  leaveActiveClass: String,\n  leaveToClass: String\n};\nconst TransitionPropsValidators = Transition.props = /* @__PURE__ */ extend(\n  {},\n  BaseTransitionPropsValidators,\n  DOMTransitionPropsValidators\n);\nconst callHook = (hook, args = []) => {\n  if (isArray(hook)) {\n    hook.forEach((h2) => h2(...args));\n  } else if (hook) {\n    hook(...args);\n  }\n};\nconst hasExplicitCallback = (hook) => {\n  return hook ? isArray(hook) ? hook.some((h2) => h2.length > 1) : hook.length > 1 : false;\n};\nfunction resolveTransitionProps(rawProps) {\n  const baseProps = {};\n  for (const key in rawProps) {\n    if (!(key in DOMTransitionPropsValidators)) {\n      baseProps[key] = rawProps[key];\n    }\n  }\n  if (rawProps.css === false) {\n    return baseProps;\n  }\n  const {\n    name = \"v\",\n    type,\n    duration,\n    enterFromClass = `${name}-enter-from`,\n    enterActiveClass = `${name}-enter-active`,\n    enterToClass = `${name}-enter-to`,\n    appearFromClass = enterFromClass,\n    appearActiveClass = enterActiveClass,\n    appearToClass = enterToClass,\n    leaveFromClass = `${name}-leave-from`,\n    leaveActiveClass = `${name}-leave-active`,\n    leaveToClass = `${name}-leave-to`\n  } = rawProps;\n  const durations = normalizeDuration(duration);\n  const enterDuration = durations && durations[0];\n  const leaveDuration = durations && durations[1];\n  const {\n    onBeforeEnter,\n    onEnter,\n    onEnterCancelled,\n    onLeave,\n    onLeaveCancelled,\n    onBeforeAppear = onBeforeEnter,\n    onAppear = onEnter,\n    onAppearCancelled = onEnterCancelled\n  } = baseProps;\n  const finishEnter = (el, isAppear, done) => {\n    removeTransitionClass(el, isAppear ? appearToClass : enterToClass);\n    removeTransitionClass(el, isAppear ? appearActiveClass : enterActiveClass);\n    done && done();\n  };\n  const finishLeave = (el, done) => {\n    el._isLeaving = false;\n    removeTransitionClass(el, leaveFromClass);\n    removeTransitionClass(el, leaveToClass);\n    removeTransitionClass(el, leaveActiveClass);\n    done && done();\n  };\n  const makeEnterHook = (isAppear) => {\n    return (el, done) => {\n      const hook = isAppear ? onAppear : onEnter;\n      const resolve = () => finishEnter(el, isAppear, done);\n      callHook(hook, [el, resolve]);\n      nextFrame(() => {\n        removeTransitionClass(el, isAppear ? appearFromClass : enterFromClass);\n        addTransitionClass(el, isAppear ? appearToClass : enterToClass);\n        if (!hasExplicitCallback(hook)) {\n          whenTransitionEnds(el, type, enterDuration, resolve);\n        }\n      });\n    };\n  };\n  return extend(baseProps, {\n    onBeforeEnter(el) {\n      callHook(onBeforeEnter, [el]);\n      addTransitionClass(el, enterFromClass);\n      addTransitionClass(el, enterActiveClass);\n    },\n    onBeforeAppear(el) {\n      callHook(onBeforeAppear, [el]);\n      addTransitionClass(el, appearFromClass);\n      addTransitionClass(el, appearActiveClass);\n    },\n    onEnter: makeEnterHook(false),\n    onAppear: makeEnterHook(true),\n    onLeave(el, done) {\n      el._isLeaving = true;\n      const resolve = () => finishLeave(el, done);\n      addTransitionClass(el, leaveFromClass);\n      addTransitionClass(el, leaveActiveClass);\n      forceReflow();\n      nextFrame(() => {\n        if (!el._isLeaving) {\n          return;\n        }\n        removeTransitionClass(el, leaveFromClass);\n        addTransitionClass(el, leaveToClass);\n        if (!hasExplicitCallback(onLeave)) {\n          whenTransitionEnds(el, type, leaveDuration, resolve);\n        }\n      });\n      callHook(onLeave, [el, resolve]);\n    },\n    onEnterCancelled(el) {\n      finishEnter(el, false);\n      callHook(onEnterCancelled, [el]);\n    },\n    onAppearCancelled(el) {\n      finishEnter(el, true);\n      callHook(onAppearCancelled, [el]);\n    },\n    onLeaveCancelled(el) {\n      finishLeave(el);\n      callHook(onLeaveCancelled, [el]);\n    }\n  });\n}\nfunction normalizeDuration(duration) {\n  if (duration == null) {\n    return null;\n  } else if (isObject(duration)) {\n    return [NumberOf(duration.enter), NumberOf(duration.leave)];\n  } else {\n    const n = NumberOf(duration);\n    return [n, n];\n  }\n}\nfunction NumberOf(val) {\n  const res = toNumber(val);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    assertNumber(res, \"<transition> explicit duration\");\n  }\n  return res;\n}\nfunction addTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.add(c));\n  (el[vtcKey] || (el[vtcKey] = /* @__PURE__ */ new Set())).add(cls);\n}\nfunction removeTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.remove(c));\n  const _vtc = el[vtcKey];\n  if (_vtc) {\n    _vtc.delete(cls);\n    if (!_vtc.size) {\n      el[vtcKey] = void 0;\n    }\n  }\n}\nfunction nextFrame(cb) {\n  requestAnimationFrame(() => {\n    requestAnimationFrame(cb);\n  });\n}\nlet endId = 0;\nfunction whenTransitionEnds(el, expectedType, explicitTimeout, resolve) {\n  const id = el._endId = ++endId;\n  const resolveIfNotStale = () => {\n    if (id === el._endId) {\n      resolve();\n    }\n  };\n  if (explicitTimeout) {\n    return setTimeout(resolveIfNotStale, explicitTimeout);\n  }\n  const { type, timeout, propCount } = getTransitionInfo(el, expectedType);\n  if (!type) {\n    return resolve();\n  }\n  const endEvent = type + \"end\";\n  let ended = 0;\n  const end = () => {\n    el.removeEventListener(endEvent, onEnd);\n    resolveIfNotStale();\n  };\n  const onEnd = (e) => {\n    if (e.target === el && ++ended >= propCount) {\n      end();\n    }\n  };\n  setTimeout(() => {\n    if (ended < propCount) {\n      end();\n    }\n  }, timeout + 1);\n  el.addEventListener(endEvent, onEnd);\n}\nfunction getTransitionInfo(el, expectedType) {\n  const styles = window.getComputedStyle(el);\n  const getStyleProperties = (key) => (styles[key] || \"\").split(\", \");\n  const transitionDelays = getStyleProperties(`${TRANSITION}Delay`);\n  const transitionDurations = getStyleProperties(`${TRANSITION}Duration`);\n  const transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  const animationDelays = getStyleProperties(`${ANIMATION}Delay`);\n  const animationDurations = getStyleProperties(`${ANIMATION}Duration`);\n  const animationTimeout = getTimeout(animationDelays, animationDurations);\n  let type = null;\n  let timeout = 0;\n  let propCount = 0;\n  if (expectedType === TRANSITION) {\n    if (transitionTimeout > 0) {\n      type = TRANSITION;\n      timeout = transitionTimeout;\n      propCount = transitionDurations.length;\n    }\n  } else if (expectedType === ANIMATION) {\n    if (animationTimeout > 0) {\n      type = ANIMATION;\n      timeout = animationTimeout;\n      propCount = animationDurations.length;\n    }\n  } else {\n    timeout = Math.max(transitionTimeout, animationTimeout);\n    type = timeout > 0 ? transitionTimeout > animationTimeout ? TRANSITION : ANIMATION : null;\n    propCount = type ? type === TRANSITION ? transitionDurations.length : animationDurations.length : 0;\n  }\n  const hasTransform = type === TRANSITION && /\\b(transform|all)(,|$)/.test(\n    getStyleProperties(`${TRANSITION}Property`).toString()\n  );\n  return {\n    type,\n    timeout,\n    propCount,\n    hasTransform\n  };\n}\nfunction getTimeout(delays, durations) {\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n  return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])));\n}\nfunction toMs(s) {\n  if (s === \"auto\") return 0;\n  return Number(s.slice(0, -1).replace(\",\", \".\")) * 1e3;\n}\nfunction forceReflow() {\n  return document.body.offsetHeight;\n}\n\nfunction patchClass(el, value, isSVG) {\n  const transitionClasses = el[vtcKey];\n  if (transitionClasses) {\n    value = (value ? [value, ...transitionClasses] : [...transitionClasses]).join(\" \");\n  }\n  if (value == null) {\n    el.removeAttribute(\"class\");\n  } else if (isSVG) {\n    el.setAttribute(\"class\", value);\n  } else {\n    el.className = value;\n  }\n}\n\nconst vShowOriginalDisplay = Symbol(\"_vod\");\nconst vShowHidden = Symbol(\"_vsh\");\nconst vShow = {\n  beforeMount(el, { value }, { transition }) {\n    el[vShowOriginalDisplay] = el.style.display === \"none\" ? \"\" : el.style.display;\n    if (transition && value) {\n      transition.beforeEnter(el);\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  mounted(el, { value }, { transition }) {\n    if (transition && value) {\n      transition.enter(el);\n    }\n  },\n  updated(el, { value, oldValue }, { transition }) {\n    if (!value === !oldValue) return;\n    if (transition) {\n      if (value) {\n        transition.beforeEnter(el);\n        setDisplay(el, true);\n        transition.enter(el);\n      } else {\n        transition.leave(el, () => {\n          setDisplay(el, false);\n        });\n      }\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  beforeUnmount(el, { value }) {\n    setDisplay(el, value);\n  }\n};\nif (!!(process.env.NODE_ENV !== \"production\")) {\n  vShow.name = \"show\";\n}\nfunction setDisplay(el, value) {\n  el.style.display = value ? el[vShowOriginalDisplay] : \"none\";\n  el[vShowHidden] = !value;\n}\nfunction initVShowForSSR() {\n  vShow.getSSRProps = ({ value }) => {\n    if (!value) {\n      return { style: { display: \"none\" } };\n    }\n  };\n}\n\nconst CSS_VAR_TEXT = Symbol(!!(process.env.NODE_ENV !== \"production\") ? \"CSS_VAR_TEXT\" : \"\");\nfunction useCssVars(getter) {\n  const instance = getCurrentInstance();\n  if (!instance) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(`useCssVars is called without current active component instance.`);\n    return;\n  }\n  const updateTeleports = instance.ut = (vars = getter(instance.proxy)) => {\n    Array.from(\n      document.querySelectorAll(`[data-v-owner=\"${instance.uid}\"]`)\n    ).forEach((node) => setVarsOnNode(node, vars));\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    instance.getCssVars = () => getter(instance.proxy);\n  }\n  const setVars = () => {\n    const vars = getter(instance.proxy);\n    setVarsOnVNode(instance.subTree, vars);\n    updateTeleports(vars);\n  };\n  onBeforeMount(() => {\n    watchPostEffect(setVars);\n  });\n  onMounted(() => {\n    const ob = new MutationObserver(setVars);\n    ob.observe(instance.subTree.el.parentNode, { childList: true });\n    onUnmounted(() => ob.disconnect());\n  });\n}\nfunction setVarsOnVNode(vnode, vars) {\n  if (vnode.shapeFlag & 128) {\n    const suspense = vnode.suspense;\n    vnode = suspense.activeBranch;\n    if (suspense.pendingBranch && !suspense.isHydrating) {\n      suspense.effects.push(() => {\n        setVarsOnVNode(suspense.activeBranch, vars);\n      });\n    }\n  }\n  while (vnode.component) {\n    vnode = vnode.component.subTree;\n  }\n  if (vnode.shapeFlag & 1 && vnode.el) {\n    setVarsOnNode(vnode.el, vars);\n  } else if (vnode.type === Fragment) {\n    vnode.children.forEach((c) => setVarsOnVNode(c, vars));\n  } else if (vnode.type === Static) {\n    let { el, anchor } = vnode;\n    while (el) {\n      setVarsOnNode(el, vars);\n      if (el === anchor) break;\n      el = el.nextSibling;\n    }\n  }\n}\nfunction setVarsOnNode(el, vars) {\n  if (el.nodeType === 1) {\n    const style = el.style;\n    let cssText = \"\";\n    for (const key in vars) {\n      style.setProperty(`--${key}`, vars[key]);\n      cssText += `--${key}: ${vars[key]};`;\n    }\n    style[CSS_VAR_TEXT] = cssText;\n  }\n}\n\nconst displayRE = /(^|;)\\s*display\\s*:/;\nfunction patchStyle(el, prev, next) {\n  const style = el.style;\n  const isCssString = isString(next);\n  let hasControlledDisplay = false;\n  if (next && !isCssString) {\n    if (prev) {\n      if (!isString(prev)) {\n        for (const key in prev) {\n          if (next[key] == null) {\n            setStyle(style, key, \"\");\n          }\n        }\n      } else {\n        for (const prevStyle of prev.split(\";\")) {\n          const key = prevStyle.slice(0, prevStyle.indexOf(\":\")).trim();\n          if (next[key] == null) {\n            setStyle(style, key, \"\");\n          }\n        }\n      }\n    }\n    for (const key in next) {\n      if (key === \"display\") {\n        hasControlledDisplay = true;\n      }\n      setStyle(style, key, next[key]);\n    }\n  } else {\n    if (isCssString) {\n      if (prev !== next) {\n        const cssVarText = style[CSS_VAR_TEXT];\n        if (cssVarText) {\n          next += \";\" + cssVarText;\n        }\n        style.cssText = next;\n        hasControlledDisplay = displayRE.test(next);\n      }\n    } else if (prev) {\n      el.removeAttribute(\"style\");\n    }\n  }\n  if (vShowOriginalDisplay in el) {\n    el[vShowOriginalDisplay] = hasControlledDisplay ? style.display : \"\";\n    if (el[vShowHidden]) {\n      style.display = \"none\";\n    }\n  }\n}\nconst semicolonRE = /[^\\\\];\\s*$/;\nconst importantRE = /\\s*!important$/;\nfunction setStyle(style, name, val) {\n  if (isArray(val)) {\n    val.forEach((v) => setStyle(style, name, v));\n  } else {\n    if (val == null) val = \"\";\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (semicolonRE.test(val)) {\n        warn(\n          `Unexpected semicolon at the end of '${name}' style value: '${val}'`\n        );\n      }\n    }\n    if (name.startsWith(\"--\")) {\n      style.setProperty(name, val);\n    } else {\n      const prefixed = autoPrefix(style, name);\n      if (importantRE.test(val)) {\n        style.setProperty(\n          hyphenate(prefixed),\n          val.replace(importantRE, \"\"),\n          \"important\"\n        );\n      } else {\n        style[prefixed] = val;\n      }\n    }\n  }\n}\nconst prefixes = [\"Webkit\", \"Moz\", \"ms\"];\nconst prefixCache = {};\nfunction autoPrefix(style, rawName) {\n  const cached = prefixCache[rawName];\n  if (cached) {\n    return cached;\n  }\n  let name = camelize(rawName);\n  if (name !== \"filter\" && name in style) {\n    return prefixCache[rawName] = name;\n  }\n  name = capitalize(name);\n  for (let i = 0; i < prefixes.length; i++) {\n    const prefixed = prefixes[i] + name;\n    if (prefixed in style) {\n      return prefixCache[rawName] = prefixed;\n    }\n  }\n  return rawName;\n}\n\nconst xlinkNS = \"http://www.w3.org/1999/xlink\";\nfunction patchAttr(el, key, value, isSVG, instance, isBoolean = isSpecialBooleanAttr(key)) {\n  if (isSVG && key.startsWith(\"xlink:\")) {\n    if (value == null) {\n      el.removeAttributeNS(xlinkNS, key.slice(6, key.length));\n    } else {\n      el.setAttributeNS(xlinkNS, key, value);\n    }\n  } else {\n    if (value == null || isBoolean && !includeBooleanAttr(value)) {\n      el.removeAttribute(key);\n    } else {\n      el.setAttribute(\n        key,\n        isBoolean ? \"\" : isSymbol(value) ? String(value) : value\n      );\n    }\n  }\n}\n\nfunction patchDOMProp(el, key, value, parentComponent) {\n  if (key === \"innerHTML\" || key === \"textContent\") {\n    if (value == null) return;\n    el[key] = value;\n    return;\n  }\n  const tag = el.tagName;\n  if (key === \"value\" && tag !== \"PROGRESS\" && // custom elements may use _value internally\n  !tag.includes(\"-\")) {\n    const oldValue = tag === \"OPTION\" ? el.getAttribute(\"value\") || \"\" : el.value;\n    const newValue = value == null ? \"\" : String(value);\n    if (oldValue !== newValue || !(\"_value\" in el)) {\n      el.value = newValue;\n    }\n    if (value == null) {\n      el.removeAttribute(key);\n    }\n    el._value = value;\n    return;\n  }\n  let needRemove = false;\n  if (value === \"\" || value == null) {\n    const type = typeof el[key];\n    if (type === \"boolean\") {\n      value = includeBooleanAttr(value);\n    } else if (value == null && type === \"string\") {\n      value = \"\";\n      needRemove = true;\n    } else if (type === \"number\") {\n      value = 0;\n      needRemove = true;\n    }\n  }\n  try {\n    el[key] = value;\n  } catch (e) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !needRemove) {\n      warn(\n        `Failed setting prop \"${key}\" on <${tag.toLowerCase()}>: value ${value} is invalid.`,\n        e\n      );\n    }\n  }\n  needRemove && el.removeAttribute(key);\n}\n\nfunction addEventListener(el, event, handler, options) {\n  el.addEventListener(event, handler, options);\n}\nfunction removeEventListener(el, event, handler, options) {\n  el.removeEventListener(event, handler, options);\n}\nconst veiKey = Symbol(\"_vei\");\nfunction patchEvent(el, rawName, prevValue, nextValue, instance = null) {\n  const invokers = el[veiKey] || (el[veiKey] = {});\n  const existingInvoker = invokers[rawName];\n  if (nextValue && existingInvoker) {\n    existingInvoker.value = !!(process.env.NODE_ENV !== \"production\") ? sanitizeEventValue(nextValue, rawName) : nextValue;\n  } else {\n    const [name, options] = parseName(rawName);\n    if (nextValue) {\n      const invoker = invokers[rawName] = createInvoker(\n        !!(process.env.NODE_ENV !== \"production\") ? sanitizeEventValue(nextValue, rawName) : nextValue,\n        instance\n      );\n      addEventListener(el, name, invoker, options);\n    } else if (existingInvoker) {\n      removeEventListener(el, name, existingInvoker, options);\n      invokers[rawName] = void 0;\n    }\n  }\n}\nconst optionsModifierRE = /(?:Once|Passive|Capture)$/;\nfunction parseName(name) {\n  let options;\n  if (optionsModifierRE.test(name)) {\n    options = {};\n    let m;\n    while (m = name.match(optionsModifierRE)) {\n      name = name.slice(0, name.length - m[0].length);\n      options[m[0].toLowerCase()] = true;\n    }\n  }\n  const event = name[2] === \":\" ? name.slice(3) : hyphenate(name.slice(2));\n  return [event, options];\n}\nlet cachedNow = 0;\nconst p = /* @__PURE__ */ Promise.resolve();\nconst getNow = () => cachedNow || (p.then(() => cachedNow = 0), cachedNow = Date.now());\nfunction createInvoker(initialValue, instance) {\n  const invoker = (e) => {\n    if (!e._vts) {\n      e._vts = Date.now();\n    } else if (e._vts <= invoker.attached) {\n      return;\n    }\n    callWithAsyncErrorHandling(\n      patchStopImmediatePropagation(e, invoker.value),\n      instance,\n      5,\n      [e]\n    );\n  };\n  invoker.value = initialValue;\n  invoker.attached = getNow();\n  return invoker;\n}\nfunction sanitizeEventValue(value, propName) {\n  if (isFunction(value) || isArray(value)) {\n    return value;\n  }\n  warn(\n    `Wrong type passed as event handler to ${propName} - did you forget @ or : in front of your prop?\nExpected function or array of functions, received type ${typeof value}.`\n  );\n  return NOOP;\n}\nfunction patchStopImmediatePropagation(e, value) {\n  if (isArray(value)) {\n    const originalStop = e.stopImmediatePropagation;\n    e.stopImmediatePropagation = () => {\n      originalStop.call(e);\n      e._stopped = true;\n    };\n    return value.map(\n      (fn) => (e2) => !e2._stopped && fn && fn(e2)\n    );\n  } else {\n    return value;\n  }\n}\n\nconst isNativeOn = (key) => key.charCodeAt(0) === 111 && key.charCodeAt(1) === 110 && // lowercase letter\nkey.charCodeAt(2) > 96 && key.charCodeAt(2) < 123;\nconst patchProp = (el, key, prevValue, nextValue, namespace, parentComponent) => {\n  const isSVG = namespace === \"svg\";\n  if (key === \"class\") {\n    patchClass(el, nextValue, isSVG);\n  } else if (key === \"style\") {\n    patchStyle(el, prevValue, nextValue);\n  } else if (isOn(key)) {\n    if (!isModelListener(key)) {\n      patchEvent(el, key, prevValue, nextValue, parentComponent);\n    }\n  } else if (key[0] === \".\" ? (key = key.slice(1), true) : key[0] === \"^\" ? (key = key.slice(1), false) : shouldSetAsProp(el, key, nextValue, isSVG)) {\n    patchDOMProp(el, key, nextValue);\n    if (!el.tagName.includes(\"-\") && (key === \"value\" || key === \"checked\" || key === \"selected\")) {\n      patchAttr(el, key, nextValue, isSVG, parentComponent, key !== \"value\");\n    }\n  } else {\n    if (key === \"true-value\") {\n      el._trueValue = nextValue;\n    } else if (key === \"false-value\") {\n      el._falseValue = nextValue;\n    }\n    patchAttr(el, key, nextValue, isSVG);\n  }\n};\nfunction shouldSetAsProp(el, key, value, isSVG) {\n  if (isSVG) {\n    if (key === \"innerHTML\" || key === \"textContent\") {\n      return true;\n    }\n    if (key in el && isNativeOn(key) && isFunction(value)) {\n      return true;\n    }\n    return false;\n  }\n  if (key === \"spellcheck\" || key === \"draggable\" || key === \"translate\") {\n    return false;\n  }\n  if (key === \"form\") {\n    return false;\n  }\n  if (key === \"list\" && el.tagName === \"INPUT\") {\n    return false;\n  }\n  if (key === \"type\" && el.tagName === \"TEXTAREA\") {\n    return false;\n  }\n  if (key === \"width\" || key === \"height\") {\n    const tag = el.tagName;\n    if (tag === \"IMG\" || tag === \"VIDEO\" || tag === \"CANVAS\" || tag === \"SOURCE\") {\n      return false;\n    }\n  }\n  if (isNativeOn(key) && isString(value)) {\n    return false;\n  }\n  return key in el;\n}\n\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction defineCustomElement(options, extraOptions, hydrate2) {\n  const Comp = defineComponent(options, extraOptions);\n  class VueCustomElement extends VueElement {\n    constructor(initialProps) {\n      super(Comp, initialProps, hydrate2);\n    }\n  }\n  VueCustomElement.def = Comp;\n  return VueCustomElement;\n}\n/*! #__NO_SIDE_EFFECTS__ */\nconst defineSSRCustomElement = /* @__NO_SIDE_EFFECTS__ */ (options, extraOptions) => {\n  return /* @__PURE__ */ defineCustomElement(options, extraOptions, hydrate);\n};\nconst BaseClass = typeof HTMLElement !== \"undefined\" ? HTMLElement : class {\n};\nclass VueElement extends BaseClass {\n  constructor(_def, _props = {}, hydrate2) {\n    super();\n    this._def = _def;\n    this._props = _props;\n    /**\n     * @internal\n     */\n    this._instance = null;\n    this._connected = false;\n    this._resolved = false;\n    this._numberProps = null;\n    this._ob = null;\n    if (this.shadowRoot && hydrate2) {\n      hydrate2(this._createVNode(), this.shadowRoot);\n    } else {\n      if (!!(process.env.NODE_ENV !== \"production\") && this.shadowRoot) {\n        warn(\n          `Custom element has pre-rendered declarative shadow root but is not defined as hydratable. Use \\`defineSSRCustomElement\\`.`\n        );\n      }\n      this.attachShadow({ mode: \"open\" });\n      if (!this._def.__asyncLoader) {\n        this._resolveProps(this._def);\n      }\n    }\n  }\n  connectedCallback() {\n    this._connected = true;\n    if (!this._instance) {\n      if (this._resolved) {\n        this._update();\n      } else {\n        this._resolveDef();\n      }\n    }\n  }\n  disconnectedCallback() {\n    this._connected = false;\n    nextTick(() => {\n      if (!this._connected) {\n        if (this._ob) {\n          this._ob.disconnect();\n          this._ob = null;\n        }\n        render(null, this.shadowRoot);\n        this._instance = null;\n      }\n    });\n  }\n  /**\n   * resolve inner component definition (handle possible async component)\n   */\n  _resolveDef() {\n    this._resolved = true;\n    for (let i = 0; i < this.attributes.length; i++) {\n      this._setAttr(this.attributes[i].name);\n    }\n    this._ob = new MutationObserver((mutations) => {\n      for (const m of mutations) {\n        this._setAttr(m.attributeName);\n      }\n    });\n    this._ob.observe(this, { attributes: true });\n    const resolve = (def, isAsync = false) => {\n      const { props, styles } = def;\n      let numberProps;\n      if (props && !isArray(props)) {\n        for (const key in props) {\n          const opt = props[key];\n          if (opt === Number || opt && opt.type === Number) {\n            if (key in this._props) {\n              this._props[key] = toNumber(this._props[key]);\n            }\n            (numberProps || (numberProps = /* @__PURE__ */ Object.create(null)))[camelize$1(key)] = true;\n          }\n        }\n      }\n      this._numberProps = numberProps;\n      if (isAsync) {\n        this._resolveProps(def);\n      }\n      this._applyStyles(styles);\n      this._update();\n    };\n    const asyncDef = this._def.__asyncLoader;\n    if (asyncDef) {\n      asyncDef().then((def) => resolve(def, true));\n    } else {\n      resolve(this._def);\n    }\n  }\n  _resolveProps(def) {\n    const { props } = def;\n    const declaredPropKeys = isArray(props) ? props : Object.keys(props || {});\n    for (const key of Object.keys(this)) {\n      if (key[0] !== \"_\" && declaredPropKeys.includes(key)) {\n        this._setProp(key, this[key], true, false);\n      }\n    }\n    for (const key of declaredPropKeys.map(camelize$1)) {\n      Object.defineProperty(this, key, {\n        get() {\n          return this._getProp(key);\n        },\n        set(val) {\n          this._setProp(key, val);\n        }\n      });\n    }\n  }\n  _setAttr(key) {\n    let value = this.hasAttribute(key) ? this.getAttribute(key) : void 0;\n    const camelKey = camelize$1(key);\n    if (this._numberProps && this._numberProps[camelKey]) {\n      value = toNumber(value);\n    }\n    this._setProp(camelKey, value, false);\n  }\n  /**\n   * @internal\n   */\n  _getProp(key) {\n    return this._props[key];\n  }\n  /**\n   * @internal\n   */\n  _setProp(key, val, shouldReflect = true, shouldUpdate = true) {\n    if (val !== this._props[key]) {\n      this._props[key] = val;\n      if (shouldUpdate && this._instance) {\n        this._update();\n      }\n      if (shouldReflect) {\n        if (val === true) {\n          this.setAttribute(hyphenate(key), \"\");\n        } else if (typeof val === \"string\" || typeof val === \"number\") {\n          this.setAttribute(hyphenate(key), val + \"\");\n        } else if (!val) {\n          this.removeAttribute(hyphenate(key));\n        }\n      }\n    }\n  }\n  _update() {\n    render(this._createVNode(), this.shadowRoot);\n  }\n  _createVNode() {\n    const vnode = createVNode(this._def, extend({}, this._props));\n    if (!this._instance) {\n      vnode.ce = (instance) => {\n        this._instance = instance;\n        instance.isCE = true;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          instance.ceReload = (newStyles) => {\n            if (this._styles) {\n              this._styles.forEach((s) => this.shadowRoot.removeChild(s));\n              this._styles.length = 0;\n            }\n            this._applyStyles(newStyles);\n            this._instance = null;\n            this._update();\n          };\n        }\n        const dispatch = (event, args) => {\n          this.dispatchEvent(\n            new CustomEvent(event, {\n              detail: args\n            })\n          );\n        };\n        instance.emit = (event, ...args) => {\n          dispatch(event, args);\n          if (hyphenate(event) !== event) {\n            dispatch(hyphenate(event), args);\n          }\n        };\n        let parent = this;\n        while (parent = parent && (parent.parentNode || parent.host)) {\n          if (parent instanceof VueElement) {\n            instance.parent = parent._instance;\n            instance.provides = parent._instance.provides;\n            break;\n          }\n        }\n      };\n    }\n    return vnode;\n  }\n  _applyStyles(styles) {\n    if (styles) {\n      styles.forEach((css) => {\n        const s = document.createElement(\"style\");\n        s.textContent = css;\n        this.shadowRoot.appendChild(s);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          (this._styles || (this._styles = [])).push(s);\n        }\n      });\n    }\n  }\n}\n\nfunction useCssModule(name = \"$style\") {\n  {\n    const instance = getCurrentInstance();\n    if (!instance) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`useCssModule must be called inside setup()`);\n      return EMPTY_OBJ;\n    }\n    const modules = instance.type.__cssModules;\n    if (!modules) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Current instance does not have CSS modules injected.`);\n      return EMPTY_OBJ;\n    }\n    const mod = modules[name];\n    if (!mod) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Current instance does not have CSS module named \"${name}\".`);\n      return EMPTY_OBJ;\n    }\n    return mod;\n  }\n}\n\nconst positionMap = /* @__PURE__ */ new WeakMap();\nconst newPositionMap = /* @__PURE__ */ new WeakMap();\nconst moveCbKey = Symbol(\"_moveCb\");\nconst enterCbKey = Symbol(\"_enterCb\");\nconst TransitionGroupImpl = {\n  name: \"TransitionGroup\",\n  props: /* @__PURE__ */ extend({}, TransitionPropsValidators, {\n    tag: String,\n    moveClass: String\n  }),\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const state = useTransitionState();\n    let prevChildren;\n    let children;\n    onUpdated(() => {\n      if (!prevChildren.length) {\n        return;\n      }\n      const moveClass = props.moveClass || `${props.name || \"v\"}-move`;\n      if (!hasCSSTransform(\n        prevChildren[0].el,\n        instance.vnode.el,\n        moveClass\n      )) {\n        return;\n      }\n      prevChildren.forEach(callPendingCbs);\n      prevChildren.forEach(recordPosition);\n      const movedChildren = prevChildren.filter(applyTranslation);\n      forceReflow();\n      movedChildren.forEach((c) => {\n        const el = c.el;\n        const style = el.style;\n        addTransitionClass(el, moveClass);\n        style.transform = style.webkitTransform = style.transitionDuration = \"\";\n        const cb = el[moveCbKey] = (e) => {\n          if (e && e.target !== el) {\n            return;\n          }\n          if (!e || /transform$/.test(e.propertyName)) {\n            el.removeEventListener(\"transitionend\", cb);\n            el[moveCbKey] = null;\n            removeTransitionClass(el, moveClass);\n          }\n        };\n        el.addEventListener(\"transitionend\", cb);\n      });\n    });\n    return () => {\n      const rawProps = toRaw(props);\n      const cssTransitionProps = resolveTransitionProps(rawProps);\n      let tag = rawProps.tag || Fragment;\n      prevChildren = [];\n      if (children) {\n        for (let i = 0; i < children.length; i++) {\n          const child = children[i];\n          if (child.el && child.el instanceof Element) {\n            prevChildren.push(child);\n            setTransitionHooks(\n              child,\n              resolveTransitionHooks(\n                child,\n                cssTransitionProps,\n                state,\n                instance\n              )\n            );\n            positionMap.set(\n              child,\n              child.el.getBoundingClientRect()\n            );\n          }\n        }\n      }\n      children = slots.default ? getTransitionRawChildren(slots.default()) : [];\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        if (child.key != null) {\n          setTransitionHooks(\n            child,\n            resolveTransitionHooks(child, cssTransitionProps, state, instance)\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(`<TransitionGroup> children must be keyed.`);\n        }\n      }\n      return createVNode(tag, null, children);\n    };\n  }\n};\nconst removeMode = (props) => delete props.mode;\n/* @__PURE__ */ removeMode(TransitionGroupImpl.props);\nconst TransitionGroup = TransitionGroupImpl;\nfunction callPendingCbs(c) {\n  const el = c.el;\n  if (el[moveCbKey]) {\n    el[moveCbKey]();\n  }\n  if (el[enterCbKey]) {\n    el[enterCbKey]();\n  }\n}\nfunction recordPosition(c) {\n  newPositionMap.set(c, c.el.getBoundingClientRect());\n}\nfunction applyTranslation(c) {\n  const oldPos = positionMap.get(c);\n  const newPos = newPositionMap.get(c);\n  const dx = oldPos.left - newPos.left;\n  const dy = oldPos.top - newPos.top;\n  if (dx || dy) {\n    const s = c.el.style;\n    s.transform = s.webkitTransform = `translate(${dx}px,${dy}px)`;\n    s.transitionDuration = \"0s\";\n    return c;\n  }\n}\nfunction hasCSSTransform(el, root, moveClass) {\n  const clone = el.cloneNode();\n  const _vtc = el[vtcKey];\n  if (_vtc) {\n    _vtc.forEach((cls) => {\n      cls.split(/\\s+/).forEach((c) => c && clone.classList.remove(c));\n    });\n  }\n  moveClass.split(/\\s+/).forEach((c) => c && clone.classList.add(c));\n  clone.style.display = \"none\";\n  const container = root.nodeType === 1 ? root : root.parentNode;\n  container.appendChild(clone);\n  const { hasTransform } = getTransitionInfo(clone);\n  container.removeChild(clone);\n  return hasTransform;\n}\n\nconst getModelAssigner = (vnode) => {\n  const fn = vnode.props[\"onUpdate:modelValue\"] || false;\n  return isArray(fn) ? (value) => invokeArrayFns(fn, value) : fn;\n};\nfunction onCompositionStart(e) {\n  e.target.composing = true;\n}\nfunction onCompositionEnd(e) {\n  const target = e.target;\n  if (target.composing) {\n    target.composing = false;\n    target.dispatchEvent(new Event(\"input\"));\n  }\n}\nconst assignKey = Symbol(\"_assign\");\nconst vModelText = {\n  created(el, { modifiers: { lazy, trim, number } }, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    const castToNumber = number || vnode.props && vnode.props.type === \"number\";\n    addEventListener(el, lazy ? \"change\" : \"input\", (e) => {\n      if (e.target.composing) return;\n      let domValue = el.value;\n      if (trim) {\n        domValue = domValue.trim();\n      }\n      if (castToNumber) {\n        domValue = looseToNumber(domValue);\n      }\n      el[assignKey](domValue);\n    });\n    if (trim) {\n      addEventListener(el, \"change\", () => {\n        el.value = el.value.trim();\n      });\n    }\n    if (!lazy) {\n      addEventListener(el, \"compositionstart\", onCompositionStart);\n      addEventListener(el, \"compositionend\", onCompositionEnd);\n      addEventListener(el, \"change\", onCompositionEnd);\n    }\n  },\n  // set value on mounted so it's after min/max for type=\"range\"\n  mounted(el, { value }) {\n    el.value = value == null ? \"\" : value;\n  },\n  beforeUpdate(el, { value, oldValue, modifiers: { lazy, trim, number } }, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    if (el.composing) return;\n    const elValue = (number || el.type === \"number\") && !/^0\\d/.test(el.value) ? looseToNumber(el.value) : el.value;\n    const newValue = value == null ? \"\" : value;\n    if (elValue === newValue) {\n      return;\n    }\n    if (document.activeElement === el && el.type !== \"range\") {\n      if (lazy && value === oldValue) {\n        return;\n      }\n      if (trim && el.value.trim() === newValue) {\n        return;\n      }\n    }\n    el.value = newValue;\n  }\n};\nconst vModelCheckbox = {\n  // #4096 array checkboxes need to be deep traversed\n  deep: true,\n  created(el, _, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    addEventListener(el, \"change\", () => {\n      const modelValue = el._modelValue;\n      const elementValue = getValue(el);\n      const checked = el.checked;\n      const assign = el[assignKey];\n      if (isArray(modelValue)) {\n        const index = looseIndexOf(modelValue, elementValue);\n        const found = index !== -1;\n        if (checked && !found) {\n          assign(modelValue.concat(elementValue));\n        } else if (!checked && found) {\n          const filtered = [...modelValue];\n          filtered.splice(index, 1);\n          assign(filtered);\n        }\n      } else if (isSet(modelValue)) {\n        const cloned = new Set(modelValue);\n        if (checked) {\n          cloned.add(elementValue);\n        } else {\n          cloned.delete(elementValue);\n        }\n        assign(cloned);\n      } else {\n        assign(getCheckboxValue(el, checked));\n      }\n    });\n  },\n  // set initial checked on mount to wait for true-value/false-value\n  mounted: setChecked,\n  beforeUpdate(el, binding, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    setChecked(el, binding, vnode);\n  }\n};\nfunction setChecked(el, { value, oldValue }, vnode) {\n  el._modelValue = value;\n  if (isArray(value)) {\n    el.checked = looseIndexOf(value, vnode.props.value) > -1;\n  } else if (isSet(value)) {\n    el.checked = value.has(vnode.props.value);\n  } else if (value !== oldValue) {\n    el.checked = looseEqual(value, getCheckboxValue(el, true));\n  }\n}\nconst vModelRadio = {\n  created(el, { value }, vnode) {\n    el.checked = looseEqual(value, vnode.props.value);\n    el[assignKey] = getModelAssigner(vnode);\n    addEventListener(el, \"change\", () => {\n      el[assignKey](getValue(el));\n    });\n  },\n  beforeUpdate(el, { value, oldValue }, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    if (value !== oldValue) {\n      el.checked = looseEqual(value, vnode.props.value);\n    }\n  }\n};\nconst vModelSelect = {\n  // <select multiple> value need to be deep traversed\n  deep: true,\n  created(el, { value, modifiers: { number } }, vnode) {\n    const isSetModel = isSet(value);\n    addEventListener(el, \"change\", () => {\n      const selectedVal = Array.prototype.filter.call(el.options, (o) => o.selected).map(\n        (o) => number ? looseToNumber(getValue(o)) : getValue(o)\n      );\n      el[assignKey](\n        el.multiple ? isSetModel ? new Set(selectedVal) : selectedVal : selectedVal[0]\n      );\n      el._assigning = true;\n      nextTick(() => {\n        el._assigning = false;\n      });\n    });\n    el[assignKey] = getModelAssigner(vnode);\n  },\n  // set value in mounted & updated because <select> relies on its children\n  // <option>s.\n  mounted(el, { value, modifiers: { number } }) {\n    setSelected(el, value);\n  },\n  beforeUpdate(el, _binding, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n  },\n  updated(el, { value, modifiers: { number } }) {\n    if (!el._assigning) {\n      setSelected(el, value);\n    }\n  }\n};\nfunction setSelected(el, value, number) {\n  const isMultiple = el.multiple;\n  const isArrayValue = isArray(value);\n  if (isMultiple && !isArrayValue && !isSet(value)) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(\n      `<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(value).slice(8, -1)}.`\n    );\n    return;\n  }\n  for (let i = 0, l = el.options.length; i < l; i++) {\n    const option = el.options[i];\n    const optionValue = getValue(option);\n    if (isMultiple) {\n      if (isArrayValue) {\n        const optionType = typeof optionValue;\n        if (optionType === \"string\" || optionType === \"number\") {\n          option.selected = value.some((v) => String(v) === String(optionValue));\n        } else {\n          option.selected = looseIndexOf(value, optionValue) > -1;\n        }\n      } else {\n        option.selected = value.has(optionValue);\n      }\n    } else if (looseEqual(getValue(option), value)) {\n      if (el.selectedIndex !== i) el.selectedIndex = i;\n      return;\n    }\n  }\n  if (!isMultiple && el.selectedIndex !== -1) {\n    el.selectedIndex = -1;\n  }\n}\nfunction getValue(el) {\n  return \"_value\" in el ? el._value : el.value;\n}\nfunction getCheckboxValue(el, checked) {\n  const key = checked ? \"_trueValue\" : \"_falseValue\";\n  return key in el ? el[key] : checked;\n}\nconst vModelDynamic = {\n  created(el, binding, vnode) {\n    callModelHook(el, binding, vnode, null, \"created\");\n  },\n  mounted(el, binding, vnode) {\n    callModelHook(el, binding, vnode, null, \"mounted\");\n  },\n  beforeUpdate(el, binding, vnode, prevVNode) {\n    callModelHook(el, binding, vnode, prevVNode, \"beforeUpdate\");\n  },\n  updated(el, binding, vnode, prevVNode) {\n    callModelHook(el, binding, vnode, prevVNode, \"updated\");\n  }\n};\nfunction resolveDynamicModel(tagName, type) {\n  switch (tagName) {\n    case \"SELECT\":\n      return vModelSelect;\n    case \"TEXTAREA\":\n      return vModelText;\n    default:\n      switch (type) {\n        case \"checkbox\":\n          return vModelCheckbox;\n        case \"radio\":\n          return vModelRadio;\n        default:\n          return vModelText;\n      }\n  }\n}\nfunction callModelHook(el, binding, vnode, prevVNode, hook) {\n  const modelToUse = resolveDynamicModel(\n    el.tagName,\n    vnode.props && vnode.props.type\n  );\n  const fn = modelToUse[hook];\n  fn && fn(el, binding, vnode, prevVNode);\n}\nfunction initVModelForSSR() {\n  vModelText.getSSRProps = ({ value }) => ({ value });\n  vModelRadio.getSSRProps = ({ value }, vnode) => {\n    if (vnode.props && looseEqual(vnode.props.value, value)) {\n      return { checked: true };\n    }\n  };\n  vModelCheckbox.getSSRProps = ({ value }, vnode) => {\n    if (isArray(value)) {\n      if (vnode.props && looseIndexOf(value, vnode.props.value) > -1) {\n        return { checked: true };\n      }\n    } else if (isSet(value)) {\n      if (vnode.props && value.has(vnode.props.value)) {\n        return { checked: true };\n      }\n    } else if (value) {\n      return { checked: true };\n    }\n  };\n  vModelDynamic.getSSRProps = (binding, vnode) => {\n    if (typeof vnode.type !== \"string\") {\n      return;\n    }\n    const modelToUse = resolveDynamicModel(\n      // resolveDynamicModel expects an uppercase tag name, but vnode.type is lowercase\n      vnode.type.toUpperCase(),\n      vnode.props && vnode.props.type\n    );\n    if (modelToUse.getSSRProps) {\n      return modelToUse.getSSRProps(binding, vnode);\n    }\n  };\n}\n\nconst systemModifiers = [\"ctrl\", \"shift\", \"alt\", \"meta\"];\nconst modifierGuards = {\n  stop: (e) => e.stopPropagation(),\n  prevent: (e) => e.preventDefault(),\n  self: (e) => e.target !== e.currentTarget,\n  ctrl: (e) => !e.ctrlKey,\n  shift: (e) => !e.shiftKey,\n  alt: (e) => !e.altKey,\n  meta: (e) => !e.metaKey,\n  left: (e) => \"button\" in e && e.button !== 0,\n  middle: (e) => \"button\" in e && e.button !== 1,\n  right: (e) => \"button\" in e && e.button !== 2,\n  exact: (e, modifiers) => systemModifiers.some((m) => e[`${m}Key`] && !modifiers.includes(m))\n};\nconst withModifiers = (fn, modifiers) => {\n  const cache = fn._withMods || (fn._withMods = {});\n  const cacheKey = modifiers.join(\".\");\n  return cache[cacheKey] || (cache[cacheKey] = (event, ...args) => {\n    for (let i = 0; i < modifiers.length; i++) {\n      const guard = modifierGuards[modifiers[i]];\n      if (guard && guard(event, modifiers)) return;\n    }\n    return fn(event, ...args);\n  });\n};\nconst keyNames = {\n  esc: \"escape\",\n  space: \" \",\n  up: \"arrow-up\",\n  left: \"arrow-left\",\n  right: \"arrow-right\",\n  down: \"arrow-down\",\n  delete: \"backspace\"\n};\nconst withKeys = (fn, modifiers) => {\n  const cache = fn._withKeys || (fn._withKeys = {});\n  const cacheKey = modifiers.join(\".\");\n  return cache[cacheKey] || (cache[cacheKey] = (event) => {\n    if (!(\"key\" in event)) {\n      return;\n    }\n    const eventKey = hyphenate(event.key);\n    if (modifiers.some((k) => k === eventKey || keyNames[k] === eventKey)) {\n      return fn(event);\n    }\n  });\n};\n\nconst rendererOptions = /* @__PURE__ */ extend({ patchProp }, nodeOps);\nlet renderer;\nlet enabledHydration = false;\nfunction ensureRenderer() {\n  return renderer || (renderer = createRenderer(rendererOptions));\n}\nfunction ensureHydrationRenderer() {\n  renderer = enabledHydration ? renderer : createHydrationRenderer(rendererOptions);\n  enabledHydration = true;\n  return renderer;\n}\nconst render = (...args) => {\n  ensureRenderer().render(...args);\n};\nconst hydrate = (...args) => {\n  ensureHydrationRenderer().hydrate(...args);\n};\nconst createApp = (...args) => {\n  const app = ensureRenderer().createApp(...args);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    injectNativeTagCheck(app);\n    injectCompilerOptionsCheck(app);\n  }\n  const { mount } = app;\n  app.mount = (containerOrSelector) => {\n    const container = normalizeContainer(containerOrSelector);\n    if (!container) return;\n    const component = app._component;\n    if (!isFunction(component) && !component.render && !component.template) {\n      component.template = container.innerHTML;\n    }\n    container.innerHTML = \"\";\n    const proxy = mount(container, false, resolveRootNamespace(container));\n    if (container instanceof Element) {\n      container.removeAttribute(\"v-cloak\");\n      container.setAttribute(\"data-v-app\", \"\");\n    }\n    return proxy;\n  };\n  return app;\n};\nconst createSSRApp = (...args) => {\n  const app = ensureHydrationRenderer().createApp(...args);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    injectNativeTagCheck(app);\n    injectCompilerOptionsCheck(app);\n  }\n  const { mount } = app;\n  app.mount = (containerOrSelector) => {\n    const container = normalizeContainer(containerOrSelector);\n    if (container) {\n      return mount(container, true, resolveRootNamespace(container));\n    }\n  };\n  return app;\n};\nfunction resolveRootNamespace(container) {\n  if (container instanceof SVGElement) {\n    return \"svg\";\n  }\n  if (typeof MathMLElement === \"function\" && container instanceof MathMLElement) {\n    return \"mathml\";\n  }\n}\nfunction injectNativeTagCheck(app) {\n  Object.defineProperty(app.config, \"isNativeTag\", {\n    value: (tag) => isHTMLTag(tag) || isSVGTag(tag) || isMathMLTag(tag),\n    writable: false\n  });\n}\nfunction injectCompilerOptionsCheck(app) {\n  if (isRuntimeOnly()) {\n    const isCustomElement = app.config.isCustomElement;\n    Object.defineProperty(app.config, \"isCustomElement\", {\n      get() {\n        return isCustomElement;\n      },\n      set() {\n        warn(\n          `The \\`isCustomElement\\` config option is deprecated. Use \\`compilerOptions.isCustomElement\\` instead.`\n        );\n      }\n    });\n    const compilerOptions = app.config.compilerOptions;\n    const msg = `The \\`compilerOptions\\` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka \"full build\"). Since you are using the runtime-only build, \\`compilerOptions\\` must be passed to \\`@vue/compiler-dom\\` in the build setup instead.\n- For vue-loader: pass it via vue-loader's \\`compilerOptions\\` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc`;\n    Object.defineProperty(app.config, \"compilerOptions\", {\n      get() {\n        warn(msg);\n        return compilerOptions;\n      },\n      set() {\n        warn(msg);\n      }\n    });\n  }\n}\nfunction normalizeContainer(container) {\n  if (isString(container)) {\n    const res = document.querySelector(container);\n    if (!!(process.env.NODE_ENV !== \"production\") && !res) {\n      warn(\n        `Failed to mount app: mount target selector \"${container}\" returned null.`\n      );\n    }\n    return res;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && window.ShadowRoot && container instanceof window.ShadowRoot && container.mode === \"closed\") {\n    warn(\n      `mounting on a ShadowRoot with \\`{mode: \"closed\"}\\` may lead to unpredictable bugs`\n    );\n  }\n  return container;\n}\nlet ssrDirectiveInitialized = false;\nconst initDirectivesForSSR = () => {\n  if (!ssrDirectiveInitialized) {\n    ssrDirectiveInitialized = true;\n    initVModelForSSR();\n    initVShowForSSR();\n  }\n} ;\n\nexport { Transition, TransitionGroup, VueElement, createApp, createSSRApp, defineCustomElement, defineSSRCustomElement, hydrate, initDirectivesForSSR, render, useCssModule, useCssVars, vModelCheckbox, vModelDynamic, vModelRadio, vModelSelect, vModelText, vShow, withKeys, withModifiers };\n","export default {}","/*!\n * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.\n * http://paperjs.org/\n *\n * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey\n * http://juerglehni.com/ & https://puckey.studio/\n *\n * Distributed under the MIT license. See LICENSE file for details.\n *\n * All rights reserved.\n *\n * Date: Wed Jul 17 14:57:24 2024 +0200\n *\n ***\n *\n * Straps.js - Class inheritance library with support for bean-style accessors\n *\n * Copyright (c) 2006 - 2020 Jürg Lehni\n * http://juerglehni.com/\n *\n * Distributed under the MIT license.\n *\n ***\n *\n * Acorn.js\n * https://marijnhaverbeke.nl/acorn/\n *\n * Acorn is a tiny, fast JavaScript parser written in JavaScript,\n * created by Marijn Haverbeke and released under an MIT license.\n *\n */\n\nvar paper = function(self, undefined) {\n\nself = self || require('./node/self.js');\nvar window = self.window,\n\tdocument = self.document;\n\nvar Base = new function() {\n\tvar hidden = /^(statics|enumerable|beans|preserve)$/,\n\t\tarray = [],\n\t\tslice = array.slice,\n\t\tcreate = Object.create,\n\t\tdescribe = Object.getOwnPropertyDescriptor,\n\t\tdefine = Object.defineProperty,\n\n\t\tforEach = array.forEach || function(iter, bind) {\n\t\t\tfor (var i = 0, l = this.length; i < l; i++) {\n\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tforIn = function(iter, bind) {\n\t\t\tfor (var i in this) {\n\t\t\t\tif (this.hasOwnProperty(i))\n\t\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tset = Object.assign || function(dst) {\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tfor (var key in src) {\n\t\t\t\t\tif (src.hasOwnProperty(key))\n\t\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dst;\n\t\t},\n\n\t\teach = function(obj, iter, bind) {\n\t\t\tif (obj) {\n\t\t\t\tvar desc = describe(obj, 'length');\n\t\t\t\t(desc && typeof desc.value === 'number' ? forEach : forIn)\n\t\t\t\t\t.call(obj, iter, bind = bind || obj);\n\t\t\t}\n\t\t\treturn bind;\n\t\t};\n\n\tfunction inject(dest, src, enumerable, beans, preserve) {\n\t\tvar beansNames = {};\n\n\t\tfunction field(name, val) {\n\t\t\tval = val || (val = describe(src, name))\n\t\t\t\t\t&& (val.get ? val : val.value);\n\t\t\tif (typeof val === 'string' && val[0] === '#')\n\t\t\t\tval = dest[val.substring(1)] || val;\n\t\t\tvar isFunc = typeof val === 'function',\n\t\t\t\tres = val,\n\t\t\t\tprev = preserve || isFunc && !val.base\n\t\t\t\t\t\t? (val && val.get ? name in dest : dest[name])\n\t\t\t\t\t\t: null,\n\t\t\t\tbean;\n\t\t\tif (!preserve || !prev) {\n\t\t\t\tif (isFunc && prev)\n\t\t\t\t\tval.base = prev;\n\t\t\t\tif (isFunc && beans !== false\n\t\t\t\t\t\t&& (bean = name.match(/^([gs]et|is)(([A-Z])(.*))$/)))\n\t\t\t\t\tbeansNames[bean[3].toLowerCase() + bean[4]] = bean[2];\n\t\t\t\tif (!res || isFunc || !res.get || typeof res.get !== 'function'\n\t\t\t\t\t\t|| !Base.isPlainObject(res)) {\n\t\t\t\t\tres = { value: res, writable: true };\n\t\t\t\t}\n\t\t\t\tif ((describe(dest, name)\n\t\t\t\t\t\t|| { configurable: true }).configurable) {\n\t\t\t\t\tres.configurable = true;\n\t\t\t\t\tres.enumerable = enumerable != null ? enumerable : !bean;\n\t\t\t\t}\n\t\t\t\tdefine(dest, name, res);\n\t\t\t}\n\t\t}\n\t\tif (src) {\n\t\t\tfor (var name in src) {\n\t\t\t\tif (src.hasOwnProperty(name) && !hidden.test(name))\n\t\t\t\t\tfield(name);\n\t\t\t}\n\t\t\tfor (var name in beansNames) {\n\t\t\t\tvar part = beansNames[name],\n\t\t\t\t\tset = dest['set' + part],\n\t\t\t\t\tget = dest['get' + part] || set && dest['is' + part];\n\t\t\t\tif (get && (beans === true || get.length === 0))\n\t\t\t\t\tfield(name, { get: get, set: set });\n\t\t\t}\n\t\t}\n\t\treturn dest;\n\t}\n\n\tfunction Base() {\n\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\tvar src = arguments[i];\n\t\t\tif (src)\n\t\t\t\tset(this, src);\n\t\t}\n\t\treturn this;\n\t}\n\n\treturn inject(Base, {\n\t\tinject: function(src) {\n\t\t\tif (src) {\n\t\t\t\tvar statics = src.statics === true ? src : src.statics,\n\t\t\t\t\tbeans = src.beans,\n\t\t\t\t\tpreserve = src.preserve;\n\t\t\t\tif (statics !== src)\n\t\t\t\t\tinject(this.prototype, src, src.enumerable, beans, preserve);\n\t\t\t\tinject(this, statics, null, beans, preserve);\n\t\t\t}\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++)\n\t\t\t\tthis.inject(arguments[i]);\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar base = this,\n\t\t\t\tctor,\n\t\t\t\tproto;\n\t\t\tfor (var i = 0, obj, l = arguments.length;\n\t\t\t\t\ti < l && !(ctor && proto); i++) {\n\t\t\t\tobj = arguments[i];\n\t\t\t\tctor = ctor || obj.initialize;\n\t\t\t\tproto = proto || obj.prototype;\n\t\t\t}\n\t\t\tctor = ctor || function() {\n\t\t\t\tbase.apply(this, arguments);\n\t\t\t};\n\t\t\tproto = ctor.prototype = proto || create(this.prototype);\n\t\t\tdefine(proto, 'constructor',\n\t\t\t\t\t{ value: ctor, writable: true, configurable: true });\n\t\t\tinject(ctor, this);\n\t\t\tif (arguments.length)\n\t\t\t\tthis.inject.apply(ctor, arguments);\n\t\t\tctor.base = base;\n\t\t\treturn ctor;\n\t\t}\n\t}).inject({\n\t\tenumerable: false,\n\n\t\tinitialize: Base,\n\n\t\tset: Base,\n\n\t\tinject: function() {\n\t\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tif (src) {\n\t\t\t\t\tinject(this, src, src.enumerable, src.beans, src.preserve);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar res = create(this);\n\t\t\treturn res.inject.apply(res, arguments);\n\t\t},\n\n\t\teach: function(iter, bind) {\n\t\t\treturn each(this, iter, bind);\n\t\t},\n\n\t\tclone: function() {\n\t\t\treturn new this.constructor(this);\n\t\t},\n\n\t\tstatics: {\n\t\t\tset: set,\n\t\t\teach: each,\n\t\t\tcreate: create,\n\t\t\tdefine: define,\n\t\t\tdescribe: describe,\n\n\t\t\tclone: function(obj) {\n\t\t\t\treturn set(new obj.constructor(), obj);\n\t\t\t},\n\n\t\t\tisPlainObject: function(obj) {\n\t\t\t\tvar ctor = obj != null && obj.constructor;\n\t\t\t\treturn ctor && (ctor === Object || ctor === Base\n\t\t\t\t\t\t|| ctor.name === 'Object');\n\t\t\t},\n\n\t\t\tpick: function(a, b) {\n\t\t\t\treturn a !== undefined ? a : b;\n\t\t\t},\n\n\t\t\tslice: function(list, begin, end) {\n\t\t\t\treturn slice.call(list, begin, end);\n\t\t\t}\n\t\t}\n\t});\n};\n\nif (typeof module !== 'undefined')\n\tmodule.exports = Base;\n\nBase.inject({\n\tenumerable: false,\n\n\ttoString: function() {\n\t\treturn this._id != null\n\t\t\t?  (this._class || 'Object') + (this._name\n\t\t\t\t? \" '\" + this._name + \"'\"\n\t\t\t\t: ' @' + this._id)\n\t\t\t: '{ ' + Base.each(this, function(value, key) {\n\t\t\t\tif (!/^_/.test(key)) {\n\t\t\t\t\tvar type = typeof value;\n\t\t\t\t\tthis.push(key + ': ' + (type === 'number'\n\t\t\t\t\t\t\t? Formatter.instance.number(value)\n\t\t\t\t\t\t\t: type === 'string' ? \"'\" + value + \"'\" : value));\n\t\t\t\t}\n\t\t\t}, []).join(', ') + ' }';\n\t},\n\n\tgetClassName: function() {\n\t\treturn this._class || '';\n\t},\n\n\timportJSON: function(json) {\n\t\treturn Base.importJSON(json, this);\n\t},\n\n\texportJSON: function(options) {\n\t\treturn Base.exportJSON(this, options);\n\t},\n\n\ttoJSON: function() {\n\t\treturn Base.serialize(this);\n\t},\n\n\tset: function(props, exclude) {\n\t\tif (props)\n\t\t\tBase.filter(this, props, exclude, this._prioritize);\n\t\treturn this;\n\t}\n}, {\n\nbeans: false,\nstatics: {\n\texports: {},\n\n\textend: function extend() {\n\t\tvar res = extend.base.apply(this, arguments),\n\t\t\tname = res.prototype._class;\n\t\tif (name && !Base.exports[name])\n\t\t\tBase.exports[name] = res;\n\t\treturn res;\n\t},\n\n\tequals: function(obj1, obj2) {\n\t\tif (obj1 === obj2)\n\t\t\treturn true;\n\t\tif (obj1 && obj1.equals)\n\t\t\treturn obj1.equals(obj2);\n\t\tif (obj2 && obj2.equals)\n\t\t\treturn obj2.equals(obj1);\n\t\tif (obj1 && obj2\n\t\t\t\t&& typeof obj1 === 'object' && typeof obj2 === 'object') {\n\t\t\tif (Array.isArray(obj1) && Array.isArray(obj2)) {\n\t\t\t\tvar length = obj1.length;\n\t\t\t\tif (length !== obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tif (!Base.equals(obj1[length], obj2[length]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar keys = Object.keys(obj1),\n\t\t\t\t\tlength = keys.length;\n\t\t\t\tif (length !== Object.keys(obj2).length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tvar key = keys[length];\n\t\t\t\t\tif (!(obj2.hasOwnProperty(key)\n\t\t\t\t\t\t\t&& Base.equals(obj1[key], obj2[key])))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tread: function(list, start, options, amount) {\n\t\tif (this === Base) {\n\t\t\tvar value = this.peek(list, start);\n\t\t\tlist.__index++;\n\t\t\treturn value;\n\t\t}\n\t\tvar proto = this.prototype,\n\t\t\treadIndex = proto._readIndex,\n\t\t\tbegin = start || readIndex && list.__index || 0,\n\t\t\tlength = list.length,\n\t\t\tobj = list[begin];\n\t\tamount = amount || length - begin;\n\t\tif (obj instanceof this\n\t\t\t|| options && options.readNull && obj == null && amount <= 1) {\n\t\t\tif (readIndex)\n\t\t\t\tlist.__index = begin + 1;\n\t\t\treturn obj && options && options.clone ? obj.clone() : obj;\n\t\t}\n\t\tobj = Base.create(proto);\n\t\tif (readIndex)\n\t\t\tobj.__read = true;\n\t\tobj = obj.initialize.apply(obj, begin > 0 || begin + amount < length\n\t\t\t\t? Base.slice(list, begin, begin + amount)\n\t\t\t\t: list) || obj;\n\t\tif (readIndex) {\n\t\t\tlist.__index = begin + obj.__read;\n\t\t\tvar filtered = obj.__filtered;\n\t\t\tif (filtered) {\n\t\t\t\tlist.__filtered = filtered;\n\t\t\t\tobj.__filtered = undefined;\n\t\t\t}\n\t\t\tobj.__read = undefined;\n\t\t}\n\t\treturn obj;\n\t},\n\n\tpeek: function(list, start) {\n\t\treturn list[list.__index = start || list.__index || 0];\n\t},\n\n\tremain: function(list) {\n\t\treturn list.length - (list.__index || 0);\n\t},\n\n\treadList: function(list, start, options, amount) {\n\t\tvar res = [],\n\t\t\tentry,\n\t\t\tbegin = start || 0,\n\t\t\tend = amount ? begin + amount : list.length;\n\t\tfor (var i = begin; i < end; i++) {\n\t\t\tres.push(Array.isArray(entry = list[i])\n\t\t\t\t\t? this.read(entry, 0, options)\n\t\t\t\t\t: this.read(list, i, options, 1));\n\t\t}\n\t\treturn res;\n\t},\n\n\treadNamed: function(list, name, start, options, amount) {\n\t\tvar value = this.getNamed(list, name),\n\t\t\thasValue = value !== undefined;\n\t\tif (hasValue) {\n\t\t\tvar filtered = list.__filtered;\n\t\t\tif (!filtered) {\n\t\t\t\tvar source = this.getSource(list);\n\t\t\t\tfiltered = list.__filtered = Base.create(source);\n\t\t\t\tfiltered.__unfiltered = source;\n\t\t\t}\n\t\t\tfiltered[name] = undefined;\n\t\t}\n\t\treturn this.read(hasValue ? [value] : list, start, options, amount);\n\t},\n\n\treadSupported: function(list, dest) {\n\t\tvar source = this.getSource(list),\n\t\t\tthat = this,\n\t\t\tread = false;\n\t\tif (source) {\n\t\t\tObject.keys(source).forEach(function(key) {\n\t\t\t\tif (key in dest) {\n\t\t\t\t\tvar value = that.readNamed(list, key);\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\tdest[key] = value;\n\t\t\t\t\t}\n\t\t\t\t\tread = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn read;\n\t},\n\n\tgetSource: function(list) {\n\t\tvar source = list.__source;\n\t\tif (source === undefined) {\n\t\t\tvar arg = list.length === 1 && list[0];\n\t\t\tsource = list.__source = arg && Base.isPlainObject(arg)\n\t\t\t\t? arg : null;\n\t\t}\n\t\treturn source;\n\t},\n\n\tgetNamed: function(list, name) {\n\t\tvar source = this.getSource(list);\n\t\tif (source) {\n\t\t\treturn name ? source[name] : list.__filtered || source;\n\t\t}\n\t},\n\n\thasNamed: function(list, name) {\n\t\treturn !!this.getNamed(list, name);\n\t},\n\n\tfilter: function(dest, source, exclude, prioritize) {\n\t\tvar processed;\n\n\t\tfunction handleKey(key) {\n\t\t\tif (!(exclude && key in exclude) &&\n\t\t\t\t!(processed && key in processed)) {\n\t\t\t\tvar value = source[key];\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tdest[key] = value;\n\t\t\t}\n\t\t}\n\n\t\tif (prioritize) {\n\t\t\tvar keys = {};\n\t\t\tfor (var i = 0, key, l = prioritize.length; i < l; i++) {\n\t\t\t\tif ((key = prioritize[i]) in source) {\n\t\t\t\t\thandleKey(key);\n\t\t\t\t\tkeys[key] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tprocessed = keys;\n\t\t}\n\n\t\tObject.keys(source.__unfiltered || source).forEach(handleKey);\n\t\treturn dest;\n\t},\n\n\tisPlainValue: function(obj, asString) {\n\t\treturn Base.isPlainObject(obj) || Array.isArray(obj)\n\t\t\t\t|| asString && typeof obj === 'string';\n\t},\n\n\tserialize: function(obj, options, compact, dictionary) {\n\t\toptions = options || {};\n\n\t\tvar isRoot = !dictionary,\n\t\t\tres;\n\t\tif (isRoot) {\n\t\t\toptions.formatter = new Formatter(options.precision);\n\t\t\tdictionary = {\n\t\t\t\tlength: 0,\n\t\t\t\tdefinitions: {},\n\t\t\t\treferences: {},\n\t\t\t\tadd: function(item, create) {\n\t\t\t\t\tvar id = '#' + item._id,\n\t\t\t\t\t\tref = this.references[id];\n\t\t\t\t\tif (!ref) {\n\t\t\t\t\t\tthis.length++;\n\t\t\t\t\t\tvar res = create.call(item),\n\t\t\t\t\t\t\tname = item._class;\n\t\t\t\t\t\tif (name && res[0] !== name)\n\t\t\t\t\t\t\tres.unshift(name);\n\t\t\t\t\t\tthis.definitions[id] = res;\n\t\t\t\t\t\tref = this.references[id] = [id];\n\t\t\t\t\t}\n\t\t\t\t\treturn ref;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tif (obj && obj._serialize) {\n\t\t\tres = obj._serialize(options, dictionary);\n\t\t\tvar name = obj._class;\n\t\t\tif (name && !obj._compactSerialize && (isRoot || !compact)\n\t\t\t\t\t&& res[0] !== name) {\n\t\t\t\tres.unshift(name);\n\t\t\t}\n\t\t} else if (Array.isArray(obj)) {\n\t\t\tres = [];\n\t\t\tfor (var i = 0, l = obj.length; i < l; i++)\n\t\t\t\tres[i] = Base.serialize(obj[i], options, compact, dictionary);\n\t\t} else if (Base.isPlainObject(obj)) {\n\t\t\tres = {};\n\t\t\tvar keys = Object.keys(obj);\n\t\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i];\n\t\t\t\tres[key] = Base.serialize(obj[key], options, compact,\n\t\t\t\t\t\tdictionary);\n\t\t\t}\n\t\t} else if (typeof obj === 'number') {\n\t\t\tres = options.formatter.number(obj, options.precision);\n\t\t} else {\n\t\t\tres = obj;\n\t\t}\n\t\treturn isRoot && dictionary.length > 0\n\t\t\t\t? [['dictionary', dictionary.definitions], res]\n\t\t\t\t: res;\n\t},\n\n\tdeserialize: function(json, create, _data, _setDictionary, _isRoot) {\n\t\tvar res = json,\n\t\t\tisFirst = !_data,\n\t\t\thasDictionary = isFirst && json && json.length\n\t\t\t\t&& json[0][0] === 'dictionary';\n\t\t_data = _data || {};\n\t\tif (Array.isArray(json)) {\n\t\t\tvar type = json[0],\n\t\t\t\tisDictionary = type === 'dictionary';\n\t\t\tif (json.length == 1 && /^#/.test(type)) {\n\t\t\t\treturn _data.dictionary[type];\n\t\t\t}\n\t\t\ttype = Base.exports[type];\n\t\t\tres = [];\n\t\t\tfor (var i = type ? 1 : 0, l = json.length; i < l; i++) {\n\t\t\t\tres.push(Base.deserialize(json[i], create, _data,\n\t\t\t\t\t\tisDictionary, hasDictionary));\n\t\t\t}\n\t\t\tif (type) {\n\t\t\t\tvar args = res;\n\t\t\t\tif (create) {\n\t\t\t\t\tres = create(type, args, isFirst || _isRoot);\n\t\t\t\t} else {\n\t\t\t\t\tres = new type(args);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (Base.isPlainObject(json)) {\n\t\t\tres = {};\n\t\t\tif (_setDictionary)\n\t\t\t\t_data.dictionary = res;\n\t\t\tfor (var key in json)\n\t\t\t\tres[key] = Base.deserialize(json[key], create, _data);\n\t\t}\n\t\treturn hasDictionary ? res[1] : res;\n\t},\n\n\texportJSON: function(obj, options) {\n\t\tvar json = Base.serialize(obj, options);\n\t\treturn options && options.asString == false\n\t\t\t\t? json\n\t\t\t\t: JSON.stringify(json);\n\t},\n\n\timportJSON: function(json, target) {\n\t\treturn Base.deserialize(\n\t\t\t\ttypeof json === 'string' ? JSON.parse(json) : json,\n\t\t\t\tfunction(ctor, args, isRoot) {\n\t\t\t\t\tvar useTarget = isRoot && target\n\t\t\t\t\t\t\t&& target.constructor === ctor,\n\t\t\t\t\t\tobj = useTarget ? target\n\t\t\t\t\t\t\t: Base.create(ctor.prototype);\n\t\t\t\t\tif (args.length === 1 && obj instanceof Item\n\t\t\t\t\t\t\t&& (useTarget || !(obj instanceof Layer))) {\n\t\t\t\t\t\tvar arg = args[0];\n\t\t\t\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\t\t\t\targ.insert = false;\n\t\t\t\t\t\t\tif (useTarget) {\n\t\t\t\t\t\t\t\targs = args.concat([Item.INSERT]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t(useTarget ? obj.set : ctor).apply(obj, args);\n\t\t\t\t\tif (useTarget)\n\t\t\t\t\t\ttarget = null;\n\t\t\t\t\treturn obj;\n\t\t\t\t});\n\t},\n\n\tpush: function(list, items) {\n\t\tvar itemsLength = items.length;\n\t\tif (itemsLength < 4096) {\n\t\t\tlist.push.apply(list, items);\n\t\t} else {\n\t\t\tvar startLength = list.length;\n\t\t\tlist.length += itemsLength;\n\t\t\tfor (var i = 0; i < itemsLength; i++) {\n\t\t\t\tlist[startLength + i] = items[i];\n\t\t\t}\n\t\t}\n\t\treturn list;\n\t},\n\n\tsplice: function(list, items, index, remove) {\n\t\tvar amount = items && items.length,\n\t\t\tappend = index === undefined;\n\t\tindex = append ? list.length : index;\n\t\tif (index > list.length)\n\t\t\tindex = list.length;\n\t\tfor (var i = 0; i < amount; i++)\n\t\t\titems[i]._index = index + i;\n\t\tif (append) {\n\t\t\tBase.push(list, items);\n\t\t\treturn [];\n\t\t} else {\n\t\t\tvar args = [index, remove];\n\t\t\tif (items)\n\t\t\t\tBase.push(args, items);\n\t\t\tvar removed = list.splice.apply(list, args);\n\t\t\tfor (var i = 0, l = removed.length; i < l; i++)\n\t\t\t\tremoved[i]._index = undefined;\n\t\t\tfor (var i = index + amount, l = list.length; i < l; i++)\n\t\t\t\tlist[i]._index = i;\n\t\t\treturn removed;\n\t\t}\n\t},\n\n\tcapitalize: function(str) {\n\t\treturn str.replace(/\\b[a-z]/g, function(match) {\n\t\t\treturn match.toUpperCase();\n\t\t});\n\t},\n\n\tcamelize: function(str) {\n\t\treturn str.replace(/-(.)/g, function(match, chr) {\n\t\t\treturn chr.toUpperCase();\n\t\t});\n\t},\n\n\thyphenate: function(str) {\n\t\treturn str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\t}\n}});\n\nvar Emitter = {\n\ton: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.on(key, value);\n\t\t\t}, this);\n\t\t} else {\n\t\t\tvar types = this._eventTypes,\n\t\t\t\tentry = types && types[type],\n\t\t\t\thandlers = this._callbacks = this._callbacks || {};\n\t\t\thandlers = handlers[type] = handlers[type] || [];\n\t\t\tif (handlers.indexOf(func) === -1) {\n\t\t\t\thandlers.push(func);\n\t\t\t\tif (entry && entry.install && handlers.length === 1)\n\t\t\t\t\tentry.install.call(this, type);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\toff: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.off(key, value);\n\t\t\t}, this);\n\t\t\treturn;\n\t\t}\n\t\tvar types = this._eventTypes,\n\t\t\tentry = types && types[type],\n\t\t\thandlers = this._callbacks && this._callbacks[type],\n\t\t\tindex;\n\t\tif (handlers) {\n\t\t\tif (!func || (index = handlers.indexOf(func)) !== -1\n\t\t\t\t\t&& handlers.length === 1) {\n\t\t\t\tif (entry && entry.uninstall)\n\t\t\t\t\tentry.uninstall.call(this, type);\n\t\t\t\tdelete this._callbacks[type];\n\t\t\t} else if (index !== -1) {\n\t\t\t\thandlers.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\tonce: function(type, func) {\n\t\treturn this.on(type, function handler() {\n\t\t\tfunc.apply(this, arguments);\n\t\t\tthis.off(type, handler);\n\t\t});\n\t},\n\n\temit: function(type, event) {\n\t\tvar handlers = this._callbacks && this._callbacks[type];\n\t\tif (!handlers)\n\t\t\treturn false;\n\t\tvar args = Base.slice(arguments, 1),\n\t\t\tsetTarget = event && event.target && !event.currentTarget;\n\t\thandlers = handlers.slice();\n\t\tif (setTarget)\n\t\t\tevent.currentTarget = this;\n\t\tfor (var i = 0, l = handlers.length; i < l; i++) {\n\t\t\tif (handlers[i].apply(this, args) == false) {\n\t\t\t\tif (event && event.stop)\n\t\t\t\t\tevent.stop();\n\t\t\t\tbreak;\n\t\t   }\n\t\t}\n\t\tif (setTarget)\n\t\t\tdelete event.currentTarget;\n\t\treturn true;\n\t},\n\n\tresponds: function(type) {\n\t\treturn !!(this._callbacks && this._callbacks[type]);\n\t},\n\n\tattach: '#on',\n\tdetach: '#off',\n\tfire: '#emit',\n\n\t_installEvents: function(install) {\n\t\tvar types = this._eventTypes,\n\t\t\thandlers = this._callbacks,\n\t\t\tkey = install ? 'install' : 'uninstall';\n\t\tif (types) {\n\t\t\tfor (var type in handlers) {\n\t\t\t\tif (handlers[type].length > 0) {\n\t\t\t\t\tvar entry = types[type],\n\t\t\t\t\t\tfunc = entry && entry[key];\n\t\t\t\t\tif (func)\n\t\t\t\t\t\tfunc.call(this, type);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tstatics: {\n\t\tinject: function inject(src) {\n\t\t\tvar events = src._events;\n\t\t\tif (events) {\n\t\t\t\tvar types = {};\n\t\t\t\tBase.each(events, function(entry, key) {\n\t\t\t\t\tvar isString = typeof entry === 'string',\n\t\t\t\t\t\tname = isString ? entry : key,\n\t\t\t\t\t\tpart = Base.capitalize(name),\n\t\t\t\t\t\ttype = name.substring(2).toLowerCase();\n\t\t\t\t\ttypes[type] = isString ? {} : entry;\n\t\t\t\t\tname = '_' + name;\n\t\t\t\t\tsrc['get' + part] = function() {\n\t\t\t\t\t\treturn this[name];\n\t\t\t\t\t};\n\t\t\t\t\tsrc['set' + part] = function(func) {\n\t\t\t\t\t\tvar prev = this[name];\n\t\t\t\t\t\tif (prev)\n\t\t\t\t\t\t\tthis.off(type, prev);\n\t\t\t\t\t\tif (func)\n\t\t\t\t\t\t\tthis.on(type, func);\n\t\t\t\t\t\tthis[name] = func;\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tsrc._eventTypes = types;\n\t\t\t}\n\t\t\treturn inject.base.apply(this, arguments);\n\t\t}\n\t}\n};\n\nvar PaperScope = Base.extend({\n\t_class: 'PaperScope',\n\n\tinitialize: function PaperScope() {\n\t\tpaper = this;\n\t\tthis.settings = new Base({\n\t\t\tapplyMatrix: true,\n\t\t\tinsertItems: true,\n\t\t\thandleSize: 4,\n\t\t\thitTolerance: 0\n\t\t});\n\t\tthis.project = null;\n\t\tthis.projects = [];\n\t\tthis.tools = [];\n\t\tthis._id = PaperScope._id++;\n\t\tPaperScope._scopes[this._id] = this;\n\t\tvar proto = PaperScope.prototype;\n\t\tif (!this.support) {\n\t\t\tvar ctx = CanvasProvider.getContext(1, 1) || {};\n\t\t\tproto.support = {\n\t\t\t\tnativeDash: 'setLineDash' in ctx || 'mozDash' in ctx,\n\t\t\t\tnativeBlendModes: BlendMode.nativeModes\n\t\t\t};\n\t\t\tCanvasProvider.release(ctx);\n\t\t}\n\t\tif (!this.agent) {\n\t\t\tvar user = self.navigator.userAgent.toLowerCase(),\n\t\t\t\tos = (/(darwin|win|mac|linux|freebsd|sunos)/.exec(user)||[])[0],\n\t\t\t\tplatform = os === 'darwin' ? 'mac' : os,\n\t\t\t\tagent = proto.agent = proto.browser = { platform: platform };\n\t\t\tif (platform)\n\t\t\t\tagent[platform] = true;\n\t\t\tuser.replace(\n\t\t\t\t/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\\/?\\s*([.\\d]+)(?:.*version\\/([.\\d]+))?(?:.*rv\\:v?([.\\d]+))?/g,\n\t\t\t\tfunction(match, n, v1, v2, rv) {\n\t\t\t\t\tif (!agent.chrome) {\n\t\t\t\t\t\tvar v = n === 'opera' ? v2 :\n\t\t\t\t\t\t\t\t/^(node|trident)$/.test(n) ? rv : v1;\n\t\t\t\t\t\tagent.version = v;\n\t\t\t\t\t\tagent.versionNumber = parseFloat(v);\n\t\t\t\t\t\tn = { trident: 'msie', jsdom: 'node' }[n] || n;\n\t\t\t\t\t\tagent.name = n;\n\t\t\t\t\t\tagent[n] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tif (agent.chrome)\n\t\t\t\tdelete agent.webkit;\n\t\t\tif (agent.atom)\n\t\t\t\tdelete agent.chrome;\n\t\t}\n\t},\n\n\tversion: \"0.12.18\",\n\n\tgetView: function() {\n\t\tvar project = this.project;\n\t\treturn project && project._view;\n\t},\n\n\tgetPaper: function() {\n\t\treturn this;\n\t},\n\n\texecute: function(code, options) {\n\t\t\tvar exports = paper.PaperScript.execute(code, this, options);\n\t\t\tView.updateFocus();\n\t\t\treturn exports;\n\t},\n\n\tinstall: function(scope) {\n\t\tvar that = this;\n\t\tBase.each(['project', 'view', 'tool'], function(key) {\n\t\t\tBase.define(scope, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tget: function() {\n\t\t\t\t\treturn that[key];\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tfor (var key in this)\n\t\t\tif (!/^_/.test(key) && this[key])\n\t\t\t\tscope[key] = this[key];\n\t},\n\n\tsetup: function(element) {\n\t\tpaper = this;\n\t\tthis.project = new Project(element);\n\t\treturn this;\n\t},\n\n\tcreateCanvas: function(width, height) {\n\t\treturn CanvasProvider.getCanvas(width, height);\n\t},\n\n\tactivate: function() {\n\t\tpaper = this;\n\t},\n\n\tclear: function() {\n\t\tvar projects = this.projects,\n\t\t\ttools = this.tools;\n\t\tfor (var i = projects.length - 1; i >= 0; i--)\n\t\t\tprojects[i].remove();\n\t\tfor (var i = tools.length - 1; i >= 0; i--)\n\t\t\ttools[i].remove();\n\t},\n\n\tremove: function() {\n\t\tthis.clear();\n\t\tdelete PaperScope._scopes[this._id];\n\t},\n\n\tstatics: new function() {\n\t\tfunction handleAttribute(name) {\n\t\t\tname += 'Attribute';\n\t\t\treturn function(el, attr) {\n\t\t\t\treturn el[name](attr) || el[name]('data-paper-' + attr);\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\t_scopes: {},\n\t\t\t_id: 0,\n\n\t\t\tget: function(id) {\n\t\t\t\treturn this._scopes[id] || null;\n\t\t\t},\n\n\t\t\tgetAttribute: handleAttribute('get'),\n\t\t\thasAttribute: handleAttribute('has')\n\t\t};\n\t}\n});\n\nvar PaperScopeItem = Base.extend(Emitter, {\n\n\tinitialize: function(activate) {\n\t\tthis._scope = paper;\n\t\tthis._index = this._scope[this._list].push(this) - 1;\n\t\tif (activate || !this._scope[this._reference])\n\t\t\tthis.activate();\n\t},\n\n\tactivate: function() {\n\t\tif (!this._scope)\n\t\t\treturn false;\n\t\tvar prev = this._scope[this._reference];\n\t\tif (prev && prev !== this)\n\t\t\tprev.emit('deactivate');\n\t\tthis._scope[this._reference] = this;\n\t\tthis.emit('activate', prev);\n\t\treturn true;\n\t},\n\n\tisActive: function() {\n\t\treturn this._scope[this._reference] === this;\n\t},\n\n\tremove: function() {\n\t\tif (this._index == null)\n\t\t\treturn false;\n\t\tBase.splice(this._scope[this._list], null, this._index, 1);\n\t\tif (this._scope[this._reference] == this)\n\t\t\tthis._scope[this._reference] = null;\n\t\tthis._scope = null;\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._scope.getView();\n\t}\n});\n\nvar CollisionDetection = {\n\tfindItemBoundsCollisions: function(items1, items2, tolerance) {\n\t\tfunction getBounds(items) {\n\t\t\tvar bounds = new Array(items.length);\n\t\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\t\tvar rect = items[i].getBounds();\n\t\t\t\tbounds[i] = [rect.left, rect.top, rect.right, rect.bottom];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(items1),\n\t\t\tbounds2 = !items2 || items2 === items1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(items2);\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindCurveBoundsCollisions: function(curves1, curves2, tolerance, bothAxis) {\n\t\tfunction getBounds(curves) {\n\t\t\tvar min = Math.min,\n\t\t\t\tmax = Math.max,\n\t\t\t\tbounds = new Array(curves.length);\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar v = curves[i];\n\t\t\t\tbounds[i] = [\n\t\t\t\t\tmin(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmin(v[1], v[3], v[5], v[7]),\n\t\t\t\t\tmax(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmax(v[1], v[3], v[5], v[7])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(curves1),\n\t\t\tbounds2 = !curves2 || curves2 === curves1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(curves2);\n\t\tif (bothAxis) {\n\t\t\tvar hor = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, false, true),\n\t\t\t\tver = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, true, true),\n\t\t\t\tlist = [];\n\t\t\tfor (var i = 0, l = hor.length; i < l; i++) {\n\t\t\t\tlist[i] = { hor: hor[i], ver: ver[i] };\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindBoundsCollisions: function(boundsA, boundsB, tolerance,\n\t\tsweepVertical, onlySweepAxisCollisions) {\n\t\tvar self = !boundsB || boundsA === boundsB,\n\t\t\tallBounds = self ? boundsA : boundsA.concat(boundsB),\n\t\t\tlengthA = boundsA.length,\n\t\t\tlengthAll = allBounds.length;\n\n\t\tfunction binarySearch(indices, coord, value) {\n\t\t\tvar lo = 0,\n\t\t\t\thi = indices.length;\n\t\t\twhile (lo < hi) {\n\t\t\t\tvar mid = (hi + lo) >>> 1;\n\t\t\t\tif (allBounds[indices[mid]][coord] < value) {\n\t\t\t\t\tlo = mid + 1;\n\t\t\t\t} else {\n\t\t\t\t\thi = mid;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn lo - 1;\n\t\t}\n\n\t\tvar pri0 = sweepVertical ? 1 : 0,\n\t\t\tpri1 = pri0 + 2,\n\t\t\tsec0 = sweepVertical ? 0 : 1,\n\t\t\tsec1 = sec0 + 2;\n\t\tvar allIndicesByPri0 = new Array(lengthAll);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tallIndicesByPri0[i] = i;\n\t\t}\n\t\tallIndicesByPri0.sort(function(i1, i2) {\n\t\t\treturn allBounds[i1][pri0] - allBounds[i2][pri0];\n\t\t});\n\t\tvar activeIndicesByPri1 = [],\n\t\t\tallCollisions = new Array(lengthA);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tvar curIndex = allIndicesByPri0[i],\n\t\t\t\tcurBounds = allBounds[curIndex],\n\t\t\t\torigIndex = self ? curIndex : curIndex - lengthA,\n\t\t\t\tisCurrentA = curIndex < lengthA,\n\t\t\t\tisCurrentB = self || !isCurrentA,\n\t\t\t\tcurCollisions = isCurrentA ? [] : null;\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar pruneCount = binarySearch(activeIndicesByPri1, pri1,\n\t\t\t\t\t\tcurBounds[pri0] - tolerance) + 1;\n\t\t\t\tactiveIndicesByPri1.splice(0, pruneCount);\n\t\t\t\tif (self && onlySweepAxisCollisions) {\n\t\t\t\t\tcurCollisions = curCollisions.concat(activeIndicesByPri1);\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j];\n\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar curSec1 = curBounds[sec1],\n\t\t\t\t\t\tcurSec0 = curBounds[sec0];\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j],\n\t\t\t\t\t\t\tactiveBounds = allBounds[activeIndex],\n\t\t\t\t\t\t\tisActiveA = activeIndex < lengthA,\n\t\t\t\t\t\t\tisActiveB = self || activeIndex >= lengthA;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tonlySweepAxisCollisions ||\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tisCurrentA && isActiveB ||\n\t\t\t\t\t\t\t\tisCurrentB && isActiveA\n\t\t\t\t\t\t\t) && (\n\t\t\t\t\t\t\t\tcurSec1 >= activeBounds[sec0] - tolerance &&\n\t\t\t\t\t\t\t\tcurSec0 <= activeBounds[sec1] + tolerance\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (isCurrentA && isActiveB) {\n\t\t\t\t\t\t\t\tcurCollisions.push(\n\t\t\t\t\t\t\t\t\tself ? activeIndex : activeIndex - lengthA);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (isCurrentB && isActiveA) {\n\t\t\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isCurrentA) {\n\t\t\t\tif (boundsA === boundsB) {\n\t\t\t\t\tcurCollisions.push(curIndex);\n\t\t\t\t}\n\t\t\t\tallCollisions[curIndex] = curCollisions;\n\t\t\t}\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar curPri1 = curBounds[pri1],\n\t\t\t\t\tindex = binarySearch(activeIndicesByPri1, pri1, curPri1);\n\t\t\t\tactiveIndicesByPri1.splice(index + 1, 0, curIndex);\n\t\t\t} else {\n\t\t\t\tactiveIndicesByPri1.push(curIndex);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < allCollisions.length; i++) {\n\t\t\tvar collisions = allCollisions[i];\n\t\t\tif (collisions) {\n\t\t\t\tcollisions.sort(function(i1, i2) { return i1 - i2; });\n\t\t\t}\n\t\t}\n\t\treturn allCollisions;\n\t}\n};\n\nvar Formatter = Base.extend({\n\tinitialize: function(precision) {\n\t\tthis.precision = Base.pick(precision, 5);\n\t\tthis.multiplier = Math.pow(10, this.precision);\n\t},\n\n\tnumber: function(val) {\n\t\treturn this.precision < 16\n\t\t\t\t? Math.round(val * this.multiplier) / this.multiplier : val;\n\t},\n\n\tpair: function(val1, val2, separator) {\n\t\treturn this.number(val1) + (separator || ',') + this.number(val2);\n\t},\n\n\tpoint: function(val, separator) {\n\t\treturn this.number(val.x) + (separator || ',') + this.number(val.y);\n\t},\n\n\tsize: function(val, separator) {\n\t\treturn this.number(val.width) + (separator || ',')\n\t\t\t\t+ this.number(val.height);\n\t},\n\n\trectangle: function(val, separator) {\n\t\treturn this.point(val, separator) + (separator || ',')\n\t\t\t\t+ this.size(val, separator);\n\t}\n});\n\nFormatter.instance = new Formatter();\n\nvar Numerical = new function() {\n\n\tvar abscissas = [\n\t\t[  0.5773502691896257645091488],\n\t\t[0,0.7745966692414833770358531],\n\t\t[  0.3399810435848562648026658,0.8611363115940525752239465],\n\t\t[0,0.5384693101056830910363144,0.9061798459386639927976269],\n\t\t[  0.2386191860831969086305017,0.6612093864662645136613996,0.9324695142031520278123016],\n\t\t[0,0.4058451513773971669066064,0.7415311855993944398638648,0.9491079123427585245261897],\n\t\t[  0.1834346424956498049394761,0.5255324099163289858177390,0.7966664774136267395915539,0.9602898564975362316835609],\n\t\t[0,0.3242534234038089290385380,0.6133714327005903973087020,0.8360311073266357942994298,0.9681602395076260898355762],\n\t\t[  0.1488743389816312108848260,0.4333953941292471907992659,0.6794095682990244062343274,0.8650633666889845107320967,0.9739065285171717200779640],\n\t\t[0,0.2695431559523449723315320,0.5190961292068118159257257,0.7301520055740493240934163,0.8870625997680952990751578,0.9782286581460569928039380],\n\t\t[  0.1252334085114689154724414,0.3678314989981801937526915,0.5873179542866174472967024,0.7699026741943046870368938,0.9041172563704748566784659,0.9815606342467192506905491],\n\t\t[0,0.2304583159551347940655281,0.4484927510364468528779129,0.6423493394403402206439846,0.8015780907333099127942065,0.9175983992229779652065478,0.9841830547185881494728294],\n\t\t[  0.1080549487073436620662447,0.3191123689278897604356718,0.5152486363581540919652907,0.6872929048116854701480198,0.8272013150697649931897947,0.9284348836635735173363911,0.9862838086968123388415973],\n\t\t[0,0.2011940939974345223006283,0.3941513470775633698972074,0.5709721726085388475372267,0.7244177313601700474161861,0.8482065834104272162006483,0.9372733924007059043077589,0.9879925180204854284895657],\n\t\t[  0.0950125098376374401853193,0.2816035507792589132304605,0.4580167776572273863424194,0.6178762444026437484466718,0.7554044083550030338951012,0.8656312023878317438804679,0.9445750230732325760779884,0.9894009349916499325961542]\n\t];\n\n\tvar weights = [\n\t\t[1],\n\t\t[0.8888888888888888888888889,0.5555555555555555555555556],\n\t\t[0.6521451548625461426269361,0.3478548451374538573730639],\n\t\t[0.5688888888888888888888889,0.4786286704993664680412915,0.2369268850561890875142640],\n\t\t[0.4679139345726910473898703,0.3607615730481386075698335,0.1713244923791703450402961],\n\t\t[0.4179591836734693877551020,0.3818300505051189449503698,0.2797053914892766679014678,0.1294849661688696932706114],\n\t\t[0.3626837833783619829651504,0.3137066458778872873379622,0.2223810344533744705443560,0.1012285362903762591525314],\n\t\t[0.3302393550012597631645251,0.3123470770400028400686304,0.2606106964029354623187429,0.1806481606948574040584720,0.0812743883615744119718922],\n\t\t[0.2955242247147528701738930,0.2692667193099963550912269,0.2190863625159820439955349,0.1494513491505805931457763,0.0666713443086881375935688],\n\t\t[0.2729250867779006307144835,0.2628045445102466621806889,0.2331937645919904799185237,0.1862902109277342514260976,0.1255803694649046246346943,0.0556685671161736664827537],\n\t\t[0.2491470458134027850005624,0.2334925365383548087608499,0.2031674267230659217490645,0.1600783285433462263346525,0.1069393259953184309602547,0.0471753363865118271946160],\n\t\t[0.2325515532308739101945895,0.2262831802628972384120902,0.2078160475368885023125232,0.1781459807619457382800467,0.1388735102197872384636018,0.0921214998377284479144218,0.0404840047653158795200216],\n\t\t[0.2152638534631577901958764,0.2051984637212956039659241,0.1855383974779378137417166,0.1572031671581935345696019,0.1215185706879031846894148,0.0801580871597602098056333,0.0351194603317518630318329],\n\t\t[0.2025782419255612728806202,0.1984314853271115764561183,0.1861610000155622110268006,0.1662692058169939335532009,0.1395706779261543144478048,0.1071592204671719350118695,0.0703660474881081247092674,0.0307532419961172683546284],\n\t\t[0.1894506104550684962853967,0.1826034150449235888667637,0.1691565193950025381893121,0.1495959888165767320815017,0.1246289712555338720524763,0.0951585116824927848099251,0.0622535239386478928628438,0.0271524594117540948517806]\n\t];\n\n\tvar abs = Math.abs,\n\t\tsqrt = Math.sqrt,\n\t\tpow = Math.pow,\n\t\tlog2 = Math.log2 || function(x) {\n\t\t\treturn Math.log(x) * Math.LOG2E;\n\t\t},\n\t\tEPSILON = 1e-12,\n\t\tMACHINE_EPSILON = 1.12e-16;\n\n\tfunction clamp(value, min, max) {\n\t\treturn value < min ? min : value > max ? max : value;\n\t}\n\n\tfunction getDiscriminant(a, b, c) {\n\t\tfunction split(v) {\n\t\t\tvar x = v * 134217729,\n\t\t\t\ty = v - x,\n\t\t\t\thi = y + x,\n\t\t\t\tlo = v - hi;\n\t\t\treturn [hi, lo];\n\t\t}\n\n\t\tvar D = b * b - a * c,\n\t\t\tE = b * b + a * c;\n\t\tif (abs(D) * 3 < E) {\n\t\t\tvar ad = split(a),\n\t\t\t\tbd = split(b),\n\t\t\t\tcd = split(c),\n\t\t\t\tp = b * b,\n\t\t\t\tdp = (bd[0] * bd[0] - p + 2 * bd[0] * bd[1]) + bd[1] * bd[1],\n\t\t\t\tq = a * c,\n\t\t\t\tdq = (ad[0] * cd[0] - q + ad[0] * cd[1] + ad[1] * cd[0])\n\t\t\t\t\t\t+ ad[1] * cd[1];\n\t\t\tD = (p - q) + (dp - dq);\n\t\t}\n\t\treturn D;\n\t}\n\n\tfunction getNormalizationFactor() {\n\t\tvar norm = Math.max.apply(Math, arguments);\n\t\treturn norm && (norm < 1e-8 || norm > 1e8)\n\t\t\t\t? pow(2, -Math.round(log2(norm)))\n\t\t\t\t: 0;\n\t}\n\n\treturn {\n\t\tEPSILON: EPSILON,\n\t\tMACHINE_EPSILON: MACHINE_EPSILON,\n\t\tCURVETIME_EPSILON: 1e-8,\n\t\tGEOMETRIC_EPSILON: 1e-7,\n\t\tTRIGONOMETRIC_EPSILON: 1e-8,\n\t\tANGULAR_EPSILON: 1e-5,\n\t\tKAPPA: 4 * (sqrt(2) - 1) / 3,\n\n\t\tisZero: function(val) {\n\t\t\treturn val >= -EPSILON && val <= EPSILON;\n\t\t},\n\n\t\tisMachineZero: function(val) {\n\t\t\treturn val >= -MACHINE_EPSILON && val <= MACHINE_EPSILON;\n\t\t},\n\n\t\tclamp: clamp,\n\n\t\tintegrate: function(f, a, b, n) {\n\t\t\tvar x = abscissas[n - 2],\n\t\t\t\tw = weights[n - 2],\n\t\t\t\tA = (b - a) * 0.5,\n\t\t\t\tB = A + a,\n\t\t\t\ti = 0,\n\t\t\t\tm = (n + 1) >> 1,\n\t\t\t\tsum = n & 1 ? w[i++] * f(B) : 0;\n\t\t\twhile (i < m) {\n\t\t\t\tvar Ax = A * x[i];\n\t\t\t\tsum += w[i++] * (f(B + Ax) + f(B - Ax));\n\t\t\t}\n\t\t\treturn A * sum;\n\t\t},\n\n\t\tfindRoot: function(f, df, x, a, b, n, tolerance) {\n\t\t\tfor (var i = 0; i < n; i++) {\n\t\t\t\tvar fx = f(x),\n\t\t\t\t\tdx = fx / df(x),\n\t\t\t\t\tnx = x - dx;\n\t\t\t\tif (abs(dx) < tolerance) {\n\t\t\t\t\tx = nx;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (fx > 0) {\n\t\t\t\t\tb = x;\n\t\t\t\t\tx = nx <= a ? (a + b) * 0.5 : nx;\n\t\t\t\t} else {\n\t\t\t\t\ta = x;\n\t\t\t\t\tx = nx >= b ? (a + b) * 0.5 : nx;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn clamp(x, a, b);\n\t\t},\n\n\t\tsolveQuadratic: function(a, b, c, roots, min, max) {\n\t\t\tvar x1, x2 = Infinity;\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\tif (abs(b) < EPSILON)\n\t\t\t\t\treturn abs(c) < EPSILON ? -1 : 0;\n\t\t\t\tx1 = -c / b;\n\t\t\t} else {\n\t\t\t\tb *= -0.5;\n\t\t\t\tvar D = getDiscriminant(a, b, c);\n\t\t\t\tif (D && abs(D) < MACHINE_EPSILON) {\n\t\t\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c));\n\t\t\t\t\tif (f) {\n\t\t\t\t\t\ta *= f;\n\t\t\t\t\t\tb *= f;\n\t\t\t\t\t\tc *= f;\n\t\t\t\t\t\tD = getDiscriminant(a, b, c);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (D >= -MACHINE_EPSILON) {\n\t\t\t\t\tvar Q = D < 0 ? 0 : sqrt(D),\n\t\t\t\t\t\tR = b + (b < 0 ? -Q : Q);\n\t\t\t\t\tif (R === 0) {\n\t\t\t\t\t\tx1 = c / a;\n\t\t\t\t\t\tx2 = -x1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tx1 = R / a;\n\t\t\t\t\t\tx2 = c / R;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = 0,\n\t\t\t\tboundless = min == null,\n\t\t\t\tminB = min - EPSILON,\n\t\t\t\tmaxB = max + EPSILON;\n\t\t\tif (isFinite(x1) && (boundless || x1 > minB && x1 < maxB))\n\t\t\t\troots[count++] = boundless ? x1 : clamp(x1, min, max);\n\t\t\tif (x2 !== x1\n\t\t\t\t\t&& isFinite(x2) && (boundless || x2 > minB && x2 < maxB))\n\t\t\t\troots[count++] = boundless ? x2 : clamp(x2, min, max);\n\t\t\treturn count;\n\t\t},\n\n\t\tsolveCubic: function(a, b, c, d, roots, min, max) {\n\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c), abs(d)),\n\t\t\t\tx, b1, c2, qd, q;\n\t\t\tif (f) {\n\t\t\t\ta *= f;\n\t\t\t\tb *= f;\n\t\t\t\tc *= f;\n\t\t\t\td *= f;\n\t\t\t}\n\n\t\t\tfunction evaluate(x0) {\n\t\t\t\tx = x0;\n\t\t\t\tvar tmp = a * x;\n\t\t\t\tb1 = tmp + b;\n\t\t\t\tc2 = b1 * x + c;\n\t\t\t\tqd = (tmp + b1) * x + c2;\n\t\t\t\tq = c2 * x + d;\n\t\t\t}\n\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\ta = b;\n\t\t\t\tb1 = c;\n\t\t\t\tc2 = d;\n\t\t\t\tx = Infinity;\n\t\t\t} else if (abs(d) < EPSILON) {\n\t\t\t\tb1 = b;\n\t\t\t\tc2 = c;\n\t\t\t\tx = 0;\n\t\t\t} else {\n\t\t\t\tevaluate(-(b / a) / 3);\n\t\t\t\tvar t = q / a,\n\t\t\t\t\tr = pow(abs(t), 1/3),\n\t\t\t\t\ts = t < 0 ? -1 : 1,\n\t\t\t\t\ttd = -qd / a,\n\t\t\t\t\trd = td > 0 ? 1.324717957244746 * Math.max(r, sqrt(td)) : r,\n\t\t\t\t\tx0 = x - s * rd;\n\t\t\t\tif (x0 !== x) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tevaluate(x0);\n\t\t\t\t\t\tx0 = qd === 0 ? x : x - q / qd / (1 + MACHINE_EPSILON);\n\t\t\t\t\t} while (s * x0 > s * x);\n\t\t\t\t\tif (abs(a) * x * x > abs(d / x)) {\n\t\t\t\t\t\tc2 = -d / x;\n\t\t\t\t\t\tb1 = (c2 - c) / x;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = Numerical.solveQuadratic(a, b1, c2, roots, min, max),\n\t\t\t\tboundless = min == null;\n\t\t\tif (isFinite(x) && (count === 0\n\t\t\t\t\t|| count > 0 && x !== roots[0] && x !== roots[1])\n\t\t\t\t\t&& (boundless || x > min - EPSILON && x < max + EPSILON))\n\t\t\t\troots[count++] = boundless ? x : clamp(x, min, max);\n\t\t\treturn count;\n\t\t}\n\t};\n};\n\nvar UID = {\n\t_id: 1,\n\t_pools: {},\n\n\tget: function(name) {\n\t\tif (name) {\n\t\t\tvar pool = this._pools[name];\n\t\t\tif (!pool)\n\t\t\t\tpool = this._pools[name] = { _id: 1 };\n\t\t\treturn pool._id++;\n\t\t} else {\n\t\t\treturn this._id++;\n\t\t}\n\t}\n};\n\nvar Point = Base.extend({\n\t_class: 'Point',\n\t_readIndex: true,\n\n\tinitialize: function Point(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasY = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasY ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasY ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('angle' in obj) {\n\t\t\t\tthis._set(obj.length || 0, 0);\n\t\t\t\tthis.setAngle(obj.angle || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\treturn this;\n\t},\n\n\tequals: function(point) {\n\t\treturn this === point || point\n\t\t\t\t&& (this.x === point.x && this.y === point.y\n\t\t\t\t\t|| Array.isArray(point)\n\t\t\t\t\t\t&& this.x === point[0] && this.y === point[1])\n\t\t\t\t|| false;\n\t},\n\n\tclone: function() {\n\t\treturn new Point(this.x, this.y);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x) + ', y: ' + f.number(this.y) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x), f.number(this.y)];\n\t},\n\n\tgetLength: function() {\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t},\n\n\tsetLength: function(length) {\n\t\tif (this.isZero()) {\n\t\t\tvar angle = this._angle || 0;\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t} else {\n\t\t\tvar scale = length / this.getLength();\n\t\t\tif (Numerical.isZero(scale))\n\t\t\t\tthis.getAngle();\n\t\t\tthis._set(\n\t\t\t\tthis.x * scale,\n\t\t\t\tthis.y * scale\n\t\t\t);\n\t\t}\n\t},\n\tgetAngle: function() {\n\t\treturn this.getAngleInRadians.apply(this, arguments) * 180 / Math.PI;\n\t},\n\n\tsetAngle: function(angle) {\n\t\tthis.setAngleInRadians.call(this, angle * Math.PI / 180);\n\t},\n\n\tgetAngleInDegrees: '#getAngle',\n\tsetAngleInDegrees: '#setAngle',\n\n\tgetAngleInRadians: function() {\n\t\tif (!arguments.length) {\n\t\t\treturn this.isZero()\n\t\t\t\t\t? this._angle || 0\n\t\t\t\t\t: this._angle = Math.atan2(this.y, this.x);\n\t\t} else {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tdiv = this.getLength() * point.getLength();\n\t\t\tif (Numerical.isZero(div)) {\n\t\t\t\treturn NaN;\n\t\t\t} else {\n\t\t\t\tvar a = this.dot(point) / div;\n\t\t\t\treturn Math.acos(a < -1 ? -1 : a > 1 ? 1 : a);\n\t\t\t}\n\t\t}\n\t},\n\n\tsetAngleInRadians: function(angle) {\n\t\tthis._angle = angle;\n\t\tif (!this.isZero()) {\n\t\t\tvar length = this.getLength();\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t}\n\t},\n\n\tgetQuadrant: function() {\n\t\treturn this.x >= 0 ? this.y >= 0 ? 1 : 4 : this.y >= 0 ? 2 : 3;\n\t}\n}, {\n\tbeans: false,\n\n\tgetDirectedAngle: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Math.atan2(this.cross(point), this.dot(point)) * 180 / Math.PI;\n\t},\n\n\tgetDistance: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tx = point.x - this.x,\n\t\t\ty = point.y - this.y,\n\t\t\td = x * x + y * y,\n\t\t\tsquared = Base.read(args);\n\t\treturn squared ? d : Math.sqrt(d);\n\t},\n\n\tnormalize: function(length) {\n\t\tif (length === undefined)\n\t\t\tlength = 1;\n\t\tvar current = this.getLength(),\n\t\t\tscale = current !== 0 ? length / current : 0,\n\t\t\tpoint = new Point(this.x * scale, this.y * scale);\n\t\tif (scale >= 0)\n\t\t\tpoint._angle = this._angle;\n\t\treturn point;\n\t},\n\n\trotate: function(angle, center) {\n\t\tif (angle === 0)\n\t\t\treturn this.clone();\n\t\tangle = angle * Math.PI / 180;\n\t\tvar point = center ? this.subtract(center) : this,\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle);\n\t\tpoint = new Point(\n\t\t\tpoint.x * cos - point.y * sin,\n\t\t\tpoint.x * sin + point.y * cos\n\t\t);\n\t\treturn center ? point.add(center) : point;\n\t},\n\n\ttransform: function(matrix) {\n\t\treturn matrix ? matrix._transformPoint(this) : this;\n\t},\n\n\tadd: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x + point.x, this.y + point.y);\n\t},\n\n\tsubtract: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x - point.x, this.y - point.y);\n\t},\n\n\tmultiply: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x * point.x, this.y * point.y);\n\t},\n\n\tdivide: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x / point.x, this.y / point.y);\n\t},\n\n\tmodulo: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x % point.x, this.y % point.y);\n\t},\n\n\tnegate: function() {\n\t\treturn new Point(-this.x, -this.y);\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this);\n\t},\n\n\tisClose: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\ttolerance = Base.read(args);\n\t\treturn this.getDistance(point) <= tolerance;\n\t},\n\n\tisCollinear: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isCollinear(this.x, this.y, point.x, point.y);\n\t},\n\n\tisColinear: '#isCollinear',\n\n\tisOrthogonal: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isOrthogonal(this.x, this.y, point.x, point.y);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.x) && isZero(this.y);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.x) || isNaN(this.y);\n\t},\n\n\tisInQuadrant: function(q) {\n\t\treturn this.x * (q > 1 && q < 4 ? -1 : 1) >= 0\n\t\t\t&& this.y * (q > 2 ? -1 : 1) >= 0;\n\t},\n\n\tdot: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.x + this.y * point.y;\n\t},\n\n\tcross: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.y - this.y * point.x;\n\t},\n\n\tproject: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tscale = point.isZero() ? 0 : this.dot(point) / point.dot(point);\n\t\treturn new Point(\n\t\t\tpoint.x * scale,\n\t\t\tpoint.y * scale\n\t\t);\n\t},\n\n\tstatics: {\n\t\tmin: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.min(point1.x, point2.x),\n\t\t\t\tMath.min(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\tmax: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.max(point1.x, point2.x),\n\t\t\t\tMath.max(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Point(Math.random(), Math.random());\n\t\t},\n\n\t\tisCollinear: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * y2 - y1 * x2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t},\n\n\t\tisOrthogonal: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * x2 + y1 * y2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Point(op(this.x), op(this.y));\n\t};\n}, {}));\n\nvar LinkedPoint = Point.extend({\n\tinitialize: function Point(x, y, owner, setter) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\treturn this._setter === 'setPosition' ? 4 : 0;\n\t}\n});\n\nvar Size = Base.extend({\n\t_class: 'Size',\n\t_readIndex: true,\n\n\tinitialize: function Size(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasHeight = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasHeight ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasHeight ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(width, height) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tequals: function(size) {\n\t\treturn size === this || size && (this.width === size.width\n\t\t\t\t&& this.height === size.height\n\t\t\t\t|| Array.isArray(size) && this.width === size[0]\n\t\t\t\t\t&& this.height === size[1]) || false;\n\t},\n\n\tclone: function() {\n\t\treturn new Size(this.width, this.height);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tadd: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width + size.width, this.height + size.height);\n\t},\n\n\tsubtract: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width - size.width, this.height - size.height);\n\t},\n\n\tmultiply: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width * size.width, this.height * size.height);\n\t},\n\n\tdivide: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width / size.width, this.height / size.height);\n\t},\n\n\tmodulo: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width % size.width, this.height % size.height);\n\t},\n\n\tnegate: function() {\n\t\treturn new Size(-this.width, -this.height);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.width) && isZero(this.height);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.width) || isNaN(this.height);\n\t},\n\n\tstatics: {\n\t\tmin: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.min(size1.width, size2.width),\n\t\t\t\tMath.min(size1.height, size2.height));\n\t\t},\n\n\t\tmax: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.max(size1.width, size2.width),\n\t\t\t\tMath.max(size1.height, size2.height));\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Size(Math.random(), Math.random());\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Size(op(this.width), op(this.height));\n\t};\n}, {}));\n\nvar LinkedSize = Size.extend({\n\tinitialize: function Size(width, height, owner, setter) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(width, height, _dontNotify) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._width;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis._width = width;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._height;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis._height = height;\n\t\tthis._owner[this._setter](this);\n\t}\n});\n\nvar Rectangle = Base.extend({\n\t_class: 'Rectangle',\n\t_readIndex: true,\n\tbeans: true,\n\n\tinitialize: function Rectangle(arg0, arg1, arg2, arg3) {\n\t\tvar args = arguments,\n\t\t\ttype = typeof arg0,\n\t\t\tread;\n\t\tif (type === 'number') {\n\t\t\tthis._set(arg0, arg1, arg2, arg3);\n\t\t\tread = 4;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0, 0, 0);\n\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else if (args.length === 1) {\n\t\t\tif (Array.isArray(arg0)) {\n\t\t\t\tthis._set.apply(this, arg0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.x !== undefined || arg0.width !== undefined) {\n\t\t\t\tthis._set(arg0.x || 0, arg0.y || 0,\n\t\t\t\t\t\targ0.width || 0, arg0.height || 0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.from === undefined && arg0.to === undefined) {\n\t\t\t\tthis._set(0, 0, 0, 0);\n\t\t\t\tif (Base.readSupported(args, this)) {\n\t\t\t\t\tread = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (read === undefined) {\n\t\t\tvar frm = Point.readNamed(args, 'from'),\n\t\t\t\tnext = Base.peek(args),\n\t\t\t\tx = frm.x,\n\t\t\t\ty = frm.y,\n\t\t\t\twidth,\n\t\t\t\theight;\n\t\t\tif (next && next.x !== undefined || Base.hasNamed(args, 'to')) {\n\t\t\t\tvar to = Point.readNamed(args, 'to');\n\t\t\t\twidth = to.x - x;\n\t\t\t\theight = to.y - y;\n\t\t\t\tif (width < 0) {\n\t\t\t\t\tx = to.x;\n\t\t\t\t\twidth = -width;\n\t\t\t\t}\n\t\t\t\tif (height < 0) {\n\t\t\t\t\ty = to.y;\n\t\t\t\t\theight = -height;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar size = Size.read(args);\n\t\t\t\twidth = size.width;\n\t\t\t\theight = size.height;\n\t\t\t}\n\t\t\tthis._set(x, y, width, height);\n\t\t\tread = args.__index;\n\t\t}\n\t\tvar filtered = args.__filtered;\n\t\tif (filtered)\n\t\t\tthis.__filtered = filtered;\n\t\tif (this.__read)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y, width, height) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tclone: function() {\n\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\n\t},\n\n\tequals: function(rect) {\n\t\tvar rt = Base.isPlainValue(rect)\n\t\t\t\t? Rectangle.read(arguments)\n\t\t\t\t: rect;\n\t\treturn rt === this\n\t\t\t\t|| rt && this.x === rt.x && this.y === rt.y\n\t\t\t\t\t&& this.width === rt.width && this.height === rt.height\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x)\n\t\t\t\t+ ', y: ' + f.number(this.y)\n\t\t\t\t+ ', width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height)\n\t\t\t\t+ ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x),\n\t\t\t\tf.number(this.y),\n\t\t\t\tf.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tgetPoint: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.x, this.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.x = point.x;\n\t\tthis.y = point.y;\n\t},\n\n\tgetSize: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Size : LinkedSize;\n\t\treturn new ctor(this.width, this.height, this, 'setSize');\n\t},\n\n\t_fw: 1,\n\t_fh: 1,\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tsx = this._sx,\n\t\t\tsy = this._sy,\n\t\t\tw = size.width,\n\t\t\th = size.height;\n\t\tif (sx) {\n\t\t\tthis.x += (this.width - w) * sx;\n\t\t}\n\t\tif (sy) {\n\t\t\tthis.y += (this.height - h) * sy;\n\t\t}\n\t\tthis.width = w;\n\t\tthis.height = h;\n\t\tthis._fw = this._fh = 1;\n\t},\n\n\tgetLeft: function() {\n\t\treturn this.x;\n\t},\n\n\tsetLeft: function(left) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = left - this.x;\n\t\t\tthis.width -= this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = left;\n\t\tthis._sx = this._fw = 0;\n\t},\n\n\tgetTop: function() {\n\t\treturn this.y;\n\t},\n\n\tsetTop: function(top) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = top - this.y;\n\t\t\tthis.height -= this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = top;\n\t\tthis._sy = this._fh = 0;\n\t},\n\n\tgetRight: function() {\n\t\treturn this.x + this.width;\n\t},\n\n\tsetRight: function(right) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = right - this.x;\n\t\t\tthis.width = this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = right - this.width;\n\t\tthis._sx = 1;\n\t\tthis._fw = 0;\n\t},\n\n\tgetBottom: function() {\n\t\treturn this.y + this.height;\n\t},\n\n\tsetBottom: function(bottom) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = bottom - this.y;\n\t\t\tthis.height = this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = bottom - this.height;\n\t\tthis._sy = 1;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenterX: function() {\n\t\treturn this.x + this.width / 2;\n\t},\n\n\tsetCenterX: function(x) {\n\t\tif (this._fw || this._sx === 0.5) {\n\t\t\tthis.x = x - this.width / 2;\n\t\t} else {\n\t\t\tif (this._sx) {\n\t\t\t\tthis.x += (x - this.x) * 2 * this._sx;\n\t\t\t}\n\t\t\tthis.width = (x - this.x) * 2;\n\t\t}\n\t\tthis._sx = 0.5;\n\t\tthis._fw = 0;\n\t},\n\n\tgetCenterY: function() {\n\t\treturn this.y + this.height / 2;\n\t},\n\n\tsetCenterY: function(y) {\n\t\tif (this._fh || this._sy === 0.5) {\n\t\t\tthis.y = y - this.height / 2;\n\t\t} else {\n\t\t\tif (this._sy) {\n\t\t\t\tthis.y += (y - this.y) * 2 * this._sy;\n\t\t\t}\n\t\t\tthis.height = (y - this.y) * 2;\n\t\t}\n\t\tthis._sy = 0.5;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenter: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.getCenterX(), this.getCenterY(), this, 'setCenter');\n\t},\n\n\tsetCenter: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.setCenterX(point.x);\n\t\tthis.setCenterY(point.y);\n\t\treturn this;\n\t},\n\n\tgetArea: function() {\n\t\treturn this.width * this.height;\n\t},\n\n\tisEmpty: function() {\n\t\treturn this.width === 0 || this.height === 0;\n\t},\n\n\tcontains: function(arg) {\n\t\treturn arg && arg.width !== undefined\n\t\t\t\t|| (Array.isArray(arg) ? arg : arguments).length === 4\n\t\t\t\t? this._containsRectangle(Rectangle.read(arguments))\n\t\t\t\t: this._containsPoint(Point.read(arguments));\n\t},\n\n\t_containsPoint: function(point) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x <= this.x + this.width\n\t\t\t\t&& y <= this.y + this.height;\n\t},\n\n\t_containsRectangle: function(rect) {\n\t\tvar x = rect.x,\n\t\t\ty = rect.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x + rect.width <= this.x + this.width\n\t\t\t\t&& y + rect.height <= this.y + this.height;\n\t},\n\n\tintersects: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tepsilon = Base.read(arguments) || 0;\n\t\treturn rect.x + rect.width > this.x - epsilon\n\t\t\t\t&& rect.y + rect.height > this.y - epsilon\n\t\t\t\t&& rect.x < this.x + this.width + epsilon\n\t\t\t\t&& rect.y < this.y + this.height + epsilon;\n\t},\n\n\tintersect: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.max(this.x, rect.x),\n\t\t\ty1 = Math.max(this.y, rect.y),\n\t\t\tx2 = Math.min(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.min(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tunite: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.min(this.x, rect.x),\n\t\t\ty1 = Math.min(this.y, rect.y),\n\t\t\tx2 = Math.max(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.max(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tinclude: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar x1 = Math.min(this.x, point.x),\n\t\t\ty1 = Math.min(this.y, point.y),\n\t\t\tx2 = Math.max(this.x + this.width, point.x),\n\t\t\ty2 = Math.max(this.y + this.height, point.y);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\texpand: function() {\n\t\tvar amount = Size.read(arguments),\n\t\t\thor = amount.width,\n\t\t\tver = amount.height;\n\t\treturn new Rectangle(this.x - hor / 2, this.y - ver / 2,\n\t\t\t\tthis.width + hor, this.height + ver);\n\t},\n\n\tscale: function(hor, ver) {\n\t\treturn this.expand(this.width * hor - this.width,\n\t\t\t\tthis.height * (ver === undefined ? hor : ver) - this.height);\n\t}\n}, Base.each([\n\t\t['Top', 'Left'], ['Top', 'Right'],\n\t\t['Bottom', 'Left'], ['Bottom', 'Right'],\n\t\t['Left', 'Center'], ['Top', 'Center'],\n\t\t['Right', 'Center'], ['Bottom', 'Center']\n\t],\n\tfunction(parts, index) {\n\t\tvar part = parts.join(''),\n\t\t\txFirst = /^[RL]/.test(part);\n\t\tif (index >= 4)\n\t\t\tparts[1] += xFirst ? 'Y' : 'X';\n\t\tvar x = parts[xFirst ? 0 : 1],\n\t\t\ty = parts[xFirst ? 1 : 0],\n\t\t\tgetX = 'get' + x,\n\t\t\tgetY = 'get' + y,\n\t\t\tsetX = 'set' + x,\n\t\t\tsetY = 'set' + y,\n\t\t\tget = 'get' + part,\n\t\t\tset = 'set' + part;\n\t\tthis[get] = function(_dontLink) {\n\t\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\t\treturn new ctor(this[getX](), this[getY](), this, set);\n\t\t};\n\t\tthis[set] = function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\tthis[setX](point.x);\n\t\t\tthis[setY](point.y);\n\t\t};\n\t}, {\n\t\tbeans: true\n\t}\n));\n\nvar LinkedRectangle = Rectangle.extend({\n\tinitialize: function Rectangle(x, y, width, height, owner, setter) {\n\t\tthis._set(x, y, width, height, true);\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, width, height, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t}\n},\nnew function() {\n\tvar proto = Rectangle.prototype;\n\n\treturn Base.each(['x', 'y', 'width', 'height'], function(key) {\n\t\tvar part = Base.capitalize(key),\n\t\t\tinternal = '_' + key;\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[internal];\n\t\t};\n\n\t\tthis['set' + part] = function(value) {\n\t\t\tthis[internal] = value;\n\t\t\tif (!this._dontNotify)\n\t\t\t\tthis._owner[this._setter](this);\n\t\t};\n\t}, Base.each(['Point', 'Size', 'Center',\n\t\t\t'Left', 'Top', 'Right', 'Bottom', 'CenterX', 'CenterY',\n\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'],\n\t\tfunction(key) {\n\t\t\tvar name = 'set' + key;\n\t\t\tthis[name] = function() {\n\t\t\t\tthis._dontNotify = true;\n\t\t\t\tproto[name].apply(this, arguments);\n\t\t\t\tthis._dontNotify = false;\n\t\t\t\tthis._owner[this._setter](this);\n\t\t\t};\n\t\t}, {\n\t\t\tisSelected: function() {\n\t\t\t\treturn !!(this._owner._selection & 2);\n\t\t\t},\n\n\t\t\tsetSelected: function(selected) {\n\t\t\t\tvar owner = this._owner;\n\t\t\t\tif (owner._changeSelection) {\n\t\t\t\t\towner._changeSelection(2, selected);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t);\n});\n\nvar Matrix = Base.extend({\n\t_class: 'Matrix',\n\n\tinitialize: function Matrix(arg, _dontNotify) {\n\t\tvar args = arguments,\n\t\t\tcount = args.length,\n\t\t\tok = true;\n\t\tif (count >= 6) {\n\t\t\tthis._set.apply(this, args);\n\t\t} else if (count === 1 || count === 2) {\n\t\t\tif (arg instanceof Matrix) {\n\t\t\t\tthis._set(arg._a, arg._b, arg._c, arg._d, arg._tx, arg._ty,\n\t\t\t\t\t\t_dontNotify);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tthis._set.apply(this,\n\t\t\t\t\t\t_dontNotify ? arg.concat([_dontNotify]) : arg);\n\t\t\t} else {\n\t\t\t\tok = false;\n\t\t\t}\n\t\t} else if (!count) {\n\t\t\tthis.reset();\n\t\t} else {\n\t\t\tok = false;\n\t\t}\n\t\tif (!ok) {\n\t\t\tthrow new Error('Unsupported matrix parameters');\n\t\t}\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(a, b, c, d, tx, ty, _dontNotify) {\n\t\tthis._a = a;\n\t\tthis._b = b;\n\t\tthis._c = c;\n\t\tthis._d = d;\n\t\tthis._tx = tx;\n\t\tthis._ty = ty;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.getValues(), options, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\tif (owner._applyMatrix) {\n\t\t\t\towner.transform(null, true);\n\t\t\t} else {\n\t\t\t\towner._changed(25);\n\t\t\t}\n\t\t}\n\t},\n\n\tclone: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d,\n\t\t\t\tthis._tx, this._ty);\n\t},\n\n\tequals: function(mx) {\n\t\treturn mx === this || mx && this._a === mx._a && this._b === mx._b\n\t\t\t\t&& this._c === mx._c && this._d === mx._d\n\t\t\t\t&& this._tx === mx._tx && this._ty === mx._ty;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '[[' + [f.number(this._a), f.number(this._c),\n\t\t\t\t\tf.number(this._tx)].join(', ') + '], ['\n\t\t\t\t+ [f.number(this._b), f.number(this._d),\n\t\t\t\t\tf.number(this._ty)].join(', ') + ']]';\n\t},\n\n\treset: function(_dontNotify) {\n\t\tthis._a = this._d = 1;\n\t\tthis._b = this._c = this._tx = this._ty = 0;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tapply: function(recursively, _setApplyMatrix) {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\towner.transform(null, Base.pick(recursively, true), _setApplyMatrix);\n\t\t\treturn this.isIdentity();\n\t\t}\n\t\treturn false;\n\t},\n\n\ttranslate: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tx = point.x,\n\t\t\ty = point.y;\n\t\tthis._tx += x * this._a + y * this._c;\n\t\tthis._ty += x * this._b + y * this._d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tscale: function() {\n\t\tvar args = arguments,\n\t\t\tscale = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tthis._a *= scale.x;\n\t\tthis._b *= scale.x;\n\t\tthis._c *= scale.y;\n\t\tthis._d *= scale.y;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\trotate: function(angle ) {\n\t\tangle *= Math.PI / 180;\n\t\tvar center = Point.read(arguments, 1),\n\t\t\tx = center.x,\n\t\t\ty = center.y,\n\t\t\tcos = Math.cos(angle),\n\t\t\tsin = Math.sin(angle),\n\t\t\ttx = x - x * cos + y * sin,\n\t\t\tty = y - x * sin - y * cos,\n\t\t\ta = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d;\n\t\tthis._a = cos * a + sin * c;\n\t\tthis._b = cos * b + sin * d;\n\t\tthis._c = -sin * a + cos * c;\n\t\tthis._d = -sin * b + cos * d;\n\t\tthis._tx += tx * a + ty * c;\n\t\tthis._ty += tx * b + ty * d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tshear: function() {\n\t\tvar args = arguments,\n\t\t\tshear = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tvar a = this._a,\n\t\t\tb = this._b;\n\t\tthis._a += shear.y * this._c;\n\t\tthis._b += shear.y * this._d;\n\t\tthis._c += shear.x * a;\n\t\tthis._d += shear.x * b;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tskew: function() {\n\t\tvar args = arguments,\n\t\t\tskew = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true }),\n\t\t\ttoRadians = Math.PI / 180,\n\t\t\tshear = new Point(Math.tan(skew.x * toRadians),\n\t\t\t\tMath.tan(skew.y * toRadians));\n\t\treturn this.shear(shear, center);\n\t},\n\n\tappend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + c2 * c1;\n\t\t\tthis._c = b2 * a1 + d2 * c1;\n\t\t\tthis._b = a2 * b1 + c2 * d1;\n\t\t\tthis._d = b2 * b1 + d2 * d1;\n\t\t\tthis._tx += tx2 * a1 + ty2 * c1;\n\t\t\tthis._ty += tx2 * b1 + ty2 * d1;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tprepend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ttx1 = this._tx,\n\t\t\t\tty1 = this._ty,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + b2 * b1;\n\t\t\tthis._c = a2 * c1 + b2 * d1;\n\t\t\tthis._b = c2 * a1 + d2 * b1;\n\t\t\tthis._d = c2 * c1 + d2 * d1;\n\t\t\tthis._tx = a2 * tx1 + b2 * ty1 + tx2;\n\t\t\tthis._ty = c2 * tx1 + d2 * ty1 + ty2;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tappended: function(mx) {\n\t\treturn this.clone().append(mx);\n\t},\n\n\tprepended: function(mx) {\n\t\treturn this.clone().prepend(mx);\n\t},\n\n\tinvert: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tthis._a = d / det;\n\t\t\tthis._b = -b / det;\n\t\t\tthis._c = -c / det;\n\t\t\tthis._d = a / det;\n\t\t\tthis._tx = (c * ty - d * tx) / det;\n\t\t\tthis._ty = (b * tx - a * ty) / det;\n\t\t\tres = this;\n\t\t}\n\t\treturn res;\n\t},\n\n\tinverted: function() {\n\t\treturn this.clone().invert();\n\t},\n\n\tconcatenate: '#append',\n\tpreConcatenate: '#prepend',\n\tchain: '#appended',\n\n\t_shiftless: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d, 0, 0);\n\t},\n\n\t_orNullIfIdentity: function() {\n\t\treturn this.isIdentity() ? null : this;\n\t},\n\n\tisIdentity: function() {\n\t\treturn this._a === 1 && this._b === 0 && this._c === 0 && this._d === 1\n\t\t\t\t&& this._tx === 0 && this._ty === 0;\n\t},\n\n\tisInvertible: function() {\n\t\tvar det = this._a * this._d - this._c * this._b;\n\t\treturn det && !isNaN(det) && isFinite(this._tx) && isFinite(this._ty);\n\t},\n\n\tisSingular: function() {\n\t\treturn !this.isInvertible();\n\t},\n\n\ttransform: function( src, dst, count) {\n\t\treturn arguments.length < 3\n\t\t\t? this._transformPoint(Point.read(arguments))\n\t\t\t: this._transformCoordinates(src, dst, count);\n\t},\n\n\t_transformPoint: function(point, dest, _dontNotify) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\tif (!dest)\n\t\t\tdest = new Point();\n\t\treturn dest._set(\n\t\t\t\tx * this._a + y * this._c + this._tx,\n\t\t\t\tx * this._b + y * this._d + this._ty,\n\t\t\t\t_dontNotify);\n\t},\n\n\t_transformCoordinates: function(src, dst, count) {\n\t\tfor (var i = 0, max = 2 * count; i < max; i += 2) {\n\t\t\tvar x = src[i],\n\t\t\t\ty = src[i + 1];\n\t\t\tdst[i] = x * this._a + y * this._c + this._tx;\n\t\t\tdst[i + 1] = x * this._b + y * this._d + this._ty;\n\t\t}\n\t\treturn dst;\n\t},\n\n\t_transformCorners: function(rect) {\n\t\tvar x1 = rect.x,\n\t\t\ty1 = rect.y,\n\t\t\tx2 = x1 + rect.width,\n\t\t\ty2 = y1 + rect.height,\n\t\t\tcoords = [ x1, y1, x2, y1, x2, y2, x1, y2 ];\n\t\treturn this._transformCoordinates(coords, coords, 4);\n\t},\n\n\t_transformBounds: function(bounds, dest, _dontNotify) {\n\t\tvar coords = this._transformCorners(bounds),\n\t\t\tmin = coords.slice(0, 2),\n\t\t\tmax = min.slice();\n\t\tfor (var i = 2; i < 8; i++) {\n\t\t\tvar val = coords[i],\n\t\t\t\tj = i & 1;\n\t\t\tif (val < min[j]) {\n\t\t\t\tmin[j] = val;\n\t\t\t} else if (val > max[j]) {\n\t\t\t\tmax[j] = val;\n\t\t\t}\n\t\t}\n\t\tif (!dest)\n\t\t\tdest = new Rectangle();\n\t\treturn dest._set(min[0], min[1], max[0] - min[0], max[1] - min[1],\n\t\t\t\t_dontNotify);\n\t},\n\n\tinverseTransform: function() {\n\t\treturn this._inverseTransform(Point.read(arguments));\n\t},\n\n\t_inverseTransform: function(point, dest, _dontNotify) {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tvar x = point.x - this._tx,\n\t\t\t\ty = point.y - this._ty;\n\t\t\tif (!dest)\n\t\t\t\tdest = new Point();\n\t\t\tres = dest._set(\n\t\t\t\t\t(x * d - y * c) / det,\n\t\t\t\t\t(y * a - x * b) / det,\n\t\t\t\t\t_dontNotify);\n\t\t}\n\t\treturn res;\n\t},\n\n\tdecompose: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\tdet = a * d - b * c,\n\t\t\tsqrt = Math.sqrt,\n\t\t\tatan2 = Math.atan2,\n\t\t\tdegrees = 180 / Math.PI,\n\t\t\trotate,\n\t\t\tscale,\n\t\t\tskew;\n\t\tif (a !== 0 || b !== 0) {\n\t\t\tvar r = sqrt(a * a + b * b);\n\t\t\trotate = Math.acos(a / r) * (b > 0 ? 1 : -1);\n\t\t\tscale = [r, det / r];\n\t\t\tskew = [atan2(a * c + b * d, r * r), 0];\n\t\t} else if (c !== 0 || d !== 0) {\n\t\t\tvar s = sqrt(c * c + d * d);\n\t\t\trotate = Math.asin(c / s)  * (d > 0 ? 1 : -1);\n\t\t\tscale = [det / s, s];\n\t\t\tskew = [0, atan2(a * c + b * d, s * s)];\n\t\t} else {\n\t\t\trotate = 0;\n\t\t\tskew = scale = [0, 0];\n\t\t}\n\t\treturn {\n\t\t\ttranslation: this.getTranslation(),\n\t\t\trotation: rotate * degrees,\n\t\t\tscaling: new Point(scale),\n\t\t\tskewing: new Point(skew[0] * degrees, skew[1] * degrees)\n\t\t};\n\t},\n\n\tgetValues: function() {\n\t\treturn [ this._a, this._b, this._c, this._d, this._tx, this._ty ];\n\t},\n\n\tgetTranslation: function() {\n\t\treturn new Point(this._tx, this._ty);\n\t},\n\n\tgetScaling: function() {\n\t\treturn this.decompose().scaling;\n\t},\n\n\tgetRotation: function() {\n\t\treturn this.decompose().rotation;\n\t},\n\n\tapplyToContext: function(ctx) {\n\t\tif (!this.isIdentity()) {\n\t\t\tctx.transform(this._a, this._b, this._c, this._d,\n\t\t\t\t\tthis._tx, this._ty);\n\t\t}\n\t}\n}, Base.each(['a', 'b', 'c', 'd', 'tx', 'ty'], function(key) {\n\tvar part = Base.capitalize(key),\n\t\tprop = '_' + key;\n\tthis['get' + part] = function() {\n\t\treturn this[prop];\n\t};\n\tthis['set' + part] = function(value) {\n\t\tthis[prop] = value;\n\t\tthis._changed();\n\t};\n}, {}));\n\nvar Line = Base.extend({\n\t_class: 'Line',\n\n\tinitialize: function Line(arg0, arg1, arg2, arg3, arg4) {\n\t\tvar asVector = false;\n\t\tif (arguments.length >= 4) {\n\t\t\tthis._px = arg0;\n\t\t\tthis._py = arg1;\n\t\t\tthis._vx = arg2;\n\t\t\tthis._vy = arg3;\n\t\t\tasVector = arg4;\n\t\t} else {\n\t\t\tthis._px = arg0.x;\n\t\t\tthis._py = arg0.y;\n\t\t\tthis._vx = arg1.x;\n\t\t\tthis._vy = arg1.y;\n\t\t\tasVector = arg2;\n\t\t}\n\t\tif (!asVector) {\n\t\t\tthis._vx -= this._px;\n\t\t\tthis._vy -= this._py;\n\t\t}\n\t},\n\n\tgetPoint: function() {\n\t\treturn new Point(this._px, this._py);\n\t},\n\n\tgetVector: function() {\n\t\treturn new Point(this._vx, this._vy);\n\t},\n\n\tgetLength: function() {\n\t\treturn this.getVector().getLength();\n\t},\n\n\tintersect: function(line, isInfinite) {\n\t\treturn Line.intersect(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tline._px, line._py, line._vx, line._vy,\n\t\t\t\ttrue, isInfinite);\n\t},\n\n\tgetSide: function(point, isInfinite) {\n\t\treturn Line.getSide(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true, isInfinite);\n\t},\n\n\tgetDistance: function(point) {\n\t\treturn Math.abs(this.getSignedDistance(point));\n\t},\n\n\tgetSignedDistance: function(point) {\n\t\treturn Line.getSignedDistance(this._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true);\n\t},\n\n\tisCollinear: function(line) {\n\t\treturn Point.isCollinear(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tisOrthogonal: function(line) {\n\t\treturn Point.isOrthogonal(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tstatics: {\n\t\tintersect: function(p1x, p1y, v1x, v1y, p2x, p2y, v2x, v2y, asVector,\n\t\t\t\tisInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tv1x -= p1x;\n\t\t\t\tv1y -= p1y;\n\t\t\t\tv2x -= p2x;\n\t\t\t\tv2y -= p2y;\n\t\t\t}\n\t\t\tvar cross = v1x * v2y - v1y * v2x;\n\t\t\tif (!Numerical.isMachineZero(cross)) {\n\t\t\t\tvar dx = p1x - p2x,\n\t\t\t\t\tdy = p1y - p2y,\n\t\t\t\t\tu1 = (v2x * dy - v2y * dx) / cross,\n\t\t\t\t\tu2 = (v1x * dy - v1y * dx) / cross,\n\t\t\t\t\tepsilon = 1e-12,\n\t\t\t\t\tuMin = -epsilon,\n\t\t\t\t\tuMax = 1 + epsilon;\n\t\t\t\tif (isInfinite\n\t\t\t\t\t\t|| uMin < u1 && u1 < uMax && uMin < u2 && u2 < uMax) {\n\t\t\t\t\tif (!isInfinite) {\n\t\t\t\t\t\tu1 = u1 <= 0 ? 0 : u1 >= 1 ? 1 : u1;\n\t\t\t\t\t}\n\t\t\t\t\treturn new Point(\n\t\t\t\t\t\t\tp1x + u1 * v1x,\n\t\t\t\t\t\t\tp1y + u1 * v1y);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetSide: function(px, py, vx, vy, x, y, asVector, isInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\tvar v2x = x - px,\n\t\t\t\tv2y = y - py,\n\t\t\t\tccw = v2x * vy - v2y * vx;\n\t\t\tif (!isInfinite && Numerical.isMachineZero(ccw)) {\n\t\t\t\tccw = (v2x * vx + v2x * vx) / (vx * vx + vy * vy);\n\t\t\t\tif (ccw >= 0 && ccw <= 1)\n\t\t\t\t\tccw = 0;\n\t\t\t}\n\t\t\treturn ccw < 0 ? -1 : ccw > 0 ? 1 : 0;\n\t\t},\n\n\t\tgetSignedDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\t  return  vx === 0 ? (vy > 0 ? x - px : px - x)\n\t\t\t\t\t: vy === 0 ? (vx < 0 ? y - py : py - y)\n\t\t\t\t\t: ((x - px) * vy - (y - py) * vx) / (\n\t\t\t\t\t\tvy > vx\n\t\t\t\t\t\t\t? vy * Math.sqrt(1 + (vx * vx) / (vy * vy))\n\t\t\t\t\t\t\t: vx * Math.sqrt(1 + (vy * vy) / (vx * vx))\n\t\t\t\t\t);\n\t\t},\n\n\t\tgetDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\treturn Math.abs(\n\t\t\t\t\tLine.getSignedDistance(px, py, vx, vy, x, y, asVector));\n\t\t}\n\t}\n});\n\nvar Project = PaperScopeItem.extend({\n\t_class: 'Project',\n\t_list: 'projects',\n\t_reference: 'project',\n\t_compactSerialize: true,\n\n\tinitialize: function Project(element) {\n\t\tPaperScopeItem.call(this, true);\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tthis._activeLayer = null;\n\t\tthis._currentStyle = new Style(null, null, this);\n\t\tthis._view = View.create(this,\n\t\t\t\telement || CanvasProvider.getCanvas(1, 1));\n\t\tthis._selectionItems = {};\n\t\tthis._selectionCount = 0;\n\t\tthis._updateVersion = 0;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this._children, options, true, dictionary);\n\t},\n\n\t_changed: function(flags, item) {\n\t\tif (flags & 1) {\n\t\t\tvar view = this._view;\n\t\t\tif (view) {\n\t\t\t\tview._needsUpdate = true;\n\t\t\t\tif (!view._requested && view._autoUpdate)\n\t\t\t\t\tview.requestUpdate();\n\t\t\t}\n\t\t}\n\t\tvar changes = this._changes;\n\t\tif (changes && item) {\n\t\t\tvar changesById = this._changesById,\n\t\t\t\tid = item._id,\n\t\t\t\tentry = changesById[id];\n\t\t\tif (entry) {\n\t\t\t\tentry.flags |= flags;\n\t\t\t} else {\n\t\t\t\tchanges.push(changesById[id] = { item: item, flags: flags });\n\t\t\t}\n\t\t}\n\t},\n\n\tclear: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--)\n\t\t\tchildren[i].remove();\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._children.length;\n\t},\n\n\tremove: function remove() {\n\t\tif (!remove.base.call(this))\n\t\t\treturn false;\n\t\tif (this._view)\n\t\t\tthis._view.remove();\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._view;\n\t},\n\n\tgetCurrentStyle: function() {\n\t\treturn this._currentStyle;\n\t},\n\n\tsetCurrentStyle: function(style) {\n\t\tthis._currentStyle.set(style);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tgetOptions: function() {\n\t\treturn this._scope.settings;\n\t},\n\n\tgetLayers: function() {\n\t\treturn this._children;\n\t},\n\n\tgetActiveLayer: function() {\n\t\treturn this._activeLayer || new Layer({ project: this, insert: true });\n\t},\n\n\tgetSymbolDefinitions: function() {\n\t\tvar definitions = [],\n\t\t\tids = {};\n\t\tthis.getItems({\n\t\t\tclass: SymbolItem,\n\t\t\tmatch: function(item) {\n\t\t\t\tvar definition = item._definition,\n\t\t\t\t\tid = definition._id;\n\t\t\t\tif (!ids[id]) {\n\t\t\t\t\tids[id] = true;\n\t\t\t\t\tdefinitions.push(definition);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn definitions;\n\t},\n\n\tgetSymbols: 'getSymbolDefinitions',\n\n\tgetSelectedItems: function() {\n\t\tvar selectionItems = this._selectionItems,\n\t\t\titems = [];\n\t\tfor (var id in selectionItems) {\n\t\t\tvar item = selectionItems[id],\n\t\t\t\tselection = item._selection;\n\t\t\tif ((selection & 1) && item.isInserted()) {\n\t\t\t\titems.push(item);\n\t\t\t} else if (!selection) {\n\t\t\t\tthis._updateSelection(item);\n\t\t\t}\n\t\t}\n\t\treturn items;\n\t},\n\n\t_updateSelection: function(item) {\n\t\tvar id = item._id,\n\t\t\tselectionItems = this._selectionItems;\n\t\tif (item._selection) {\n\t\t\tif (selectionItems[id] !== item) {\n\t\t\t\tthis._selectionCount++;\n\t\t\t\tselectionItems[id] = item;\n\t\t\t}\n\t\t} else if (selectionItems[id] === item) {\n\t\t\tthis._selectionCount--;\n\t\t\tdelete selectionItems[id];\n\t\t}\n\t},\n\n\tselectAll: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].setFullySelected(true);\n\t},\n\n\tdeselectAll: function() {\n\t\tvar selectionItems = this._selectionItems;\n\t\tfor (var i in selectionItems)\n\t\t\tselectionItems[i].setFullySelected(false);\n\t},\n\n\taddLayer: function(layer) {\n\t\treturn this.insertLayer(undefined, layer);\n\t},\n\n\tinsertLayer: function(index, layer) {\n\t\tif (layer instanceof Layer) {\n\t\t\tlayer._remove(false, true);\n\t\t\tBase.splice(this._children, [layer], index, 0);\n\t\t\tlayer._setProject(this, true);\n\t\t\tvar name = layer._name;\n\t\t\tif (name)\n\t\t\t\tlayer.setName(name);\n\t\t\tif (this._changes)\n\t\t\t\tlayer._changed(5);\n\t\t\tif (!this._activeLayer)\n\t\t\t\tthis._activeLayer = layer;\n\t\t} else {\n\t\t\tlayer = null;\n\t\t}\n\t\treturn layer;\n\t},\n\n\t_insertItem: function(index, item, _created) {\n\t\titem = this.insertLayer(index, item)\n\t\t\t\t|| (this._activeLayer || this._insertItem(undefined,\n\t\t\t\t\t\tnew Layer(Item.NO_INSERT), true))\n\t\t\t\t\t\t.insertChild(index, item);\n\t\tif (_created && item.activate)\n\t\t\titem.activate();\n\t\treturn item;\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, null, null, true)[0] || null;\n\t},\n\n\timportJSON: function(json) {\n\t\tthis.activate();\n\t\tvar layer = this._activeLayer;\n\t\treturn Base.importJSON(json, layer && layer.isEmpty() && layer);\n\t},\n\n\tremoveOn: function(type) {\n\t\tvar sets = this._removeSets;\n\t\tif (sets) {\n\t\t\tif (type === 'mouseup')\n\t\t\t\tsets.mousedrag = null;\n\t\t\tvar set = sets[type];\n\t\t\tif (set) {\n\t\t\t\tfor (var id in set) {\n\t\t\t\t\tvar item = set[id];\n\t\t\t\t\tfor (var key in sets) {\n\t\t\t\t\t\tvar other = sets[key];\n\t\t\t\t\t\tif (other && other != set)\n\t\t\t\t\t\t\tdelete other[item._id];\n\t\t\t\t\t}\n\t\t\t\t\titem.remove();\n\t\t\t\t}\n\t\t\t\tsets[type] = null;\n\t\t\t}\n\t\t}\n\t},\n\n\tdraw: function(ctx, matrix, pixelRatio) {\n\t\tthis._updateVersion++;\n\t\tctx.save();\n\t\tmatrix.applyToContext(ctx);\n\t\tvar children = this._children,\n\t\t\tparam = new Base({\n\t\t\t\toffset: new Point(0, 0),\n\t\t\t\tpixelRatio: pixelRatio,\n\t\t\t\tviewMatrix: matrix.isIdentity() ? null : matrix,\n\t\t\t\tmatrices: [new Matrix()],\n\t\t\t\tupdateMatrix: true\n\t\t\t});\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].draw(ctx, param);\n\t\t}\n\t\tctx.restore();\n\n\t\tif (this._selectionCount > 0) {\n\t\t\tctx.save();\n\t\t\tctx.strokeWidth = 1;\n\t\t\tvar items = this._selectionItems,\n\t\t\t\tsize = this._scope.settings.handleSize,\n\t\t\t\tversion = this._updateVersion;\n\t\t\tfor (var id in items) {\n\t\t\t\titems[id]._drawSelection(ctx, matrix, size, items, version);\n\t\t\t}\n\t\t\tctx.restore();\n\t\t}\n\t}\n});\n\nvar Item = Base.extend(Emitter, {\n\tstatics: {\n\t\textend: function extend(src) {\n\t\t\tif (src._serializeFields)\n\t\t\t\tsrc._serializeFields = Base.set({},\n\t\t\t\t\tthis.prototype._serializeFields, src._serializeFields);\n\t\t\treturn extend.base.apply(this, arguments);\n\t\t},\n\n\t\tINSERT: { insert: true },\n\t\tNO_INSERT: { insert: false }\n\t},\n\n\t_class: 'Item',\n\t_name: null,\n\t_applyMatrix: true,\n\t_canApplyMatrix: true,\n\t_canScaleStroke: false,\n\t_pivot: null,\n\t_visible: true,\n\t_blendMode: 'normal',\n\t_opacity: 1,\n\t_locked: false,\n\t_guide: false,\n\t_clipMask: false,\n\t_selection: 0,\n\t_selectBounds: true,\n\t_selectChildren: false,\n\t_serializeFields: {\n\t\tname: null,\n\t\tapplyMatrix: null,\n\t\tmatrix: new Matrix(),\n\t\tpivot: null,\n\t\tvisible: true,\n\t\tblendMode: 'normal',\n\t\topacity: 1,\n\t\tlocked: false,\n\t\tguide: false,\n\t\tclipMask: false,\n\t\tselected: false,\n\t\tdata: {}\n\t},\n\t_prioritize: ['applyMatrix']\n},\nnew function() {\n\tvar handlers = ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onClick',\n\t\t\t'onDoubleClick', 'onMouseMove', 'onMouseEnter', 'onMouseLeave'];\n\treturn Base.each(handlers,\n\t\tfunction(name) {\n\t\t\tthis._events[name] = {\n\t\t\t\tinstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, 1);\n\t\t\t\t},\n\n\t\t\t\tuninstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, -1);\n\t\t\t\t}\n\t\t\t};\n\t\t}, {\n\t\t\t_events: {\n\t\t\t\tonFrame: {\n\t\t\t\t\tinstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, true);\n\t\t\t\t\t},\n\n\t\t\t\t\tuninstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, false);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tonLoad: {},\n\t\t\t\tonError: {}\n\t\t\t},\n\t\t\tstatics: {\n\t\t\t\t_itemHandlers: handlers\n\t\t\t}\n\t\t}\n\t);\n}, {\n\tinitialize: function Item() {\n\t},\n\n\t_initialize: function(props, point) {\n\t\tvar hasProps = props && Base.isPlainObject(props),\n\t\t\tinternal = hasProps && props.internal === true,\n\t\t\tmatrix = this._matrix = new Matrix(),\n\t\t\tproject = hasProps && props.project || paper.project,\n\t\t\tsettings = paper.settings;\n\t\tthis._id = internal ? null : UID.get();\n\t\tthis._parent = this._index = null;\n\t\tthis._applyMatrix = this._canApplyMatrix && settings.applyMatrix;\n\t\tif (point)\n\t\t\tmatrix.translate(point);\n\t\tmatrix._owner = this;\n\t\tthis._style = new Style(project._currentStyle, this, project);\n\t\tif (internal || hasProps && props.insert == false\n\t\t\t|| !settings.insertItems && !(hasProps && props.insert == true)) {\n\t\t\tthis._setProject(project);\n\t\t} else {\n\t\t\t(hasProps && props.parent || project)\n\t\t\t\t\t._insertItem(undefined, this, true);\n\t\t}\n\t\tif (hasProps && props !== Item.NO_INSERT && props !== Item.INSERT) {\n\t\t\tthis.set(props, {\n\t\t\t\tinternal: true, insert: true, project: true, parent: true\n\t\t\t});\n\t\t}\n\t\treturn hasProps;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar props = {},\n\t\t\tthat = this;\n\n\t\tfunction serialize(fields) {\n\t\t\tfor (var key in fields) {\n\t\t\t\tvar value = that[key];\n\t\t\t\tif (!Base.equals(value, key === 'leading'\n\t\t\t\t\t\t? fields.fontSize * 1.2 : fields[key])) {\n\t\t\t\t\tprops[key] = Base.serialize(value, options,\n\t\t\t\t\t\t\tkey !== 'data', dictionary);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tserialize(this._serializeFields);\n\t\tif (!(this instanceof Group))\n\t\t\tserialize(this._style._defaults);\n\t\treturn [ this._class, props ];\n\t},\n\n\t_changed: function(flags) {\n\t\tvar symbol = this._symbol,\n\t\t\tcacheParent = this._parent || symbol,\n\t\t\tproject = this._project;\n\t\tif (flags & 8) {\n\t\t\tthis._bounds = this._position = this._decomposed = undefined;\n\t\t}\n\t\tif (flags & 16) {\n\t\t\tthis._globalMatrix = undefined;\n\t\t}\n\t\tif (cacheParent\n\t\t\t\t&& (flags & 72)) {\n\t\t\tItem._clearBoundsCache(cacheParent);\n\t\t}\n\t\tif (flags & 2) {\n\t\t\tItem._clearBoundsCache(this);\n\t\t}\n\t\tif (project)\n\t\t\tproject._changed(flags, this);\n\t\tif (symbol)\n\t\t\tsymbol._changed(flags);\n\t},\n\n\tgetId: function() {\n\t\treturn this._id;\n\t},\n\n\tgetName: function() {\n\t\treturn this._name;\n\t},\n\n\tsetName: function(name) {\n\n\t\tif (this._name)\n\t\t\tthis._removeNamed();\n\t\tif (name === (+name) + '')\n\t\t\tthrow new Error(\n\t\t\t\t\t'Names consisting only of numbers are not supported.');\n\t\tvar owner = this._getOwner();\n\t\tif (name && owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren;\n\t\t\t(namedChildren[name] = namedChildren[name] || []).push(this);\n\t\t\tif (!(name in children))\n\t\t\t\tchildren[name] = this;\n\t\t}\n\t\tthis._name = name || undefined;\n\t\tthis._changed(256);\n\t},\n\n\tgetStyle: function() {\n\t\treturn this._style;\n\t},\n\n\tsetStyle: function(style) {\n\t\tthis.getStyle().set(style);\n\t}\n}, Base.each(['locked', 'visible', 'blendMode', 'opacity', 'guide'],\n\tfunction(name) {\n\t\tvar part = Base.capitalize(name),\n\t\t\tkey = '_' + name,\n\t\t\tflags = {\n\t\t\t\tlocked: 256,\n\t\t\t\tvisible: 265\n\t\t\t};\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[key];\n\t\t};\n\t\tthis['set' + part] = function(value) {\n\t\t\tif (value != this[key]) {\n\t\t\t\tthis[key] = value;\n\t\t\t\tthis._changed(flags[name] || 257);\n\t\t\t}\n\t\t};\n\t},\n{}), {\n\tbeans: true,\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tif (selection !== this._selection) {\n\t\t\tthis._selection = selection;\n\t\t\tvar project = this._project;\n\t\t\tif (project) {\n\t\t\t\tproject._updateSelection(this);\n\t\t\t\tthis._changed(257);\n\t\t\t}\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (children[i].isSelected())\n\t\t\t\t\treturn true;\n\t\t}\n\t\treturn !!(this._selection & 1);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setSelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisFullySelected: function() {\n\t\tvar children = this._children,\n\t\t\tselected = !!(this._selection & 1);\n\t\tif (children && selected) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (!children[i].isFullySelected())\n\t\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t}\n\t\treturn selected;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setFullySelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisClipMask: function() {\n\t\treturn this._clipMask;\n\t},\n\n\tsetClipMask: function(clipMask) {\n\t\tif (this._clipMask != (clipMask = !!clipMask)) {\n\t\t\tthis._clipMask = clipMask;\n\t\t\tif (clipMask) {\n\t\t\t\tthis.setFillColor(null);\n\t\t\t\tthis.setStrokeColor(null);\n\t\t\t}\n\t\t\tthis._changed(257);\n\t\t\tif (this._parent)\n\t\t\t\tthis._parent._changed(2048);\n\t\t}\n\t},\n\n\tgetData: function() {\n\t\tif (!this._data)\n\t\t\tthis._data = {};\n\t\treturn this._data;\n\t},\n\n\tsetData: function(data) {\n\t\tthis._data = data;\n\t},\n\n\tgetPosition: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\tvar position = this._position ||\n\t\t\t(this._position = this._getPositionFromBounds());\n\t\treturn new ctor(position.x, position.y, this, 'setPosition');\n\t},\n\n\tsetPosition: function() {\n\t\tthis.translate(Point.read(arguments).subtract(this.getPosition(true)));\n\t},\n\n\t_getPositionFromBounds: function(bounds) {\n\t\treturn this._pivot\n\t\t\t\t? this._matrix._transformPoint(this._pivot)\n\t\t\t\t: (bounds || this.getBounds()).getCenter(true);\n\t},\n\n\tgetPivot: function() {\n\t\tvar pivot = this._pivot;\n\t\treturn pivot\n\t\t\t\t? new LinkedPoint(pivot.x, pivot.y, this, 'setPivot')\n\t\t\t\t: null;\n\t},\n\n\tsetPivot: function() {\n\t\tthis._pivot = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tthis._position = undefined;\n\t}\n}, Base.each({\n\t\tgetStrokeBounds: { stroke: true },\n\t\tgetHandleBounds: { handle: true },\n\t\tgetInternalBounds: { internal: true }\n\t},\n\tfunction(options, key) {\n\t\tthis[key] = function(matrix) {\n\t\t\treturn this.getBounds(matrix, options);\n\t\t};\n\t},\n{\n\tbeans: true,\n\n\tgetBounds: function(matrix, options) {\n\t\tvar hasMatrix = options || matrix instanceof Matrix,\n\t\t\topts = Base.set({}, hasMatrix ? options : matrix,\n\t\t\t\t\tthis._boundsOptions);\n\t\tif (!opts.stroke || this.getStrokeScaling())\n\t\t\topts.cacheItem = this;\n\t\tvar rect = this._getCachedBounds(hasMatrix && matrix, opts).rect;\n\t\treturn !arguments.length\n\t\t\t\t? new LinkedRectangle(rect.x, rect.y, rect.width, rect.height,\n\t\t\t\t\tthis, 'setBounds')\n\t\t\t\t: rect;\n\t},\n\n\tsetBounds: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tbounds = this.getBounds(),\n\t\t\t_matrix = this._matrix,\n\t\t\tmatrix = new Matrix(),\n\t\t\tcenter = rect.getCenter();\n\t\tmatrix.translate(center);\n\t\tif (rect.width != bounds.width || rect.height != bounds.height) {\n\t\t\tif (!_matrix.isInvertible()) {\n\t\t\t\t_matrix.set(_matrix._backup\n\t\t\t\t\t\t|| new Matrix().translate(_matrix.getTranslation()));\n\t\t\t\tbounds = this.getBounds();\n\t\t\t}\n\t\t\tmatrix.scale(\n\t\t\t\t\tbounds.width !== 0 ? rect.width / bounds.width : 0,\n\t\t\t\t\tbounds.height !== 0 ? rect.height / bounds.height : 0);\n\t\t}\n\t\tcenter = bounds.getCenter();\n\t\tmatrix.translate(-center.x, -center.y);\n\t\tthis.transform(matrix);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar children = this._children;\n\t\tif (!children || !children.length)\n\t\t\treturn new Rectangle();\n\t\tItem._updateBoundsCache(this, options.cacheItem);\n\t\treturn Item._getBounds(children, matrix, options);\n\t},\n\n\t_getBoundsCacheKey: function(options, internal) {\n\t\treturn [\n\t\t\toptions.stroke ? 1 : 0,\n\t\t\toptions.handle ? 1 : 0,\n\t\t\tinternal ? 1 : 0\n\t\t].join('');\n\t},\n\n\t_getCachedBounds: function(matrix, options, noInternal) {\n\t\tmatrix = matrix && matrix._orNullIfIdentity();\n\t\tvar internal = options.internal && !noInternal,\n\t\t\tcacheItem = options.cacheItem,\n\t\t\t_matrix = internal ? null : this._matrix._orNullIfIdentity(),\n\t\t\tcacheKey = cacheItem && (!matrix || matrix.equals(_matrix))\n\t\t\t\t&& this._getBoundsCacheKey(options, internal),\n\t\t\tbounds = this._bounds;\n\t\tItem._updateBoundsCache(this._parent || this._symbol, cacheItem);\n\t\tif (cacheKey && bounds && cacheKey in bounds) {\n\t\t\tvar cached = bounds[cacheKey];\n\t\t\treturn {\n\t\t\t\trect: cached.rect.clone(),\n\t\t\t\tnonscaling: cached.nonscaling\n\t\t\t};\n\t\t}\n\t\tvar res = this._getBounds(matrix || _matrix, options),\n\t\t\trect = res.rect || res,\n\t\t\tstyle = this._style,\n\t\t\tnonscaling = res.nonscaling || style.hasStroke()\n\t\t\t\t&& !style.getStrokeScaling();\n\t\tif (cacheKey) {\n\t\t\tif (!bounds) {\n\t\t\t\tthis._bounds = bounds = {};\n\t\t\t}\n\t\t\tvar cached = bounds[cacheKey] = {\n\t\t\t\trect: rect.clone(),\n\t\t\t\tnonscaling: nonscaling,\n\t\t\t\tinternal: internal\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\trect: rect,\n\t\t\tnonscaling: nonscaling\n\t\t};\n\t},\n\n\t_getStrokeMatrix: function(matrix, options) {\n\t\tvar parent = this.getStrokeScaling() ? null\n\t\t\t\t: options && options.internal ? this\n\t\t\t\t\t: this._parent || this._symbol && this._symbol._item,\n\t\t\tmx = parent ? parent.getViewMatrix().invert() : matrix;\n\t\treturn mx && mx._shiftless();\n\t},\n\n\tstatics: {\n\t\t_updateBoundsCache: function(parent, item) {\n\t\t\tif (parent && item) {\n\t\t\t\tvar id = item._id,\n\t\t\t\t\tref = parent._boundsCache = parent._boundsCache || {\n\t\t\t\t\t\tids: {},\n\t\t\t\t\t\tlist: []\n\t\t\t\t\t};\n\t\t\t\tif (!ref.ids[id]) {\n\t\t\t\t\tref.list.push(item);\n\t\t\t\t\tref.ids[id] = item;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_clearBoundsCache: function(item) {\n\t\t\tvar cache = item._boundsCache;\n\t\t\tif (cache) {\n\t\t\t\titem._bounds = item._position = item._boundsCache = undefined;\n\t\t\t\tfor (var i = 0, list = cache.list, l = list.length; i < l; i++){\n\t\t\t\t\tvar other = list[i];\n\t\t\t\t\tif (other !== item) {\n\t\t\t\t\t\tother._bounds = other._position = undefined;\n\t\t\t\t\t\tif (other._boundsCache)\n\t\t\t\t\t\t\tItem._clearBoundsCache(other);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_getBounds: function(items, matrix, options) {\n\t\t\tvar x1 = Infinity,\n\t\t\t\tx2 = -x1,\n\t\t\t\ty1 = x1,\n\t\t\t\ty2 = x2,\n\t\t\t\tnonscaling = false;\n\t\t\toptions = options || {};\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i];\n\t\t\t\tif (item._visible && !item.isEmpty(true)) {\n\t\t\t\t\tvar bounds = item._getCachedBounds(\n\t\t\t\t\t\tmatrix && matrix.appended(item._matrix), options, true),\n\t\t\t\t\t\trect = bounds.rect;\n\t\t\t\t\tx1 = Math.min(rect.x, x1);\n\t\t\t\t\ty1 = Math.min(rect.y, y1);\n\t\t\t\t\tx2 = Math.max(rect.x + rect.width, x2);\n\t\t\t\t\ty2 = Math.max(rect.y + rect.height, y2);\n\t\t\t\t\tif (bounds.nonscaling)\n\t\t\t\t\t\tnonscaling = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\trect: isFinite(x1)\n\t\t\t\t\t? new Rectangle(x1, y1, x2 - x1, y2 - y1)\n\t\t\t\t\t: new Rectangle(),\n\t\t\t\tnonscaling: nonscaling\n\t\t\t};\n\t\t}\n\t}\n\n}), {\n\tbeans: true,\n\n\t_decompose: function() {\n\t\treturn this._applyMatrix\n\t\t\t? null\n\t\t\t: this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\tgetRotation: function() {\n\t\tvar decomposed = this._decompose();\n\t\treturn decomposed ? decomposed.rotation : 0;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tvar decomposed = this._decomposed;\n\t\t\tthis.rotate(rotation - current);\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.rotation = rotation;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar decomposed = this._decompose(),\n\t\t\ts = decomposed && decomposed.scaling;\n\t\treturn new LinkedPoint(s ? s.x : 1, s ? s.y : 1, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling && !current.equals(scaling)) {\n\t\t\tvar rotation = this.getRotation(),\n\t\t\t\tdecomposed = this._decomposed,\n\t\t\t\tmatrix = new Matrix(),\n\t\t\t\tisZero = Numerical.isZero;\n\t\t\tif (isZero(current.x) || isZero(current.y)) {\n\t\t\t\tmatrix.translate(decomposed.translation);\n\t\t\t\tif (rotation) {\n\t\t\t\t\tmatrix.rotate(rotation);\n\t\t\t\t}\n\t\t\t\tmatrix.scale(scaling.x, scaling.y);\n\t\t\t\tthis._matrix.set(matrix);\n\t\t\t} else {\n\t\t\t\tvar center = this.getPosition(true);\n\t\t\t\tmatrix.translate(center);\n\t\t\t\tif (rotation)\n\t\t\t\t\tmatrix.rotate(rotation);\n\t\t\t\tmatrix.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t\t\tif (rotation)\n\t\t\t\t\tmatrix.rotate(-rotation);\n\t\t\t\tmatrix.translate(center.negate());\n\t\t\t\tthis.transform(matrix);\n\t\t\t}\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.scaling = scaling;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.set.apply(matrix, arguments);\n\t},\n\n\tgetGlobalMatrix: function(_dontClone) {\n\t\tvar matrix = this._globalMatrix;\n\t\tif (matrix) {\n\t\t\tvar parent = this._parent;\n\t\t\tvar parents = [];\n\t\t\twhile (parent) {\n\t\t\t\tif (!parent._globalMatrix) {\n\t\t\t\t\tmatrix = null;\n\t\t\t\t\tfor (var i = 0, l = parents.length; i < l; i++) {\n\t\t\t\t\t\tparents[i]._globalMatrix = null;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tparents.push(parent);\n\t\t\t\tparent = parent._parent;\n\t\t\t}\n\t\t}\n\t\tif (!matrix) {\n\t\t\tmatrix = this._globalMatrix = this._matrix.clone();\n\t\t\tvar parent = this._parent;\n\t\t\tif (parent)\n\t\t\t\tmatrix.prepend(parent.getGlobalMatrix(true));\n\t\t}\n\t\treturn _dontClone ? matrix : matrix.clone();\n\t},\n\n\tgetViewMatrix: function() {\n\t\treturn this.getGlobalMatrix().prepend(this.getView()._matrix);\n\t},\n\n\tgetApplyMatrix: function() {\n\t\treturn this._applyMatrix;\n\t},\n\n\tsetApplyMatrix: function(apply) {\n\t\tif (this._applyMatrix = this._canApplyMatrix && !!apply)\n\t\t\tthis.transform(null, true);\n\t},\n\n\tgetTransformContent: '#getApplyMatrix',\n\tsetTransformContent: '#setApplyMatrix',\n}, {\n\tgetProject: function() {\n\t\treturn this._project;\n\t},\n\n\t_setProject: function(project, installEvents) {\n\t\tif (this._project !== project) {\n\t\t\tif (this._project)\n\t\t\t\tthis._installEvents(false);\n\t\t\tthis._project = project;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\t\tchildren[i]._setProject(project);\n\t\t\tinstallEvents = true;\n\t\t}\n\t\tif (installEvents)\n\t\t\tthis._installEvents(true);\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\t_installEvents: function _installEvents(install) {\n\t\t_installEvents.base.call(this, install);\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\tchildren[i]._installEvents(install);\n\t},\n\n\tgetLayer: function() {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent instanceof Layer)\n\t\t\t\treturn parent;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetParent: function() {\n\t\treturn this._parent;\n\t},\n\n\tsetParent: function(item) {\n\t\treturn item.addChild(this);\n\t},\n\n\t_getOwner: '#getParent',\n\n\tgetChildren: function() {\n\t\treturn this._children;\n\t},\n\n\tsetChildren: function(items) {\n\t\tthis.removeChildren();\n\t\tthis.addChildren(items);\n\t},\n\n\tgetFirstChild: function() {\n\t\treturn this._children && this._children[0] || null;\n\t},\n\n\tgetLastChild: function() {\n\t\treturn this._children && this._children[this._children.length - 1]\n\t\t\t\t|| null;\n\t},\n\n\tgetNextSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index + 1] || null;\n\t},\n\n\tgetPreviousSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index - 1] || null;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tsetIndex: function(index) {\n\t\tvar parent = this._parent,\n\t\t\tchildren = parent && parent._children;\n\t\tif (children) {\n\t\t\tparent.insertChildren(index in children ? index : undefined,\n\t\t\t\t\t\t\t\t  [this]);\n\t\t}\n\t},\n\n\tequals: function(item) {\n\t\treturn item === this || item && this._class === item._class\n\t\t\t\t&& this._style.equals(item._style)\n\t\t\t\t&& this._matrix.equals(item._matrix)\n\t\t\t\t&& this._locked === item._locked\n\t\t\t\t&& this._visible === item._visible\n\t\t\t\t&& this._blendMode === item._blendMode\n\t\t\t\t&& this._opacity === item._opacity\n\t\t\t\t&& this._clipMask === item._clipMask\n\t\t\t\t&& this._guide === item._guide\n\t\t\t\t&& this._equals(item)\n\t\t\t\t|| false;\n\t},\n\n\t_equals: function(item) {\n\t\treturn Base.equals(this._children, item._children);\n\t},\n\n\tclone: function(options) {\n\t\tvar copy = new this.constructor(Item.NO_INSERT),\n\t\t\tchildren = this._children,\n\t\t\tinsert = Base.pick(options ? options.insert : undefined,\n\t\t\t\t\toptions === undefined || options === true),\n\t\t\tdeep = Base.pick(options ? options.deep : undefined, true);\n\t\tif (children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (!children || deep)\n\t\t\tcopy.copyContent(this);\n\t\tif (!children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (insert)\n\t\t\tcopy.insertAbove(this);\n\t\tvar name = this._name,\n\t\t\tparent = this._parent;\n\t\tif (name && parent) {\n\t\t\tvar children = parent._children,\n\t\t\t\torig = name,\n\t\t\t\ti = 1;\n\t\t\twhile (children[name])\n\t\t\t\tname = orig + ' ' + (i++);\n\t\t\tif (name !== orig)\n\t\t\t\tcopy.setName(name);\n\t\t}\n\t\treturn copy;\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar children = source._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\tthis.addChild(children[i].clone(false), true);\n\t\t}\n\t},\n\n\tcopyAttributes: function(source, excludeMatrix) {\n\t\tthis.setStyle(source._style);\n\t\tvar keys = ['_locked', '_visible', '_blendMode', '_opacity',\n\t\t\t\t'_clipMask', '_guide'];\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i];\n\t\t\tif (source.hasOwnProperty(key))\n\t\t\t\tthis[key] = source[key];\n\t\t}\n\t\tif (!excludeMatrix)\n\t\t\tthis._matrix.set(source._matrix, true);\n\t\tthis.setApplyMatrix(source._applyMatrix);\n\t\tthis.setPivot(source._pivot);\n\t\tthis.setSelection(source._selection);\n\t\tvar data = source._data,\n\t\t\tname = source._name;\n\t\tthis._data = data ? Base.clone(data) : null;\n\t\tif (name)\n\t\t\tthis.setName(name);\n\t},\n\n\trasterize: function(arg0, arg1) {\n\t\tvar resolution,\n\t\t\tinsert,\n\t\t\traster;\n\t\tif (Base.isPlainObject(arg0)) {\n\t\t\tresolution = arg0.resolution;\n\t\t\tinsert = arg0.insert;\n\t\t\traster = arg0.raster;\n\t\t} else {\n\t\t\tresolution = arg0;\n\t\t\tinsert = arg1;\n\t\t}\n\t\tif (!raster) {\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\t}\n\t\tvar bounds = this.getStrokeBounds(),\n\t\t\tscale = (resolution || this.getView().getResolution()) / 72,\n\t\t\ttopLeft = bounds.getTopLeft().floor(),\n\t\t\tbottomRight = bounds.getBottomRight().ceil(),\n\t\t\tboundsSize = new Size(bottomRight.subtract(topLeft)),\n\t\t\trasterSize = boundsSize.multiply(scale);\n\t\traster.setSize(rasterSize, true);\n\n\t\tif (!rasterSize.isZero()) {\n\t\t\tvar ctx = raster.getContext(true),\n\t\t\t\tmatrix = new Matrix().scale(scale).translate(topLeft.negate());\n\t\t\tctx.save();\n\t\t\tmatrix.applyToContext(ctx);\n\t\t\tthis.draw(ctx, new Base({ matrices: [matrix] }));\n\t\t\tctx.restore();\n\t\t}\n\t\traster._matrix.set(\n\t\t\tnew Matrix()\n\t\t\t\t.translate(topLeft.add(boundsSize.divide(2)))\n\t\t\t\t.scale(1 / scale)\n\t\t);\n\t\tif (insert === undefined || insert) {\n\t\t\traster.insertAbove(this);\n\t\t}\n\t\treturn raster;\n\t},\n\n\tcontains: function() {\n\t\tvar matrix = this._matrix;\n\t\treturn (\n\t\t\tmatrix.isInvertible() &&\n\t\t\t!!this._contains(matrix._inverseTransform(Point.read(arguments)))\n\t\t);\n\t},\n\n\t_contains: function(point) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tif (children[i].contains(point))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn point.isInside(this.getInternalBounds());\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this.getBounds());\n\t},\n\n\t_asPathItem: function() {\n\t\treturn new Path.Rectangle({\n\t\t\trectangle: this.getInternalBounds(),\n\t\t\tmatrix: this._matrix,\n\t\t\tinsert: false,\n\t\t});\n\t},\n\n\tintersects: function(item, _matrix) {\n\t\tif (!(item instanceof Item))\n\t\t\treturn false;\n\t\treturn this._asPathItem().getIntersections(item._asPathItem(), null,\n\t\t\t\t_matrix, true).length > 0;\n\t}\n},\nnew function() {\n\tfunction hitTest() {\n\t\tvar args = arguments;\n\t\treturn this._hitTest(\n\t\t\t\tPoint.read(args),\n\t\t\t\tHitResult.getOptions(args));\n\t}\n\n\tfunction hitTestAll() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\toptions = HitResult.getOptions(args),\n\t\t\tall = [];\n\t\tthis._hitTest(point, new Base({ all: all }, options));\n\t\treturn all;\n\t}\n\n\tfunction hitTestChildren(point, options, viewMatrix, _exclude) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tvar child = children[i];\n\t\t\t\tvar res = child !== _exclude && child._hitTest(point, options,\n\t\t\t\t\t\tviewMatrix);\n\t\t\t\tif (res && !options.all)\n\t\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tProject.inject({\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTest: hitTestChildren\n\t});\n\n\treturn {\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTestChildren: hitTestChildren,\n\t};\n}, {\n\n\t_hitTest: function(point, options, parentViewMatrix) {\n\t\tif (this._locked || !this._visible || this._guide && !options.guides\n\t\t\t\t|| this.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar matrix = this._matrix,\n\t\t\tviewMatrix = parentViewMatrix\n\t\t\t\t\t? parentViewMatrix.appended(matrix)\n\t\t\t\t\t: this.getGlobalMatrix().prepend(this.getView()._matrix),\n\t\t\ttolerance = Math.max(options.tolerance, 1e-12),\n\t\t\ttolerancePadding = options._tolerancePadding = new Size(\n\t\t\t\t\tPath._getStrokePadding(tolerance,\n\t\t\t\t\t\tmatrix._shiftless().invert()));\n\t\tpoint = matrix._inverseTransform(point);\n\t\tif (!point || !this._children &&\n\t\t\t!this.getBounds({ internal: true, stroke: true, handle: true })\n\t\t\t\t.expand(tolerancePadding.multiply(2))._containsPoint(point)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar checkSelf = !(options.guides && !this._guide\n\t\t\t\t|| options.selected && !this.isSelected()\n\t\t\t\t|| options.type && options.type !== Base.hyphenate(this._class)\n\t\t\t\t|| options.class && !(this instanceof options.class)),\n\t\t\tmatch = options.match,\n\t\t\tthat = this,\n\t\t\tbounds,\n\t\t\tres;\n\n\t\tfunction filter(hit) {\n\t\t\tif (hit && match && !match(hit))\n\t\t\t\thit = null;\n\t\t\tif (hit && options.all)\n\t\t\t\toptions.all.push(hit);\n\t\t\treturn hit;\n\t\t}\n\n\t\tfunction checkPoint(type, part) {\n\t\t\tvar pt = part ? bounds['get' + part]() : that.getPosition();\n\t\t\tif (point.subtract(pt).divide(tolerancePadding).length <= 1) {\n\t\t\t\treturn new HitResult(type, that, {\n\t\t\t\t\tname: part ? Base.hyphenate(part) : type,\n\t\t\t\t\tpoint: pt\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tvar checkPosition = options.position,\n\t\t\tcheckCenter = options.center,\n\t\t\tcheckBounds = options.bounds;\n\t\tif (checkSelf && this._parent\n\t\t\t\t&& (checkPosition || checkCenter || checkBounds)) {\n\t\t\tif (checkCenter || checkBounds) {\n\t\t\t\tbounds = this.getInternalBounds();\n\t\t\t}\n\t\t\tres = checkPosition && checkPoint('position') ||\n\t\t\t\t\tcheckCenter && checkPoint('center', 'Center');\n\t\t\tif (!res && checkBounds) {\n\t\t\t\tvar points = [\n\t\t\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'\n\t\t\t\t];\n\t\t\t\tfor (var i = 0; i < 8 && !res; i++) {\n\t\t\t\t\tres = checkPoint('bounds', points[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = filter(res);\n\t\t}\n\n\t\tif (!res) {\n\t\t\tres = this._hitTestChildren(point, options, viewMatrix)\n\t\t\t\t|| checkSelf\n\t\t\t\t\t&& filter(this._hitTestSelf(point, options, viewMatrix,\n\t\t\t\t\t\tthis.getStrokeScaling() ? null\n\t\t\t\t\t\t\t: viewMatrix._shiftless().invert()))\n\t\t\t\t|| null;\n\t\t}\n\t\tif (res && res.point) {\n\t\t\tres.point = matrix.transform(res.point);\n\t\t}\n\t\treturn res;\n\t},\n\n\t_hitTestSelf: function(point, options) {\n\t\tif (options.fill && this.hasFill() && this._contains(point))\n\t\t\treturn new HitResult('fill', this);\n\t},\n\n\tmatches: function(name, compare) {\n\t\tfunction matchObject(obj1, obj2) {\n\t\t\tfor (var i in obj1) {\n\t\t\t\tif (obj1.hasOwnProperty(i)) {\n\t\t\t\t\tvar val1 = obj1[i],\n\t\t\t\t\t\tval2 = obj2[i];\n\t\t\t\t\tif (Base.isPlainObject(val1) && Base.isPlainObject(val2)) {\n\t\t\t\t\t\tif (!matchObject(val1, val2))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (!Base.equals(val1, val2)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tvar type = typeof name;\n\t\tif (type === 'object') {\n\t\t\tfor (var key in name) {\n\t\t\t\tif (name.hasOwnProperty(key) && !this.matches(key, name[key]))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (type === 'function') {\n\t\t\treturn name(this);\n\t\t} else if (name === 'match') {\n\t\t\treturn compare(this);\n\t\t} else {\n\t\t\tvar value = /^(empty|editable)$/.test(name)\n\t\t\t\t\t? this['is' + Base.capitalize(name)]()\n\t\t\t\t\t: name === 'type'\n\t\t\t\t\t\t? Base.hyphenate(this._class)\n\t\t\t\t\t\t: this[name];\n\t\t\tif (name === 'class') {\n\t\t\t\tif (typeof compare === 'function')\n\t\t\t\t\treturn this instanceof compare;\n\t\t\t\tvalue = this._class;\n\t\t\t}\n\t\t\tif (typeof compare === 'function') {\n\t\t\t\treturn !!compare(value);\n\t\t\t} else if (compare) {\n\t\t\t\tif (compare.test) {\n\t\t\t\t\treturn compare.test(value);\n\t\t\t\t} else if (Base.isPlainObject(compare)) {\n\t\t\t\t\treturn matchObject(compare, value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Base.equals(value, compare);\n\t\t}\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix, null, true)[0]\n\t\t\t\t|| null;\n\t},\n\n\tstatics: {\n\t\t_getItems: function _getItems(item, options, matrix, param, firstOnly) {\n\t\t\tif (!param) {\n\t\t\t\tvar obj = typeof options === 'object' && options,\n\t\t\t\t\toverlapping = obj && obj.overlapping,\n\t\t\t\t\tinside = obj && obj.inside,\n\t\t\t\t\tbounds = overlapping || inside,\n\t\t\t\t\trect = bounds && Rectangle.read([bounds]);\n\t\t\t\tparam = {\n\t\t\t\t\titems: [],\n\t\t\t\t\trecursive: obj && obj.recursive !== false,\n\t\t\t\t\tinside: !!inside,\n\t\t\t\t\toverlapping: !!overlapping,\n\t\t\t\t\trect: rect,\n\t\t\t\t\tpath: overlapping && new Path.Rectangle({\n\t\t\t\t\t\trectangle: rect,\n\t\t\t\t\t\tinsert: false\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tif (obj) {\n\t\t\t\t\toptions = Base.filter({}, options, {\n\t\t\t\t\t\trecursive: true, inside: true, overlapping: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar children = item._children,\n\t\t\t\titems = param.items,\n\t\t\t\trect = param.rect;\n\t\t\tmatrix = rect && (matrix || new Matrix());\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\t\tvar child = children[i],\n\t\t\t\t\tchildMatrix = matrix && matrix.appended(child._matrix),\n\t\t\t\t\tadd = true;\n\t\t\t\tif (rect) {\n\t\t\t\t\tvar bounds = child.getBounds(childMatrix);\n\t\t\t\t\tif (!rect.intersects(bounds))\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (!(rect.contains(bounds)\n\t\t\t\t\t\t\t|| param.overlapping && (bounds.contains(rect)\n\t\t\t\t\t\t\t\t|| param.path.intersects(child, childMatrix))))\n\t\t\t\t\t\tadd = false;\n\t\t\t\t}\n\t\t\t\tif (add && child.matches(options)) {\n\t\t\t\t\titems.push(child);\n\t\t\t\t\tif (firstOnly)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (param.recursive !== false) {\n\t\t\t\t\t_getItems(child, options, childMatrix, param, firstOnly);\n\t\t\t\t}\n\t\t\t\tif (firstOnly && items.length > 0)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn items;\n\t\t}\n\t}\n}, {\n\n\timportJSON: function(json) {\n\t\tvar res = Base.importJSON(json, this);\n\t\treturn res !== this ? this.addChild(res) : res;\n\t},\n\n\taddChild: function(item) {\n\t\treturn this.insertChild(undefined, item);\n\t},\n\n\tinsertChild: function(index, item) {\n\t\tvar res = item ? this.insertChildren(index, [item]) : null;\n\t\treturn res && res[0];\n\t},\n\n\taddChildren: function(items) {\n\t\treturn this.insertChildren(this._children.length, items);\n\t},\n\n\tinsertChildren: function(index, items) {\n\t\tvar children = this._children;\n\t\tif (children && items && items.length > 0) {\n\t\t\titems = Base.slice(items);\n\t\t\tvar inserted = {};\n\t\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tid = item && item._id;\n\t\t\t\tif (!item || inserted[id]) {\n\t\t\t\t\titems.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\titem._remove(false, true);\n\t\t\t\t\tinserted[id] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tBase.splice(children, items, index, 0);\n\t\t\tvar project = this._project,\n\t\t\t\tnotifySelf = project._changes;\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tname = item._name;\n\t\t\t\titem._parent = this;\n\t\t\t\titem._setProject(project, true);\n\t\t\t\tif (name)\n\t\t\t\t\titem.setName(name);\n\t\t\t\tif (notifySelf)\n\t\t\t\t\titem._changed(5);\n\t\t\t}\n\t\t\tthis._changed(11);\n\t\t} else {\n\t\t\titems = null;\n\t\t}\n\t\treturn items;\n\t},\n\n\t_insertItem: '#insertChild',\n\n\t_insertAt: function(item, offset) {\n\t\tvar owner = item && item._getOwner(),\n\t\t\tres = item !== this && owner ? this : null;\n\t\tif (res) {\n\t\t\tres._remove(false, true);\n\t\t\towner._insertItem(item._index + offset, res);\n\t\t}\n\t\treturn res;\n\t},\n\n\tinsertAbove: function(item) {\n\t\treturn this._insertAt(item, 1);\n\t},\n\n\tinsertBelow: function(item) {\n\t\treturn this._insertAt(item, 0);\n\t},\n\n\tsendToBack: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(0, this) : null;\n\t},\n\n\tbringToFront: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(undefined, this) : null;\n\t},\n\n\tappendTop: '#addChild',\n\n\tappendBottom: function(item) {\n\t\treturn this.insertChild(0, item);\n\t},\n\n\tmoveAbove: '#insertAbove',\n\n\tmoveBelow: '#insertBelow',\n\n\taddTo: function(owner) {\n\t\treturn owner._insertItem(undefined, this);\n\t},\n\n\tcopyTo: function(owner) {\n\t\treturn this.clone(false).addTo(owner);\n\t},\n\n\treduce: function(options) {\n\t\tvar children = this._children;\n\t\tif (children && children.length === 1) {\n\t\t\tvar child = children[0].reduce(options);\n\t\t\tif (this._parent) {\n\t\t\t\tchild.insertAbove(this);\n\t\t\t\tthis.remove();\n\t\t\t} else {\n\t\t\t\tchild.remove();\n\t\t\t}\n\t\t\treturn child;\n\t\t}\n\t\treturn this;\n\t},\n\n\t_removeNamed: function() {\n\t\tvar owner = this._getOwner();\n\t\tif (owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren,\n\t\t\t\tname = this._name,\n\t\t\t\tnamedArray = namedChildren[name],\n\t\t\t\tindex = namedArray ? namedArray.indexOf(this) : -1;\n\t\t\tif (index !== -1) {\n\t\t\t\tif (children[name] == this)\n\t\t\t\t\tdelete children[name];\n\t\t\t\tnamedArray.splice(index, 1);\n\t\t\t\tif (namedArray.length) {\n\t\t\t\t\tchildren[name] = namedArray[0];\n\t\t\t\t} else {\n\t\t\t\t\tdelete namedChildren[name];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_remove: function(notifySelf, notifyParent) {\n\t\tvar owner = this._getOwner(),\n\t\t\tproject = this._project,\n\t\t\tindex = this._index;\n\t\tif (this._style)\n\t\t\tthis._style._dispose();\n\t\tif (owner) {\n\t\t\tif (this._name)\n\t\t\t\tthis._removeNamed();\n\t\t\tif (index != null) {\n\t\t\t\tif (project._activeLayer === this)\n\t\t\t\t\tproject._activeLayer = this.getNextSibling()\n\t\t\t\t\t\t\t|| this.getPreviousSibling();\n\t\t\t\tBase.splice(owner._children, null, index, 1);\n\t\t\t}\n\t\t\tthis._installEvents(false);\n\t\t\tif (notifySelf && project._changes)\n\t\t\t\tthis._changed(5);\n\t\t\tif (notifyParent)\n\t\t\t\towner._changed(11, this);\n\t\t\tthis._parent = null;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tremove: function() {\n\t\treturn this._remove(true, true);\n\t},\n\n\treplaceWith: function(item) {\n\t\tvar ok = item && item.insertBelow(this);\n\t\tif (ok)\n\t\t\tthis.remove();\n\t\treturn ok;\n\t},\n\n\tremoveChildren: function(start, end) {\n\t\tif (!this._children)\n\t\t\treturn null;\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._children.length);\n\t\tvar removed = Base.splice(this._children, null, start, end - start);\n\t\tfor (var i = removed.length - 1; i >= 0; i--) {\n\t\t\tremoved[i]._remove(true, false);\n\t\t}\n\t\tif (removed.length > 0)\n\t\t\tthis._changed(11);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeChildren',\n\n\treverseChildren: function() {\n\t\tif (this._children) {\n\t\t\tthis._children.reverse();\n\t\t\tfor (var i = 0, l = this._children.length; i < l; i++)\n\t\t\t\tthis._children[i]._index = i;\n\t\t\tthis._changed(11);\n\t\t}\n\t},\n\n\tisEmpty: function(recursively) {\n\t\tvar children = this._children;\n\t\tvar numChildren = children ? children.length : 0;\n\t\tif (recursively) {\n\t\t\tfor (var i = 0; i < numChildren; i++) {\n\t\t\t\tif (!children[i].isEmpty(recursively)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn !numChildren;\n\t},\n\n\tisEditable: function() {\n\t\tvar item = this;\n\t\twhile (item) {\n\t\t\tif (!item._visible || item._locked)\n\t\t\t\treturn false;\n\t\t\titem = item._parent;\n\t\t}\n\t\treturn true;\n\t},\n\n\thasFill: function() {\n\t\treturn this.getStyle().hasFill();\n\t},\n\n\thasStroke: function() {\n\t\treturn this.getStyle().hasStroke();\n\t},\n\n\thasShadow: function() {\n\t\treturn this.getStyle().hasShadow();\n\t},\n\n\t_getOrder: function(item) {\n\t\tfunction getList(item) {\n\t\t\tvar list = [];\n\t\t\tdo {\n\t\t\t\tlist.unshift(item);\n\t\t\t} while (item = item._parent);\n\t\t\treturn list;\n\t\t}\n\t\tvar list1 = getList(this),\n\t\t\tlist2 = getList(item);\n\t\tfor (var i = 0, l = Math.min(list1.length, list2.length); i < l; i++) {\n\t\t\tif (list1[i] != list2[i]) {\n\t\t\t\treturn list1[i]._index < list2[i]._index ? 1 : -1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t},\n\n\thasChildren: function() {\n\t\treturn this._children && this._children.length > 0;\n\t},\n\n\tisInserted: function() {\n\t\treturn this._parent ? this._parent.isInserted() : false;\n\t},\n\n\tisAbove: function(item) {\n\t\treturn this._getOrder(item) === -1;\n\t},\n\n\tisBelow: function(item) {\n\t\treturn this._getOrder(item) === 1;\n\t},\n\n\tisParent: function(item) {\n\t\treturn this._parent === item;\n\t},\n\n\tisChild: function(item) {\n\t\treturn item && item._parent === this;\n\t},\n\n\tisDescendant: function(item) {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent === item)\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tisAncestor: function(item) {\n\t\treturn item ? item.isDescendant(this) : false;\n\t},\n\n\tisSibling: function(item) {\n\t\treturn this._parent === item._parent;\n\t},\n\n\tisGroupedWith: function(item) {\n\t\tvar parent = this._parent;\n\t\twhile (parent) {\n\t\t\tif (parent._parent\n\t\t\t\t&& /^(Group|Layer|CompoundPath)$/.test(parent._class)\n\t\t\t\t&& item.isDescendant(parent))\n\t\t\t\t\treturn true;\n\t\t\tparent = parent._parent;\n\t\t}\n\t\treturn false;\n\t},\n\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getPosition(true)));\n\t};\n}, {\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\ttransform: function(matrix, _applyRecursively, _setApplyMatrix) {\n\t\tvar _matrix = this._matrix,\n\t\t\ttransformMatrix = matrix && !matrix.isIdentity(),\n\t\t\tapplyMatrix = (\n\t\t\t\t_setApplyMatrix && this._canApplyMatrix ||\n\t\t\t\tthis._applyMatrix && (\n\t\t\t\t\ttransformMatrix || !_matrix.isIdentity() ||\n\t\t\t\t\t_applyRecursively && this._children\n\t\t\t\t)\n\t\t\t);\n\t\tif (!transformMatrix && !applyMatrix)\n\t\t\treturn this;\n\t\tif (transformMatrix) {\n\t\t\tif (!matrix.isInvertible() && _matrix.isInvertible())\n\t\t\t\t_matrix._backup = _matrix.getValues();\n\t\t\t_matrix.prepend(matrix, true);\n\t\t\tvar style = this._style,\n\t\t\t\tfillColor = style.getFillColor(true),\n\t\t\t\tstrokeColor = style.getStrokeColor(true);\n\t\t\tif (fillColor)\n\t\t\t\tfillColor.transform(matrix);\n\t\t\tif (strokeColor)\n\t\t\t\tstrokeColor.transform(matrix);\n\t\t}\n\n\t\tif (applyMatrix && (applyMatrix = this._transformContent(\n\t\t\t\t_matrix, _applyRecursively, _setApplyMatrix))) {\n\t\t\tvar pivot = this._pivot;\n\t\t\tif (pivot)\n\t\t\t\t_matrix._transformPoint(pivot, pivot, true);\n\t\t\t_matrix.reset(true);\n\t\t\tif (_setApplyMatrix && this._canApplyMatrix)\n\t\t\t\tthis._applyMatrix = true;\n\t\t}\n\t\tvar bounds = this._bounds,\n\t\t\tposition = this._position;\n\t\tif (transformMatrix || applyMatrix) {\n\t\t\tthis._changed(25);\n\t\t}\n\t\tvar decomp = transformMatrix && bounds && matrix.decompose();\n\t\tif (decomp && decomp.skewing.isZero() && decomp.rotation % 90 === 0) {\n\t\t\tfor (var key in bounds) {\n\t\t\t\tvar cache = bounds[key];\n\t\t\t\tif (cache.nonscaling) {\n\t\t\t\t\tdelete bounds[key];\n\t\t\t\t} else if (applyMatrix || !cache.internal) {\n\t\t\t\t\tvar rect = cache.rect;\n\t\t\t\t\tmatrix._transformBounds(rect, rect);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._bounds = bounds;\n\t\t\tvar cached = bounds[this._getBoundsCacheKey(\n\t\t\t\tthis._boundsOptions || {})];\n\t\t\tif (cached) {\n\t\t\t\tthis._position = this._getPositionFromBounds(cached.rect);\n\t\t\t}\n\t\t} else if (transformMatrix && position && this._pivot) {\n\t\t\tthis._position = matrix._transformPoint(position, position);\n\t\t}\n\t\treturn this;\n\t},\n\n\t_transformContent: function(matrix, applyRecursively, setApplyMatrix) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].transform(matrix, applyRecursively, setApplyMatrix);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\n\tglobalToLocal: function() {\n\t\treturn this.getGlobalMatrix(true)._inverseTransform(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tlocalToGlobal: function() {\n\t\treturn this.getGlobalMatrix(true)._transformPoint(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tparentToLocal: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tlocalToParent: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tfitBounds: function(rectangle, fill) {\n\t\trectangle = Rectangle.read(arguments);\n\t\tvar bounds = this.getBounds(),\n\t\t\titemRatio = bounds.height / bounds.width,\n\t\t\trectRatio = rectangle.height / rectangle.width,\n\t\t\tscale = (fill ? itemRatio > rectRatio : itemRatio < rectRatio)\n\t\t\t\t\t? rectangle.width / bounds.width\n\t\t\t\t\t: rectangle.height / bounds.height,\n\t\t\tnewBounds = new Rectangle(new Point(),\n\t\t\t\t\tnew Size(bounds.width * scale, bounds.height * scale));\n\t\tnewBounds.setCenter(rectangle.getCenter());\n\t\tthis.setBounds(newBounds);\n\t}\n}), {\n\n\t_setStyles: function(ctx, param, viewMatrix) {\n\t\tvar style = this._style,\n\t\t\tmatrix = this._matrix;\n\t\tif (style.hasFill()) {\n\t\t\tctx.fillStyle = style.getFillColor().toCanvasStyle(ctx, matrix);\n\t\t}\n\t\tif (style.hasStroke()) {\n\t\t\tctx.strokeStyle = style.getStrokeColor().toCanvasStyle(ctx, matrix);\n\t\t\tctx.lineWidth = style.getStrokeWidth();\n\t\t\tvar strokeJoin = style.getStrokeJoin(),\n\t\t\t\tstrokeCap = style.getStrokeCap(),\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\tif (strokeJoin)\n\t\t\t\tctx.lineJoin = strokeJoin;\n\t\t\tif (strokeCap)\n\t\t\t\tctx.lineCap = strokeCap;\n\t\t\tif (miterLimit)\n\t\t\t\tctx.miterLimit = miterLimit;\n\t\t\tif (paper.support.nativeDash) {\n\t\t\t\tvar dashArray = style.getDashArray(),\n\t\t\t\t\tdashOffset = style.getDashOffset();\n\t\t\t\tif (dashArray && dashArray.length) {\n\t\t\t\t\tif ('setLineDash' in ctx) {\n\t\t\t\t\t\tctx.setLineDash(dashArray);\n\t\t\t\t\t\tctx.lineDashOffset = dashOffset;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.mozDash = dashArray;\n\t\t\t\t\t\tctx.mozDashOffset = dashOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (style.hasShadow()) {\n\t\t\tvar pixelRatio = param.pixelRatio || 1,\n\t\t\t\tmx = viewMatrix._shiftless().prepend(\n\t\t\t\t\tnew Matrix().scale(pixelRatio, pixelRatio)),\n\t\t\t\tblur = mx.transform(new Point(style.getShadowBlur(), 0)),\n\t\t\t\toffset = mx.transform(this.getShadowOffset());\n\t\t\tctx.shadowColor = style.getShadowColor().toCanvasStyle(ctx);\n\t\t\tctx.shadowBlur = blur.getLength();\n\t\t\tctx.shadowOffsetX = offset.x;\n\t\t\tctx.shadowOffsetY = offset.y;\n\t\t}\n\t},\n\n\tdraw: function(ctx, param, parentStrokeMatrix) {\n\t\tvar updateVersion = this._updateVersion = this._project._updateVersion;\n\t\tif (!this._visible || this._opacity === 0)\n\t\t\treturn;\n\t\tvar matrices = param.matrices,\n\t\t\tviewMatrix = param.viewMatrix,\n\t\t\tmatrix = this._matrix,\n\t\t\tglobalMatrix = matrices[matrices.length - 1].appended(matrix);\n\t\tif (!globalMatrix.isInvertible())\n\t\t\treturn;\n\n\t\tviewMatrix = viewMatrix ? viewMatrix.appended(globalMatrix)\n\t\t\t\t: globalMatrix;\n\n\t\tmatrices.push(globalMatrix);\n\t\tif (param.updateMatrix) {\n\t\t\tthis._globalMatrix = globalMatrix;\n\t\t}\n\n\t\tvar blendMode = this._blendMode,\n\t\t\topacity = Numerical.clamp(this._opacity, 0, 1),\n\t\t\tnormalBlend = blendMode === 'normal',\n\t\t\tnativeBlend = BlendMode.nativeModes[blendMode],\n\t\t\tdirect = normalBlend && opacity === 1\n\t\t\t\t\t|| param.dontStart\n\t\t\t\t\t|| param.clip\n\t\t\t\t\t|| (nativeBlend || normalBlend && opacity < 1)\n\t\t\t\t\t\t&& this._canComposite(),\n\t\t\tpixelRatio = param.pixelRatio || 1,\n\t\t\tmainCtx, itemOffset, prevOffset;\n\t\tif (!direct) {\n\t\t\tvar bounds = this.getStrokeBounds(viewMatrix);\n\t\t\tif (!bounds.width || !bounds.height) {\n\t\t\t\tmatrices.pop();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tprevOffset = param.offset;\n\t\t\titemOffset = param.offset = bounds.getTopLeft().floor();\n\t\t\tmainCtx = ctx;\n\t\t\tctx = CanvasProvider.getContext(bounds.getSize().ceil().add(1)\n\t\t\t\t\t.multiply(pixelRatio));\n\t\t\tif (pixelRatio !== 1)\n\t\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t\tctx.save();\n\t\tvar strokeMatrix = parentStrokeMatrix\n\t\t\t\t? parentStrokeMatrix.appended(matrix)\n\t\t\t\t: this._canScaleStroke && !this.getStrokeScaling(true)\n\t\t\t\t\t&& viewMatrix,\n\t\t\tclip = !direct && param.clipItem,\n\t\t\ttransform = !strokeMatrix || clip;\n\t\tif (direct) {\n\t\t\tctx.globalAlpha = opacity;\n\t\t\tif (nativeBlend)\n\t\t\t\tctx.globalCompositeOperation = blendMode;\n\t\t} else if (transform) {\n\t\t\tctx.translate(-itemOffset.x, -itemOffset.y);\n\t\t}\n\t\tif (transform) {\n\t\t\t(direct ? matrix : viewMatrix).applyToContext(ctx);\n\t\t}\n\t\tif (clip) {\n\t\t\tparam.clipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tif (strokeMatrix) {\n\t\t\tctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n\t\t\tvar offset = param.offset;\n\t\t\tif (offset)\n\t\t\t\tctx.translate(-offset.x, -offset.y);\n\t\t}\n\t\tthis._draw(ctx, param, viewMatrix, strokeMatrix);\n\t\tctx.restore();\n\t\tmatrices.pop();\n\t\tif (param.clip && !param.dontFinish) {\n\t\t\tctx.clip(this.getFillRule());\n\t\t}\n\t\tif (!direct) {\n\t\t\tBlendMode.process(blendMode, ctx, mainCtx, opacity,\n\t\t\t\t\titemOffset.subtract(prevOffset).multiply(pixelRatio));\n\t\t\tCanvasProvider.release(ctx);\n\t\t\tparam.offset = prevOffset;\n\t\t}\n\t},\n\n\t_isUpdated: function(updateVersion) {\n\t\tvar parent = this._parent;\n\t\tif (parent instanceof CompoundPath)\n\t\t\treturn parent._isUpdated(updateVersion);\n\t\tvar updated = this._updateVersion === updateVersion;\n\t\tif (!updated && parent && parent._visible\n\t\t\t\t&& parent._isUpdated(updateVersion)) {\n\t\t\tthis._updateVersion = updateVersion;\n\t\t\tupdated = true;\n\t\t}\n\t\treturn updated;\n\t},\n\n\t_drawSelection: function(ctx, matrix, size, selectionItems, updateVersion) {\n\t\tvar selection = this._selection,\n\t\t\titemSelected = selection & 1,\n\t\t\tboundsSelected = selection & 2\n\t\t\t\t\t|| itemSelected && this._selectBounds,\n\t\t\tpositionSelected = selection & 4;\n\t\tif (!this._drawSelected)\n\t\t\titemSelected = false;\n\t\tif ((itemSelected || boundsSelected || positionSelected)\n\t\t\t\t&& this._isUpdated(updateVersion)) {\n\t\t\tvar layer,\n\t\t\t\tcolor = this.getSelectedColor(true) || (layer = this.getLayer())\n\t\t\t\t\t&& layer.getSelectedColor(true),\n\t\t\t\tmx = matrix.appended(this.getGlobalMatrix(true)),\n\t\t\t\thalf = size / 2;\n\t\t\tctx.strokeStyle = ctx.fillStyle = color\n\t\t\t\t\t? color.toCanvasStyle(ctx) : '#009dec';\n\t\t\tif (itemSelected)\n\t\t\t\tthis._drawSelected(ctx, mx, selectionItems);\n\t\t\tif (positionSelected) {\n\t\t\t\tvar pos = this.getPosition(true),\n\t\t\t\t\tparent = this._parent,\n\t\t\t\t\tpoint = parent ? parent.localToGlobal(pos) : pos,\n\t\t\t\t\tx = point.x,\n\t\t\t\t\ty = point.y;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(x, y, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.stroke();\n\t\t\t\tvar deltas = [[0, -1], [1, 0], [0, 1], [-1, 0]],\n\t\t\t\t\tstart = half,\n\t\t\t\t\tend = size + 1;\n\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\tvar delta = deltas[i],\n\t\t\t\t\t\tdx = delta[0],\n\t\t\t\t\t\tdy = delta[1];\n\t\t\t\t\tctx.moveTo(x + dx * start, y + dy * start);\n\t\t\t\t\tctx.lineTo(x + dx * end, y + dy * end);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (boundsSelected) {\n\t\t\t\tvar coords = mx._transformCorners(this.getInternalBounds());\n\t\t\t\tctx.beginPath();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx[!i ? 'moveTo' : 'lineTo'](coords[i], coords[++i]);\n\t\t\t\t}\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.stroke();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx.fillRect(coords[i] - half, coords[++i] - half,\n\t\t\t\t\t\t\tsize, size);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn false;\n\t}\n}, Base.each(['down', 'drag', 'up', 'move'], function(key) {\n\tthis['removeOn' + Base.capitalize(key)] = function() {\n\t\tvar hash = {};\n\t\thash[key] = true;\n\t\treturn this.removeOn(hash);\n\t};\n}, {\n\n\tremoveOn: function(obj) {\n\t\tfor (var name in obj) {\n\t\t\tif (obj[name]) {\n\t\t\t\tvar key = 'mouse' + name,\n\t\t\t\t\tproject = this._project,\n\t\t\t\t\tsets = project._removeSets = project._removeSets || {};\n\t\t\t\tsets[key] = sets[key] || {};\n\t\t\t\tsets[key][this._id] = this;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n}), {\n\ttween: function(from, to, options) {\n\t\tif (!options) {\n\t\t\toptions = to;\n\t\t\tto = from;\n\t\t\tfrom = null;\n\t\t\tif (!options) {\n\t\t\t\toptions = to;\n\t\t\t\tto = null;\n\t\t\t}\n\t\t}\n\t\tvar easing = options && options.easing,\n\t\t\tstart = options && options.start,\n\t\t\tduration = options != null && (\n\t\t\t\ttypeof options === 'number' ? options : options.duration\n\t\t\t),\n\t\t\ttween = new Tween(this, from, to, duration, easing, start);\n\t\tfunction onFrame(event) {\n\t\t\ttween._handleFrame(event.time * 1000);\n\t\t\tif (!tween.running) {\n\t\t\t\tthis.off('frame', onFrame);\n\t\t\t}\n\t\t}\n\t\tif (duration) {\n\t\t\tthis.on('frame', onFrame);\n\t\t}\n\t\treturn tween;\n\t},\n\n\ttweenTo: function(to, options) {\n\t\treturn this.tween(null, to, options);\n\t},\n\n\ttweenFrom: function(from, options) {\n\t\treturn this.tween(from, null, options);\n\t}\n});\n\nvar Group = Item.extend({\n\t_class: 'Group',\n\t_selectBounds: false,\n\t_selectChildren: true,\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\n\tinitialize: function Group(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg))\n\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 2050) {\n\t\t\tthis._clipItem = undefined;\n\t\t}\n\t},\n\n\t_getClipItem: function() {\n\t\tvar clipItem = this._clipItem;\n\t\tif (clipItem === undefined) {\n\t\t\tclipItem = null;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tif (children[i]._clipMask) {\n\t\t\t\t\tclipItem = children[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._clipItem = clipItem;\n\t\t}\n\t\treturn clipItem;\n\t},\n\n\tisClipped: function() {\n\t\treturn !!this._getClipItem();\n\t},\n\n\tsetClipped: function(clipped) {\n\t\tvar child = this.getFirstChild();\n\t\tif (child)\n\t\t\tchild.setClipMask(clipped);\n\t},\n\n\t_getBounds: function _getBounds(matrix, options) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn clipItem\n\t\t\t? clipItem._getCachedBounds(clipItem._matrix.prepended(matrix),\n\t\t\t\tBase.set({}, options, { stroke: false }))\n\t\t\t: _getBounds.base.call(this, matrix, options);\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn (!clipItem || clipItem.contains(point))\n\t\t\t\t&& _hitTestChildren.base.call(this, point, options, viewMatrix,\n\t\t\t\t\tclipItem);\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tvar clip = param.clip,\n\t\t\tclipItem = !clip && this._getClipItem();\n\t\tparam = param.extend({ clipItem: clipItem, clip: false });\n\t\tif (clip) {\n\t\t\tctx.beginPath();\n\t\t\tparam.dontStart = param.dontFinish = true;\n\t\t} else if (clipItem) {\n\t\t\tclipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar item = children[i];\n\t\t\tif (item !== clipItem)\n\t\t\t\titem.draw(ctx, param);\n\t\t}\n\t}\n});\n\nvar Layer = Group.extend({\n\t_class: 'Layer',\n\n\tinitialize: function Layer() {\n\t\tGroup.apply(this, arguments);\n\t},\n\n\t_getOwner: function() {\n\t\treturn this._parent || this._index != null && this._project;\n\t},\n\n\tisInserted: function isInserted() {\n\t\treturn this._parent ? isInserted.base.call(this) : this._index != null;\n\t},\n\n\tactivate: function() {\n\t\tthis._project._activeLayer = this;\n\t},\n\n\t_hitTestSelf: function() {\n\t}\n});\n\nvar Shape = Item.extend({\n\t_class: 'Shape',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_canScaleStroke: true,\n\t_serializeFields: {\n\t\ttype: null,\n\t\tsize: null,\n\t\tradius: null\n\t},\n\n\tinitialize: function Shape(props, point) {\n\t\tthis._initialize(props, point);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._type === item._type\n\t\t\t&& this._size.equals(item._size)\n\t\t\t&& Base.equals(this._radius, item._radius);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setType(source._type);\n\t\tthis.setSize(source._size);\n\t\tthis.setRadius(source._radius);\n\t},\n\n\tgetType: function() {\n\t\treturn this._type;\n\t},\n\n\tsetType: function(type) {\n\t\tthis._type = type;\n\t},\n\n\tgetShape: '#getType',\n\tsetShape: '#setType',\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setSize');\n\t},\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments);\n\t\tif (!this._size) {\n\t\t\tthis._size = size.clone();\n\t\t} else if (!this._size.equals(size)) {\n\t\t\tvar type = this._type,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tif (type === 'rectangle') {\n\t\t\t\tthis._radius.set(Size.min(this._radius, size.divide(2).abs()));\n\t\t\t} else if (type === 'circle') {\n\t\t\t\twidth = height = (width + height) / 2;\n\t\t\t\tthis._radius = width / 2;\n\t\t\t} else if (type === 'ellipse') {\n\t\t\t\tthis._radius._set(width / 2, height / 2);\n\t\t\t}\n\t\t\tthis._size._set(width, height);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tgetRadius: function() {\n\t\tvar rad = this._radius;\n\t\treturn this._type === 'circle'\n\t\t\t\t? rad\n\t\t\t\t: new LinkedSize(rad.width, rad.height, this, 'setRadius');\n\t},\n\n\tsetRadius: function(radius) {\n\t\tvar type = this._type;\n\t\tif (type === 'circle') {\n\t\t\tif (radius === this._radius)\n\t\t\t\treturn;\n\t\t\tvar size = radius * 2;\n\t\t\tthis._radius = radius;\n\t\t\tthis._size._set(size, size);\n\t\t} else {\n\t\t\tradius = Size.read(arguments);\n\t\t\tif (!this._radius) {\n\t\t\t\tthis._radius = radius.clone();\n\t\t\t} else {\n\t\t\t\tif (this._radius.equals(radius))\n\t\t\t\t\treturn;\n\t\t\t\tthis._radius.set(radius);\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar size = Size.max(this._size, radius.multiply(2));\n\t\t\t\t\tthis._size.set(size);\n\t\t\t\t} else if (type === 'ellipse') {\n\t\t\t\t\tthis._size._set(radius.width * 2, radius.height * 2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis._changed(9);\n\t},\n\n\tisEmpty: function() {\n\t\treturn false;\n\t},\n\n\ttoPath: function(insert) {\n\t\tvar path = new Path[Base.capitalize(this._type)]({\n\t\t\tcenter: new Point(),\n\t\t\tsize: this._size,\n\t\t\tradius: this._radius,\n\t\t\tinsert: false\n\t\t});\n\t\tpath.copyAttributes(this);\n\t\tif (paper.settings.applyMatrix)\n\t\t\tpath.setApplyMatrix(true);\n\t\tif (insert === undefined || insert)\n\t\t\tpath.insertAbove(this);\n\t\treturn path;\n\t},\n\n\ttoShape: '#clone',\n\n\t_asPathItem: function() {\n\t\treturn this.toPath(false);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar style = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\tuntransformed = !strokeMatrix;\n\t\tif (hasFill || hasStroke || dontPaint) {\n\t\t\tvar type = this._type,\n\t\t\t\tradius = this._radius,\n\t\t\t\tisCircle = type === 'circle';\n\t\t\tif (!param.dontStart)\n\t\t\t\tctx.beginPath();\n\t\t\tif (untransformed && isCircle) {\n\t\t\t\tctx.arc(0, 0, radius, 0, Math.PI * 2, true);\n\t\t\t} else {\n\t\t\t\tvar rx = isCircle ? radius : radius.width,\n\t\t\t\t\try = isCircle ? radius : radius.height,\n\t\t\t\t\tsize = this._size,\n\t\t\t\t\twidth = size.width,\n\t\t\t\t\theight = size.height;\n\t\t\t\tif (untransformed && type === 'rectangle' && rx === 0 && ry === 0) {\n\t\t\t\t\tctx.rect(-width / 2, -height / 2, width, height);\n\t\t\t\t} else {\n\t\t\t\t\tvar x = width / 2,\n\t\t\t\t\t\ty = height / 2,\n\t\t\t\t\t\tkappa = 1 - 0.5522847498307936,\n\t\t\t\t\t\tcx = rx * kappa,\n\t\t\t\t\t\tcy = ry * kappa,\n\t\t\t\t\t\tc = [\n\t\t\t\t\t\t\t-x, -y + ry,\n\t\t\t\t\t\t\t-x, -y + cy,\n\t\t\t\t\t\t\t-x + cx, -y,\n\t\t\t\t\t\t\t-x + rx, -y,\n\t\t\t\t\t\t\tx - rx, -y,\n\t\t\t\t\t\t\tx - cx, -y,\n\t\t\t\t\t\t\tx, -y + cy,\n\t\t\t\t\t\t\tx, -y + ry,\n\t\t\t\t\t\t\tx, y - ry,\n\t\t\t\t\t\t\tx, y - cy,\n\t\t\t\t\t\t\tx - cx, y,\n\t\t\t\t\t\t\tx - rx, y,\n\t\t\t\t\t\t\t-x + rx, y,\n\t\t\t\t\t\t\t-x + cx, y,\n\t\t\t\t\t\t\t-x, y - cy,\n\t\t\t\t\t\t\t-x, y - ry\n\t\t\t\t\t\t];\n\t\t\t\t\tif (strokeMatrix)\n\t\t\t\t\t\tstrokeMatrix.transform(c, c, 32);\n\t\t\t\t\tctx.moveTo(c[0], c[1]);\n\t\t\t\t\tctx.bezierCurveTo(c[2], c[3], c[4], c[5], c[6], c[7]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[8], c[9]);\n\t\t\t\t\tctx.bezierCurveTo(c[10], c[11], c[12], c[13], c[14], c[15]);\n\t\t\t\t\tif (y !== ry)\n\t\t\t\t\t\tctx.lineTo(c[16], c[17]);\n\t\t\t\t\tctx.bezierCurveTo(c[18], c[19], c[20], c[21], c[22], c[23]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[24], c[25]);\n\t\t\t\t\tctx.bezierCurveTo(c[26], c[27], c[28], c[29], c[30], c[31]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tctx.closePath();\n\t\t}\n\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\tstyle = this._style,\n\t\t\tstrokeWidth = options.stroke && style.hasStroke()\n\t\t\t\t\t&& style.getStrokeWidth();\n\t\tif (matrix)\n\t\t\trect = matrix._transformBounds(rect);\n\t\treturn strokeWidth\n\t\t\t\t? rect.expand(Path._getStrokePadding(strokeWidth,\n\t\t\t\t\tthis._getStrokeMatrix(matrix, options)))\n\t\t\t\t: rect;\n\t}\n},\nnew function() {\n\tfunction getCornerCenter(that, point, expand) {\n\t\tvar radius = that._radius;\n\t\tif (!radius.isZero()) {\n\t\t\tvar halfSize = that._size.divide(2);\n\t\t\tfor (var q = 1; q <= 4; q++) {\n\t\t\t\tvar dir = new Point(q > 1 && q < 4 ? -1 : 1, q > 2 ? -1 : 1),\n\t\t\t\t\tcorner = dir.multiply(halfSize),\n\t\t\t\t\tcenter = corner.subtract(dir.multiply(radius)),\n\t\t\t\t\trect = new Rectangle(\n\t\t\t\t\t\t\texpand ? corner.add(dir.multiply(expand)) : corner,\n\t\t\t\t\t\t\tcenter);\n\t\t\t\tif (rect.contains(point))\n\t\t\t\t\treturn { point: center, quadrant: q };\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isOnEllipseStroke(point, radius, padding, quadrant) {\n\t\tvar vector = point.divide(radius);\n\t\treturn (!quadrant || vector.isInQuadrant(quadrant)) &&\n\t\t\t\tvector.subtract(vector.normalize()).multiply(radius)\n\t\t\t\t\t.divide(padding).length <= 1;\n\t}\n\n\treturn {\n\t\t_contains: function _contains(point) {\n\t\t\tif (this._type === 'rectangle') {\n\t\t\t\tvar center = getCornerCenter(this, point);\n\t\t\t\treturn center\n\t\t\t\t\t\t? point.subtract(center.point).divide(this._radius)\n\t\t\t\t\t\t\t.getLength() <= 1\n\t\t\t\t\t\t: _contains.base.call(this, point);\n\t\t\t} else {\n\t\t\t\treturn point.divide(this.size).getLength() <= 0.5;\n\t\t\t}\n\t\t},\n\n\t\t_hitTestSelf: function _hitTestSelf(point, options, viewMatrix,\n\t\t\t\tstrokeMatrix) {\n\t\t\tvar hit = false,\n\t\t\t\tstyle = this._style,\n\t\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\t\thitFill = options.fill && style.hasFill();\n\t\t\tif (hitStroke || hitFill) {\n\t\t\t\tvar type = this._type,\n\t\t\t\t\tradius = this._radius,\n\t\t\t\t\tstrokeRadius = hitStroke ? style.getStrokeWidth() / 2 : 0,\n\t\t\t\t\tstrokePadding = options._tolerancePadding.add(\n\t\t\t\t\t\tPath._getStrokePadding(strokeRadius,\n\t\t\t\t\t\t\t!style.getStrokeScaling() && strokeMatrix));\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar padding = strokePadding.multiply(2),\n\t\t\t\t\t\tcenter = getCornerCenter(this, point, padding);\n\t\t\t\t\tif (center) {\n\t\t\t\t\t\thit = isOnEllipseStroke(point.subtract(center.point),\n\t\t\t\t\t\t\t\tradius, strokePadding, center.quadrant);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\t\t\t\t\touter = rect.expand(padding),\n\t\t\t\t\t\t\tinner = rect.expand(padding.negate());\n\t\t\t\t\t\thit = outer._containsPoint(point)\n\t\t\t\t\t\t\t\t&& !inner._containsPoint(point);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\thit = isOnEllipseStroke(point, radius, strokePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn hit ? new HitResult(hitStroke ? 'stroke' : 'fill', this)\n\t\t\t\t\t: _hitTestSelf.base.apply(this, arguments);\n\t\t}\n\t};\n}, {\n\nstatics: new function() {\n\tfunction createShape(type, point, size, radius, args) {\n\t\tvar item = Base.create(Shape.prototype);\n\t\titem._type = type;\n\t\titem._size = size;\n\t\titem._radius = radius;\n\t\titem._initialize(Base.getNamed(args), point);\n\t\treturn item;\n\t}\n\n\treturn {\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createShape('circle', center, new Size(radius * 2), radius,\n\t\t\t\t\targs);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.min(Size.readNamed(args, 'radius'),\n\t\t\t\t\t\trect.getSize(true).divide(2));\n\t\t\treturn createShape('rectangle', rect.getCenter(true),\n\t\t\t\t\trect.getSize(true), radius, args);\n\t\t},\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args),\n\t\t\t\tradius = ellipse.radius;\n\t\t\treturn createShape('ellipse', ellipse.center, radius.multiply(2),\n\t\t\t\t\tradius, args);\n\t\t},\n\n\t\t_readEllipse: function(args) {\n\t\t\tvar center,\n\t\t\t\tradius;\n\t\t\tif (Base.hasNamed(args, 'radius')) {\n\t\t\t\tcenter = Point.readNamed(args, 'center');\n\t\t\t\tradius = Size.readNamed(args, 'radius');\n\t\t\t} else {\n\t\t\t\tvar rect = Rectangle.readNamed(args, 'rectangle');\n\t\t\t\tcenter = rect.getCenter(true);\n\t\t\t\tradius = rect.getSize(true).divide(2);\n\t\t\t}\n\t\t\treturn { center: center, radius: radius };\n\t\t}\n\t};\n}});\n\nvar Raster = Item.extend({\n\t_class: 'Raster',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: false, handle: false },\n\t_serializeFields: {\n\t\tcrossOrigin: null,\n\t\tsource: null\n\t},\n\t_prioritize: ['crossOrigin'],\n\t_smoothing: 'low',\n\tbeans: true,\n\n\tinitialize: function Raster(source, position) {\n\t\tif (!this._initialize(source,\n\t\t\t\tposition !== undefined && Point.read(arguments))) {\n\t\t\tvar image,\n\t\t\t\ttype = typeof source,\n\t\t\t\tobject = type === 'string'\n\t\t\t\t\t? document.getElementById(source)\n\t\t\t\t\t: type  === 'object'\n\t\t\t\t\t\t? source\n\t\t\t\t\t\t: null;\n\t\t\tif (object && object !== Item.NO_INSERT) {\n\t\t\t\tif (object.getContext || object.naturalHeight != null) {\n\t\t\t\t\timage = object;\n\t\t\t\t} else if (object) {\n\t\t\t\t\tvar size = Size.read(arguments);\n\t\t\t\t\tif (!size.isZero()) {\n\t\t\t\t\t\timage = CanvasProvider.getCanvas(size);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (image) {\n\t\t\t\tthis.setImage(image);\n\t\t\t} else {\n\t\t\t\tthis.setSource(source);\n\t\t\t}\n\t\t}\n\t\tif (!this._size) {\n\t\t\tthis._size = new Size();\n\t\t\tthis._loaded = false;\n\t\t}\n\t},\n\n\t_equals: function(item) {\n\t\treturn this.getSource() === item.getSource();\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar image = source._image,\n\t\t\tcanvas = source._canvas;\n\t\tif (image) {\n\t\t\tthis._setImage(image);\n\t\t} else if (canvas) {\n\t\t\tvar copyCanvas = CanvasProvider.getCanvas(source._size);\n\t\t\tcopyCanvas.getContext('2d').drawImage(canvas, 0, 0);\n\t\t\tthis._setImage(copyCanvas);\n\t\t}\n\t\tthis._crossOrigin = source._crossOrigin;\n\t},\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size ? size.width : 0, size ? size.height : 0,\n\t\t\t\tthis, 'setSize');\n\t},\n\n\tsetSize: function(_size, _clear) {\n\t\tvar size = Size.read(arguments);\n\t\tif (!size.equals(this._size)) {\n\t\t\tif (size.width > 0 && size.height > 0) {\n\t\t\t\tvar element = !_clear && this.getElement();\n\t\t\t\tthis._setImage(CanvasProvider.getCanvas(size));\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.getContext(true).drawImage(element, 0, 0,\n\t\t\t\t\t\t\tsize.width, size.height);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this._canvas)\n\t\t\t\t\tCanvasProvider.release(this._canvas);\n\t\t\t\tthis._size = size.clone();\n\t\t\t}\n\t\t} else if (_clear) {\n\t\t\tthis.clear();\n\t\t}\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._size ? this._size.width : 0;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis.setSize(width, this.getHeight());\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._size ? this._size.height : 0;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis.setSize(this.getWidth(), height);\n\t},\n\n\tgetLoaded: function() {\n\t\treturn this._loaded;\n\t},\n\n\tisEmpty: function() {\n\t\tvar size = this._size;\n\t\treturn !size || size.width === 0 && size.height === 0;\n\t},\n\n\tgetResolution: function() {\n\t\tvar matrix = this._matrix,\n\t\t\torig = new Point(0, 0).transform(matrix),\n\t\t\tu = new Point(1, 0).transform(matrix).subtract(orig),\n\t\t\tv = new Point(0, 1).transform(matrix).subtract(orig);\n\t\treturn new Size(\n\t\t\t72 / u.getLength(),\n\t\t\t72 / v.getLength()\n\t\t);\n\t},\n\n\tgetPpi: '#getResolution',\n\n\tgetImage: function() {\n\t\treturn this._image;\n\t},\n\n\tsetImage: function(image) {\n\t\tvar that = this;\n\n\t\tfunction emit(event) {\n\t\t\tvar view = that.getView(),\n\t\t\t\ttype = event && event.type || 'load';\n\t\t\tif (view && that.responds(type)) {\n\t\t\t\tpaper = view._scope;\n\t\t\t\tthat.emit(type, new Event(event));\n\t\t\t}\n\t\t}\n\n\t\tthis._setImage(image);\n\t\tif (this._loaded) {\n\t\t\tsetTimeout(emit, 0);\n\t\t} else if (image) {\n\t\t\tDomEvent.add(image, {\n\t\t\t\tload: function(event) {\n\t\t\t\t\tthat._setImage(image);\n\t\t\t\t\temit(event);\n\t\t\t\t},\n\t\t\t\terror: emit\n\t\t\t});\n\t\t}\n\t},\n\n\t_setImage: function(image) {\n\t\tif (this._canvas)\n\t\t\tCanvasProvider.release(this._canvas);\n\t\tif (image && image.getContext) {\n\t\t\tthis._image = null;\n\t\t\tthis._canvas = image;\n\t\t\tthis._loaded = true;\n\t\t} else {\n\t\t\tthis._image = image;\n\t\t\tthis._canvas = null;\n\t\t\tthis._loaded = !!(image && image.src && image.complete);\n\t\t}\n\t\tthis._size = new Size(\n\t\t\t\timage ? image.naturalWidth || image.width : 0,\n\t\t\t\timage ? image.naturalHeight || image.height : 0);\n\t\tthis._context = null;\n\t\tthis._changed(1033);\n\t},\n\n\tgetCanvas: function() {\n\t\tif (!this._canvas) {\n\t\t\tvar ctx = CanvasProvider.getContext(this._size);\n\t\t\ttry {\n\t\t\t\tif (this._image)\n\t\t\t\t\tctx.drawImage(this._image, 0, 0);\n\t\t\t\tthis._canvas = ctx.canvas;\n\t\t\t} catch (e) {\n\t\t\t\tCanvasProvider.release(ctx);\n\t\t\t}\n\t\t}\n\t\treturn this._canvas;\n\t},\n\n\tsetCanvas: '#setImage',\n\n\tgetContext: function(_change) {\n\t\tif (!this._context)\n\t\t\tthis._context = this.getCanvas().getContext('2d');\n\t\tif (_change) {\n\t\t\tthis._image = null;\n\t\t\tthis._changed(1025);\n\t\t}\n\t\treturn this._context;\n\t},\n\n\tsetContext: function(context) {\n\t\tthis._context = context;\n\t},\n\n\tgetSource: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.src || this.toDataURL();\n\t},\n\n\tsetSource: function(src) {\n\t\tvar image = new self.Image(),\n\t\t\tcrossOrigin = this._crossOrigin;\n\t\tif (crossOrigin)\n\t\t\timage.crossOrigin = crossOrigin;\n\t\tif (src)\n\t\t\timage.src = src;\n\t\tthis.setImage(image);\n\t},\n\n\tgetCrossOrigin: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.crossOrigin || this._crossOrigin || '';\n\t},\n\n\tsetCrossOrigin: function(crossOrigin) {\n\t\tthis._crossOrigin = crossOrigin;\n\t\tvar image = this._image;\n\t\tif (image)\n\t\t\timage.crossOrigin = crossOrigin;\n\t},\n\n\tgetSmoothing: function() {\n\t\treturn this._smoothing;\n\t},\n\n\tsetSmoothing: function(smoothing) {\n\t\tthis._smoothing = typeof smoothing === 'string'\n\t\t\t? smoothing\n\t\t\t: smoothing ? 'low' : 'off';\n\t\tthis._changed(257);\n\t},\n\n\tgetElement: function() {\n\t\treturn this._canvas || this._loaded && this._image;\n\t}\n}, {\n\tbeans: false,\n\n\tgetSubCanvas: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tctx = CanvasProvider.getContext(rect.getSize());\n\t\tctx.drawImage(this.getCanvas(), rect.x, rect.y,\n\t\t\t\trect.width, rect.height, 0, 0, rect.width, rect.height);\n\t\treturn ctx.canvas;\n\t},\n\n\tgetSubRaster: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\traster._setImage(this.getSubCanvas(rect));\n\t\traster.translate(rect.getCenter().subtract(this.getSize().divide(2)));\n\t\traster._matrix.prepend(this._matrix);\n\t\traster.insertAbove(this);\n\t\treturn raster;\n\t},\n\n\ttoDataURL: function() {\n\t\tvar image = this._image,\n\t\t\tsrc = image && image.src;\n\t\tif (/^data:/.test(src))\n\t\t\treturn src;\n\t\tvar canvas = this.getCanvas();\n\t\treturn canvas ? canvas.toDataURL.apply(canvas, arguments) : null;\n\t},\n\n\tdrawImage: function(image ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).drawImage(image, point.x, point.y);\n\t},\n\n\tgetAverageColor: function(object) {\n\t\tvar bounds, path;\n\t\tif (!object) {\n\t\t\tbounds = this.getBounds();\n\t\t} else if (object instanceof PathItem) {\n\t\t\tpath = object;\n\t\t\tbounds = object.getBounds();\n\t\t} else if (typeof object === 'object') {\n\t\t\tif ('width' in object) {\n\t\t\t\tbounds = new Rectangle(object);\n\t\t\t} else if ('x' in object) {\n\t\t\t\tbounds = new Rectangle(object.x - 0.5, object.y - 0.5, 1, 1);\n\t\t\t}\n\t\t}\n\t\tif (!bounds)\n\t\t\treturn null;\n\t\tvar sampleSize = 32,\n\t\t\twidth = Math.min(bounds.width, sampleSize),\n\t\t\theight = Math.min(bounds.height, sampleSize);\n\t\tvar ctx = Raster._sampleContext;\n\t\tif (!ctx) {\n\t\t\tctx = Raster._sampleContext = CanvasProvider.getContext(\n\t\t\t\t\tnew Size(sampleSize));\n\t\t} else {\n\t\t\tctx.clearRect(0, 0, sampleSize + 1, sampleSize + 1);\n\t\t}\n\t\tctx.save();\n\t\tvar matrix = new Matrix()\n\t\t\t\t.scale(width / bounds.width, height / bounds.height)\n\t\t\t\t.translate(-bounds.x, -bounds.y);\n\t\tmatrix.applyToContext(ctx);\n\t\tif (path)\n\t\t\tpath.draw(ctx, new Base({ clip: true, matrices: [matrix] }));\n\t\tthis._matrix.applyToContext(ctx);\n\t\tvar element = this.getElement(),\n\t\t\tsize = this._size;\n\t\tif (element)\n\t\t\tctx.drawImage(element, -size.width / 2, -size.height / 2);\n\t\tctx.restore();\n\t\tvar pixels = ctx.getImageData(0.5, 0.5, Math.ceil(width),\n\t\t\t\tMath.ceil(height)).data,\n\t\t\tchannels = [0, 0, 0],\n\t\t\ttotal = 0;\n\t\tfor (var i = 0, l = pixels.length; i < l; i += 4) {\n\t\t\tvar alpha = pixels[i + 3];\n\t\t\ttotal += alpha;\n\t\t\talpha /= 255;\n\t\t\tchannels[0] += pixels[i] * alpha;\n\t\t\tchannels[1] += pixels[i + 1] * alpha;\n\t\t\tchannels[2] += pixels[i + 2] * alpha;\n\t\t}\n\t\tfor (var i = 0; i < 3; i++)\n\t\t\tchannels[i] /= total;\n\t\treturn total ? Color.read(channels) : null;\n\t},\n\n\tgetPixel: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar data = this.getContext().getImageData(point.x, point.y, 1, 1).data;\n\t\treturn new Color('rgb', [data[0] / 255, data[1] / 255, data[2] / 255],\n\t\t\t\tdata[3] / 255);\n\t},\n\n\tsetPixel: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tcolor = Color.read(args),\n\t\t\tcomponents = color._convert('rgb'),\n\t\t\talpha = color._alpha,\n\t\t\tctx = this.getContext(true),\n\t\t\timageData = ctx.createImageData(1, 1),\n\t\t\tdata = imageData.data;\n\t\tdata[0] = components[0] * 255;\n\t\tdata[1] = components[1] * 255;\n\t\tdata[2] = components[2] * 255;\n\t\tdata[3] = alpha != null ? alpha * 255 : 255;\n\t\tctx.putImageData(imageData, point.x, point.y);\n\t},\n\n\tclear: function() {\n\t\tvar size = this._size;\n\t\tthis.getContext(true).clearRect(0, 0, size.width + 1, size.height + 1);\n\t},\n\n\tcreateImageData: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn this.getContext().createImageData(size.width, size.height);\n\t},\n\n\tgetImageData: function() {\n\t\tvar rect = Rectangle.read(arguments);\n\t\tif (rect.isEmpty())\n\t\t\trect = new Rectangle(this._size);\n\t\treturn this.getContext().getImageData(rect.x, rect.y,\n\t\t\t\trect.width, rect.height);\n\t},\n\n\tputImageData: function(data ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).putImageData(data, point.x, point.y);\n\t},\n\n\tsetImageData: function(data) {\n\t\tthis.setSize(data);\n\t\tthis.getContext(true).putImageData(data, 0, 0);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0);\n\t\treturn matrix ? matrix._transformBounds(rect) : rect;\n\t},\n\n\t_hitTestSelf: function(point) {\n\t\tif (this._contains(point)) {\n\t\t\tvar that = this;\n\t\t\treturn new HitResult('pixel', that, {\n\t\t\t\toffset: point.add(that._size.divide(2)).round(),\n\t\t\t\tcolor: {\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\treturn that.getPixel(this.offset);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tvar element = this.getElement();\n\t\tif (element && element.width > 0 && element.height > 0) {\n\t\t\tctx.globalAlpha = Numerical.clamp(this._opacity, 0, 1);\n\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\n\t\t\tvar smoothing = this._smoothing,\n\t\t\t\tdisabled = smoothing === 'off';\n\t\t\tDomElement.setPrefixed(\n\t\t\t\tctx,\n\t\t\t\tdisabled ? 'imageSmoothingEnabled' : 'imageSmoothingQuality',\n\t\t\t\tdisabled ? false : smoothing\n\t\t\t);\n\n\t\t\tctx.drawImage(element,\n\t\t\t\t\t-this._size.width / 2, -this._size.height / 2);\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn true;\n\t}\n});\n\nvar SymbolItem = Item.extend({\n\t_class: 'SymbolItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: true },\n\t_serializeFields: {\n\t\tsymbol: null\n\t},\n\n\tinitialize: function SymbolItem(arg0, arg1) {\n\t\tif (!this._initialize(arg0,\n\t\t\t\targ1 !== undefined && Point.read(arguments, 1)))\n\t\t\tthis.setDefinition(arg0 instanceof SymbolDefinition ?\n\t\t\t\t\targ0 : new SymbolDefinition(arg0));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._definition === item._definition;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setDefinition(source._definition);\n\t},\n\n\tgetDefinition: function() {\n\t\treturn this._definition;\n\t},\n\n\tsetDefinition: function(definition) {\n\t\tthis._definition = definition;\n\t\tthis._changed(9);\n\t},\n\n\tgetSymbol: '#getDefinition',\n\tsetSymbol: '#setDefinition',\n\n\tisEmpty: function() {\n\t\treturn this._definition._item.isEmpty();\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar item = this._definition._item;\n\t\treturn item._getCachedBounds(item._matrix.prepended(matrix), options);\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix) {\n\t\tvar opts = options.extend({ all: false });\n\t\tvar res = this._definition._item._hitTest(point, opts, viewMatrix);\n\t\tif (res)\n\t\t\tres.item = this;\n\t\treturn res;\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tthis._definition._item.draw(ctx, param);\n\t}\n\n});\n\nvar SymbolDefinition = Base.extend({\n\t_class: 'SymbolDefinition',\n\n\tinitialize: function SymbolDefinition(item, dontCenter) {\n\t\tthis._id = UID.get();\n\t\tthis.project = paper.project;\n\t\tif (item)\n\t\t\tthis.setItem(item, dontCenter);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._class, this._item],\n\t\t\t\t\toptions, false, dictionary);\n\t\t});\n\t},\n\n\t_changed: function(flags) {\n\t\tif (flags & 8)\n\t\t\tItem._clearBoundsCache(this);\n\t\tif (flags & 1)\n\t\t\tthis.project._changed(flags);\n\t},\n\n\tgetItem: function() {\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item, _dontCenter) {\n\t\tif (item._symbol)\n\t\t\titem = item.clone();\n\t\tif (this._item)\n\t\t\tthis._item._symbol = null;\n\t\tthis._item = item;\n\t\titem.remove();\n\t\titem.setSelected(false);\n\t\tif (!_dontCenter)\n\t\t\titem.setPosition(new Point());\n\t\titem._symbol = this;\n\t\tthis._changed(9);\n\t},\n\n\tgetDefinition: '#getItem',\n\tsetDefinition: '#setItem',\n\n\tplace: function(position) {\n\t\treturn new SymbolItem(this, position);\n\t},\n\n\tclone: function() {\n\t\treturn new SymbolDefinition(this._item.clone(false));\n\t},\n\n\tequals: function(symbol) {\n\t\treturn symbol === this\n\t\t\t\t|| symbol && this._item.equals(symbol._item)\n\t\t\t\t|| false;\n\t}\n});\n\nvar HitResult = Base.extend({\n\t_class: 'HitResult',\n\n\tinitialize: function HitResult(type, item, values) {\n\t\tthis.type = type;\n\t\tthis.item = item;\n\t\tif (values)\n\t\t\tthis.inject(values);\n\t},\n\n\tstatics: {\n\t\tgetOptions: function(args) {\n\t\t\tvar options = args && Base.read(args);\n\t\t\treturn new Base({\n\t\t\t\ttype: null,\n\t\t\t\ttolerance: paper.settings.hitTolerance,\n\t\t\t\tfill: !options,\n\t\t\t\tstroke: !options,\n\t\t\t\tsegments: !options,\n\t\t\t\thandles: false,\n\t\t\t\tends: false,\n\t\t\t\tposition: false,\n\t\t\t\tcenter: false,\n\t\t\t\tbounds: false,\n\t\t\t\tguides: false,\n\t\t\t\tselected: false\n\t\t\t}, options);\n\t\t}\n\t}\n});\n\nvar Segment = Base.extend({\n\t_class: 'Segment',\n\tbeans: true,\n\t_selection: 0,\n\n\tinitialize: function Segment(arg0, arg1, arg2, arg3, arg4, arg5) {\n\t\tvar count = arguments.length,\n\t\t\tpoint, handleIn, handleOut, selection;\n\t\tif (count > 0) {\n\t\t\tif (arg0 == null || typeof arg0 === 'object') {\n\t\t\t\tif (count === 1 && arg0 && 'point' in arg0) {\n\t\t\t\t\tpoint = arg0.point;\n\t\t\t\t\thandleIn = arg0.handleIn;\n\t\t\t\t\thandleOut = arg0.handleOut;\n\t\t\t\t\tselection = arg0.selection;\n\t\t\t\t} else {\n\t\t\t\t\tpoint = arg0;\n\t\t\t\t\thandleIn = arg1;\n\t\t\t\t\thandleOut = arg2;\n\t\t\t\t\tselection = arg3;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpoint = [ arg0, arg1 ];\n\t\t\t\thandleIn = arg2 !== undefined ? [ arg2, arg3 ] : null;\n\t\t\t\thandleOut = arg4 !== undefined ? [ arg4, arg5 ] : null;\n\t\t\t}\n\t\t}\n\t\tnew SegmentPoint(point, this, '_point');\n\t\tnew SegmentPoint(handleIn, this, '_handleIn');\n\t\tnew SegmentPoint(handleOut, this, '_handleOut');\n\t\tif (selection)\n\t\t\tthis.setSelection(selection);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar point = this._point,\n\t\t\tselection = this._selection,\n\t\t\tobj = selection || this.hasHandles()\n\t\t\t\t\t? [point, this._handleIn, this._handleOut]\n\t\t\t\t\t: point;\n\t\tif (selection)\n\t\t\tobj.push(selection);\n\t\treturn Base.serialize(obj, options, true, dictionary);\n\t},\n\n\t_changed: function(point) {\n\t\tvar path = this._path;\n\t\tif (!path)\n\t\t\treturn;\n\t\tvar curves = path._curves,\n\t\t\tindex = this._index,\n\t\t\tcurve;\n\t\tif (curves) {\n\t\t\tif ((!point || point === this._point || point === this._handleIn)\n\t\t\t\t\t&& (curve = index > 0 ? curves[index - 1] : path._closed\n\t\t\t\t\t\t? curves[curves.length - 1] : null))\n\t\t\t\tcurve._changed();\n\t\t\tif ((!point || point === this._point || point === this._handleOut)\n\t\t\t\t\t&& (curve = curves[index]))\n\t\t\t\tcurve._changed();\n\t\t}\n\t\tpath._changed(41);\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tsetPoint: function() {\n\t\tthis._point.set(Point.read(arguments));\n\t},\n\n\tgetHandleIn: function() {\n\t\treturn this._handleIn;\n\t},\n\n\tsetHandleIn: function() {\n\t\tthis._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetHandleOut: function() {\n\t\treturn this._handleOut;\n\t},\n\n\tsetHandleOut: function() {\n\t\tthis._handleOut.set(Point.read(arguments));\n\t},\n\n\thasHandles: function() {\n\t\treturn !this._handleIn.isZero() || !this._handleOut.isZero();\n\t},\n\n\tisSmooth: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut;\n\t\treturn !handleIn.isZero() && !handleOut.isZero()\n\t\t\t\t&& handleIn.isCollinear(handleOut);\n\t},\n\n\tclearHandles: function() {\n\t\tthis._handleIn._set(0, 0);\n\t\tthis._handleOut._set(0, 0);\n\t},\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tvar oldSelection = this._selection,\n\t\t\tpath = this._path;\n\t\tthis._selection = selection = selection || 0;\n\t\tif (path && selection !== oldSelection) {\n\t\t\tpath._updateSelection(this, oldSelection, selection);\n\t\t\tpath._changed(257);\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._selection & 7);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._changeSelection(7, selected);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index !== undefined ? this._index : null;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path || null;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tindex = this._index;\n\t\tif (path) {\n\t\t\tif (index > 0 && !path._closed\n\t\t\t\t\t&& index === path._segments.length - 1)\n\t\t\t\tindex--;\n\t\t\treturn path.getCurves()[index] || null;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetLocation: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve\n\t\t\t\t? new CurveLocation(curve, this === curve._segment1 ? 0 : 1)\n\t\t\t\t: null;\n\t},\n\n\tgetNext: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index + 1]\n\t\t\t\t|| this._path._closed && segments[0]) || null;\n\t},\n\n\tsmooth: function(options, _first, _last) {\n\t\tvar opts = options || {},\n\t\t\ttype = opts.type,\n\t\t\tfactor = opts.factor,\n\t\t\tprev = this.getPrevious(),\n\t\t\tnext = this.getNext(),\n\t\t\tp0 = (prev || this)._point,\n\t\t\tp1 = this._point,\n\t\t\tp2 = (next || this)._point,\n\t\t\td1 = p0.getDistance(p1),\n\t\t\td2 = p1.getDistance(p2);\n\t\tif (!type || type === 'catmull-rom') {\n\t\t\tvar a = factor === undefined ? 0.5 : factor,\n\t\t\t\td1_a = Math.pow(d1, a),\n\t\t\t\td1_2a = d1_a * d1_a,\n\t\t\t\td2_a = Math.pow(d2, a),\n\t\t\t\td2_2a = d2_a * d2_a;\n\t\t\tif (!_first && prev) {\n\t\t\t\tvar A = 2 * d2_2a + 3 * d2_a * d1_a + d1_2a,\n\t\t\t\t\tN = 3 * d2_a * (d2_a + d1_a);\n\t\t\t\tthis.setHandleIn(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d2_2a * p0._x + A * p1._x - d1_2a * p2._x) / N - p1._x,\n\t\t\t\t\t\t(d2_2a * p0._y + A * p1._y - d1_2a * p2._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t\tif (!_last && next) {\n\t\t\t\tvar A = 2 * d1_2a + 3 * d1_a * d2_a + d2_2a,\n\t\t\t\t\tN = 3 * d1_a * (d1_a + d2_a);\n\t\t\t\tthis.setHandleOut(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d1_2a * p2._x + A * p1._x - d2_2a * p0._x) / N - p1._x,\n\t\t\t\t\t\t(d1_2a * p2._y + A * p1._y - d2_2a * p0._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t} else if (type === 'geometric') {\n\t\t\tif (prev && next) {\n\t\t\t\tvar vector = p0.subtract(p2),\n\t\t\t\t\tt = factor === undefined ? 0.4 : factor,\n\t\t\t\t\tk = t * d1 / (d1 + d2);\n\t\t\t\tif (!_first)\n\t\t\t\t\tthis.setHandleIn(vector.multiply(k));\n\t\t\t\tif (!_last)\n\t\t\t\t\tthis.setHandleOut(vector.multiply(k - t));\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('Smoothing method \\'' + type + '\\' not supported.');\n\t\t}\n\t},\n\n\tgetPrevious: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index - 1]\n\t\t\t\t|| this._path._closed && segments[segments.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._index === path._segments.length - 1 || false;\n\t},\n\n\treverse: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut,\n\t\t\ttmp = handleIn.clone();\n\t\thandleIn.set(handleOut);\n\t\thandleOut.set(tmp);\n\t},\n\n\treversed: function() {\n\t\treturn new Segment(this._point, this._handleOut, this._handleIn);\n\t},\n\n\tremove: function() {\n\t\treturn this._path ? !!this._path.removeSegment(this._index) : false;\n\t},\n\n\tclone: function() {\n\t\treturn new Segment(this._point, this._handleIn, this._handleOut);\n\t},\n\n\tequals: function(segment) {\n\t\treturn segment === this || segment && this._class === segment._class\n\t\t\t\t&& this._point.equals(segment._point)\n\t\t\t\t&& this._handleIn.equals(segment._handleIn)\n\t\t\t\t&& this._handleOut.equals(segment._handleOut)\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point: ' + this._point ];\n\t\tif (!this._handleIn.isZero())\n\t\t\tparts.push('handleIn: ' + this._handleIn);\n\t\tif (!this._handleOut.isZero())\n\t\t\tparts.push('handleOut: ' + this._handleOut);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._transformCoordinates(matrix, new Array(6), true);\n\t\tthis._changed();\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar u = 1 - factor,\n\t\t\tv = factor,\n\t\t\tpoint1 = from._point,\n\t\t\tpoint2 = to._point,\n\t\t\thandleIn1 = from._handleIn,\n\t\t\thandleIn2 = to._handleIn,\n\t\t\thandleOut2 = to._handleOut,\n\t\t\thandleOut1 = from._handleOut;\n\t\tthis._point._set(\n\t\t\t\tu * point1._x + v * point2._x,\n\t\t\t\tu * point1._y + v * point2._y, true);\n\t\tthis._handleIn._set(\n\t\t\t\tu * handleIn1._x + v * handleIn2._x,\n\t\t\t\tu * handleIn1._y + v * handleIn2._y, true);\n\t\tthis._handleOut._set(\n\t\t\t\tu * handleOut1._x + v * handleOut2._x,\n\t\t\t\tu * handleOut1._y + v * handleOut2._y, true);\n\t\tthis._changed();\n\t},\n\n\t_transformCoordinates: function(matrix, coords, change) {\n\t\tvar point = this._point,\n\t\t\thandleIn = !change || !this._handleIn.isZero()\n\t\t\t\t\t? this._handleIn : null,\n\t\t\thandleOut = !change || !this._handleOut.isZero()\n\t\t\t\t\t? this._handleOut : null,\n\t\t\tx = point._x,\n\t\t\ty = point._y,\n\t\t\ti = 2;\n\t\tcoords[0] = x;\n\t\tcoords[1] = y;\n\t\tif (handleIn) {\n\t\t\tcoords[i++] = handleIn._x + x;\n\t\t\tcoords[i++] = handleIn._y + y;\n\t\t}\n\t\tif (handleOut) {\n\t\t\tcoords[i++] = handleOut._x + x;\n\t\t\tcoords[i++] = handleOut._y + y;\n\t\t}\n\t\tif (matrix) {\n\t\t\tmatrix._transformCoordinates(coords, coords, i / 2);\n\t\t\tx = coords[0];\n\t\t\ty = coords[1];\n\t\t\tif (change) {\n\t\t\t\tpoint._x = x;\n\t\t\t\tpoint._y = y;\n\t\t\t\ti = 2;\n\t\t\t\tif (handleIn) {\n\t\t\t\t\thandleIn._x = coords[i++] - x;\n\t\t\t\t\thandleIn._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t\tif (handleOut) {\n\t\t\t\t\thandleOut._x = coords[i++] - x;\n\t\t\t\t\thandleOut._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!handleIn) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t\tif (!handleOut) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn coords;\n\t}\n});\n\nvar SegmentPoint = Point.extend({\n\tinitialize: function SegmentPoint(point, owner, key) {\n\t\tvar x, y,\n\t\t\tselected;\n\t\tif (!point) {\n\t\t\tx = y = 0;\n\t\t} else if ((x = point[0]) !== undefined) {\n\t\t\ty = point[1];\n\t\t} else {\n\t\t\tvar pt = point;\n\t\t\tif ((x = pt.x) === undefined) {\n\t\t\t\tpt = Point.read(arguments);\n\t\t\t\tx = pt.x;\n\t\t\t}\n\t\t\ty = pt.y;\n\t\t\tselected = pt.selected;\n\t\t}\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\towner[key] = this;\n\t\tif (selected)\n\t\t\tthis.setSelected(true);\n\t},\n\n\t_set: function(x, y) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner._changed(this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this._x) && isZero(this._y);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\tvar owner = this._owner;\n\t\treturn this === owner._point ? 1\n\t\t\t: this === owner._handleIn ? 2\n\t\t\t: this === owner._handleOut ? 4\n\t\t\t: 0;\n\t}\n});\n\nvar Curve = Base.extend({\n\t_class: 'Curve',\n\tbeans: true,\n\n\tinitialize: function Curve(arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7) {\n\t\tvar count = arguments.length,\n\t\t\tseg1, seg2,\n\t\t\tpoint1, point2,\n\t\t\thandle1, handle2;\n\t\tif (count === 3) {\n\t\t\tthis._path = arg0;\n\t\t\tseg1 = arg1;\n\t\t\tseg2 = arg2;\n\t\t} else if (!count) {\n\t\t\tseg1 = new Segment();\n\t\t\tseg2 = new Segment();\n\t\t} else if (count === 1) {\n\t\t\tif ('segment1' in arg0) {\n\t\t\t\tseg1 = new Segment(arg0.segment1);\n\t\t\t\tseg2 = new Segment(arg0.segment2);\n\t\t\t} else if ('point1' in arg0) {\n\t\t\t\tpoint1 = arg0.point1;\n\t\t\t\thandle1 = arg0.handle1;\n\t\t\t\thandle2 = arg0.handle2;\n\t\t\t\tpoint2 = arg0.point2;\n\t\t\t} else if (Array.isArray(arg0)) {\n\t\t\t\tpoint1 = [arg0[0], arg0[1]];\n\t\t\t\tpoint2 = [arg0[6], arg0[7]];\n\t\t\t\thandle1 = [arg0[2] - arg0[0], arg0[3] - arg0[1]];\n\t\t\t\thandle2 = [arg0[4] - arg0[6], arg0[5] - arg0[7]];\n\t\t\t}\n\t\t} else if (count === 2) {\n\t\t\tseg1 = new Segment(arg0);\n\t\t\tseg2 = new Segment(arg1);\n\t\t} else if (count === 4) {\n\t\t\tpoint1 = arg0;\n\t\t\thandle1 = arg1;\n\t\t\thandle2 = arg2;\n\t\t\tpoint2 = arg3;\n\t\t} else if (count === 8) {\n\t\t\tpoint1 = [arg0, arg1];\n\t\t\tpoint2 = [arg6, arg7];\n\t\t\thandle1 = [arg2 - arg0, arg3 - arg1];\n\t\t\thandle2 = [arg4 - arg6, arg5 - arg7];\n\t\t}\n\t\tthis._segment1 = seg1 || new Segment(point1, null, handle1);\n\t\tthis._segment2 = seg2 || new Segment(point2, handle2, null);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.hasHandles()\n\t\t\t\t? [this.getPoint1(), this.getHandle1(), this.getHandle2(),\n\t\t\t\t\tthis.getPoint2()]\n\t\t\t\t: [this.getPoint1(), this.getPoint2()],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tthis._length = this._bounds = undefined;\n\t},\n\n\tclone: function() {\n\t\treturn new Curve(this._segment1, this._segment2);\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point1: ' + this._segment1._point ];\n\t\tif (!this._segment1._handleOut.isZero())\n\t\t\tparts.push('handle1: ' + this._segment1._handleOut);\n\t\tif (!this._segment2._handleIn.isZero())\n\t\t\tparts.push('handle2: ' + this._segment2._handleIn);\n\t\tparts.push('point2: ' + this._segment2._point);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tclassify: function() {\n\t\treturn Curve.classify(this.getValues());\n\t},\n\n\tremove: function() {\n\t\tvar removed = false;\n\t\tif (this._path) {\n\t\t\tvar segment2 = this._segment2,\n\t\t\t\thandleOut = segment2._handleOut;\n\t\t\tremoved = segment2.remove();\n\t\t\tif (removed)\n\t\t\t\tthis._segment1._handleOut.set(handleOut);\n\t\t}\n\t\treturn removed;\n\t},\n\n\tgetPoint1: function() {\n\t\treturn this._segment1._point;\n\t},\n\n\tsetPoint1: function() {\n\t\tthis._segment1._point.set(Point.read(arguments));\n\t},\n\n\tgetPoint2: function() {\n\t\treturn this._segment2._point;\n\t},\n\n\tsetPoint2: function() {\n\t\tthis._segment2._point.set(Point.read(arguments));\n\t},\n\n\tgetHandle1: function() {\n\t\treturn this._segment1._handleOut;\n\t},\n\n\tsetHandle1: function() {\n\t\tthis._segment1._handleOut.set(Point.read(arguments));\n\t},\n\n\tgetHandle2: function() {\n\t\treturn this._segment2._handleIn;\n\t},\n\n\tsetHandle2: function() {\n\t\tthis._segment2._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetSegment1: function() {\n\t\treturn this._segment1;\n\t},\n\n\tgetSegment2: function() {\n\t\treturn this._segment2;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._segment1._index;\n\t},\n\n\tgetNext: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index + 1]\n\t\t\t\t|| this._path._closed && curves[0]) || null;\n\t},\n\n\tgetPrevious: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index - 1]\n\t\t\t\t|| this._path._closed && curves[curves.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._segment1._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._segment1._index === path._curves.length - 1\n\t\t\t\t|| false;\n\t},\n\n\tisSelected: function() {\n\t\treturn this.getPoint1().isSelected()\n\t\t\t\t&& this.getHandle1().isSelected()\n\t\t\t\t&& this.getHandle2().isSelected()\n\t\t\t\t&& this.getPoint2().isSelected();\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis.getPoint1().setSelected(selected);\n\t\tthis.getHandle1().setSelected(selected);\n\t\tthis.getHandle2().setSelected(selected);\n\t\tthis.getPoint2().setSelected(selected);\n\t},\n\n\tgetValues: function(matrix) {\n\t\treturn Curve.getValues(this._segment1, this._segment2, matrix);\n\t},\n\n\tgetPoints: function() {\n\t\tvar coords = this.getValues(),\n\t\t\tpoints = [];\n\t\tfor (var i = 0; i < 8; i += 2)\n\t\t\tpoints.push(new Point(coords[i], coords[i + 1]));\n\t\treturn points;\n\t}\n}, {\n\tgetLength: function() {\n\t\tif (this._length == null)\n\t\t\tthis._length = Curve.getLength(this.getValues(), 0, 1);\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\treturn Curve.getArea(this.getValues());\n\t},\n\n\tgetLine: function() {\n\t\treturn new Line(this._segment1._point, this._segment2._point);\n\t},\n\n\tgetPart: function(from, to) {\n\t\treturn new Curve(Curve.getPart(this.getValues(), from, to));\n\t},\n\n\tgetPartLength: function(from, to) {\n\t\treturn Curve.getLength(this.getValues(), from, to);\n\t},\n\n\tdivideAt: function(location) {\n\t\treturn this.divideAtTime(location && location.curve === this\n\t\t\t\t? location.time : this.getTimeAt(location));\n\t},\n\n\tdivideAtTime: function(time, _setHandles) {\n\t\tvar tMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tres = null;\n\t\tif (time >= tMin && time <= tMax) {\n\t\t\tvar parts = Curve.subdivide(this.getValues(), time),\n\t\t\t\tleft = parts[0],\n\t\t\t\tright = parts[1],\n\t\t\t\tsetHandles = _setHandles || this.hasHandles(),\n\t\t\t\tseg1 = this._segment1,\n\t\t\t\tseg2 = this._segment2,\n\t\t\t\tpath = this._path;\n\t\t\tif (setHandles) {\n\t\t\t\tseg1._handleOut._set(left[2] - left[0], left[3] - left[1]);\n\t\t\t\tseg2._handleIn._set(right[4] - right[6],right[5] - right[7]);\n\t\t\t}\n\t\t\tvar x = left[6], y = left[7],\n\t\t\t\tsegment = new Segment(new Point(x, y),\n\t\t\t\t\t\tsetHandles && new Point(left[4] - x, left[5] - y),\n\t\t\t\t\t\tsetHandles && new Point(right[2] - x, right[3] - y));\n\t\t\tif (path) {\n\t\t\t\tpath.insert(seg1._index + 1, segment);\n\t\t\t\tres = this.getNext();\n\t\t\t} else {\n\t\t\t\tthis._segment2 = segment;\n\t\t\t\tthis._changed();\n\t\t\t\tres = new Curve(segment, seg2);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar path = this._path;\n\t\treturn path ? path.splitAt(location) : null;\n\t},\n\n\tsplitAtTime: function(time) {\n\t\treturn this.splitAt(this.getLocationAtTime(time));\n\t},\n\n\tdivide: function(offset, isTime) {\n\t\treturn this.divideAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\tsplit: function(offset, isTime) {\n\t\treturn this.splitAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\treversed: function() {\n\t\treturn new Curve(this._segment2.reversed(), this._segment1.reversed());\n\t},\n\n\tclearHandles: function() {\n\t\tthis._segment1._handleOut._set(0, 0);\n\t\tthis._segment2._handleIn._set(0, 0);\n\t},\n\nstatics: {\n\tgetValues: function(segment1, segment2, matrix, straight) {\n\t\tvar p1 = segment1._point,\n\t\t\th1 = segment1._handleOut,\n\t\t\th2 = segment2._handleIn,\n\t\t\tp2 = segment2._point,\n\t\t\tx1 = p1.x, y1 = p1.y,\n\t\t\tx2 = p2.x, y2 = p2.y,\n\t\t\tvalues = straight\n\t\t\t\t? [ x1, y1, x1, y1, x2, y2, x2, y2 ]\n\t\t\t\t: [\n\t\t\t\t\tx1, y1,\n\t\t\t\t\tx1 + h1._x, y1 + h1._y,\n\t\t\t\t\tx2 + h2._x, y2 + h2._y,\n\t\t\t\t\tx2, y2\n\t\t\t\t];\n\t\tif (matrix)\n\t\t\tmatrix._transformCoordinates(values, values, 4);\n\t\treturn values;\n\t},\n\n\tsubdivide: function(v, t) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\tif (t === undefined)\n\t\t\tt = 0.5;\n\t\tvar u = 1 - t,\n\t\t\tx4 = u * x0 + t * x1, y4 = u * y0 + t * y1,\n\t\t\tx5 = u * x1 + t * x2, y5 = u * y1 + t * y2,\n\t\t\tx6 = u * x2 + t * x3, y6 = u * y2 + t * y3,\n\t\t\tx7 = u * x4 + t * x5, y7 = u * y4 + t * y5,\n\t\t\tx8 = u * x5 + t * x6, y8 = u * y5 + t * y6,\n\t\t\tx9 = u * x7 + t * x8, y9 = u * y7 + t * y8;\n\t\treturn [\n\t\t\t[x0, y0, x4, y4, x7, y7, x9, y9],\n\t\t\t[x9, y9, x8, y8, x6, y6, x3, y3]\n\t\t];\n\t},\n\n\tgetMonoCurves: function(v, dir) {\n\t\tvar curves = [],\n\t\t\tio = dir ? 0 : 1,\n\t\t\to0 = v[io + 0],\n\t\t\to1 = v[io + 2],\n\t\t\to2 = v[io + 4],\n\t\t\to3 = v[io + 6];\n\t\tif ((o0 >= o1) === (o1 >= o2) && (o1 >= o2) === (o2 >= o3)\n\t\t\t\t|| Curve.isStraight(v)) {\n\t\t\tcurves.push(v);\n\t\t} else {\n\t\t\tvar a = 3 * (o1 - o2) - o0 + o3,\n\t\t\t\tb = 2 * (o0 + o2) - 4 * o1,\n\t\t\t\tc = o1 - o0,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [],\n\t\t\t\tn = Numerical.solveQuadratic(a, b, c, roots, tMin, tMax);\n\t\t\tif (!n) {\n\t\t\t\tcurves.push(v);\n\t\t\t} else {\n\t\t\t\troots.sort();\n\t\t\t\tvar t = roots[0],\n\t\t\t\t\tparts = Curve.subdivide(v, t);\n\t\t\t\tcurves.push(parts[0]);\n\t\t\t\tif (n > 1) {\n\t\t\t\t\tt = (roots[1] - t) / (1 - t);\n\t\t\t\t\tparts = Curve.subdivide(parts[1], t);\n\t\t\t\t\tcurves.push(parts[0]);\n\t\t\t\t}\n\t\t\t\tcurves.push(parts[1]);\n\t\t\t}\n\t\t}\n\t\treturn curves;\n\t},\n\n\tsolveCubic: function (v, coord, val, roots, min, max) {\n\t\tvar v0 = v[coord],\n\t\t\tv1 = v[coord + 2],\n\t\t\tv2 = v[coord + 4],\n\t\t\tv3 = v[coord + 6],\n\t\t\tres = 0;\n\t\tif (  !(v0 < val && v3 < val && v1 < val && v2 < val ||\n\t\t\t\tv0 > val && v3 > val && v1 > val && v2 > val)) {\n\t\t\tvar c = 3 * (v1 - v0),\n\t\t\t\tb = 3 * (v2 - v1) - c,\n\t\t\t\ta = v3 - v0 - c - b;\n\t\t\tres = Numerical.solveCubic(a, b, c, v0 - val, roots, min, max);\n\t\t}\n\t\treturn res;\n\t},\n\n\tgetTimeOf: function(v, point) {\n\t\tvar p0 = new Point(v[0], v[1]),\n\t\t\tp3 = new Point(v[6], v[7]),\n\t\t\tepsilon = 1e-12,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tt = point.isClose(p0, epsilon) ? 0\n\t\t\t  : point.isClose(p3, epsilon) ? 1\n\t\t\t  : null;\n\t\tif (t === null) {\n\t\t\tvar coords = [point.x, point.y],\n\t\t\t\troots = [];\n\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\tvar count = Curve.solveCubic(v, c, coords[c], roots, 0, 1);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar u = roots[i];\n\t\t\t\t\tif (point.isClose(Curve.getPoint(v, u), geomEpsilon))\n\t\t\t\t\t\treturn u;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn point.isClose(p0, geomEpsilon) ? 0\n\t\t\t : point.isClose(p3, geomEpsilon) ? 1\n\t\t\t : null;\n\t},\n\n\tgetNearestTime: function(v, point) {\n\t\tif (Curve.isStraight(v)) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tvx = x3 - x0, vy = y3 - y0,\n\t\t\t\tdet = vx * vx + vy * vy;\n\t\t\tif (det === 0)\n\t\t\t\treturn 0;\n\t\t\tvar u = ((point.x - x0) * vx + (point.y - y0) * vy) / det;\n\t\t\treturn u < 1e-12 ? 0\n\t\t\t\t : u > 0.999999999999 ? 1\n\t\t\t\t : Curve.getTimeOf(v,\n\t\t\t\t\tnew Point(x0 + u * vx, y0 + u * vy));\n\t\t}\n\n\t\tvar count = 100,\n\t\t\tminDist = Infinity,\n\t\t\tminT = 0;\n\n\t\tfunction refine(t) {\n\t\t\tif (t >= 0 && t <= 1) {\n\t\t\t\tvar dist = point.getDistance(Curve.getPoint(v, t), true);\n\t\t\t\tif (dist < minDist) {\n\t\t\t\t\tminDist = dist;\n\t\t\t\t\tminT = t;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i <= count; i++)\n\t\t\trefine(i / count);\n\n\t\tvar step = 1 / (count * 2);\n\t\twhile (step > 1e-8) {\n\t\t\tif (!refine(minT - step) && !refine(minT + step))\n\t\t\t\tstep /= 2;\n\t\t}\n\t\treturn minT;\n\t},\n\n\tgetPart: function(v, from, to) {\n\t\tvar flip = from > to;\n\t\tif (flip) {\n\t\t\tvar tmp = from;\n\t\t\tfrom = to;\n\t\t\tto = tmp;\n\t\t}\n\t\tif (from > 0)\n\t\t\tv = Curve.subdivide(v, from)[1];\n\t\tif (to < 1)\n\t\t\tv = Curve.subdivide(v, (to - from) / (1 - from))[0];\n\t\treturn flip\n\t\t\t\t? [v[6], v[7], v[4], v[5], v[2], v[3], v[0], v[1]]\n\t\t\t\t: v;\n\t},\n\n\tisFlatEnough: function(v, flatness) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tux = 3 * x1 - 2 * x0 - x3,\n\t\t\tuy = 3 * y1 - 2 * y0 - y3,\n\t\t\tvx = 3 * x2 - 2 * x3 - x0,\n\t\t\tvy = 3 * y2 - 2 * y3 - y0;\n\t\treturn Math.max(ux * ux, vx * vx) + Math.max(uy * uy, vy * vy)\n\t\t\t\t<= 16 * flatness * flatness;\n\t},\n\n\tgetArea: function(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn 3 * ((y3 - y0) * (x1 + x2) - (x3 - x0) * (y1 + y2)\n\t\t\t\t+ y1 * (x0 - x2) - x1 * (y0 - y2)\n\t\t\t\t+ y3 * (x2 + x0 / 3) - x3 * (y2 + y0 / 3)) / 20;\n\t},\n\n\tgetBounds: function(v) {\n\t\tvar min = v.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = [0, 0];\n\t\tfor (var i = 0; i < 2; i++)\n\t\t\tCurve._addBounds(v[i], v[i + 2], v[i + 4], v[i + 6],\n\t\t\t\t\ti, 0, min, max, roots);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\t_addBounds: function(v0, v1, v2, v3, coord, padding, min, max, roots) {\n\t\tfunction add(value, padding) {\n\t\t\tvar left = value - padding,\n\t\t\t\tright = value + padding;\n\t\t\tif (left < min[coord])\n\t\t\t\tmin[coord] = left;\n\t\t\tif (right > max[coord])\n\t\t\t\tmax[coord] = right;\n\t\t}\n\n\t\tpadding /= 2;\n\t\tvar minPad = min[coord] + padding,\n\t\t\tmaxPad = max[coord] - padding;\n\t\tif (    v0 < minPad || v1 < minPad || v2 < minPad || v3 < minPad ||\n\t\t\t\tv0 > maxPad || v1 > maxPad || v2 > maxPad || v3 > maxPad) {\n\t\t\tif (v1 < v0 != v1 < v3 && v2 < v0 != v2 < v3) {\n\t\t\t\tadd(v0, 0);\n\t\t\t\tadd(v3, 0);\n\t\t\t} else {\n\t\t\t\tvar a = 3 * (v1 - v2) - v0 + v3,\n\t\t\t\t\tb = 2 * (v0 + v2) - 4 * v1,\n\t\t\t\t\tc = v1 - v0,\n\t\t\t\t\tcount = Numerical.solveQuadratic(a, b, c, roots),\n\t\t\t\t\ttMin = 1e-8,\n\t\t\t\t\ttMax = 1 - tMin;\n\t\t\t\tadd(v3, 0);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar t = roots[i],\n\t\t\t\t\t\tu = 1 - t;\n\t\t\t\t\tif (tMin <= t && t <= tMax)\n\t\t\t\t\t\tadd(u * u * u * v0\n\t\t\t\t\t\t\t+ 3 * u * u * t * v1\n\t\t\t\t\t\t\t+ 3 * u * t * t * v2\n\t\t\t\t\t\t\t+ t * t * t * v3,\n\t\t\t\t\t\t\tpadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}}, Base.each(\n\t['getBounds', 'getStrokeBounds', 'getHandleBounds'],\n\tfunction(name) {\n\t\tthis[name] = function() {\n\t\t\tif (!this._bounds)\n\t\t\t\tthis._bounds = {};\n\t\t\tvar bounds = this._bounds[name];\n\t\t\tif (!bounds) {\n\t\t\t\tbounds = this._bounds[name] = Path[name](\n\t\t\t\t\t\t[this._segment1, this._segment2], false, this._path);\n\t\t\t}\n\t\t\treturn bounds.clone();\n\t\t};\n\t},\n{\n\n}), Base.each({\n\tisStraight: function(p1, h1, h2, p2) {\n\t\tif (h1.isZero() && h2.isZero()) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tvar v = p2.subtract(p1);\n\t\t\tif (v.isZero()) {\n\t\t\t\treturn false;\n\t\t\t} else if (v.isCollinear(h1) && v.isCollinear(h2)) {\n\t\t\t\tvar l = new Line(p1, p2),\n\t\t\t\t\tepsilon = 1e-7;\n\t\t\t\tif (l.getDistance(p1.add(h1)) < epsilon &&\n\t\t\t\t\tl.getDistance(p2.add(h2)) < epsilon) {\n\t\t\t\t\tvar div = v.dot(v),\n\t\t\t\t\t\ts1 = v.dot(h1) / div,\n\t\t\t\t\t\ts2 = v.dot(h2) / div;\n\t\t\t\t\treturn s1 >= 0 && s1 <= 1 && s2 <= 0 && s2 >= -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\tisLinear: function(p1, h1, h2, p2) {\n\t\tvar third = p2.subtract(p1).divide(3);\n\t\treturn h1.equals(third) && h2.negate().equals(third);\n\t}\n}, function(test, name) {\n\tthis[name] = function(epsilon) {\n\t\tvar seg1 = this._segment1,\n\t\t\tseg2 = this._segment2;\n\t\treturn test(seg1._point, seg1._handleOut, seg2._handleIn, seg2._point,\n\t\t\t\tepsilon);\n\t};\n\n\tthis.statics[name] = function(v, epsilon) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn test(\n\t\t\t\tnew Point(x0, y0),\n\t\t\t\tnew Point(v[2] - x0, v[3] - y0),\n\t\t\t\tnew Point(v[4] - x3, v[5] - y3),\n\t\t\t\tnew Point(x3, y3), epsilon);\n\t};\n}, {\n\tstatics: {},\n\n\thasHandles: function() {\n\t\treturn !this._segment1._handleOut.isZero()\n\t\t\t\t|| !this._segment2._handleIn.isZero();\n\t},\n\n\thasLength: function(epsilon) {\n\t\treturn (!this.getPoint1().equals(this.getPoint2()) || this.hasHandles())\n\t\t\t\t&& this.getLength() > (epsilon || 0);\n\t},\n\n\tisCollinear: function(curve) {\n\t\treturn curve && this.isStraight() && curve.isStraight()\n\t\t\t\t&& this.getLine().isCollinear(curve.getLine());\n\t},\n\n\tisHorizontal: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).y)\n\t\t\t\t< 1e-8;\n\t},\n\n\tisVertical: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).x)\n\t\t\t\t< 1e-8;\n\t}\n}), {\n\tbeans: false,\n\n\tgetLocationAt: function(offset, _isTime) {\n\t\treturn this.getLocationAtTime(\n\t\t\t\t_isTime ? offset : this.getTimeAt(offset));\n\t},\n\n\tgetLocationAtTime: function(t) {\n\t\treturn t != null && t >= 0 && t <= 1\n\t\t\t\t? new CurveLocation(this, t)\n\t\t\t\t: null;\n\t},\n\n\tgetTimeAt: function(offset, start) {\n\t\treturn Curve.getTimeAt(this.getValues(), offset, start);\n\t},\n\n\tgetParameterAt: '#getTimeAt',\n\n\tgetTimesWithTangent: function () {\n\t\tvar tangent = Point.read(arguments);\n\t\treturn tangent.isZero()\n\t\t\t\t? []\n\t\t\t\t: Curve.getTimesWithTangent(this.getValues(), tangent);\n\t},\n\n\tgetOffsetAtTime: function(t) {\n\t\treturn this.getPartLength(0, t);\n\t},\n\n\tgetLocationOf: function() {\n\t\treturn this.getLocationAtTime(this.getTimeOf(Point.read(arguments)));\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetTimeOf: function() {\n\t\treturn Curve.getTimeOf(this.getValues(), Point.read(arguments));\n\t},\n\n\tgetParameterOf: '#getTimeOf',\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tvalues = this.getValues(),\n\t\t\tt = Curve.getNearestTime(values, point),\n\t\t\tpt = Curve.getPoint(values, t);\n\t\treturn new CurveLocation(this, t, pt, null, point.getDistance(pt));\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t}\n\n},\nnew function() {\n\tvar methods = ['getPoint', 'getTangent', 'getNormal', 'getWeightedTangent',\n\t\t'getWeightedNormal', 'getCurvature'];\n\treturn Base.each(methods,\n\t\tfunction(name) {\n\t\t\tthis[name + 'At'] = function(location, _isTime) {\n\t\t\t\tvar values = this.getValues();\n\t\t\t\treturn Curve[name](values, _isTime ? location\n\t\t\t\t\t\t: Curve.getTimeAt(values, location));\n\t\t\t};\n\n\t\t\tthis[name + 'AtTime'] = function(time) {\n\t\t\t\treturn Curve[name](this.getValues(), time);\n\t\t\t};\n\t\t}, {\n\t\t\tstatics: {\n\t\t\t\t_evaluateMethods: methods\n\t\t\t}\n\t\t}\n\t);\n},\nnew function() {\n\n\tfunction getLengthIntegrand(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\n\t\t\tax = 9 * (x1 - x2) + 3 * (x3 - x0),\n\t\t\tbx = 6 * (x0 + x2) - 12 * x1,\n\t\t\tcx = 3 * (x1 - x0),\n\n\t\t\tay = 9 * (y1 - y2) + 3 * (y3 - y0),\n\t\t\tby = 6 * (y0 + y2) - 12 * y1,\n\t\t\tcy = 3 * (y1 - y0);\n\n\t\treturn function(t) {\n\t\t\tvar dx = (ax * t + bx) * t + cx,\n\t\t\t\tdy = (ay * t + by) * t + cy;\n\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t};\n\t}\n\n\tfunction getIterations(a, b) {\n\t\treturn Math.max(2, Math.min(16, Math.ceil(Math.abs(b - a) * 32)));\n\t}\n\n\tfunction evaluate(v, t, type, normalized) {\n\t\tif (t == null || t < 0 || t > 1)\n\t\t\treturn null;\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tisZero = Numerical.isZero;\n\t\tif (isZero(x1 - x0) && isZero(y1 - y0)) {\n\t\t\tx1 = x0;\n\t\t\ty1 = y0;\n\t\t}\n\t\tif (isZero(x2 - x3) && isZero(y2 - y3)) {\n\t\t\tx2 = x3;\n\t\t\ty2 = y3;\n\t\t}\n\t\tvar cx = 3 * (x1 - x0),\n\t\t\tbx = 3 * (x2 - x1) - cx,\n\t\t\tax = x3 - x0 - cx - bx,\n\t\t\tcy = 3 * (y1 - y0),\n\t\t\tby = 3 * (y2 - y1) - cy,\n\t\t\tay = y3 - y0 - cy - by,\n\t\t\tx, y;\n\t\tif (type === 0) {\n\t\t\tx = t === 0 ? x0 : t === 1 ? x3\n\t\t\t\t\t: ((ax * t + bx) * t + cx) * t + x0;\n\t\t\ty = t === 0 ? y0 : t === 1 ? y3\n\t\t\t\t\t: ((ay * t + by) * t + cy) * t + y0;\n\t\t} else {\n\t\t\tvar tMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin;\n\t\t\tif (t < tMin) {\n\t\t\t\tx = cx;\n\t\t\t\ty = cy;\n\t\t\t} else if (t > tMax) {\n\t\t\t\tx = 3 * (x3 - x2);\n\t\t\t\ty = 3 * (y3 - y2);\n\t\t\t} else {\n\t\t\t\tx = (3 * ax * t + 2 * bx) * t + cx;\n\t\t\t\ty = (3 * ay * t + 2 * by) * t + cy;\n\t\t\t}\n\t\t\tif (normalized) {\n\t\t\t\tif (x === 0 && y === 0 && (t < tMin || t > tMax)) {\n\t\t\t\t\tx = x2 - x1;\n\t\t\t\t\ty = y2 - y1;\n\t\t\t\t}\n\t\t\t\tvar len = Math.sqrt(x * x + y * y);\n\t\t\t\tif (len) {\n\t\t\t\t\tx /= len;\n\t\t\t\t\ty /= len;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (type === 3) {\n\t\t\t\tvar x2 = 6 * ax * t + 2 * bx,\n\t\t\t\t\ty2 = 6 * ay * t + 2 * by,\n\t\t\t\t\td = Math.pow(x * x + y * y, 3 / 2);\n\t\t\t\tx = d !== 0 ? (x * y2 - y * x2) / d : 0;\n\t\t\t\ty = 0;\n\t\t\t}\n\t\t}\n\t\treturn type === 2 ? new Point(y, -x) : new Point(x, y);\n\t}\n\n\treturn { statics: {\n\n\t\tclassify: function(v) {\n\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\ta1 = x0 * (y3 - y2) + y0 * (x2 - x3) + x3 * y2 - y3 * x2,\n\t\t\t\ta2 = x1 * (y0 - y3) + y1 * (x3 - x0) + x0 * y3 - y0 * x3,\n\t\t\t\ta3 = x2 * (y1 - y0) + y2 * (x0 - x1) + x1 * y0 - y1 * x0,\n\t\t\t\td3 = 3 * a3,\n\t\t\t\td2 = d3 - a2,\n\t\t\t\td1 = d2 - a2 + a1,\n\t\t\t\tl = Math.sqrt(d1 * d1 + d2 * d2 + d3 * d3),\n\t\t\t\ts = l !== 0 ? 1 / l : 0,\n\t\t\t\tisZero = Numerical.isZero,\n\t\t\t\tserpentine = 'serpentine';\n\t\t\td1 *= s;\n\t\t\td2 *= s;\n\t\t\td3 *= s;\n\n\t\t\tfunction type(type, t1, t2) {\n\t\t\t\tvar hasRoots = t1 !== undefined,\n\t\t\t\t\tt1Ok = hasRoots && t1 > 0 && t1 < 1,\n\t\t\t\t\tt2Ok = hasRoots && t2 > 0 && t2 < 1;\n\t\t\t\tif (hasRoots && (!(t1Ok || t2Ok)\n\t\t\t\t\t\t|| type === 'loop' && !(t1Ok && t2Ok))) {\n\t\t\t\t\ttype = 'arch';\n\t\t\t\t\tt1Ok = t2Ok = false;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\ttype: type,\n\t\t\t\t\troots: t1Ok || t2Ok\n\t\t\t\t\t\t\t? t1Ok && t2Ok\n\t\t\t\t\t\t\t\t? t1 < t2 ? [t1, t2] : [t2, t1]\n\t\t\t\t\t\t\t\t: [t1Ok ? t1 : t2]\n\t\t\t\t\t\t\t: null\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isZero(d1)) {\n\t\t\t\treturn isZero(d2)\n\t\t\t\t\t\t? type(isZero(d3) ? 'line' : 'quadratic')\n\t\t\t\t\t\t: type(serpentine, d3 / (3 * d2));\n\t\t\t}\n\t\t\tvar d = 3 * d2 * d2 - 4 * d1 * d3;\n\t\t\tif (isZero(d)) {\n\t\t\t\treturn type('cusp', d2 / (2 * d1));\n\t\t\t}\n\t\t\tvar f1 = d > 0 ? Math.sqrt(d / 3) : Math.sqrt(-d),\n\t\t\t\tf2 = 2 * d1;\n\t\t\treturn type(d > 0 ? serpentine : 'loop',\n\t\t\t\t\t(d2 + f1) / f2,\n\t\t\t\t\t(d2 - f1) / f2);\n\t\t},\n\n\t\tgetLength: function(v, a, b, ds) {\n\t\t\tif (a === undefined)\n\t\t\t\ta = 0;\n\t\t\tif (b === undefined)\n\t\t\t\tb = 1;\n\t\t\tif (Curve.isStraight(v)) {\n\t\t\t\tvar c = v;\n\t\t\t\tif (b < 1) {\n\t\t\t\t\tc = Curve.subdivide(c, b)[0];\n\t\t\t\t\ta /= b;\n\t\t\t\t}\n\t\t\t\tif (a > 0) {\n\t\t\t\t\tc = Curve.subdivide(c, a)[1];\n\t\t\t\t}\n\t\t\t\tvar dx = c[6] - c[0],\n\t\t\t\t\tdy = c[7] - c[1];\n\t\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t\t}\n\t\t\treturn Numerical.integrate(ds || getLengthIntegrand(v), a, b,\n\t\t\t\t\tgetIterations(a, b));\n\t\t},\n\n\t\tgetTimeAt: function(v, offset, start) {\n\t\t\tif (start === undefined)\n\t\t\t\tstart = offset < 0 ? 1 : 0;\n\t\t\tif (offset === 0)\n\t\t\t\treturn start;\n\t\t\tvar abs = Math.abs,\n\t\t\t\tepsilon = 1e-12,\n\t\t\t\tforward = offset > 0,\n\t\t\t\ta = forward ? start : 0,\n\t\t\t\tb = forward ? 1 : start,\n\t\t\t\tds = getLengthIntegrand(v),\n\t\t\t\trangeLength = Curve.getLength(v, a, b, ds),\n\t\t\t\tdiff = abs(offset) - rangeLength;\n\t\t\tif (abs(diff) < epsilon) {\n\t\t\t\treturn forward ? b : a;\n\t\t\t} else if (diff > epsilon) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar guess = offset / rangeLength,\n\t\t\t\tlength = 0;\n\t\t\tfunction f(t) {\n\t\t\t\tlength += Numerical.integrate(ds, start, t,\n\t\t\t\t\t\tgetIterations(start, t));\n\t\t\t\tstart = t;\n\t\t\t\treturn length - offset;\n\t\t\t}\n\t\t\treturn Numerical.findRoot(f, ds, start + guess, a, b, 32,\n\t\t\t\t\t1e-12);\n\t\t},\n\n\t\tgetPoint: function(v, t) {\n\t\t\treturn evaluate(v, t, 0, false);\n\t\t},\n\n\t\tgetTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, true);\n\t\t},\n\n\t\tgetWeightedTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, false);\n\t\t},\n\n\t\tgetNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, true);\n\t\t},\n\n\t\tgetWeightedNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, false);\n\t\t},\n\n\t\tgetCurvature: function(v, t) {\n\t\t\treturn evaluate(v, t, 3, false).x;\n\t\t},\n\n\t\tgetPeaks: function(v) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tax =     -x0 + 3 * x1 - 3 * x2 + x3,\n\t\t\t\tbx =  3 * x0 - 6 * x1 + 3 * x2,\n\t\t\t\tcx = -3 * x0 + 3 * x1,\n\t\t\t\tay =     -y0 + 3 * y1 - 3 * y2 + y3,\n\t\t\t\tby =  3 * y0 - 6 * y1 + 3 * y2,\n\t\t\t\tcy = -3 * y0 + 3 * y1,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [];\n\t\t\tNumerical.solveCubic(\n\t\t\t\t\t9 * (ax * ax + ay * ay),\n\t\t\t\t\t9 * (ax * bx + by * ay),\n\t\t\t\t\t2 * (bx * bx + by * by) + 3 * (cx * ax + cy * ay),\n\t\t\t\t\t(cx * bx + by * cy),\n\t\t\t\t\troots, tMin, tMax);\n\t\t\treturn roots.sort();\n\t\t}\n\t}};\n},\nnew function() {\n\n\tfunction addLocation(locations, include, c1, t1, c2, t2, overlap) {\n\t\tvar excludeStart = !overlap && c1.getPrevious() === c2,\n\t\t\texcludeEnd = !overlap && c1 !== c2 && c1.getNext() === c2,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (t1 !== null && t1 >= (excludeStart ? tMin : 0) &&\n\t\t\tt1 <= (excludeEnd ? tMax : 1)) {\n\t\t\tif (t2 !== null && t2 >= (excludeEnd ? tMin : 0) &&\n\t\t\t\tt2 <= (excludeStart ? tMax : 1)) {\n\t\t\t\tvar loc1 = new CurveLocation(c1, t1, null, overlap),\n\t\t\t\t\tloc2 = new CurveLocation(c2, t2, null, overlap);\n\t\t\t\tloc1._intersection = loc2;\n\t\t\t\tloc2._intersection = loc1;\n\t\t\t\tif (!include || include(loc1)) {\n\t\t\t\t\tCurveLocation.insert(locations, loc1, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addCurveIntersections(v1, v2, c1, c2, locations, include, flip,\n\t\t\trecursion, calls, tMin, tMax, uMin, uMax) {\n\t\tif (++calls >= 4096 || ++recursion >= 40)\n\t\t\treturn calls;\n\t\tvar fatLineEpsilon = 1e-9,\n\t\t\tq0x = v2[0], q0y = v2[1], q3x = v2[6], q3y = v2[7],\n\t\t\tgetSignedDistance = Line.getSignedDistance,\n\t\t\td1 = getSignedDistance(q0x, q0y, q3x, q3y, v2[2], v2[3]),\n\t\t\td2 = getSignedDistance(q0x, q0y, q3x, q3y, v2[4], v2[5]),\n\t\t\tfactor = d1 * d2 > 0 ? 3 / 4 : 4 / 9,\n\t\t\tdMin = factor * Math.min(0, d1, d2),\n\t\t\tdMax = factor * Math.max(0, d1, d2),\n\t\t\tdp0 = getSignedDistance(q0x, q0y, q3x, q3y, v1[0], v1[1]),\n\t\t\tdp1 = getSignedDistance(q0x, q0y, q3x, q3y, v1[2], v1[3]),\n\t\t\tdp2 = getSignedDistance(q0x, q0y, q3x, q3y, v1[4], v1[5]),\n\t\t\tdp3 = getSignedDistance(q0x, q0y, q3x, q3y, v1[6], v1[7]),\n\t\t\thull = getConvexHull(dp0, dp1, dp2, dp3),\n\t\t\ttop = hull[0],\n\t\t\tbottom = hull[1],\n\t\t\ttMinClip,\n\t\t\ttMaxClip;\n\t\tif (d1 === 0 && d2 === 0\n\t\t\t\t&& dp0 === 0 && dp1 === 0 && dp2 === 0 && dp3 === 0\n\t\t\t|| (tMinClip = clipConvexHull(top, bottom, dMin, dMax)) == null\n\t\t\t|| (tMaxClip = clipConvexHull(top.reverse(), bottom.reverse(),\n\t\t\t\tdMin, dMax)) == null)\n\t\t\treturn calls;\n\t\tvar tMinNew = tMin + (tMax - tMin) * tMinClip,\n\t\t\ttMaxNew = tMin + (tMax - tMin) * tMaxClip;\n\t\tif (Math.max(uMax - uMin, tMaxNew - tMinNew) < fatLineEpsilon) {\n\t\t\tvar t = (tMinNew + tMaxNew) / 2,\n\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tflip ? c2 : c1, flip ? u : t,\n\t\t\t\t\tflip ? c1 : c2, flip ? t : u);\n\t\t} else {\n\t\t\tv1 = Curve.getPart(v1, tMinClip, tMaxClip);\n\t\t\tvar uDiff = uMax - uMin;\n\t\t\tif (tMaxClip - tMinClip > 0.8) {\n\t\t\t\tif (tMaxNew - tMinNew > uDiff) {\n\t\t\t\t\tvar parts = Curve.subdivide(v1, 0.5),\n\t\t\t\t\t\tt = (tMinNew + tMaxNew) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[0], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, t);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[1], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, t, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tvar parts = Curve.subdivide(v2, 0.5),\n\t\t\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[0], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, u, tMinNew, tMaxNew);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[1], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, u, uMax, tMinNew, tMaxNew);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (uDiff === 0 || uDiff >= fatLineEpsilon) {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv1, v2, c1, c2, locations, include, flip,\n\t\t\t\t\t\t\trecursion, calls, tMinNew, tMaxNew, uMin, uMax);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn calls;\n\t}\n\n\tfunction getConvexHull(dq0, dq1, dq2, dq3) {\n\t\tvar p0 = [ 0, dq0 ],\n\t\t\tp1 = [ 1 / 3, dq1 ],\n\t\t\tp2 = [ 2 / 3, dq2 ],\n\t\t\tp3 = [ 1, dq3 ],\n\t\t\tdist1 = dq1 - (2 * dq0 + dq3) / 3,\n\t\t\tdist2 = dq2 - (dq0 + 2 * dq3) / 3,\n\t\t\thull;\n\t\tif (dist1 * dist2 < 0) {\n\t\t\thull = [[p0, p1, p3], [p0, p2, p3]];\n\t\t} else {\n\t\t\tvar distRatio = dist1 / dist2;\n\t\t\thull = [\n\t\t\t\tdistRatio >= 2 ? [p0, p1, p3]\n\t\t\t\t: distRatio <= 0.5 ? [p0, p2, p3]\n\t\t\t\t: [p0, p1, p2, p3],\n\t\t\t\t[p0, p3]\n\t\t\t];\n\t\t}\n\t\treturn (dist1 || dist2) < 0 ? hull.reverse() : hull;\n\t}\n\n\tfunction clipConvexHull(hullTop, hullBottom, dMin, dMax) {\n\t\tif (hullTop[0][1] < dMin) {\n\t\t\treturn clipConvexHullPart(hullTop, true, dMin);\n\t\t} else if (hullBottom[0][1] > dMax) {\n\t\t\treturn clipConvexHullPart(hullBottom, false, dMax);\n\t\t} else {\n\t\t\treturn hullTop[0][0];\n\t\t}\n\t}\n\n\tfunction clipConvexHullPart(part, top, threshold) {\n\t\tvar px = part[0][0],\n\t\t\tpy = part[0][1];\n\t\tfor (var i = 1, l = part.length; i < l; i++) {\n\t\t\tvar qx = part[i][0],\n\t\t\t\tqy = part[i][1];\n\t\t\tif (top ? qy >= threshold : qy <= threshold) {\n\t\t\t\treturn qy === threshold ? qx\n\t\t\t\t\t\t: px + (threshold - py) * (qx - px) / (qy - py);\n\t\t\t}\n\t\t\tpx = qx;\n\t\t\tpy = qy;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction getCurveLineIntersections(v, px, py, vx, vy) {\n\t\tvar isZero = Numerical.isZero;\n\t\tif (isZero(vx) && isZero(vy)) {\n\t\t\tvar t = Curve.getTimeOf(v, new Point(px, py));\n\t\t\treturn t === null ? [] : [t];\n\t\t}\n\t\tvar angle = Math.atan2(-vy, vx),\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle),\n\t\t\trv = [],\n\t\t\troots = [];\n\t\tfor (var i = 0; i < 8; i += 2) {\n\t\t\tvar x = v[i] - px,\n\t\t\t\ty = v[i + 1] - py;\n\t\t\trv.push(\n\t\t\t\tx * cos - y * sin,\n\t\t\t\tx * sin + y * cos);\n\t\t}\n\t\tCurve.solveCubic(rv, 1, 0, roots, 0, 1);\n\t\treturn roots;\n\t}\n\n\tfunction addCurveLineIntersections(v1, v2, c1, c2, locations, include,\n\t\t\tflip) {\n\t\tvar x1 = v2[0], y1 = v2[1],\n\t\t\tx2 = v2[6], y2 = v2[7],\n\t\t\troots = getCurveLineIntersections(v1, x1, y1, x2 - x1, y2 - y1);\n\t\tfor (var i = 0, l = roots.length; i < l; i++) {\n\t\t\tvar t1 = roots[i],\n\t\t\t\tp1 = Curve.getPoint(v1, t1),\n\t\t\t\tt2 = Curve.getTimeOf(v2, p1);\n\t\t\tif (t2 !== null) {\n\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\tflip ? c2 : c1, flip ? t2 : t1,\n\t\t\t\t\t\tflip ? c1 : c2, flip ? t1 : t2);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addLineIntersection(v1, v2, c1, c2, locations, include) {\n\t\tvar pt = Line.intersect(\n\t\t\t\tv1[0], v1[1], v1[6], v1[7],\n\t\t\t\tv2[0], v2[1], v2[6], v2[7]);\n\t\tif (pt) {\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, Curve.getTimeOf(v1, pt),\n\t\t\t\t\tc2, Curve.getTimeOf(v2, pt));\n\t\t}\n\t}\n\n\tfunction getCurveIntersections(v1, v2, c1, c2, locations, include) {\n\t\tvar epsilon = 1e-12,\n\t\t\tmin = Math.min,\n\t\t\tmax = Math.max;\n\n\t\tif (max(v1[0], v1[2], v1[4], v1[6]) + epsilon >\n\t\t\tmin(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmin(v1[0], v1[2], v1[4], v1[6]) - epsilon <\n\t\t\tmax(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmax(v1[1], v1[3], v1[5], v1[7]) + epsilon >\n\t\t\tmin(v2[1], v2[3], v2[5], v2[7]) &&\n\t\t\tmin(v1[1], v1[3], v1[5], v1[7]) - epsilon <\n\t\t\tmax(v2[1], v2[3], v2[5], v2[7])) {\n\t\t\tvar overlaps = getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\tvar overlap = overlaps[i];\n\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\tc1, overlap[0],\n\t\t\t\t\t\t\tc2, overlap[1], true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar straight1 = Curve.isStraight(v1),\n\t\t\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\t\t\tstraight = straight1 && straight2,\n\t\t\t\t\tflip = straight1 && !straight2,\n\t\t\t\t\tbefore = locations.length;\n\t\t\t\t(straight\n\t\t\t\t\t? addLineIntersection\n\t\t\t\t\t: straight1 || straight2\n\t\t\t\t\t\t? addCurveLineIntersections\n\t\t\t\t\t\t: addCurveIntersections)(\n\t\t\t\t\t\t\tflip ? v2 : v1, flip ? v1 : v2,\n\t\t\t\t\t\t\tflip ? c2 : c1, flip ? c1 : c2,\n\t\t\t\t\t\t\tlocations, include, flip,\n\t\t\t\t\t\t\t0, 0, 0, 1, 0, 1);\n\t\t\t\tif (!straight || locations.length === before) {\n\t\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\t\tvar t1 = i >> 1,\n\t\t\t\t\t\t\tt2 = i & 1,\n\t\t\t\t\t\t\ti1 = t1 * 6,\n\t\t\t\t\t\t\ti2 = t2 * 6,\n\t\t\t\t\t\t\tp1 = new Point(v1[i1], v1[i1 + 1]),\n\t\t\t\t\t\t\tp2 = new Point(v2[i2], v2[i2 + 1]);\n\t\t\t\t\t\tif (p1.isClose(p2, epsilon)) {\n\t\t\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\t\t\tc1, t1,\n\t\t\t\t\t\t\t\t\tc2, t2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getSelfIntersection(v1, c1, locations, include) {\n\t\tvar info = Curve.classify(v1);\n\t\tif (info.type === 'loop') {\n\t\t\tvar roots = info.roots;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, roots[0],\n\t\t\t\t\tc1, roots[1]);\n\t\t}\n\t  return locations;\n\t}\n\n\tfunction getIntersections(curves1, curves2, include, matrix1, matrix2,\n\t\t\t_returnFirst) {\n\t\tvar epsilon = 1e-7,\n\t\t\tself = !curves2;\n\t\tif (self)\n\t\t\tcurves2 = curves1;\n\t\tvar length1 = curves1.length,\n\t\t\tlength2 = curves2.length,\n\t\t\tvalues1 = new Array(length1),\n\t\t\tvalues2 = self ? values1 : new Array(length2),\n\t\t\tlocations = [];\n\n\t\tfor (var i = 0; i < length1; i++) {\n\t\t\tvalues1[i] = curves1[i].getValues(matrix1);\n\t\t}\n\t\tif (!self) {\n\t\t\tfor (var i = 0; i < length2; i++) {\n\t\t\t\tvalues2[i] = curves2[i].getValues(matrix2);\n\t\t\t}\n\t\t}\n\t\tvar boundsCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\tvalues1, values2, epsilon);\n\t\tfor (var index1 = 0; index1 < length1; index1++) {\n\t\t\tvar curve1 = curves1[index1],\n\t\t\t\tv1 = values1[index1];\n\t\t\tif (self) {\n\t\t\t\tgetSelfIntersection(v1, curve1, locations, include);\n\t\t\t}\n\t\t\tvar collisions1 = boundsCollisions[index1];\n\t\t\tif (collisions1) {\n\t\t\t\tfor (var j = 0; j < collisions1.length; j++) {\n\t\t\t\t\tif (_returnFirst && locations.length)\n\t\t\t\t\t\treturn locations;\n\t\t\t\t\tvar index2 = collisions1[j];\n\t\t\t\t\tif (!self || index2 > index1) {\n\t\t\t\t\t\tvar curve2 = curves2[index2],\n\t\t\t\t\t\t\tv2 = values2[index2];\n\t\t\t\t\t\tgetCurveIntersections(\n\t\t\t\t\t\t\t\tv1, v2, curve1, curve2, locations, include);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getOverlaps(v1, v2) {\n\n\t\tfunction getSquaredLineLength(v) {\n\t\t\tvar x = v[6] - v[0],\n\t\t\t\ty = v[7] - v[1];\n\t\t\treturn x * x + y * y;\n\t\t}\n\n\t\tvar abs = Math.abs,\n\t\t\tgetDistance = Line.getDistance,\n\t\t\ttimeEpsilon = 1e-8,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tstraight1 = Curve.isStraight(v1),\n\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\tstraightBoth = straight1 && straight2,\n\t\t\tflip = getSquaredLineLength(v1) < getSquaredLineLength(v2),\n\t\t\tl1 = flip ? v2 : v1,\n\t\t\tl2 = flip ? v1 : v2,\n\t\t\tpx = l1[0], py = l1[1],\n\t\t\tvx = l1[6] - px, vy = l1[7] - py;\n\t\tif (getDistance(px, py, vx, vy, l2[0], l2[1], true) < geomEpsilon &&\n\t\t\tgetDistance(px, py, vx, vy, l2[6], l2[7], true) < geomEpsilon) {\n\t\t\tif (!straightBoth &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[2], l1[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[4], l1[5], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[2], l2[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[4], l2[5], true) < geomEpsilon) {\n\t\t\t\tstraight1 = straight2 = straightBoth = true;\n\t\t\t}\n\t\t} else if (straightBoth) {\n\t\t\treturn null;\n\t\t}\n\t\tif (straight1 ^ straight2) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar v = [v1, v2],\n\t\t\tpairs = [];\n\t\tfor (var i = 0; i < 4 && pairs.length < 2; i++) {\n\t\t\tvar i1 = i & 1,\n\t\t\t\ti2 = i1 ^ 1,\n\t\t\t\tt1 = i >> 1,\n\t\t\t\tt2 = Curve.getTimeOf(v[i1], new Point(\n\t\t\t\t\tv[i2][t1 ? 6 : 0],\n\t\t\t\t\tv[i2][t1 ? 7 : 1]));\n\t\t\tif (t2 != null) {\n\t\t\t\tvar pair = i1 ? [t1, t2] : [t2, t1];\n\t\t\t\tif (!pairs.length ||\n\t\t\t\t\tabs(pair[0] - pairs[0][0]) > timeEpsilon &&\n\t\t\t\t\tabs(pair[1] - pairs[0][1]) > timeEpsilon) {\n\t\t\t\t\tpairs.push(pair);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i > 2 && !pairs.length)\n\t\t\t\tbreak;\n\t\t}\n\t\tif (pairs.length !== 2) {\n\t\t\tpairs = null;\n\t\t} else if (!straightBoth) {\n\t\t\tvar o1 = Curve.getPart(v1, pairs[0][0], pairs[1][0]),\n\t\t\t\to2 = Curve.getPart(v2, pairs[0][1], pairs[1][1]);\n\t\t\tif (abs(o2[2] - o1[2]) > geomEpsilon ||\n\t\t\t\tabs(o2[3] - o1[3]) > geomEpsilon ||\n\t\t\t\tabs(o2[4] - o1[4]) > geomEpsilon ||\n\t\t\t\tabs(o2[5] - o1[5]) > geomEpsilon)\n\t\t\t\tpairs = null;\n\t\t}\n\t\treturn pairs;\n\t}\n\n\tfunction getTimesWithTangent(v, tangent) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tnormalized = tangent.normalize(),\n\t\t\ttx = normalized.x,\n\t\t\tty = normalized.y,\n\t\t\tax = 3 * x3 - 9 * x2 + 9 * x1 - 3 * x0,\n\t\t\tay = 3 * y3 - 9 * y2 + 9 * y1 - 3 * y0,\n\t\t\tbx = 6 * x2 - 12 * x1 + 6 * x0,\n\t\t\tby = 6 * y2 - 12 * y1 + 6 * y0,\n\t\t\tcx = 3 * x1 - 3 * x0,\n\t\t\tcy = 3 * y1 - 3 * y0,\n\t\t\tden = 2 * ax * ty - 2 * ay * tx,\n\t\t\ttimes = [];\n\t\tif (Math.abs(den) < Numerical.CURVETIME_EPSILON) {\n\t\t\tvar num = ax * cy - ay * cx,\n\t\t\t\tden = ax * by - ay * bx;\n\t\t\tif (den != 0) {\n\t\t\t\tvar t = -num / den;\n\t\t\t\tif (t >= 0 && t <= 1) times.push(t);\n\t\t\t}\n\t\t} else {\n\t\t\tvar delta = (bx * bx - 4 * ax * cx) * ty * ty +\n\t\t\t\t(-2 * bx * by + 4 * ay * cx + 4 * ax * cy) * tx * ty +\n\t\t\t\t(by * by - 4 * ay * cy) * tx * tx,\n\t\t\t\tk = bx * ty - by * tx;\n\t\t\tif (delta >= 0 && den != 0) {\n\t\t\t\tvar d = Math.sqrt(delta),\n\t\t\t\t\tt0 = -(k + d) / den,\n\t\t\t\t\tt1 = (-k + d) / den;\n\t\t\t\tif (t0 >= 0 && t0 <= 1) times.push(t0);\n\t\t\t\tif (t1 >= 0 && t1 <= 1) times.push(t1);\n\t\t\t}\n\t\t}\n\t\treturn times;\n\t}\n\n\treturn {\n\t\tgetIntersections: function(curve) {\n\t\t\tvar v1 = this.getValues(),\n\t\t\t\tv2 = curve && curve !== this && curve.getValues();\n\t\t\treturn v2 ? getCurveIntersections(v1, v2, this, curve, [])\n\t\t\t\t\t  : getSelfIntersection(v1, this, []);\n\t\t},\n\n\t\tstatics: {\n\t\t\tgetOverlaps: getOverlaps,\n\t\t\tgetIntersections: getIntersections,\n\t\t\tgetCurveLineIntersections: getCurveLineIntersections,\n\t\t\tgetTimesWithTangent: getTimesWithTangent\n\t\t}\n\t};\n});\n\nvar CurveLocation = Base.extend({\n\t_class: 'CurveLocation',\n\n\tinitialize: function CurveLocation(curve, time, point, _overlap, _distance) {\n\t\tif (time >= 0.99999999) {\n\t\t\tvar next = curve.getNext();\n\t\t\tif (next) {\n\t\t\t\ttime = 0;\n\t\t\t\tcurve = next;\n\t\t\t}\n\t\t}\n\t\tthis._setCurve(curve);\n\t\tthis._time = time;\n\t\tthis._point = point || curve.getPointAtTime(time);\n\t\tthis._overlap = _overlap;\n\t\tthis._distance = _distance;\n\t\tthis._intersection = this._next = this._previous = null;\n\t},\n\n\t_setPath: function(path) {\n\t\tthis._path = path;\n\t\tthis._version = path ? path._version : 0;\n\t},\n\n\t_setCurve: function(curve) {\n\t\tthis._setPath(curve._path);\n\t\tthis._curve = curve;\n\t\tthis._segment = null;\n\t\tthis._segment1 = curve._segment1;\n\t\tthis._segment2 = curve._segment2;\n\t},\n\n\t_setSegment: function(segment) {\n\t\tvar curve = segment.getCurve();\n\t\tif (curve) {\n\t\t\tthis._setCurve(curve);\n\t\t} else {\n\t\t\tthis._setPath(segment._path);\n\t\t\tthis._segment1 = segment;\n\t\t\tthis._segment2 = null;\n\t\t}\n\t\tthis._segment = segment;\n\t\tthis._time = segment === this._segment1 ? 0 : 1;\n\t\tthis._point = segment._point.clone();\n\t},\n\n\tgetSegment: function() {\n\t\tvar segment = this._segment;\n\t\tif (!segment) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tif (time === 0) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time === 1) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else if (time != null) {\n\t\t\t\tsegment = curve.getPartLength(0, time)\n\t\t\t\t\t< curve.getPartLength(time, 1)\n\t\t\t\t\t\t? curve._segment1\n\t\t\t\t\t\t: curve._segment2;\n\t\t\t}\n\t\t\tthis._segment = segment;\n\t\t}\n\t\treturn segment;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tthat = this;\n\t\tif (path && path._version !== this._version) {\n\t\t\tthis._time = this._offset = this._curveOffset = this._curve = null;\n\t\t}\n\n\t\tfunction trySegment(segment) {\n\t\t\tvar curve = segment && segment.getCurve();\n\t\t\tif (curve && (that._time = curve.getTimeOf(that._point)) != null) {\n\t\t\t\tthat._setCurve(curve);\n\t\t\t\treturn curve;\n\t\t\t}\n\t\t}\n\n\t\treturn this._curve\n\t\t\t|| trySegment(this._segment)\n\t\t\t|| trySegment(this._segment1)\n\t\t\t|| trySegment(this._segment2.getPrevious());\n\t},\n\n\tgetPath: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve._path;\n\t},\n\n\tgetIndex: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve.getIndex();\n\t},\n\n\tgetTime: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this._time;\n\t\treturn curve && time == null\n\t\t\t? this._time = curve.getTimeOf(this._point)\n\t\t\t: time;\n\t},\n\n\tgetParameter: '#getTime',\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tgetOffset: function() {\n\t\tvar offset = this._offset;\n\t\tif (offset == null) {\n\t\t\toffset = 0;\n\t\t\tvar path = this.getPath(),\n\t\t\t\tindex = this.getIndex();\n\t\t\tif (path && index != null) {\n\t\t\t\tvar curves = path.getCurves();\n\t\t\t\tfor (var i = 0; i < index; i++)\n\t\t\t\t\toffset += curves[i].getLength();\n\t\t\t}\n\t\t\tthis._offset = offset += this.getCurveOffset();\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetCurveOffset: function() {\n\t\tvar offset = this._curveOffset;\n\t\tif (offset == null) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tthis._curveOffset = offset = time != null && curve\n\t\t\t\t\t&& curve.getPartLength(0, time);\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetIntersection: function() {\n\t\treturn this._intersection;\n\t},\n\n\tgetDistance: function() {\n\t\treturn this._distance;\n\t},\n\n\tdivide: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tres = curve && curve.divideAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(res._segment1);\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplit: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tpath = curve._path,\n\t\t\tres = curve && curve.splitAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(path.getLastSegment());\n\t\t}\n\t\treturn  res;\n\t},\n\n\tequals: function(loc, _ignoreOther) {\n\t\tvar res = this === loc;\n\t\tif (!res && loc instanceof CurveLocation) {\n\t\t\tvar c1 = this.getCurve(),\n\t\t\t\tc2 = loc.getCurve(),\n\t\t\t\tp1 = c1._path,\n\t\t\t\tp2 = c2._path;\n\t\t\tif (p1 === p2) {\n\t\t\t\tvar abs = Math.abs,\n\t\t\t\t\tepsilon = 1e-7,\n\t\t\t\t\tdiff = abs(this.getOffset() - loc.getOffset()),\n\t\t\t\t\ti1 = !_ignoreOther && this._intersection,\n\t\t\t\t\ti2 = !_ignoreOther && loc._intersection;\n\t\t\t\tres = (diff < epsilon\n\t\t\t\t\t\t|| p1 && abs(p1.getLength() - diff) < epsilon)\n\t\t\t\t\t&& (!i1 && !i2 || i1 && i2 && i1.equals(i2, true));\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [],\n\t\t\tpoint = this.getPoint(),\n\t\t\tf = Formatter.instance;\n\t\tif (point)\n\t\t\tparts.push('point: ' + point);\n\t\tvar index = this.getIndex();\n\t\tif (index != null)\n\t\t\tparts.push('index: ' + index);\n\t\tvar time = this.getTime();\n\t\tif (time != null)\n\t\t\tparts.push('time: ' + f.number(time));\n\t\tif (this._distance != null)\n\t\t\tparts.push('distance: ' + f.number(this._distance));\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tisTouching: function() {\n\t\tvar inter = this._intersection;\n\t\tif (inter && this.getTangent().isCollinear(inter.getTangent())) {\n\t\t\tvar curve1 = this.getCurve(),\n\t\t\t\tcurve2 = inter.getCurve();\n\t\t\treturn !(curve1.isStraight() && curve2.isStraight()\n\t\t\t\t\t&& curve1.getLine().intersect(curve2.getLine()));\n\t\t}\n\t\treturn false;\n\t},\n\n\tisCrossing: function() {\n\t\tvar inter = this._intersection;\n\t\tif (!inter)\n\t\t\treturn false;\n\t\tvar t1 = this.getTime(),\n\t\t\tt2 = inter.getTime(),\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tt1Inside = t1 >= tMin && t1 <= tMax,\n\t\t\tt2Inside = t2 >= tMin && t2 <= tMax;\n\t\tif (t1Inside && t2Inside)\n\t\t\treturn !this.isTouching();\n\t\tvar c2 = this.getCurve(),\n\t\t\tc1 = c2 && t1 < tMin ? c2.getPrevious() : c2,\n\t\t\tc4 = inter.getCurve(),\n\t\t\tc3 = c4 && t2 < tMin ? c4.getPrevious() : c4;\n\t\tif (t1 > tMax)\n\t\t\tc2 = c2.getNext();\n\t\tif (t2 > tMax)\n\t\t\tc4 = c4.getNext();\n\t\tif (!c1 || !c2 || !c3 || !c4)\n\t\t\treturn false;\n\n\t\tvar offsets = [];\n\n\t\tfunction addOffsets(curve, end) {\n\t\t\tvar v = curve.getValues(),\n\t\t\t\troots = Curve.classify(v).roots || Curve.getPeaks(v),\n\t\t\t\tcount = roots.length,\n\t\t\t\toffset = Curve.getLength(v,\n\t\t\t\t\tend && count ? roots[count - 1] : 0,\n\t\t\t\t\t!end && count ? roots[0] : 1);\n\t\t\toffsets.push(count ? offset : offset / 32);\n\t\t}\n\n\t\tfunction isInRange(angle, min, max) {\n\t\t\treturn min < max\n\t\t\t\t\t? angle > min && angle < max\n\t\t\t\t\t: angle > min || angle < max;\n\t\t}\n\n\t\tif (!t1Inside) {\n\t\t\taddOffsets(c1, true);\n\t\t\taddOffsets(c2, false);\n\t\t}\n\t\tif (!t2Inside) {\n\t\t\taddOffsets(c3, true);\n\t\t\taddOffsets(c4, false);\n\t\t}\n\t\tvar pt = this.getPoint(),\n\t\t\toffset = Math.min.apply(Math, offsets),\n\t\t\tv2 = t1Inside ? c2.getTangentAtTime(t1)\n\t\t\t\t\t: c2.getPointAt(offset).subtract(pt),\n\t\t\tv1 = t1Inside ? v2.negate()\n\t\t\t\t\t: c1.getPointAt(-offset).subtract(pt),\n\t\t\tv4 = t2Inside ? c4.getTangentAtTime(t2)\n\t\t\t\t\t: c4.getPointAt(offset).subtract(pt),\n\t\t\tv3 = t2Inside ? v4.negate()\n\t\t\t\t\t: c3.getPointAt(-offset).subtract(pt),\n\t\t\ta1 = v1.getAngle(),\n\t\t\ta2 = v2.getAngle(),\n\t\t\ta3 = v3.getAngle(),\n\t\t\ta4 = v4.getAngle();\n\t\treturn !!(t1Inside\n\t\t\t\t? (isInRange(a1, a3, a4) ^ isInRange(a2, a3, a4)) &&\n\t\t\t\t  (isInRange(a1, a4, a3) ^ isInRange(a2, a4, a3))\n\t\t\t\t: (isInRange(a3, a1, a2) ^ isInRange(a4, a1, a2)) &&\n\t\t\t\t  (isInRange(a3, a2, a1) ^ isInRange(a4, a2, a1)));\n\t},\n\n\thasOverlap: function() {\n\t\treturn !!this._overlap;\n\t}\n}, Base.each(Curve._evaluateMethods, function(name) {\n\tvar get = name + 'At';\n\tthis[name] = function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this.getTime();\n\t\treturn time != null && curve && curve[get](time, true);\n\t};\n}, {\n\tpreserve: true\n}),\nnew function() {\n\n\tfunction insert(locations, loc, merge) {\n\t\tvar length = locations.length,\n\t\t\tl = 0,\n\t\t\tr = length - 1;\n\n\t\tfunction search(index, dir) {\n\t\t\tfor (var i = index + dir; i >= -1 && i <= length; i += dir) {\n\t\t\t\tvar loc2 = locations[((i % length) + length) % length];\n\t\t\t\tif (!loc.getPoint().isClose(loc2.getPoint(),\n\t\t\t\t\t\t1e-7))\n\t\t\t\t\tbreak;\n\t\t\t\tif (loc.equals(loc2))\n\t\t\t\t\treturn loc2;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\twhile (l <= r) {\n\t\t\tvar m = (l + r) >>> 1,\n\t\t\t\tloc2 = locations[m],\n\t\t\t\tfound;\n\t\t\tif (merge && (found = loc.equals(loc2) ? loc2\n\t\t\t\t\t: (search(m, -1) || search(m, 1)))) {\n\t\t\t\tif (loc._overlap) {\n\t\t\t\t\tfound._overlap = found._intersection._overlap = true;\n\t\t\t\t}\n\t\t\t\treturn found;\n\t\t\t}\n\t\tvar path1 = loc.getPath(),\n\t\t\tpath2 = loc2.getPath(),\n\t\t\tdiff = path1 !== path2\n\t\t\t\t? path1._id - path2._id\n\t\t\t\t: (loc.getIndex() + loc.getTime())\n\t\t\t\t- (loc2.getIndex() + loc2.getTime());\n\t\t\tif (diff < 0) {\n\t\t\t\tr = m - 1;\n\t\t\t} else {\n\t\t\t\tl = m + 1;\n\t\t\t}\n\t\t}\n\t\tlocations.splice(l, 0, loc);\n\t\treturn loc;\n\t}\n\n\treturn { statics: {\n\t\tinsert: insert,\n\n\t\texpand: function(locations) {\n\t\t\tvar expanded = locations.slice();\n\t\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\t\tinsert(expanded, locations[i]._intersection, false);\n\t\t\t}\n\t\t\treturn expanded;\n\t\t}\n\t}};\n});\n\nvar PathItem = Item.extend({\n\t_class: 'PathItem',\n\t_selectBounds: false,\n\t_canScaleStroke: true,\n\tbeans: true,\n\n\tinitialize: function PathItem() {\n\t},\n\n\tstatics: {\n\t\tcreate: function(arg) {\n\t\t\tvar data,\n\t\t\t\tsegments,\n\t\t\t\tcompound;\n\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\tsegments = arg.segments;\n\t\t\t\tdata = arg.pathData;\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tsegments = arg;\n\t\t\t} else if (typeof arg === 'string') {\n\t\t\t\tdata = arg;\n\t\t\t}\n\t\t\tif (segments) {\n\t\t\t\tvar first = segments[0];\n\t\t\t\tcompound = first && Array.isArray(first[0]);\n\t\t\t} else if (data) {\n\t\t\t\tcompound = (data.match(/m/gi) || []).length > 1\n\t\t\t\t\t\t|| /z\\s*\\S+/i.test(data);\n\t\t\t}\n\t\t\tvar ctor = compound ? CompoundPath : Path;\n\t\t\treturn new ctor(arg);\n\t\t}\n\t},\n\n\t_asPathItem: function() {\n\t\treturn this;\n\t},\n\n\tisClockwise: function() {\n\t\treturn this.getArea() >= 0;\n\t},\n\n\tsetClockwise: function(clockwise) {\n\t\tif (this.isClockwise() != (clockwise = !!clockwise))\n\t\t\tthis.reverse();\n\t},\n\n\tsetPathData: function(data) {\n\n\t\tvar parts = data && data.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),\n\t\t\tcoords,\n\t\t\trelative = false,\n\t\t\tprevious,\n\t\t\tcontrol,\n\t\t\tcurrent = new Point(),\n\t\t\tstart = new Point();\n\n\t\tfunction getCoord(index, coord) {\n\t\t\tvar val = +coords[index];\n\t\t\tif (relative)\n\t\t\t\tval += current[coord];\n\t\t\treturn val;\n\t\t}\n\n\t\tfunction getPoint(index) {\n\t\t\treturn new Point(\n\t\t\t\tgetCoord(index, 'x'),\n\t\t\t\tgetCoord(index + 1, 'y')\n\t\t\t);\n\t\t}\n\n\t\tthis.clear();\n\n\t\tfor (var i = 0, l = parts && parts.length; i < l; i++) {\n\t\t\tvar part = parts[i],\n\t\t\t\tcommand = part[0],\n\t\t\t\tlower = command.toLowerCase();\n\t\t\tcoords = part.match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g);\n\t\t\tvar length = coords && coords.length;\n\t\t\trelative = command === lower;\n\t\t\tif (previous === 'z' && !/[mz]/.test(lower))\n\t\t\t\tthis.moveTo(current);\n\t\t\tswitch (lower) {\n\t\t\tcase 'm':\n\t\t\tcase 'l':\n\t\t\t\tvar move = lower === 'm';\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis[move ? 'moveTo' : 'lineTo'](current = getPoint(j));\n\t\t\t\t\tif (move) {\n\t\t\t\t\t\tstart = current;\n\t\t\t\t\t\tmove = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'h':\n\t\t\tcase 'v':\n\t\t\t\tvar coord = lower === 'h' ? 'x' : 'y';\n\t\t\t\tcurrent = current.clone();\n\t\t\t\tfor (var j = 0; j < length; j++) {\n\t\t\t\t\tcurrent[coord] = getCoord(j, coord);\n\t\t\t\t\tthis.lineTo(current);\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'c':\n\t\t\t\tfor (var j = 0; j < length; j += 6) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\tgetPoint(j),\n\t\t\t\t\t\t\tcontrol = getPoint(j + 2),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 4));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 's':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\t/[cs]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current,\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'q':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 't':\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = (/[qt]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current),\n\t\t\t\t\t\t\tcurrent = getPoint(j));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'a':\n\t\t\t\tfor (var j = 0; j < length; j += 7) {\n\t\t\t\t\tthis.arcTo(current = getPoint(j + 5),\n\t\t\t\t\t\t\tnew Size(+coords[j], +coords[j + 1]),\n\t\t\t\t\t\t\t+coords[j + 2], +coords[j + 4], +coords[j + 3]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'z':\n\t\t\t\tthis.closePath(1e-12);\n\t\t\t\tcurrent = start;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tprevious = lower;\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_contains: function(point) {\n\t\tvar winding = point.isInside(\n\t\t\t\tthis.getBounds({ internal: true, handle: true }))\n\t\t\t\t\t? this._getWinding(point)\n\t\t\t\t\t: {};\n\t\treturn winding.onPath || !!(this.getFillRule() === 'evenodd'\n\t\t\t\t? winding.windingL & 1 || winding.windingR & 1\n\t\t\t\t: winding.winding);\n\t},\n\n\tgetIntersections: function(path, include, _matrix, _returnFirst) {\n\t\tvar self = this === path || !path,\n\t\t\tmatrix1 = this._matrix._orNullIfIdentity(),\n\t\t\tmatrix2 = self ? matrix1\n\t\t\t\t: (_matrix || path._matrix)._orNullIfIdentity();\n\t\treturn self || this.getBounds(matrix1).intersects(\n\t\t\t\tpath.getBounds(matrix2), 1e-12)\n\t\t\t\t? Curve.getIntersections(\n\t\t\t\t\t\tthis.getCurves(), !self && path.getCurves(), include,\n\t\t\t\t\t\tmatrix1, matrix2, _returnFirst)\n\t\t\t\t: [];\n\t},\n\n\tgetCrossings: function(path) {\n\t\treturn this.getIntersections(path, function(inter) {\n\t\t\treturn inter.isCrossing();\n\t\t});\n\t},\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves(),\n\t\t\tminDist = Infinity,\n\t\t\tminLoc = null;\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getNearestLocation(point);\n\t\t\tif (loc._distance < minDist) {\n\t\t\t\tminDist = loc._distance;\n\t\t\t\tminLoc = loc;\n\t\t\t}\n\t\t}\n\t\treturn minLoc;\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar isPath = !this._children,\n\t\t\tname = isPath ? '_segments' : '_children',\n\t\t\titemsFrom = from[name],\n\t\t\titemsTo = to[name],\n\t\t\titems = this[name];\n\t\tif (!itemsFrom || !itemsTo || itemsFrom.length !== itemsTo.length) {\n\t\t\tthrow new Error('Invalid operands in interpolate() call: ' +\n\t\t\t\t\tfrom + ', ' + to);\n\t\t}\n\t\tvar current = items.length,\n\t\t\tlength = itemsTo.length;\n\t\tif (current < length) {\n\t\t\tvar ctor = isPath ? Segment : Path;\n\t\t\tfor (var i = current; i < length; i++) {\n\t\t\t\tthis.add(new ctor());\n\t\t\t}\n\t\t} else if (current > length) {\n\t\t\tthis[isPath ? 'removeSegments' : 'removeChildren'](length, current);\n\t\t}\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\titems[i].interpolate(itemsFrom[i], itemsTo[i], factor);\n\t\t}\n\t\tif (isPath) {\n\t\t\tthis.setClosed(from._closed);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tcompare: function(path) {\n\t\tvar ok = false;\n\t\tif (path) {\n\t\t\tvar paths1 = this._children || [this],\n\t\t\t\tpaths2 = path._children ? path._children.slice() : [path],\n\t\t\t\tlength1 = paths1.length,\n\t\t\t\tlength2 = paths2.length,\n\t\t\t\tmatched = [],\n\t\t\t\tcount = 0;\n\t\t\tok = true;\n\t\t\tvar boundsOverlaps = CollisionDetection.findItemBoundsCollisions(paths1, paths2, Numerical.GEOMETRIC_EPSILON);\n\t\t\tfor (var i1 = length1 - 1; i1 >= 0 && ok; i1--) {\n\t\t\t\tvar path1 = paths1[i1];\n\t\t\t\tok = false;\n\t\t\t\tvar pathBoundsOverlaps = boundsOverlaps[i1];\n\t\t\t\tif (pathBoundsOverlaps) {\n\t\t\t\t\tfor (var i2 = pathBoundsOverlaps.length - 1; i2 >= 0 && !ok; i2--) {\n\t\t\t\t\t\tif (path1.compare(paths2[pathBoundsOverlaps[i2]])) {\n\t\t\t\t\t\t\tif (!matched[pathBoundsOverlaps[i2]]) {\n\t\t\t\t\t\t\t\tmatched[pathBoundsOverlaps[i2]] = true;\n\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tok = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tok = ok && count === length2;\n\t\t}\n\t\treturn ok;\n\t},\n\n});\n\nvar Path = PathItem.extend({\n\t_class: 'Path',\n\t_serializeFields: {\n\t\tsegments: [],\n\t\tclosed: false\n\t},\n\n\tinitialize: function Path(arg) {\n\t\tthis._closed = false;\n\t\tthis._segments = [];\n\t\tthis._version = 0;\n\t\tvar args = arguments,\n\t\t\tsegments = Array.isArray(arg)\n\t\t\t? typeof arg[0] === 'object'\n\t\t\t\t? arg\n\t\t\t\t: args\n\t\t\t: arg && (arg.size === undefined && (arg.x !== undefined\n\t\t\t\t\t|| arg.point !== undefined))\n\t\t\t\t? args\n\t\t\t\t: null;\n\t\tif (segments && segments.length > 0) {\n\t\t\tthis.setSegments(segments);\n\t\t} else {\n\t\t\tthis._curves = undefined;\n\t\t\tthis._segmentSelection = 0;\n\t\t\tif (!segments && typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t\targ = null;\n\t\t\t}\n\t\t}\n\t\tthis._initialize(!segments && arg);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._closed === item._closed\n\t\t\t\t&& Base.equals(this._segments, item._segments);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setSegments(source._segments);\n\t\tthis._closed = source._closed;\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 8) {\n\t\t\tthis._length = this._area = undefined;\n\t\t\tif (flags & 32) {\n\t\t\t\tthis._version++;\n\t\t\t} else if (this._curves) {\n\t\t\t   for (var i = 0, l = this._curves.length; i < l; i++)\n\t\t\t\t\tthis._curves[i]._changed();\n\t\t\t}\n\t\t} else if (flags & 64) {\n\t\t\tthis._bounds = undefined;\n\t\t}\n\t},\n\n\tgetStyle: function() {\n\t\tvar parent = this._parent;\n\t\treturn (parent instanceof CompoundPath ? parent : this)._style;\n\t},\n\n\tgetSegments: function() {\n\t\treturn this._segments;\n\t},\n\n\tsetSegments: function(segments) {\n\t\tvar fullySelected = this.isFullySelected(),\n\t\t\tlength = segments && segments.length;\n\t\tthis._segments.length = 0;\n\t\tthis._segmentSelection = 0;\n\t\tthis._curves = undefined;\n\t\tif (length) {\n\t\t\tvar last = segments[length - 1];\n\t\t\tif (typeof last === 'boolean') {\n\t\t\t\tthis.setClosed(last);\n\t\t\t\tlength--;\n\t\t\t}\n\t\t\tthis._add(Segment.readList(segments, 0, {}, length));\n\t\t}\n\t\tif (fullySelected)\n\t\t\tthis.setFullySelected(true);\n\t},\n\n\tgetFirstSegment: function() {\n\t\treturn this._segments[0];\n\t},\n\n\tgetLastSegment: function() {\n\t\treturn this._segments[this._segments.length - 1];\n\t},\n\n\tgetCurves: function() {\n\t\tvar curves = this._curves,\n\t\t\tsegments = this._segments;\n\t\tif (!curves) {\n\t\t\tvar length = this._countCurves();\n\t\t\tcurves = this._curves = new Array(length);\n\t\t\tfor (var i = 0; i < length; i++)\n\t\t\t\tcurves[i] = new Curve(this, segments[i],\n\t\t\t\t\tsegments[i + 1] || segments[0]);\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\treturn this.getCurves()[0];\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar curves = this.getCurves();\n\t\treturn curves[curves.length - 1];\n\t},\n\n\tisClosed: function() {\n\t\treturn this._closed;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tif (this._closed != (closed = !!closed)) {\n\t\t\tthis._closed = closed;\n\t\t\tif (this._curves) {\n\t\t\t\tvar length = this._curves.length = this._countCurves();\n\t\t\t\tif (closed)\n\t\t\t\t\tthis._curves[length - 1] = new Curve(this,\n\t\t\t\t\t\tthis._segments[length - 1], this._segments[0]);\n\t\t\t}\n\t\t\tthis._changed(41);\n\t\t}\n\t}\n}, {\n\tbeans: true,\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tf = new Formatter(_precision),\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY,\n\t\t\tparts = [];\n\n\t\tfunction addSegment(segment, skipLine) {\n\t\t\tsegment._transformCoordinates(_matrix, coords);\n\t\t\tcurX = coords[0];\n\t\t\tcurY = coords[1];\n\t\t\tif (first) {\n\t\t\t\tparts.push('M' + f.pair(curX, curY));\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tinX = coords[2];\n\t\t\t\tinY = coords[3];\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tif (!skipLine) {\n\t\t\t\t\t\tvar dx = curX - prevX,\n\t\t\t\t\t\t\tdy = curY - prevY;\n\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t  dx === 0 ? 'v' + f.number(dy)\n\t\t\t\t\t\t\t: dy === 0 ? 'h' + f.number(dx)\n\t\t\t\t\t\t\t: 'l' + f.pair(dx, dy));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tparts.push('c' + f.pair(outX - prevX, outY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair( inX - prevX,  inY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair(curX - prevX, curY - prevY));\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\toutX = coords[4];\n\t\t\toutY = coords[5];\n\t\t}\n\n\t\tif (!length)\n\t\t\treturn '';\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\taddSegment(segments[i]);\n\t\tif (this._closed && length > 0) {\n\t\t\taddSegment(segments[0], true);\n\t\t\tparts.push('z');\n\t\t}\n\t\treturn parts.join('');\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._segments.length;\n\t},\n\n\t_transformContent: function(matrix) {\n\t\tvar segments = this._segments,\n\t\t\tcoords = new Array(6);\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._transformCoordinates(matrix, coords, true);\n\t\treturn true;\n\t},\n\n\t_add: function(segs, index) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tamount = segs.length,\n\t\t\tappend = index == null,\n\t\t\tindex = append ? segments.length : index;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = segs[i];\n\t\t\tif (segment._path)\n\t\t\t\tsegment = segs[i] = segment.clone();\n\t\t\tsegment._path = this;\n\t\t\tsegment._index = index + i;\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, 0, segment._selection);\n\t\t}\n\t\tif (append) {\n\t\t\tBase.push(segments, segs);\n\t\t} else {\n\t\t\tsegments.splice.apply(segments, [index, 0].concat(segs));\n\t\t\tfor (var i = index + amount, l = segments.length; i < l; i++)\n\t\t\t\tsegments[i]._index = i;\n\t\t}\n\t\tif (curves) {\n\t\t\tvar total = this._countCurves(),\n\t\t\t\tstart = index > 0 && index + amount - 1 === total ? index - 1\n\t\t\t\t\t: index,\n\t\t\t\tinsert = start,\n\t\t\t\tend = Math.min(start + amount, total);\n\t\t\tif (segs._curves) {\n\t\t\t\tcurves.splice.apply(curves, [start, 0].concat(segs._curves));\n\t\t\t\tinsert += segs._curves.length;\n\t\t\t}\n\t\t\tfor (var i = insert; i < end; i++)\n\t\t\t\tcurves.splice(i, 0, new Curve(this, null, null));\n\t\t\tthis._adjustCurves(start, end);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn segs;\n\t},\n\n\t_adjustCurves: function(start, end) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcurve;\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tcurve = curves[i];\n\t\t\tcurve._path = this;\n\t\t\tcurve._segment1 = segments[i];\n\t\t\tcurve._segment2 = segments[i + 1] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[this._closed && !start ? segments.length - 1\n\t\t\t\t: start - 1]) {\n\t\t\tcurve._segment2 = segments[start] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[end]) {\n\t\t\tcurve._segment1 = segments[end];\n\t\t\tcurve._changed();\n\t\t}\n\t},\n\n\t_countCurves: function() {\n\t\tvar length = this._segments.length;\n\t\treturn !this._closed && length > 0 ? length - 1 : length;\n\t},\n\n\tadd: function(segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 1 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args))\n\t\t\t: this._add([ Segment.read(args) ])[0];\n\t},\n\n\tinsert: function(index, segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 2 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args, 1), index)\n\t\t\t: this._add([ Segment.read(args, 1) ], index)[0];\n\t},\n\n\taddSegment: function() {\n\t\treturn this._add([ Segment.read(arguments) ])[0];\n\t},\n\n\tinsertSegment: function(index ) {\n\t\treturn this._add([ Segment.read(arguments, 1) ], index)[0];\n\t},\n\n\taddSegments: function(segments) {\n\t\treturn this._add(Segment.readList(segments));\n\t},\n\n\tinsertSegments: function(index, segments) {\n\t\treturn this._add(Segment.readList(segments), index);\n\t},\n\n\tremoveSegment: function(index) {\n\t\treturn this.removeSegments(index, index + 1)[0] || null;\n\t},\n\n\tremoveSegments: function(start, end, _includeCurves) {\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._segments.length);\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcount = segments.length,\n\t\t\tremoved = segments.splice(start, end - start),\n\t\t\tamount = removed.length;\n\t\tif (!amount)\n\t\t\treturn removed;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = removed[i];\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, segment._selection, 0);\n\t\t\tsegment._index = segment._path = null;\n\t\t}\n\t\tfor (var i = start, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._index = i;\n\t\tif (curves) {\n\t\t\tvar index = start > 0 && end === count + (this._closed ? 1 : 0)\n\t\t\t\t\t? start - 1\n\t\t\t\t\t: start,\n\t\t\t\tcurves = curves.splice(index, amount);\n\t\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\t\tcurves[i]._path = null;\n\t\t\tif (_includeCurves)\n\t\t\t\tremoved._curves = curves.slice(1);\n\t\t\tthis._adjustCurves(index, index);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeSegments',\n\n\thasHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tif (segments[i].hasHandles())\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tclearHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i].clearHandles();\n\t},\n\n\tgetLength: function() {\n\t\tif (this._length == null) {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++)\n\t\t\t\tlength += curves[i].getLength();\n\t\t\tthis._length = length;\n\t\t}\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\tvar area = this._area;\n\t\tif (area == null) {\n\t\t\tvar segments = this._segments,\n\t\t\t\tclosed = this._closed;\n\t\t\tarea = 0;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar last = i + 1 === l;\n\t\t\t\tarea += Curve.getArea(Curve.getValues(\n\t\t\t\t\t\tsegments[i], segments[last ? 0 : i + 1],\n\t\t\t\t\t\tnull, last && !closed));\n\t\t\t}\n\t\t\tthis._area = area;\n\t\t}\n\t\treturn area;\n\t},\n\n\tisFullySelected: function() {\n\t\tvar length = this._segments.length;\n\t\treturn this.isSelected() && length > 0 && this._segmentSelection\n\t\t\t\t=== length * 7;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tif (selected)\n\t\t\tthis._selectSegments(true);\n\t\tthis.setSelected(selected);\n\t},\n\n\tsetSelection: function setSelection(selection) {\n\t\tif (!(selection & 1))\n\t\t\tthis._selectSegments(false);\n\t\tsetSelection.base.call(this, selection);\n\t},\n\n\t_selectSegments: function(selected) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tselection = selected ? 7 : 0;\n\t\tthis._segmentSelection = selection * length;\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tsegments[i]._selection = selection;\n\t},\n\n\t_updateSelection: function(segment, oldSelection, newSelection) {\n\t\tsegment._selection = newSelection;\n\t\tvar selection = this._segmentSelection += newSelection - oldSelection;\n\t\tif (selection > 0)\n\t\t\tthis.setSelected(true);\n\t},\n\n\tdivideAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tcurve;\n\t\treturn loc && (curve = loc.getCurve().divideAt(loc.getCurveOffset()))\n\t\t\t\t? curve._segment1\n\t\t\t\t: null;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tindex = loc && loc.index,\n\t\t\ttime = loc && loc.time,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (time > tMax) {\n\t\t\tindex++;\n\t\t\ttime = 0;\n\t\t}\n\t\tvar curves = this.getCurves();\n\t\tif (index >= 0 && index < curves.length) {\n\t\t\tif (time >= tMin) {\n\t\t\t\tcurves[index++].divideAtTime(time);\n\t\t\t}\n\t\t\tvar segs = this.removeSegments(index, this._segments.length, true),\n\t\t\t\tpath;\n\t\t\tif (this._closed) {\n\t\t\t\tthis.setClosed(false);\n\t\t\t\tpath = this;\n\t\t\t} else {\n\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\tpath.insertAbove(this);\n\t\t\t\tpath.copyAttributes(this);\n\t\t\t}\n\t\t\tpath._add(segs, 0);\n\t\t\tthis.addSegment(segs[0]);\n\t\t\treturn path;\n\t\t}\n\t\treturn null;\n\t},\n\n\tsplit: function(index, time) {\n\t\tvar curve,\n\t\t\tlocation = time === undefined ? index\n\t\t\t\t: (curve = this.getCurves()[index])\n\t\t\t\t\t&& curve.getLocationAtTime(time);\n\t\treturn location != null ? this.splitAt(location) : null;\n\t},\n\n\tjoin: function(path, tolerance) {\n\t\tvar epsilon = tolerance || 0;\n\t\tif (path && path !== this) {\n\t\t\tvar segments = path._segments,\n\t\t\t\tlast1 = this.getLastSegment(),\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\tif (!last2)\n\t\t\t\treturn this;\n\t\t\tif (last1 && last1._point.isClose(last2._point, epsilon))\n\t\t\t\tpath.reverse();\n\t\t\tvar first2 = path.getFirstSegment();\n\t\t\tif (last1 && last1._point.isClose(first2._point, epsilon)) {\n\t\t\t\tlast1.setHandleOut(first2._handleOut);\n\t\t\t\tthis._add(segments.slice(1));\n\t\t\t} else {\n\t\t\t\tvar first1 = this.getFirstSegment();\n\t\t\t\tif (first1 && first1._point.isClose(first2._point, epsilon))\n\t\t\t\t\tpath.reverse();\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\t\tif (first1 && first1._point.isClose(last2._point, epsilon)) {\n\t\t\t\t\tfirst1.setHandleIn(last2._handleIn);\n\t\t\t\t\tthis._add(segments.slice(0, segments.length - 1), 0);\n\t\t\t\t} else {\n\t\t\t\t\tthis._add(segments.slice());\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (path._closed)\n\t\t\t\tthis._add([segments[0]]);\n\t\t\tpath.remove();\n\t\t}\n\t\tvar first = this.getFirstSegment(),\n\t\t\tlast = this.getLastSegment();\n\t\tif (first !== last && first._point.isClose(last._point, epsilon)) {\n\t\t\tfirst.setHandleIn(last._handleIn);\n\t\t\tlast.remove();\n\t\t\tthis.setClosed(true);\n\t\t}\n\t\treturn this;\n\t},\n\n\treduce: function(options) {\n\t\tvar curves = this.getCurves(),\n\t\t\tsimplify = options && options.simplify,\n\t\t\ttolerance = simplify ? 1e-7 : 0;\n\t\tfor (var i = curves.length - 1; i >= 0; i--) {\n\t\t\tvar curve = curves[i];\n\t\t\tif (!curve.hasHandles() && (!curve.hasLength(tolerance)\n\t\t\t\t\t|| simplify && curve.isCollinear(curve.getNext())))\n\t\t\t\tcurve.remove();\n\t\t}\n\t\treturn this;\n\t},\n\n\treverse: function() {\n\t\tthis._segments.reverse();\n\t\tfor (var i = 0, l = this._segments.length; i < l; i++) {\n\t\t\tvar segment = this._segments[i];\n\t\t\tvar handleIn = segment._handleIn;\n\t\t\tsegment._handleIn = segment._handleOut;\n\t\t\tsegment._handleOut = handleIn;\n\t\t\tsegment._index = i;\n\t\t}\n\t\tthis._curves = null;\n\t\tthis._changed(9);\n\t},\n\n\tflatten: function(flatness) {\n\t\tvar flattener = new PathFlattener(this, flatness || 0.25, 256, true),\n\t\t\tparts = flattener.parts,\n\t\t\tlength = parts.length,\n\t\t\tsegments = [];\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tsegments.push(new Segment(parts[i].curve.slice(0, 2)));\n\t\t}\n\t\tif (!this._closed && length > 0) {\n\t\t\tsegments.push(new Segment(parts[length - 1].curve.slice(6)));\n\t\t}\n\t\tthis.setSegments(segments);\n\t},\n\n\tsimplify: function(tolerance) {\n\t\tvar segments = new PathFitter(this).fit(tolerance || 2.5);\n\t\tif (segments)\n\t\t\tthis.setSegments(segments);\n\t\treturn !!segments;\n\t},\n\n\tsmooth: function(options) {\n\t\tvar that = this,\n\t\t\topts = options || {},\n\t\t\ttype = opts.type || 'asymmetric',\n\t\t\tsegments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tclosed = this._closed;\n\n\t\tfunction getIndex(value, _default) {\n\t\t\tvar index = value && value.index;\n\t\t\tif (index != null) {\n\t\t\t\tvar path = value.path;\n\t\t\t\tif (path && path !== that)\n\t\t\t\t\tthrow new Error(value._class + ' ' + index + ' of ' + path\n\t\t\t\t\t\t\t+ ' is not part of ' + that);\n\t\t\t\tif (_default && value instanceof Curve)\n\t\t\t\t\tindex++;\n\t\t\t} else {\n\t\t\t\tindex = typeof value === 'number' ? value : _default;\n\t\t\t}\n\t\t\treturn Math.min(index < 0 && closed\n\t\t\t\t\t? index % length\n\t\t\t\t\t: index < 0 ? index + length : index, length - 1);\n\t\t}\n\n\t\tvar loop = closed && opts.from === undefined && opts.to === undefined,\n\t\t\tfrom = getIndex(opts.from, 0),\n\t\t\tto = getIndex(opts.to, length - 1);\n\n\t\tif (from > to) {\n\t\t\tif (closed) {\n\t\t\t\tfrom -= length;\n\t\t\t} else {\n\t\t\t\tvar tmp = from;\n\t\t\t\tfrom = to;\n\t\t\t\tto = tmp;\n\t\t\t}\n\t\t}\n\t\tif (/^(?:asymmetric|continuous)$/.test(type)) {\n\t\t\tvar asymmetric = type === 'asymmetric',\n\t\t\t\tmin = Math.min,\n\t\t\t\tamount = to - from + 1,\n\t\t\t\tn = amount - 1,\n\t\t\t\tpadding = loop ? min(amount, 4) : 1,\n\t\t\t\tpaddingLeft = padding,\n\t\t\t\tpaddingRight = padding,\n\t\t\t\tknots = [];\n\t\t\tif (!closed) {\n\t\t\t\tpaddingLeft = min(1, from);\n\t\t\t\tpaddingRight = min(1, length - to - 1);\n\t\t\t}\n\t\t\tn += paddingLeft + paddingRight;\n\t\t\tif (n <= 1)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0, j = from - paddingLeft; i <= n; i++, j++) {\n\t\t\t\tknots[i] = segments[(j < 0 ? j + length : j) % length]._point;\n\t\t\t}\n\n\t\t\tvar x = knots[0]._x + 2 * knots[1]._x,\n\t\t\t\ty = knots[0]._y + 2 * knots[1]._y,\n\t\t\t\tf = 2,\n\t\t\t\tn_1 = n - 1,\n\t\t\t\trx = [x],\n\t\t\t\try = [y],\n\t\t\t\trf = [f],\n\t\t\t\tpx = [],\n\t\t\t\tpy = [];\n\t\t\tfor (var i = 1; i < n; i++) {\n\t\t\t\tvar internal = i < n_1,\n\t\t\t\t\ta = internal ? 1 : asymmetric ? 1 : 2,\n\t\t\t\t\tb = internal ? 4 : asymmetric ? 2 : 7,\n\t\t\t\t\tu = internal ? 4 : asymmetric ? 3 : 8,\n\t\t\t\t\tv = internal ? 2 : asymmetric ? 0 : 1,\n\t\t\t\t\tm = a / f;\n\t\t\t\tf = rf[i] = b - m;\n\t\t\t\tx = rx[i] = u * knots[i]._x + v * knots[i + 1]._x - m * x;\n\t\t\t\ty = ry[i] = u * knots[i]._y + v * knots[i + 1]._y - m * y;\n\t\t\t}\n\n\t\t\tpx[n_1] = rx[n_1] / rf[n_1];\n\t\t\tpy[n_1] = ry[n_1] / rf[n_1];\n\t\t\tfor (var i = n - 2; i >= 0; i--) {\n\t\t\t\tpx[i] = (rx[i] - px[i + 1]) / rf[i];\n\t\t\t\tpy[i] = (ry[i] - py[i + 1]) / rf[i];\n\t\t\t}\n\t\t\tpx[n] = (3 * knots[n]._x - px[n_1]) / 2;\n\t\t\tpy[n] = (3 * knots[n]._y - py[n_1]) / 2;\n\n\t\t\tfor (var i = paddingLeft, max = n - paddingRight, j = from;\n\t\t\t\t\ti <= max; i++, j++) {\n\t\t\t\tvar segment = segments[j < 0 ? j + length : j],\n\t\t\t\t\tpt = segment._point,\n\t\t\t\t\thx = px[i] - pt._x,\n\t\t\t\t\thy = py[i] - pt._y;\n\t\t\t\tif (loop || i < max)\n\t\t\t\t\tsegment.setHandleOut(hx, hy);\n\t\t\t\tif (loop || i > paddingLeft)\n\t\t\t\t\tsegment.setHandleIn(-hx, -hy);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var i = from; i <= to; i++) {\n\t\t\t\tsegments[i < 0 ? i + length : i].smooth(opts,\n\t\t\t\t\t\t!loop && i === from, !loop && i === to);\n\t\t\t}\n\t\t}\n\t},\n\n\ttoShape: function(insert) {\n\t\tif (!this._closed)\n\t\t\treturn null;\n\n\t\tvar segments = this._segments,\n\t\t\ttype,\n\t\t\tsize,\n\t\t\tradius,\n\t\t\ttopCenter;\n\n\t\tfunction isCollinear(i, j) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\tseg3 = segments[j],\n\t\t\t\tseg4 = seg3.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg3._handleOut.isZero() && seg4._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isCollinear(\n\t\t\t\t\t\tseg4._point.subtract(seg3._point));\n\t\t}\n\n\t\tfunction isOrthogonal(i) {\n\t\t\tvar seg2 = segments[i],\n\t\t\t\tseg1 = seg2.getPrevious(),\n\t\t\t\tseg3 = seg2.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg2._handleOut.isZero() && seg3._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isOrthogonal(\n\t\t\t\t\t\tseg3._point.subtract(seg2._point));\n\t\t}\n\n\t\tfunction isArc(i) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\thandle1 = seg1._handleOut,\n\t\t\t\thandle2 = seg2._handleIn,\n\t\t\t\tkappa = 0.5522847498307936;\n\t\t\tif (handle1.isOrthogonal(handle2)) {\n\t\t\t\tvar pt1 = seg1._point,\n\t\t\t\t\tpt2 = seg2._point,\n\t\t\t\t\tcorner = new Line(pt1, handle1, true).intersect(\n\t\t\t\t\t\t\tnew Line(pt2, handle2, true), true);\n\t\t\t\treturn corner && Numerical.isZero(handle1.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt1).getLength() - kappa)\n\t\t\t\t\t&& Numerical.isZero(handle2.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt2).getLength() - kappa);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction getDistance(i, j) {\n\t\t\treturn segments[i]._point.getDistance(segments[j]._point);\n\t\t}\n\n\t\tif (!this.hasHandles() && segments.length === 4\n\t\t\t\t&& isCollinear(0, 2) && isCollinear(1, 3) && isOrthogonal(1)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(0, 3), getDistance(0, 1));\n\t\t\ttopCenter = segments[1]._point.add(segments[2]._point).divide(2);\n\t\t} else if (segments.length === 8 && isArc(0) && isArc(2) && isArc(4)\n\t\t\t\t&& isArc(6) && isCollinear(1, 5) && isCollinear(3, 7)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(1, 6), getDistance(0, 3));\n\t\t\tradius = size.subtract(new Size(getDistance(0, 7),\n\t\t\t\t\tgetDistance(1, 2))).divide(2);\n\t\t\ttopCenter = segments[3]._point.add(segments[4]._point).divide(2);\n\t\t} else if (segments.length === 4\n\t\t\t\t&& isArc(0) && isArc(1) && isArc(2) && isArc(3)) {\n\t\t\tif (Numerical.isZero(getDistance(0, 2) - getDistance(1, 3))) {\n\t\t\t\ttype = Shape.Circle;\n\t\t\t\tradius = getDistance(0, 2) / 2;\n\t\t\t} else {\n\t\t\t\ttype = Shape.Ellipse;\n\t\t\t\tradius = new Size(getDistance(2, 0) / 2, getDistance(3, 1) / 2);\n\t\t\t}\n\t\t\ttopCenter = segments[1]._point;\n\t\t}\n\n\t\tif (type) {\n\t\t\tvar center = this.getPosition(true),\n\t\t\t\tshape = new type({\n\t\t\t\t\tcenter: center,\n\t\t\t\t\tsize: size,\n\t\t\t\t\tradius: radius,\n\t\t\t\t\tinsert: false\n\t\t\t\t});\n\t\t\tshape.copyAttributes(this, true);\n\t\t\tshape._matrix.prepend(this._matrix);\n\t\t\tshape.rotate(topCenter.subtract(center).getAngle() + 90);\n\t\t\tif (insert === undefined || insert)\n\t\t\t\tshape.insertAbove(this);\n\t\t\treturn shape;\n\t\t}\n\t\treturn null;\n\t},\n\n\ttoPath: '#clone',\n\n\tcompare: function compare(path) {\n\t\tif (!path || path instanceof CompoundPath)\n\t\t\treturn compare.base.call(this, path);\n\t\tvar curves1 = this.getCurves(),\n\t\t\tcurves2 = path.getCurves(),\n\t\t\tlength1 = curves1.length,\n\t\t\tlength2 = curves2.length;\n\t\tif (!length1 || !length2) {\n\t\t\treturn length1 == length2;\n\t\t}\n\t\tvar v1 = curves1[0].getValues(),\n\t\t\tvalues2 = [],\n\t\t\tpos1 = 0, pos2,\n\t\t\tend1 = 0, end2;\n\t\tfor (var i = 0; i < length2; i++) {\n\t\t\tvar v2 = curves2[i].getValues();\n\t\t\tvalues2.push(v2);\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tpos2 = !i && overlaps[0][0] > 0 ? length2 - 1 : i;\n\t\t\t\tend2 = overlaps[0][1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar abs = Math.abs,\n\t\t\tepsilon = 1e-8,\n\t\t\tv2 = values2[pos2],\n\t\t\tstart2;\n\t\twhile (v1 && v2) {\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tvar t1 = overlaps[0][0];\n\t\t\t\tif (abs(t1 - end1) < epsilon) {\n\t\t\t\t\tend1 = overlaps[1][0];\n\t\t\t\t\tif (end1 === 1) {\n\t\t\t\t\t\tv1 = ++pos1 < length1 ? curves1[pos1].getValues() : null;\n\t\t\t\t\t\tend1 = 0;\n\t\t\t\t\t}\n\t\t\t\t\tvar t2 = overlaps[0][1];\n\t\t\t\t\tif (abs(t2 - end2) < epsilon) {\n\t\t\t\t\t\tif (!start2)\n\t\t\t\t\t\t\tstart2 = [pos2, t2];\n\t\t\t\t\t\tend2 = overlaps[1][1];\n\t\t\t\t\t\tif (end2 === 1) {\n\t\t\t\t\t\t\tif (++pos2 >= length2)\n\t\t\t\t\t\t\t\tpos2 = 0;\n\t\t\t\t\t\t\tv2 = values2[pos2] || curves2[pos2].getValues();\n\t\t\t\t\t\t\tend2 = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!v1) {\n\t\t\t\t\t\t\treturn start2[0] === pos2 && start2[1] === end2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\treturn false;\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix, strokeMatrix) {\n\t\tvar that = this,\n\t\t\tstyle = this.getStyle(),\n\t\t\tsegments = this._segments,\n\t\t\tnumSegments = segments.length,\n\t\t\tclosed = this._closed,\n\t\t\ttolerancePadding = options._tolerancePadding,\n\t\t\tstrokePadding = tolerancePadding,\n\t\t\tjoin, cap, miterLimit,\n\t\t\tarea, loc, res,\n\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\thitFill = options.fill && style.hasFill(),\n\t\t\thitCurves = options.curves,\n\t\t\tstrokeRadius = hitStroke\n\t\t\t\t\t? style.getStrokeWidth() / 2\n\t\t\t\t\t: hitFill && options.tolerance > 0 || hitCurves\n\t\t\t\t\t\t? 0 : null;\n\t\tif (strokeRadius !== null) {\n\t\t\tif (strokeRadius > 0) {\n\t\t\t\tjoin = style.getStrokeJoin();\n\t\t\t\tcap = style.getStrokeCap();\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\t\tstrokePadding = strokePadding.add(\n\t\t\t\t\tPath._getStrokePadding(strokeRadius, strokeMatrix));\n\t\t\t} else {\n\t\t\t\tjoin = cap = 'round';\n\t\t\t}\n\t\t}\n\n\t\tfunction isCloseEnough(pt, padding) {\n\t\t\treturn point.subtract(pt).divide(padding).length <= 1;\n\t\t}\n\n\t\tfunction checkSegmentPoint(seg, pt, name) {\n\t\t\tif (!options.selected || pt.isSelected()) {\n\t\t\t\tvar anchor = seg._point;\n\t\t\t\tif (pt !== anchor)\n\t\t\t\t\tpt = pt.add(anchor);\n\t\t\t\tif (isCloseEnough(pt, strokePadding)) {\n\t\t\t\t\treturn new HitResult(name, that, {\n\t\t\t\t\t\tsegment: seg,\n\t\t\t\t\t\tpoint: pt\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction checkSegmentPoints(seg, ends) {\n\t\t\treturn (ends || options.segments)\n\t\t\t\t&& checkSegmentPoint(seg, seg._point, 'segment')\n\t\t\t\t|| (!ends && options.handles) && (\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleIn, 'handle-in') ||\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleOut, 'handle-out'));\n\t\t}\n\n\t\tfunction addToArea(point) {\n\t\t\tarea.add(point);\n\t\t}\n\n\t\tfunction checkSegmentStroke(segment) {\n\t\t\tvar isJoin = closed || segment._index > 0\n\t\t\t\t\t&& segment._index < numSegments - 1;\n\t\t\tif ((isJoin ? join : cap) === 'round') {\n\t\t\t\treturn isCloseEnough(segment._point, strokePadding);\n\t\t\t} else {\n\t\t\t\tarea = new Path({ internal: true, closed: true });\n\t\t\t\tif (isJoin) {\n\t\t\t\t\tif (!segment.isSmooth()) {\n\t\t\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius,\n\t\t\t\t\t\t\t   miterLimit, null, strokeMatrix, addToArea, true);\n\t\t\t\t\t}\n\t\t\t\t} else if (cap === 'square') {\n\t\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, null,\n\t\t\t\t\t\t\tstrokeMatrix, addToArea, true);\n\t\t\t\t}\n\t\t\t\tif (!area.isEmpty()) {\n\t\t\t\t\tvar loc;\n\t\t\t\t\treturn area.contains(point)\n\t\t\t\t\t\t|| (loc = area.getNearestLocation(point))\n\t\t\t\t\t\t\t&& isCloseEnough(loc.getPoint(), tolerancePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (options.ends && !options.segments && !closed) {\n\t\t\tif (res = checkSegmentPoints(segments[0], true)\n\t\t\t\t\t|| checkSegmentPoints(segments[numSegments - 1], true))\n\t\t\t\treturn res;\n\t\t} else if (options.segments || options.handles) {\n\t\t\tfor (var i = 0; i < numSegments; i++)\n\t\t\t\tif (res = checkSegmentPoints(segments[i]))\n\t\t\t\t\treturn res;\n\t\t}\n\t\tif (strokeRadius !== null) {\n\t\t\tloc = this.getNearestLocation(point);\n\t\t\tif (loc) {\n\t\t\t\tvar time = loc.getTime();\n\t\t\t\tif (time === 0 || time === 1 && numSegments > 1) {\n\t\t\t\t\tif (!checkSegmentStroke(loc.getSegment()))\n\t\t\t\t\t\tloc = null;\n\t\t\t\t} else if (!isCloseEnough(loc.getPoint(), strokePadding)) {\n\t\t\t\t\tloc = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!loc && join === 'miter' && numSegments > 1) {\n\t\t\t\tfor (var i = 0; i < numSegments; i++) {\n\t\t\t\t\tvar segment = segments[i];\n\t\t\t\t\tif (point.getDistance(segment._point)\n\t\t\t\t\t\t\t<= miterLimit * strokeRadius\n\t\t\t\t\t\t\t&& checkSegmentStroke(segment)) {\n\t\t\t\t\t\tloc = segment.getLocation();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn !loc && hitFill && this._contains(point)\n\t\t\t\t|| loc && !hitStroke && !hitCurves\n\t\t\t\t\t? new HitResult('fill', this)\n\t\t\t\t\t: loc\n\t\t\t\t\t\t? new HitResult(hitStroke ? 'stroke' : 'curve', this, {\n\t\t\t\t\t\t\tlocation: loc,\n\t\t\t\t\t\t\tpoint: loc.getPoint()\n\t\t\t\t\t\t})\n\t\t\t\t\t\t: null;\n\t}\n\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar loc = this.getLocationAt(offset);\n\t\t\treturn loc && loc[name]();\n\t\t};\n\t},\n{\n\tbeans: false,\n\n\tgetLocationOf: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getLocationOf(point);\n\t\t\tif (loc)\n\t\t\t\treturn loc;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetLocationAt: function(offset) {\n\t\tif (typeof offset === 'number') {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tvar start = length,\n\t\t\t\t\tcurve = curves[i];\n\t\t\t\tlength += curve.getLength();\n\t\t\t\tif (length > offset) {\n\t\t\t\t\treturn curve.getLocationAt(offset - start);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (curves.length > 0 && offset <= this.getLength()) {\n\t\t\t\treturn new CurveLocation(curves[curves.length - 1], 1);\n\t\t\t}\n\t\t} else if (offset && offset.getPath && offset.getPath() === this) {\n\t\t\treturn offset;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetsWithTangent: function() {\n\t\tvar tangent = Point.read(arguments);\n\t\tif (tangent.isZero()) {\n\t\t\treturn [];\n\t\t}\n\n\t\tvar offsets = [];\n\t\tvar curveStart = 0;\n\t\tvar curves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar curve = curves[i];\n\t\t\tvar curveTimes = curve.getTimesWithTangent(tangent);\n\t\t\tfor (var j = 0, m = curveTimes.length; j < m; j++) {\n\t\t\t\tvar offset = curveStart + curve.getOffsetAtTime(curveTimes[j]);\n\t\t\t\tif (offsets.indexOf(offset) < 0) {\n\t\t\t\t\toffsets.push(offset);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcurveStart += curve.length;\n\t\t}\n\t\treturn offsets;\n\t}\n}),\nnew function() {\n\n\tfunction drawHandles(ctx, segments, matrix, size) {\n\t\tif (size <= 0) return;\n\n\t\tvar half = size / 2,\n\t\t\tminiSize = size - 2,\n\t\t\tminiHalf = half - 1,\n\t\t\tcoords = new Array(6),\n\t\t\tpX, pY;\n\n\t\tfunction drawHandle(index) {\n\t\t\tvar hX = coords[index],\n\t\t\t\thY = coords[index + 1];\n\t\t\tif (pX != hX || pY != hY) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(pX, pY);\n\t\t\t\tctx.lineTo(hX, hY);\n\t\t\t\tctx.stroke();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(hX, hY, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.fill();\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i],\n\t\t\t\tselection = segment._selection;\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tpX = coords[0];\n\t\t\tpY = coords[1];\n\t\t\tif (selection & 2)\n\t\t\t\tdrawHandle(2);\n\t\t\tif (selection & 4)\n\t\t\t\tdrawHandle(4);\n\t\t\tctx.fillRect(pX - half, pY - half, size, size);\n\t\t\tif (miniSize > 0 && !(selection & 1)) {\n\t\t\t\tvar fillStyle = ctx.fillStyle;\n\t\t\t\tctx.fillStyle = '#ffffff';\n\t\t\t\tctx.fillRect(pX - miniHalf, pY - miniHalf, miniSize, miniSize);\n\t\t\t\tctx.fillStyle = fillStyle;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction drawSegments(ctx, path, matrix) {\n\t\tvar segments = path._segments,\n\t\t\tlength = segments.length,\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY;\n\n\t\tfunction drawSegment(segment) {\n\t\t\tif (matrix) {\n\t\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\t\tcurX = coords[0];\n\t\t\t\tcurY = coords[1];\n\t\t\t} else {\n\t\t\t\tvar point = segment._point;\n\t\t\t\tcurX = point._x;\n\t\t\t\tcurY = point._y;\n\t\t\t}\n\t\t\tif (first) {\n\t\t\t\tctx.moveTo(curX, curY);\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tif (matrix) {\n\t\t\t\t\tinX = coords[2];\n\t\t\t\t\tinY = coords[3];\n\t\t\t\t} else {\n\t\t\t\t\tvar handle = segment._handleIn;\n\t\t\t\t\tinX = curX + handle._x;\n\t\t\t\t\tinY = curY + handle._y;\n\t\t\t\t}\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tctx.lineTo(curX, curY);\n\t\t\t\t} else {\n\t\t\t\t\tctx.bezierCurveTo(outX, outY, inX, inY, curX, curY);\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\tif (matrix) {\n\t\t\t\toutX = coords[4];\n\t\t\t\toutY = coords[5];\n\t\t\t} else {\n\t\t\t\tvar handle = segment._handleOut;\n\t\t\t\toutX = prevX + handle._x;\n\t\t\t\toutY = prevY + handle._y;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tdrawSegment(segments[i]);\n\t\tif (path._closed && length > 0)\n\t\t\tdrawSegment(segments[0]);\n\t}\n\n\treturn {\n\t\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\t\tvar dontStart = param.dontStart,\n\t\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\t\tstyle = this.getStyle(),\n\t\t\t\thasFill = style.hasFill(),\n\t\t\t\thasStroke = style.hasStroke(),\n\t\t\t\tdashArray = style.getDashArray(),\n\t\t\t\tdashLength = !paper.support.nativeDash && hasStroke\n\t\t\t\t\t\t&& dashArray && dashArray.length;\n\n\t\t\tif (!dontStart)\n\t\t\t\tctx.beginPath();\n\n\t\t\tif (hasFill || hasStroke && !dashLength || dontPaint) {\n\t\t\t\tdrawSegments(ctx, this, strokeMatrix);\n\t\t\t\tif (this._closed)\n\t\t\t\t\tctx.closePath();\n\t\t\t}\n\n\t\t\tfunction getOffset(i) {\n\t\t\t\treturn dashArray[((i % dashLength) + dashLength) % dashLength];\n\t\t\t}\n\n\t\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\t\tif (hasFill) {\n\t\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t\t}\n\t\t\t\tif (hasStroke) {\n\t\t\t\t\tif (dashLength) {\n\t\t\t\t\t\tif (!dontStart)\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tvar flattener = new PathFlattener(this, 0.25, 32, false,\n\t\t\t\t\t\t\t\tstrokeMatrix),\n\t\t\t\t\t\t\tlength = flattener.length,\n\t\t\t\t\t\t\tfrom = -style.getDashOffset(), to,\n\t\t\t\t\t\t\ti = 0;\n\t\t\t\t\t\twhile (from > 0) {\n\t\t\t\t\t\t\tfrom -= getOffset(i--) + getOffset(i--);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twhile (from < length) {\n\t\t\t\t\t\t\tto = from + getOffset(i++);\n\t\t\t\t\t\t\tif (from > 0 || to > 0)\n\t\t\t\t\t\t\t\tflattener.drawPart(ctx,\n\t\t\t\t\t\t\t\t\t\tMath.max(from, 0), Math.max(to, 0));\n\t\t\t\t\t\t\tfrom = to + getOffset(i++);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_drawSelected: function(ctx, matrix) {\n\t\t\tctx.beginPath();\n\t\t\tdrawSegments(ctx, this, matrix);\n\t\t\tctx.stroke();\n\t\t\tdrawHandles(ctx, this._segments, matrix, paper.settings.handleSize);\n\t\t}\n\t};\n},\nnew function() {\n\tfunction getCurrentSegment(that) {\n\t\tvar segments = that._segments;\n\t\tif (!segments.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn segments[segments.length - 1];\n\t}\n\n\treturn {\n\t\tmoveTo: function() {\n\t\t\tvar segments = this._segments;\n\t\t\tif (segments.length === 1)\n\t\t\t\tthis.removeSegment(0);\n\t\t\tif (!segments.length)\n\t\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tmoveBy: function() {\n\t\t\tthrow new Error('moveBy() is unsupported on Path items.');\n\t\t},\n\n\t\tlineTo: function() {\n\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tcubicCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this);\n\t\t\tcurrent.setHandleOut(handle1.subtract(current._point));\n\t\t\tthis._add([ new Segment(to, handle2.subtract(to)) ]);\n\t\t},\n\n\t\tquadraticCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(\n\t\t\t\thandle.add(current.subtract(handle).multiply(1 / 3)),\n\t\t\t\thandle.add(to.subtract(handle).multiply(1 / 3)),\n\t\t\t\tto\n\t\t\t);\n\t\t},\n\n\t\tcurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tt = Base.pick(Base.read(args), 0.5),\n\t\t\t\tt1 = 1 - t,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\thandle = through.subtract(current.multiply(t1 * t1))\n\t\t\t\t\t.subtract(to.multiply(t * t)).divide(2 * t * t1);\n\t\t\tif (handle.isNaN())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Cannot put a curve through points with parameter = ' + t);\n\t\t\tthis.quadraticCurveTo(handle, to);\n\t\t},\n\n\t\tarcTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tabs = Math.abs,\n\t\t\t\tsqrt = Math.sqrt,\n\t\t\t\tcurrent = getCurrentSegment(this),\n\t\t\t\tfrom = current._point,\n\t\t\t\tto = Point.read(args),\n\t\t\t\tthrough,\n\t\t\t\tpeek = Base.peek(args),\n\t\t\t\tclockwise = Base.pick(peek, true),\n\t\t\t\tcenter, extent, vector, matrix;\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tvar middle = from.add(to).divide(2),\n\t\t\t\tthrough = middle.add(middle.subtract(from).rotate(\n\t\t\t\t\t\tclockwise ? -90 : 90));\n\t\t\t} else if (Base.remain(args) <= 2) {\n\t\t\t\tthrough = to;\n\t\t\t\tto = Point.read(args);\n\t\t\t} else if (!from.equals(to)) {\n\t\t\t\tvar radius = Size.read(args),\n\t\t\t\t\tisZero = Numerical.isZero;\n\t\t\t\tif (isZero(radius.width) || isZero(radius.height))\n\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\tvar rotation = Base.read(args),\n\t\t\t\t\tclockwise = !!Base.read(args),\n\t\t\t\t\tlarge = !!Base.read(args),\n\t\t\t\t\tmiddle = from.add(to).divide(2),\n\t\t\t\t\tpt = from.subtract(middle).rotate(-rotation),\n\t\t\t\t\tx = pt.x,\n\t\t\t\t\ty = pt.y,\n\t\t\t\t\trx = abs(radius.width),\n\t\t\t\t\try = abs(radius.height),\n\t\t\t\t\trxSq = rx * rx,\n\t\t\t\t\trySq = ry * ry,\n\t\t\t\t\txSq = x * x,\n\t\t\t\t\tySq = y * y;\n\t\t\t\tvar factor = sqrt(xSq / rxSq + ySq / rySq);\n\t\t\t\tif (factor > 1) {\n\t\t\t\t\trx *= factor;\n\t\t\t\t\try *= factor;\n\t\t\t\t\trxSq = rx * rx;\n\t\t\t\t\trySq = ry * ry;\n\t\t\t\t}\n\t\t\t\tfactor = (rxSq * rySq - rxSq * ySq - rySq * xSq) /\n\t\t\t\t\t\t(rxSq * ySq + rySq * xSq);\n\t\t\t\tif (abs(factor) < 1e-12)\n\t\t\t\t\tfactor = 0;\n\t\t\t\tif (factor < 0)\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\tcenter = new Point(rx * y / ry, -ry * x / rx)\n\t\t\t\t\t\t.multiply((large === clockwise ? -1 : 1) * sqrt(factor))\n\t\t\t\t\t\t.rotate(rotation).add(middle);\n\t\t\t\tmatrix = new Matrix().translate(center).rotate(rotation)\n\t\t\t\t\t\t.scale(rx, ry);\n\t\t\t\tvector = matrix._inverseTransform(from);\n\t\t\t\textent = vector.getDirectedAngle(matrix._inverseTransform(to));\n\t\t\t\tif (!clockwise && extent > 0)\n\t\t\t\t\textent -= 360;\n\t\t\t\telse if (clockwise && extent < 0)\n\t\t\t\t\textent += 360;\n\t\t\t}\n\t\t\tif (through) {\n\t\t\t\tvar l1 = new Line(from.add(through).divide(2),\n\t\t\t\t\t\t\tthrough.subtract(from).rotate(90), true),\n\t\t\t\t\tl2 = new Line(through.add(to).divide(2),\n\t\t\t\t\t\t\tto.subtract(through).rotate(90), true),\n\t\t\t\t\tline = new Line(from, to),\n\t\t\t\t\tthroughSide = line.getSide(through);\n\t\t\t\tcenter = l1.intersect(l2, true);\n\t\t\t\tif (!center) {\n\t\t\t\t\tif (!throughSide)\n\t\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\t}\n\t\t\t\tvector = from.subtract(center);\n\t\t\t\textent = vector.getDirectedAngle(to.subtract(center));\n\t\t\t\tvar centerSide = line.getSide(center, true);\n\t\t\t\tif (centerSide === 0) {\n\t\t\t\t\textent = throughSide * abs(extent);\n\t\t\t\t} else if (throughSide === centerSide) {\n\t\t\t\t\textent += extent < 0 ? 360 : -360;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (extent) {\n\t\t\t\tvar epsilon = 1e-5,\n\t\t\t\t\text = abs(extent),\n\t\t\t\t\tcount = ext >= 360\n\t\t\t\t\t\t? 4\n\t\t\t\t\t\t: Math.ceil((ext - epsilon) / 90),\n\t\t\t\t\tinc = extent / count,\n\t\t\t\t\thalf = inc * Math.PI / 360,\n\t\t\t\t\tz = 4 / 3 * Math.sin(half) / (1 + Math.cos(half)),\n\t\t\t\t\tsegments = [];\n\t\t\t\tfor (var i = 0; i <= count; i++) {\n\t\t\t\t\tvar pt = to,\n\t\t\t\t\t\tout = null;\n\t\t\t\t\tif (i < count) {\n\t\t\t\t\t\tout = vector.rotate(90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\tpt = matrix._transformPoint(vector);\n\t\t\t\t\t\t\tout = matrix._transformPoint(vector.add(out))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpt = center.add(vector);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tcurrent.setHandleOut(out);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar _in = vector.rotate(-90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\t_in = matrix._transformPoint(vector.add(_in))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsegments.push(new Segment(pt, _in, out));\n\t\t\t\t\t}\n\t\t\t\t\tvector = vector.rotate(inc);\n\t\t\t\t}\n\t\t\t\tthis._add(segments);\n\t\t\t}\n\t\t},\n\n\t\tlineBy: function() {\n\t\t\tvar to = Point.read(arguments),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.lineTo(current.add(to));\n\t\t},\n\n\t\tcurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tparameter = Base.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.curveTo(current.add(through), current.add(to), parameter);\n\t\t},\n\n\t\tcubicCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(current.add(handle1), current.add(handle2),\n\t\t\t\t\tcurrent.add(to));\n\t\t},\n\n\t\tquadraticCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.quadraticCurveTo(current.add(handle), current.add(to));\n\t\t},\n\n\t\tarcBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\tpoint = current.add(Point.read(args)),\n\t\t\t\tclockwise = Base.pick(Base.peek(args), true);\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tthis.arcTo(point, clockwise);\n\t\t\t} else {\n\t\t\t\tthis.arcTo(point, current.add(Point.read(args)));\n\t\t\t}\n\t\t},\n\n\t\tclosePath: function(tolerance) {\n\t\t\tthis.setClosed(true);\n\t\t\tthis.join(this, tolerance);\n\t\t}\n\t};\n}, {\n\n\t_getBounds: function(matrix, options) {\n\t\tvar method = options.handle\n\t\t\t\t? 'getHandleBounds'\n\t\t\t\t: options.stroke\n\t\t\t\t? 'getStrokeBounds'\n\t\t\t\t: 'getBounds';\n\t\treturn Path[method](this._segments, this._closed, this, matrix, options);\n\t},\n\nstatics: {\n\tgetBounds: function(segments, closed, path, matrix, options, strokePadding) {\n\t\tvar first = segments[0];\n\t\tif (!first)\n\t\t\treturn new Rectangle();\n\t\tvar coords = new Array(6),\n\t\t\tprevCoords = first._transformCoordinates(matrix, new Array(6)),\n\t\t\tmin = prevCoords.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = new Array(2);\n\n\t\tfunction processSegment(segment) {\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tCurve._addBounds(\n\t\t\t\t\tprevCoords[i],\n\t\t\t\t\tprevCoords[i + 4],\n\t\t\t\t\tcoords[i + 2],\n\t\t\t\t\tcoords[i],\n\t\t\t\t\ti, strokePadding ? strokePadding[i] : 0, min, max, roots);\n\t\t\t}\n\t\t\tvar tmp = prevCoords;\n\t\t\tprevCoords = coords;\n\t\t\tcoords = tmp;\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++)\n\t\t\tprocessSegment(segments[i]);\n\t\tif (closed)\n\t\t\tprocessSegment(first);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\tgetStrokeBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = style.hasStroke(),\n\t\t\tstrokeWidth = style.getStrokeWidth(),\n\t\t\tstrokeMatrix = stroke && path._getStrokeMatrix(matrix, options),\n\t\t\tstrokePadding = stroke && Path._getStrokePadding(strokeWidth,\n\t\t\t\tstrokeMatrix),\n\t\t\tbounds = Path.getBounds(segments, closed, path, matrix, options,\n\t\t\t\tstrokePadding);\n\t\tif (!stroke)\n\t\t\treturn bounds;\n\t\tvar strokeRadius = strokeWidth / 2,\n\t\t\tjoin = style.getStrokeJoin(),\n\t\t\tcap = style.getStrokeCap(),\n\t\t\tmiterLimit = style.getMiterLimit(),\n\t\t\tjoinBounds = new Rectangle(new Size(strokePadding));\n\n\t\tfunction addPoint(point) {\n\t\t\tbounds = bounds.include(point);\n\t\t}\n\n\t\tfunction addRound(segment) {\n\t\t\tbounds = bounds.unite(\n\t\t\t\t\tjoinBounds.setCenter(segment._point.transform(matrix)));\n\t\t}\n\n\t\tfunction addJoin(segment, join) {\n\t\t\tif (join === 'round' || segment.isSmooth()) {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius, miterLimit,\n\t\t\t\t\t\tmatrix, strokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tfunction addCap(segment, cap) {\n\t\t\tif (cap === 'round') {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, matrix,\n\t\t\t\t\t\tstrokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tvar length = segments.length - (closed ? 0 : 1);\n\t\tif (length > 0) {\n\t\t\tfor (var i = 1; i < length; i++) {\n\t\t\t\taddJoin(segments[i], join);\n\t\t\t}\n\t\t\tif (closed) {\n\t\t\t\taddJoin(segments[0], join);\n\t\t\t} else {\n\t\t\t\taddCap(segments[0], cap);\n\t\t\t\taddCap(segments[segments.length - 1], cap);\n\t\t\t}\n\t\t}\n\t\treturn bounds;\n\t},\n\n\t_getStrokePadding: function(radius, matrix) {\n\t\tif (!matrix)\n\t\t\treturn [radius, radius];\n\t\tvar hor = new Point(radius, 0).transform(matrix),\n\t\t\tver = new Point(0, radius).transform(matrix),\n\t\t\tphi = hor.getAngleInRadians(),\n\t\t\ta = hor.getLength(),\n\t\t\tb = ver.getLength();\n\t\tvar sin = Math.sin(phi),\n\t\t\tcos = Math.cos(phi),\n\t\t\ttan = Math.tan(phi),\n\t\t\ttx = Math.atan2(b * tan, a),\n\t\t\tty = Math.atan2(b, tan * a);\n\t\treturn [Math.abs(a * Math.cos(tx) * cos + b * Math.sin(tx) * sin),\n\t\t\t\tMath.abs(b * Math.sin(ty) * cos + a * Math.cos(ty) * sin)];\n\t},\n\n\t_addBevelJoin: function(segment, join, radius, miterLimit, matrix,\n\t\t\tstrokeMatrix, addPoint, isArea) {\n\t\tvar curve2 = segment.getCurve(),\n\t\t\tcurve1 = curve2.getPrevious(),\n\t\t\tpoint = curve2.getPoint1().transform(matrix),\n\t\t\tnormal1 = curve1.getNormalAtTime(1).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\tnormal2 = curve2.getNormalAtTime(0).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\t\tangle = normal1.getDirectedAngle(normal2);\n\t\tif (angle < 0 || angle >= 180) {\n\t\t\tnormal1 = normal1.negate();\n\t\t\tnormal2 = normal2.negate();\n\t\t}\n\t\tif (isArea)\n\t\t\taddPoint(point);\n\t\taddPoint(point.add(normal1));\n\t\tif (join === 'miter') {\n\t\t\tvar corner = new Line(point.add(normal1),\n\t\t\t\t\tnew Point(-normal1.y, normal1.x), true\n\t\t\t\t).intersect(new Line(point.add(normal2),\n\t\t\t\t\tnew Point(-normal2.y, normal2.x), true\n\t\t\t\t), true);\n\t\t\tif (corner && point.getDistance(corner) <= miterLimit * radius) {\n\t\t\t\taddPoint(corner);\n\t\t\t}\n\t\t}\n\t\taddPoint(point.add(normal2));\n\t},\n\n\t_addSquareCap: function(segment, cap, radius, matrix, strokeMatrix,\n\t\t\taddPoint, isArea) {\n\t\tvar point = segment._point.transform(matrix),\n\t\t\tloc = segment.getLocation(),\n\t\t\tnormal = loc.getNormal()\n\t\t\t\t\t.multiply(loc.getTime() === 0 ? radius : -radius)\n\t\t\t\t\t.transform(strokeMatrix);\n\t\tif (cap === 'square') {\n\t\t\tif (isArea) {\n\t\t\t\taddPoint(point.subtract(normal));\n\t\t\t\taddPoint(point.add(normal));\n\t\t\t}\n\t\t\tpoint = point.add(normal.rotate(-90));\n\t\t}\n\t\taddPoint(point.add(normal));\n\t\taddPoint(point.subtract(normal));\n\t},\n\n\tgetHandleBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = options.stroke && style.hasStroke(),\n\t\t\tstrokePadding,\n\t\t\tjoinPadding;\n\t\tif (stroke) {\n\t\t\tvar strokeMatrix = path._getStrokeMatrix(matrix, options),\n\t\t\t\tstrokeRadius = style.getStrokeWidth() / 2,\n\t\t\t\tjoinRadius = strokeRadius;\n\t\t\tif (style.getStrokeJoin() === 'miter')\n\t\t\t\tjoinRadius = strokeRadius * style.getMiterLimit();\n\t\t\tif (style.getStrokeCap() === 'square')\n\t\t\t\tjoinRadius = Math.max(joinRadius, strokeRadius * Math.SQRT2);\n\t\t\tstrokePadding = Path._getStrokePadding(strokeRadius, strokeMatrix);\n\t\t\tjoinPadding = Path._getStrokePadding(joinRadius, strokeMatrix);\n\t\t}\n\t\tvar coords = new Array(6),\n\t\t\tx1 = Infinity,\n\t\t\tx2 = -x1,\n\t\t\ty1 = x1,\n\t\t\ty2 = x2;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i];\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var j = 0; j < 6; j += 2) {\n\t\t\t\tvar padding = !j ? joinPadding : strokePadding,\n\t\t\t\t\tpaddingX = padding ? padding[0] : 0,\n\t\t\t\t\tpaddingY = padding ? padding[1] : 0,\n\t\t\t\t\tx = coords[j],\n\t\t\t\t\ty = coords[j + 1],\n\t\t\t\t\txn = x - paddingX,\n\t\t\t\t\txx = x + paddingX,\n\t\t\t\t\tyn = y - paddingY,\n\t\t\t\t\tyx = y + paddingY;\n\t\t\t\tif (xn < x1) x1 = xn;\n\t\t\t\tif (xx > x2) x2 = xx;\n\t\t\t\tif (yn < y1) y1 = yn;\n\t\t\t\tif (yx > y2) y2 = yx;\n\t\t\t}\n\t\t}\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t}\n}});\n\nPath.inject({ statics: new function() {\n\n\tvar kappa = 0.5522847498307936,\n\t\tellipseSegments = [\n\t\t\tnew Segment([-1, 0], [0, kappa ], [0, -kappa]),\n\t\t\tnew Segment([0, -1], [-kappa, 0], [kappa, 0 ]),\n\t\t\tnew Segment([1, 0], [0, -kappa], [0, kappa ]),\n\t\t\tnew Segment([0, 1], [kappa, 0 ], [-kappa, 0])\n\t\t];\n\n\tfunction createPath(segments, closed, args) {\n\t\tvar props = Base.getNamed(args),\n\t\t\tpath = new Path(props && (\n\t\t\t\tprops.insert == true ? Item.INSERT\n\t\t\t\t: props.insert == false ? Item.NO_INSERT\n\t\t\t\t: null\n\t\t\t));\n\t\tpath._add(segments);\n\t\tpath._closed = closed;\n\t\treturn path.set(props, Item.INSERT);\n\t}\n\n\tfunction createEllipse(center, radius, args) {\n\t\tvar segments = new Array(4);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tvar segment = ellipseSegments[i];\n\t\t\tsegments[i] = new Segment(\n\t\t\t\tsegment._point.multiply(radius).add(center),\n\t\t\t\tsegment._handleIn.multiply(radius),\n\t\t\t\tsegment._handleOut.multiply(radius)\n\t\t\t);\n\t\t}\n\t\treturn createPath(segments, true, args);\n\t}\n\n\treturn {\n\t\tLine: function() {\n\t\t\tvar args = arguments;\n\t\t\treturn createPath([\n\t\t\t\tnew Segment(Point.readNamed(args, 'from')),\n\t\t\t\tnew Segment(Point.readNamed(args, 'to'))\n\t\t\t], false, args);\n\t\t},\n\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createEllipse(center, new Size(radius), args);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.readNamed(args, 'radius', 0,\n\t\t\t\t\t\t{ readNull: true }),\n\t\t\t\tbl = rect.getBottomLeft(true),\n\t\t\t\ttl = rect.getTopLeft(true),\n\t\t\t\ttr = rect.getTopRight(true),\n\t\t\t\tbr = rect.getBottomRight(true),\n\t\t\t\tsegments;\n\t\t\tif (!radius || radius.isZero()) {\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl),\n\t\t\t\t\tnew Segment(tl),\n\t\t\t\t\tnew Segment(tr),\n\t\t\t\t\tnew Segment(br)\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tradius = Size.min(radius, rect.getSize(true).divide(2));\n\t\t\t\tvar rx = radius.width,\n\t\t\t\t\try = radius.height,\n\t\t\t\t\thx = rx * kappa,\n\t\t\t\t\thy = ry * kappa;\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl.add(rx, 0), null, [-hx, 0]),\n\t\t\t\t\tnew Segment(bl.subtract(0, ry), [0, hy]),\n\t\t\t\t\tnew Segment(tl.add(0, ry), null, [0, -hy]),\n\t\t\t\t\tnew Segment(tl.add(rx, 0), [-hx, 0], null),\n\t\t\t\t\tnew Segment(tr.subtract(rx, 0), null, [hx, 0]),\n\t\t\t\t\tnew Segment(tr.add(0, ry), [0, -hy], null),\n\t\t\t\t\tnew Segment(br.subtract(0, ry), null, [0, hy]),\n\t\t\t\t\tnew Segment(br.subtract(rx, 0), [hx, 0])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tRoundRectangle: '#Rectangle',\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args);\n\t\t\treturn createEllipse(ellipse.center, ellipse.radius, args);\n\t\t},\n\n\t\tOval: '#Ellipse',\n\n\t\tArc: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tfrom = Point.readNamed(args, 'from'),\n\t\t\t\tthrough = Point.readNamed(args, 'through'),\n\t\t\t\tto = Point.readNamed(args, 'to'),\n\t\t\t\tprops = Base.getNamed(args),\n\t\t\t\tpath = new Path(props && props.insert == false\n\t\t\t\t\t\t&& Item.NO_INSERT);\n\t\t\tpath.moveTo(from);\n\t\t\tpath.arcTo(through, to);\n\t\t\treturn path.set(props);\n\t\t},\n\n\t\tRegularPolygon: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tsides = Base.readNamed(args, 'sides'),\n\t\t\t\tradius = Base.readNamed(args, 'radius'),\n\t\t\t\tstep = 360 / sides,\n\t\t\t\tthree = sides % 3 === 0,\n\t\t\t\tvector = new Point(0, three ? -radius : radius),\n\t\t\t\toffset = three ? -1 : 0.5,\n\t\t\t\tsegments = new Array(sides);\n\t\t\tfor (var i = 0; i < sides; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(\n\t\t\t\t\tvector.rotate((i + offset) * step)));\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tStar: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tpoints = Base.readNamed(args, 'points') * 2,\n\t\t\t\tradius1 = Base.readNamed(args, 'radius1'),\n\t\t\t\tradius2 = Base.readNamed(args, 'radius2'),\n\t\t\t\tstep = 360 / points,\n\t\t\t\tvector = new Point(0, -1),\n\t\t\t\tsegments = new Array(points);\n\t\t\tfor (var i = 0; i < points; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(vector.rotate(step * i)\n\t\t\t\t\t\t.multiply(i % 2 ? radius2 : radius1)));\n\t\t\treturn createPath(segments, true, args);\n\t\t}\n\t};\n}});\n\nvar CompoundPath = PathItem.extend({\n\t_class: 'CompoundPath',\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\tbeans: true,\n\n\tinitialize: function CompoundPath(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg)) {\n\t\t\tif (typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t} else {\n\t\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t\t\t}\n\t\t}\n\t},\n\n\tinsertChildren: function insertChildren(index, items) {\n\t\tvar list = items,\n\t\t\tfirst = list[0];\n\t\tif (first && typeof first[0] === 'number')\n\t\t\tlist = [list];\n\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\tvar item = list[i];\n\t\t\tif (list === items && !(item instanceof Path))\n\t\t\t\tlist = Base.slice(list);\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\tlist[i] = new Path({ segments: item, insert: false });\n\t\t\t} else if (item instanceof CompoundPath) {\n\t\t\t\tlist.splice.apply(list, [i, 1].concat(item.removeChildren()));\n\t\t\t\titem.remove();\n\t\t\t}\n\t\t}\n\t\treturn insertChildren.base.call(this, index, list);\n\t},\n\n\treduce: function reduce(options) {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\tvar path = children[i].reduce(options);\n\t\t\tif (path.isEmpty())\n\t\t\t\tpath.remove();\n\t\t}\n\t\tif (!children.length) {\n\t\t\tvar path = new Path(Item.NO_INSERT);\n\t\t\tpath.copyAttributes(this);\n\t\t\tpath.insertAbove(this);\n\t\t\tthis.remove();\n\t\t\treturn path;\n\t\t}\n\t\treturn reduce.base.call(this);\n\t},\n\n\tisClosed: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tif (!children[i]._closed)\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].setClosed(closed);\n\t\t}\n\t},\n\n\tgetFirstSegment: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstSegment();\n\t},\n\n\tgetLastSegment: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastSegment();\n\t},\n\n\tgetCurves: function() {\n\t\tvar children = this._children,\n\t\t\tcurves = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tBase.push(curves, children[i].getCurves());\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstCurve();\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastCurve();\n\t},\n\n\tgetArea: function() {\n\t\tvar children = this._children,\n\t\t\tarea = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tarea += children[i].getArea();\n\t\treturn area;\n\t},\n\n\tgetLength: function() {\n\t\tvar children = this._children,\n\t\t\tlength = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tlength += children[i].getLength();\n\t\treturn length;\n\t},\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar children = this._children,\n\t\t\tpaths = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tpaths.push(child.getPathData(_matrix && !mx.isIdentity()\n\t\t\t\t\t? _matrix.appended(mx) : _matrix, _precision));\n\t\t}\n\t\treturn paths.join('');\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\treturn _hitTestChildren.base.call(this, point,\n\t\t\t\toptions.class === Path || options.type === 'path' ? options\n\t\t\t\t\t: Base.set({}, options, { fill: false }),\n\t\t\t\tviewMatrix);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar children = this._children;\n\t\tif (!children.length)\n\t\t\treturn;\n\n\t\tparam = param.extend({ dontStart: true, dontFinish: true });\n\t\tctx.beginPath();\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].draw(ctx, param, strokeMatrix);\n\n\t\tif (!param.clip) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tvar style = this._style;\n\t\t\tif (style.hasFill()) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (style.hasStroke())\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_drawSelected: function(ctx, matrix, selectionItems) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tif (!selectionItems[child._id]) {\n\t\t\t\tchild._drawSelected(ctx, mx.isIdentity() ? matrix\n\t\t\t\t\t\t: matrix.appended(mx));\n\t\t\t}\n\t\t}\n\t}\n},\nnew function() {\n\tfunction getCurrentPath(that, check) {\n\t\tvar children = that._children;\n\t\tif (check && !children.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn children[children.length - 1];\n\t}\n\n\treturn Base.each(['lineTo', 'cubicCurveTo', 'quadraticCurveTo', 'curveTo',\n\t\t\t'arcTo', 'lineBy', 'cubicCurveBy', 'quadraticCurveBy', 'curveBy',\n\t\t\t'arcBy'],\n\t\tfunction(key) {\n\t\t\tthis[key] = function() {\n\t\t\t\tvar path = getCurrentPath(this, true);\n\t\t\t\tpath[key].apply(path, arguments);\n\t\t\t};\n\t\t}, {\n\t\t\tmoveTo: function() {\n\t\t\t\tvar current = getCurrentPath(this),\n\t\t\t\t\tpath = current && current.isEmpty() ? current\n\t\t\t\t\t\t\t: new Path(Item.NO_INSERT);\n\t\t\t\tif (path !== current)\n\t\t\t\t\tthis.addChild(path);\n\t\t\t\tpath.moveTo.apply(path, arguments);\n\t\t\t},\n\n\t\t\tmoveBy: function() {\n\t\t\t\tvar current = getCurrentPath(this, true),\n\t\t\t\t\tlast = current && current.getLastSegment(),\n\t\t\t\t\tpoint = Point.read(arguments);\n\t\t\t\tthis.moveTo(last ? point.add(last._point) : point);\n\t\t\t},\n\n\t\t\tclosePath: function(tolerance) {\n\t\t\t\tgetCurrentPath(this, true).closePath(tolerance);\n\t\t\t}\n\t\t}\n\t);\n}, Base.each(['reverse', 'flatten', 'simplify', 'smooth'], function(key) {\n\tthis[key] = function(param) {\n\t\tvar children = this._children,\n\t\t\tres;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tres = children[i][key](param) || res;\n\t\t}\n\t\treturn res;\n\t};\n}, {}));\n\nPathItem.inject(new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\toperators = {\n\t\t\tunite:     { '1': true, '2': true },\n\t\t\tintersect: { '2': true },\n\t\t\tsubtract:  { '1': true },\n\t\t\texclude:   { '1': true, '-1': true }\n\t\t};\n\n\tfunction getPaths(path) {\n\t\treturn path._children || [path];\n\t}\n\n\tfunction preparePath(path, resolve) {\n\t\tvar res = path\n\t\t\t.clone(false)\n\t\t\t.reduce({ simplify: true })\n\t\t\t.transform(null, true, true);\n\t\tif (resolve) {\n\t\t\tvar paths = getPaths(res);\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tif (!path._closed && !path.isEmpty()) {\n\t\t\t\t\tpath.closePath(1e-12);\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t\tpath.getLastSegment().setHandleOut(0, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = res\n\t\t\t\t.resolveCrossings()\n\t\t\t\t.reorient(res.getFillRule() === 'nonzero', true);\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction createResult(paths, simplify, path1, path2, options) {\n\t\tvar result = new CompoundPath(Item.NO_INSERT);\n\t\tresult.addChildren(paths, true);\n\t\tresult = result.reduce({ simplify: simplify });\n\t\tif (!(options && options.insert == false)) {\n\t\t\tresult.insertAbove(path2 && path1.isSibling(path2)\n\t\t\t\t\t&& path1.getIndex() < path2.getIndex() ? path2 : path1);\n\t\t}\n\t\tresult.copyAttributes(path1, true);\n\t\treturn result;\n\t}\n\n\tfunction filterIntersection(inter) {\n\t\treturn inter.hasOverlap() || inter.isCrossing();\n\t}\n\n\tfunction traceBoolean(path1, path2, operation, options) {\n\t\tif (options && (options.trace == false || options.stroke) &&\n\t\t\t\t/^(subtract|intersect)$/.test(operation))\n\t\t\treturn splitBoolean(path1, path2, operation);\n\t\tvar _path1 = preparePath(path1, true),\n\t\t\t_path2 = path2 && path1 !== path2 && preparePath(path2, true),\n\t\t\toperator = operators[operation];\n\t\toperator[operation] = true;\n\t\tif (_path2 && (operator.subtract || operator.exclude)\n\t\t\t\t^ (_path2.isClockwise() ^ _path1.isClockwise()))\n\t\t\t_path2.reverse();\n\t\tvar crossings = divideLocations(CurveLocation.expand(\n\t\t\t\t_path1.getIntersections(_path2, filterIntersection))),\n\t\t\tpaths1 = getPaths(_path1),\n\t\t\tpaths2 = _path2 && getPaths(_path2),\n\t\t\tsegments = [],\n\t\t\tcurves = [],\n\t\t\tpaths;\n\n\t\tfunction collectPaths(paths) {\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tBase.push(segments, path._segments);\n\t\t\t\tBase.push(curves, path.getCurves());\n\t\t\t\tpath._overlapsOnly = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCurves(indices) {\n\t\t\tvar list = [];\n\t\t\tfor (var i = 0, l = indices && indices.length; i < l; i++) {\n\t\t\t\tlist.push(curves[indices[i]]);\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\n\t\tif (crossings.length) {\n\t\t\tcollectPaths(paths1);\n\t\t\tif (paths2)\n\t\t\t\tcollectPaths(paths2);\n\n\t\t\tvar curvesValues = new Array(curves.length);\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tcurvesValues[i] = curves[i].getValues();\n\t\t\t}\n\t\t\tvar curveCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\t\tcurvesValues, curvesValues, 0, true);\n\t\t\tvar curveCollisionsMap = {};\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar curve = curves[i],\n\t\t\t\t\tid = curve._path._id,\n\t\t\t\t\tmap = curveCollisionsMap[id] = curveCollisionsMap[id] || {};\n\t\t\t\tmap[curve.getIndex()] = {\n\t\t\t\t\thor: getCurves(curveCollisions[i].hor),\n\t\t\t\t\tver: getCurves(curveCollisions[i].ver)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (var i = 0, l = crossings.length; i < l; i++) {\n\t\t\t\tpropagateWinding(crossings[i]._segment, _path1, _path2,\n\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t}\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar segment = segments[i],\n\t\t\t\t\tinter = segment._intersection;\n\t\t\t\tif (!segment._winding) {\n\t\t\t\t\tpropagateWinding(segment, _path1, _path2,\n\t\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t\t}\n\t\t\t\tif (!(inter && inter._overlap))\n\t\t\t\t\tsegment._path._overlapsOnly = false;\n\t\t\t}\n\t\t\tpaths = tracePaths(segments, operator);\n\t\t} else {\n\t\t\tpaths = reorientPaths(\n\t\t\t\t\tpaths2 ? paths1.concat(paths2) : paths1.slice(),\n\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\treturn !!operator[w];\n\t\t\t\t\t});\n\t\t}\n\t\treturn createResult(paths, true, path1, path2, options);\n\t}\n\n\tfunction splitBoolean(path1, path2, operation) {\n\t\tvar _path1 = preparePath(path1),\n\t\t\t_path2 = preparePath(path2),\n\t\t\tcrossings = _path1.getIntersections(_path2, filterIntersection),\n\t\t\tsubtract = operation === 'subtract',\n\t\t\tdivide = operation === 'divide',\n\t\t\tadded = {},\n\t\t\tpaths = [];\n\n\t\tfunction addPath(path) {\n\t\t\tif (!added[path._id] && (divide ||\n\t\t\t\t\t_path2.contains(path.getPointAt(path.getLength() / 2))\n\t\t\t\t\t\t^ subtract)) {\n\t\t\t\tpaths.unshift(path);\n\t\t\t\treturn added[path._id] = true;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = crossings.length - 1; i >= 0; i--) {\n\t\t\tvar path = crossings[i].split();\n\t\t\tif (path) {\n\t\t\t\tif (addPath(path))\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t_path1.getLastSegment().setHandleOut(0, 0);\n\t\t\t}\n\t\t}\n\t\taddPath(_path1);\n\t\treturn createResult(paths, false, path1, path2);\n\t}\n\n\tfunction linkIntersections(from, to) {\n\t\tvar prev = from;\n\t\twhile (prev) {\n\t\t\tif (prev === to)\n\t\t\t\treturn;\n\t\t\tprev = prev._previous;\n\t\t}\n\t\twhile (from._next && from._next !== to)\n\t\t\tfrom = from._next;\n\t\tif (!from._next) {\n\t\t\twhile (to._previous)\n\t\t\t\tto = to._previous;\n\t\t\tfrom._next = to;\n\t\t\tto._previous = from;\n\t\t}\n\t}\n\n\tfunction clearCurveHandles(curves) {\n\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\tcurves[i].clearHandles();\n\t}\n\n\tfunction reorientPaths(paths, isInside, clockwise) {\n\t\tvar length = paths && paths.length;\n\t\tif (length) {\n\t\t\tvar lookup = Base.each(paths, function (path, i) {\n\t\t\t\t\tthis[path._id] = {\n\t\t\t\t\t\tcontainer: null,\n\t\t\t\t\t\twinding: path.isClockwise() ? 1 : -1,\n\t\t\t\t\t\tindex: i\n\t\t\t\t\t};\n\t\t\t\t}, {}),\n\t\t\t\tsorted = paths.slice().sort(function (a, b) {\n\t\t\t\t\treturn abs(b.getArea()) - abs(a.getArea());\n\t\t\t\t}),\n\t\t\t\tfirst = sorted[0];\n\t\t\tvar collisions = CollisionDetection.findItemBoundsCollisions(sorted,\n\t\t\t\t\tnull, Numerical.GEOMETRIC_EPSILON);\n\t\t\tif (clockwise == null)\n\t\t\t\tclockwise = first.isClockwise();\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tvar path1 = sorted[i],\n\t\t\t\t\tentry1 = lookup[path1._id],\n\t\t\t\t\tcontainerWinding = 0,\n\t\t\t\t\tindices = collisions[i];\n\t\t\t\tif (indices) {\n\t\t\t\t\tvar point = null;\n\t\t\t\t\tfor (var j = indices.length - 1; j >= 0; j--) {\n\t\t\t\t\t\tif (indices[j] < i) {\n\t\t\t\t\t\t\tpoint = point || path1.getInteriorPoint();\n\t\t\t\t\t\t\tvar path2 = sorted[indices[j]];\n\t\t\t\t\t\t\tif (path2.contains(point)) {\n\t\t\t\t\t\t\t\tvar entry2 = lookup[path2._id];\n\t\t\t\t\t\t\t\tcontainerWinding = entry2.winding;\n\t\t\t\t\t\t\t\tentry1.winding += containerWinding;\n\t\t\t\t\t\t\t\tentry1.container = entry2.exclude\n\t\t\t\t\t\t\t\t\t? entry2.container : path2;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isInside(entry1.winding) === isInside(containerWinding)) {\n\t\t\t\t\tentry1.exclude = true;\n\t\t\t\t\tpaths[entry1.index] = null;\n\t\t\t\t} else {\n\t\t\t\t\tvar container = entry1.container;\n\t\t\t\t\tpath1.setClockwise(\n\t\t\t\t\t\t\tcontainer ? !container.isClockwise() : clockwise);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\tfunction divideLocations(locations, include, clearLater) {\n\t\tvar results = include && [],\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tclearHandles = false,\n\t\t\tclearCurves = clearLater || [],\n\t\t\tclearLookup = clearLater && {},\n\t\t\trenormalizeLocs,\n\t\t\tprevCurve,\n\t\t\tprevTime;\n\n\t\tfunction getId(curve) {\n\t\t\treturn curve._path._id + '.' + curve._segment1._index;\n\t\t}\n\n\t\tfor (var i = (clearLater && clearLater.length) - 1; i >= 0; i--) {\n\t\t\tvar curve = clearLater[i];\n\t\t\tif (curve._path)\n\t\t\t\tclearLookup[getId(curve)] = true;\n\t\t}\n\n\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\tvar loc = locations[i],\n\t\t\t\ttime = loc._time,\n\t\t\t\torigTime = time,\n\t\t\t\texclude = include && !include(loc),\n\t\t\t\tcurve = loc._curve,\n\t\t\t\tsegment;\n\t\t\tif (curve) {\n\t\t\t\tif (curve !== prevCurve) {\n\t\t\t\t\tclearHandles = !curve.hasHandles()\n\t\t\t\t\t\t\t|| clearLookup && clearLookup[getId(curve)];\n\t\t\t\t\trenormalizeLocs = [];\n\t\t\t\t\tprevTime = null;\n\t\t\t\t\tprevCurve = curve;\n\t\t\t\t} else if (prevTime >= tMin) {\n\t\t\t\t\ttime /= prevTime;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (exclude) {\n\t\t\t\tif (renormalizeLocs)\n\t\t\t\t\trenormalizeLocs.push(loc);\n\t\t\t\tcontinue;\n\t\t\t} else if (include) {\n\t\t\t\tresults.unshift(loc);\n\t\t\t}\n\t\t\tprevTime = origTime;\n\t\t\tif (time < tMin) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time > tMax) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else {\n\t\t\t\tvar newCurve = curve.divideAtTime(time, true);\n\t\t\t\tif (clearHandles)\n\t\t\t\t\tclearCurves.push(curve, newCurve);\n\t\t\t\tsegment = newCurve._segment1;\n\t\t\t\tfor (var j = renormalizeLocs.length - 1; j >= 0; j--) {\n\t\t\t\t\tvar l = renormalizeLocs[j];\n\t\t\t\t\tl._time = (l._time - time) / (1 - time);\n\t\t\t\t}\n\t\t\t}\n\t\t\tloc._setSegment(segment);\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tdest = loc._intersection;\n\t\t\tif (inter) {\n\t\t\t\tlinkIntersections(inter, dest);\n\t\t\t\tvar other = inter;\n\t\t\t\twhile (other) {\n\t\t\t\t\tlinkIntersections(other._intersection, inter);\n\t\t\t\t\tother = other._next;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsegment._intersection = dest;\n\t\t\t}\n\t\t}\n\t\tif (!clearLater)\n\t\t\tclearCurveHandles(clearCurves);\n\t\treturn results || locations;\n\t}\n\n\tfunction getWinding(point, curves, dir, closed, dontFlip) {\n\t\tvar curvesList = Array.isArray(curves)\n\t\t\t? curves\n\t\t\t: curves[dir ? 'hor' : 'ver'];\n\t\tvar ia = dir ? 1 : 0,\n\t\t\tio = ia ^ 1,\n\t\t\tpv = [point.x, point.y],\n\t\t\tpa = pv[ia],\n\t\t\tpo = pv[io],\n\t\t\twindingEpsilon = 1e-9,\n\t\t\tqualityEpsilon = 1e-6,\n\t\t\tpaL = pa - windingEpsilon,\n\t\t\tpaR = pa + windingEpsilon,\n\t\t\twindingL = 0,\n\t\t\twindingR = 0,\n\t\t\tpathWindingL = 0,\n\t\t\tpathWindingR = 0,\n\t\t\tonPath = false,\n\t\t\tonAnyPath = false,\n\t\t\tquality = 1,\n\t\t\troots = [],\n\t\t\tvPrev,\n\t\t\tvClose;\n\n\t\tfunction addWinding(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po < min(o0, o3) || po > max(o0, o3)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar a0 = v[ia + 0],\n\t\t\t\ta1 = v[ia + 2],\n\t\t\t\ta2 = v[ia + 4],\n\t\t\t\ta3 = v[ia + 6];\n\t\t\tif (o0 === o3) {\n\t\t\t\tif (a0 < paR && a3 > paL || a3 < paR && a0 > paL) {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar t =   po === o0 ? 0\n\t\t\t\t\t: po === o3 ? 1\n\t\t\t\t\t: paL > max(a0, a1, a2, a3) || paR < min(a0, a1, a2, a3)\n\t\t\t\t\t? 1\n\t\t\t\t\t: Curve.solveCubic(v, io, po, roots, 0, 1) > 0\n\t\t\t\t\t\t? roots[0]\n\t\t\t\t\t\t: 1,\n\t\t\t\ta =   t === 0 ? a0\n\t\t\t\t\t: t === 1 ? a3\n\t\t\t\t\t: Curve.getPoint(v, t)[dir ? 'y' : 'x'],\n\t\t\t\twinding = o0 > o3 ? 1 : -1,\n\t\t\t\twindingPrev = vPrev[io] > vPrev[io + 6] ? 1 : -1,\n\t\t\t\ta3Prev = vPrev[ia + 6];\n\t\t\tif (po !== o0) {\n\t\t\t\tif (a < paL) {\n\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t} else if (a > paR) {\n\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t} else {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\tif (a > pa - qualityEpsilon && a < pa + qualityEpsilon)\n\t\t\t\t\tquality /= 2;\n\t\t\t} else {\n\t\t\t\tif (winding !== windingPrev) {\n\t\t\t\t\tif (a0 < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t} else if (a0 > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t}\n\t\t\t\t} else if (a0 != a3Prev) {\n\t\t\t\t\tif (a3Prev < paR && a > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t} else if (a3Prev > paL && a < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tquality /= 4;\n\t\t\t}\n\t\t\tvPrev = v;\n\t\t\treturn !dontFlip && a > paL && a < paR\n\t\t\t\t\t&& Curve.getTangent(v, t)[dir ? 'x' : 'y'] === 0\n\t\t\t\t\t&& getWinding(point, curves, !dir, closed, true);\n\t\t}\n\n\t\tfunction handleCurve(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to1 = v[io + 2],\n\t\t\t\to2 = v[io + 4],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po <= max(o0, o1, o2, o3) && po >= min(o0, o1, o2, o3)) {\n\t\t\t\tvar a0 = v[ia + 0],\n\t\t\t\t\ta1 = v[ia + 2],\n\t\t\t\t\ta2 = v[ia + 4],\n\t\t\t\t\ta3 = v[ia + 6],\n\t\t\t\t\tmonoCurves = paL > max(a0, a1, a2, a3) ||\n\t\t\t\t\t\t\t\t paR < min(a0, a1, a2, a3)\n\t\t\t\t\t\t\t? [v] : Curve.getMonoCurves(v, dir),\n\t\t\t\t\tres;\n\t\t\t\tfor (var i = 0, l = monoCurves.length; i < l; i++) {\n\t\t\t\t\tif (res = addWinding(monoCurves[i]))\n\t\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = curvesList.length; i < l; i++) {\n\t\t\tvar curve = curvesList[i],\n\t\t\t\tpath = curve._path,\n\t\t\t\tv = curve.getValues(),\n\t\t\t\tres;\n\t\t\tif (!i || curvesList[i - 1]._path !== path) {\n\t\t\t\tvPrev = null;\n\t\t\t\tif (!path._closed) {\n\t\t\t\t\tvClose = Curve.getValues(\n\t\t\t\t\t\t\tpath.getLastCurve().getSegment2(),\n\t\t\t\t\t\t\tcurve.getSegment1(),\n\t\t\t\t\t\t\tnull, !closed);\n\t\t\t\t\tif (vClose[io] !== vClose[io + 6]) {\n\t\t\t\t\t\tvPrev = vClose;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!vPrev) {\n\t\t\t\t\tvPrev = v;\n\t\t\t\t\tvar prev = path.getLastCurve();\n\t\t\t\t\twhile (prev && prev !== curve) {\n\t\t\t\t\t\tvar v2 = prev.getValues();\n\t\t\t\t\t\tif (v2[io] !== v2[io + 6]) {\n\t\t\t\t\t\t\tvPrev = v2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprev = prev.getPrevious();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (res = handleCurve(v))\n\t\t\t\treturn res;\n\n\t\t\tif (i + 1 === l || curvesList[i + 1]._path !== path) {\n\t\t\t\tif (vClose && (res = handleCurve(vClose)))\n\t\t\t\t\treturn res;\n\t\t\t\tif (onPath && !pathWindingL && !pathWindingR) {\n\t\t\t\t\tpathWindingL = pathWindingR = path.isClockwise(closed) ^ dir\n\t\t\t\t\t\t\t? 1 : -1;\n\t\t\t\t}\n\t\t\t\twindingL += pathWindingL;\n\t\t\t\twindingR += pathWindingR;\n\t\t\t\tpathWindingL = pathWindingR = 0;\n\t\t\t\tif (onPath) {\n\t\t\t\t\tonAnyPath = true;\n\t\t\t\t\tonPath = false;\n\t\t\t\t}\n\t\t\t\tvClose = null;\n\t\t\t}\n\t\t}\n\t\twindingL = abs(windingL);\n\t\twindingR = abs(windingR);\n\t\treturn {\n\t\t\twinding: max(windingL, windingR),\n\t\t\twindingL: windingL,\n\t\t\twindingR: windingR,\n\t\t\tquality: quality,\n\t\t\tonPath: onAnyPath\n\t\t};\n\t}\n\n\tfunction propagateWinding(segment, path1, path2, curveCollisionsMap,\n\t\t\toperator) {\n\t\tvar chain = [],\n\t\t\tstart = segment,\n\t\t\ttotalLength = 0,\n\t\t\twinding;\n\t\tdo {\n\t\t\tvar curve = segment.getCurve();\n\t\t\tif (curve) {\n\t\t\t\tvar length = curve.getLength();\n\t\t\t\tchain.push({ segment: segment, curve: curve, length: length });\n\t\t\t\ttotalLength += length;\n\t\t\t}\n\t\t\tsegment = segment.getNext();\n\t\t} while (segment && !segment._intersection && segment !== start);\n\t\tvar offsets = [0.5, 0.25, 0.75],\n\t\t\twinding = { winding: 0, quality: -1 },\n\t\t\ttMin = 1e-3,\n\t\t\ttMax = 1 - tMin;\n\t\tfor (var i = 0; i < offsets.length && winding.quality < 0.5; i++) {\n\t\t\tvar length = totalLength * offsets[i];\n\t\t\tfor (var j = 0, l = chain.length; j < l; j++) {\n\t\t\t\tvar entry = chain[j],\n\t\t\t\t\tcurveLength = entry.length;\n\t\t\t\tif (length <= curveLength) {\n\t\t\t\t\tvar curve = entry.curve,\n\t\t\t\t\t\tpath = curve._path,\n\t\t\t\t\t\tparent = path._parent,\n\t\t\t\t\t\toperand = parent instanceof CompoundPath ? parent : path,\n\t\t\t\t\t\tt = Numerical.clamp(curve.getTimeAt(length), tMin, tMax),\n\t\t\t\t\t\tpt = curve.getPointAtTime(t),\n\t\t\t\t\t\tdir = abs(curve.getTangentAtTime(t).y) < Math.SQRT1_2;\n\t\t\t\t\tvar wind = null;\n\t\t\t\t\tif (operator.subtract && path2) {\n\t\t\t\t\t\tvar otherPath = operand === path1 ? path2 : path1,\n\t\t\t\t\t\t\tpathWinding = otherPath._getWinding(pt, dir, true);\n\t\t\t\t\t\tif (operand === path1 && pathWinding.winding ||\n\t\t\t\t\t\t\toperand === path2 && !pathWinding.winding) {\n\t\t\t\t\t\t\tif (pathWinding.quality < 1) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twind = { winding: 0, quality: 1 };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\twind =  wind || getWinding(\n\t\t\t\t\t\t\tpt, curveCollisionsMap[path._id][curve.getIndex()],\n\t\t\t\t\t\t\tdir, true);\n\t\t\t\t\tif (wind.quality > winding.quality)\n\t\t\t\t\t\twinding = wind;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlength -= curveLength;\n\t\t\t}\n\t\t}\n\t\tfor (var j = chain.length - 1; j >= 0; j--) {\n\t\t\tchain[j].segment._winding = winding;\n\t\t}\n\t}\n\n\tfunction tracePaths(segments, operator) {\n\t\tvar paths = [],\n\t\t\tstarts;\n\n\t\tfunction isValid(seg) {\n\t\t\tvar winding;\n\t\t\treturn !!(seg && !seg._visited && (!operator\n\t\t\t\t\t|| operator[(winding = seg._winding || {}).winding]\n\t\t\t\t\t\t&& !(operator.unite && winding.winding === 2\n\t\t\t\t\t\t\t&& winding.windingL && winding.windingR)));\n\t\t}\n\n\t\tfunction isStart(seg) {\n\t\t\tif (seg) {\n\t\t\t\tfor (var i = 0, l = starts.length; i < l; i++) {\n\t\t\t\t\tif (seg === starts[i])\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction visitPath(path) {\n\t\t\tvar segments = path._segments;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tsegments[i]._visited = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCrossingSegments(segment, collectStarts) {\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tstart = inter,\n\t\t\t\tcrossings = [];\n\t\t\tif (collectStarts)\n\t\t\t\tstarts = [segment];\n\n\t\t\tfunction collect(inter, end) {\n\t\t\t\twhile (inter && inter !== end) {\n\t\t\t\t\tvar other = inter._segment,\n\t\t\t\t\t\tpath = other && other._path;\n\t\t\t\t\tif (path) {\n\t\t\t\t\t\tvar next = other.getNext() || path.getFirstSegment(),\n\t\t\t\t\t\t\tnextInter = next._intersection;\n\t\t\t\t\t\tif (other !== segment && (isStart(other)\n\t\t\t\t\t\t\t|| isStart(next)\n\t\t\t\t\t\t\t|| next && (isValid(other) && (isValid(next)\n\t\t\t\t\t\t\t\t|| nextInter && isValid(nextInter._segment))))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcrossings.push(other);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (collectStarts)\n\t\t\t\t\t\t\tstarts.push(other);\n\t\t\t\t\t}\n\t\t\t\t\tinter = inter._next;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (inter) {\n\t\t\t\tcollect(inter);\n\t\t\t\twhile (inter && inter._previous)\n\t\t\t\t\tinter = inter._previous;\n\t\t\t\tcollect(inter, start);\n\t\t\t}\n\t\t\treturn crossings;\n\t\t}\n\n\t\tsegments.sort(function(seg1, seg2) {\n\t\t\tvar inter1 = seg1._intersection,\n\t\t\t\tinter2 = seg2._intersection,\n\t\t\t\tover1 = !!(inter1 && inter1._overlap),\n\t\t\t\tover2 = !!(inter2 && inter2._overlap),\n\t\t\t\tpath1 = seg1._path,\n\t\t\t\tpath2 = seg2._path;\n\t\t\treturn over1 ^ over2\n\t\t\t\t\t? over1 ? 1 : -1\n\t\t\t\t\t: !inter1 ^ !inter2\n\t\t\t\t\t\t? inter1 ? 1 : -1\n\t\t\t\t\t\t: path1 !== path2\n\t\t\t\t\t\t\t? path1._id - path2._id\n\t\t\t\t\t\t\t: seg1._index - seg2._index;\n\t\t});\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar seg = segments[i],\n\t\t\t\tvalid = isValid(seg),\n\t\t\t\tpath = null,\n\t\t\t\tfinished = false,\n\t\t\t\tclosed = true,\n\t\t\t\tbranches = [],\n\t\t\t\tbranch,\n\t\t\t\tvisited,\n\t\t\t\thandleIn;\n\t\t\tif (valid && seg._path._overlapsOnly) {\n\t\t\t\tvar path1 = seg._path,\n\t\t\t\t\tpath2 = seg._intersection._segment._path;\n\t\t\t\tif (path1.compare(path2)) {\n\t\t\t\t\tif (path1.getArea())\n\t\t\t\t\t\tpaths.push(path1.clone(false));\n\t\t\t\t\tvisitPath(path1);\n\t\t\t\t\tvisitPath(path2);\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (valid) {\n\t\t\t\tvar first = !path,\n\t\t\t\t\tcrossings = getCrossingSegments(seg, first),\n\t\t\t\t\tother = crossings.shift(),\n\t\t\t\t\tfinished = !first && (isStart(seg) || isStart(other)),\n\t\t\t\t\tcross = !finished && other;\n\t\t\t\tif (first) {\n\t\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (finished) {\n\t\t\t\t\tif (seg.isFirst() || seg.isLast())\n\t\t\t\t\t\tclosed = seg._path._closed;\n\t\t\t\t\tseg._visited = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (cross && branch) {\n\t\t\t\t\tbranches.push(branch);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (!branch) {\n\t\t\t\t\tif (cross)\n\t\t\t\t\t\tcrossings.push(seg);\n\t\t\t\t\tbranch = {\n\t\t\t\t\t\tstart: path._segments.length,\n\t\t\t\t\t\tcrossings: crossings,\n\t\t\t\t\t\tvisited: visited = [],\n\t\t\t\t\t\thandleIn: handleIn\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (cross)\n\t\t\t\t\tseg = other;\n\t\t\t\tif (!isValid(seg)) {\n\t\t\t\t\tpath.removeSegments(branch.start);\n\t\t\t\t\tfor (var j = 0, k = visited.length; j < k; j++) {\n\t\t\t\t\t\tvisited[j]._visited = false;\n\t\t\t\t\t}\n\t\t\t\t\tvisited.length = 0;\n\t\t\t\t\tdo {\n\t\t\t\t\t\tseg = branch && branch.crossings.shift();\n\t\t\t\t\t\tif (!seg || !seg._path) {\n\t\t\t\t\t\t\tseg = null;\n\t\t\t\t\t\t\tbranch = branches.pop();\n\t\t\t\t\t\t\tif (branch) {\n\t\t\t\t\t\t\t\tvisited = branch.visited;\n\t\t\t\t\t\t\t\thandleIn = branch.handleIn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} while (branch && !isValid(seg));\n\t\t\t\t\tif (!seg)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar next = seg.getNext();\n\t\t\t\tpath.add(new Segment(seg._point, handleIn,\n\t\t\t\t\t\tnext && seg._handleOut));\n\t\t\t\tseg._visited = true;\n\t\t\t\tvisited.push(seg);\n\t\t\t\tseg = next || seg._path.getFirstSegment();\n\t\t\t\thandleIn = next && next._handleIn;\n\t\t\t}\n\t\t\tif (finished) {\n\t\t\t\tif (closed) {\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(handleIn);\n\t\t\t\t\tpath.setClosed(closed);\n\t\t\t\t}\n\t\t\t\tif (path.getArea() !== 0) {\n\t\t\t\t\tpaths.push(path);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\treturn {\n\t\t_getWinding: function(point, dir, closed) {\n\t\t\treturn getWinding(point, this.getCurves(), dir, closed);\n\t\t},\n\n\t\tunite: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'unite', options);\n\t\t},\n\n\t\tintersect: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'intersect', options);\n\t\t},\n\n\t\tsubtract: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'subtract', options);\n\t\t},\n\n\t\texclude: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'exclude', options);\n\t\t},\n\n\t\tdivide: function(path, options) {\n\t\t\treturn options && (options.trace == false || options.stroke)\n\t\t\t\t\t? splitBoolean(this, path, 'divide')\n\t\t\t\t\t: createResult([\n\t\t\t\t\t\tthis.subtract(path, options),\n\t\t\t\t\t\tthis.intersect(path, options)\n\t\t\t\t\t], true, this, path, options);\n\t\t},\n\n\t\tresolveCrossings: function() {\n\t\t\tvar children = this._children,\n\t\t\t\tpaths = children || [this];\n\n\t\t\tfunction hasOverlap(seg, path) {\n\t\t\t\tvar inter = seg && seg._intersection;\n\t\t\t\treturn inter && inter._overlap && inter._path === path;\n\t\t\t}\n\n\t\t\tvar hasOverlaps = false,\n\t\t\t\thasCrossings = false,\n\t\t\t\tintersections = this.getIntersections(null, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap() && (hasOverlaps = true) ||\n\t\t\t\t\t\t\tinter.isCrossing() && (hasCrossings = true);\n\t\t\t\t}),\n\t\t\t\tclearCurves = hasOverlaps && hasCrossings && [];\n\t\t\tintersections = CurveLocation.expand(intersections);\n\t\t\tif (hasOverlaps) {\n\t\t\t\tvar overlaps = divideLocations(intersections, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap();\n\t\t\t\t}, clearCurves);\n\t\t\t\tfor (var i = overlaps.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar overlap = overlaps[i],\n\t\t\t\t\t\tpath = overlap._path,\n\t\t\t\t\t\tseg = overlap._segment,\n\t\t\t\t\t\tprev = seg.getPrevious(),\n\t\t\t\t\t\tnext = seg.getNext();\n\t\t\t\t\tif (hasOverlap(prev, path) && hasOverlap(next, path)) {\n\t\t\t\t\t\tseg.remove();\n\t\t\t\t\t\tprev._handleOut._set(0, 0);\n\t\t\t\t\t\tnext._handleIn._set(0, 0);\n\t\t\t\t\t\tif (prev !== seg && !prev.getCurve().hasLength()) {\n\t\t\t\t\t\t\tnext._handleIn.set(prev._handleIn);\n\t\t\t\t\t\t\tprev.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hasCrossings) {\n\t\t\t\tdivideLocations(intersections, hasOverlaps && function(inter) {\n\t\t\t\t\tvar curve1 = inter.getCurve(),\n\t\t\t\t\t\tseg1 = inter.getSegment(),\n\t\t\t\t\t\tother = inter._intersection,\n\t\t\t\t\t\tcurve2 = other._curve,\n\t\t\t\t\t\tseg2 = other._segment;\n\t\t\t\t\tif (curve1 && curve2 && curve1._path && curve2._path)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tif (seg1)\n\t\t\t\t\t\tseg1._intersection = null;\n\t\t\t\t\tif (seg2)\n\t\t\t\t\t\tseg2._intersection = null;\n\t\t\t\t}, clearCurves);\n\t\t\t\tif (clearCurves)\n\t\t\t\t\tclearCurveHandles(clearCurves);\n\t\t\t\tpaths = tracePaths(Base.each(paths, function(path) {\n\t\t\t\t\tBase.push(this, path._segments);\n\t\t\t\t}, []));\n\t\t\t}\n\t\t\tvar length = paths.length,\n\t\t\t\titem;\n\t\t\tif (length > 1 && children) {\n\t\t\t\tif (paths !== children)\n\t\t\t\t\tthis.setChildren(paths);\n\t\t\t\titem = this;\n\t\t\t} else if (length === 1 && !children) {\n\t\t\t\tif (paths[0] !== this)\n\t\t\t\t\tthis.setSegments(paths[0].removeSegments());\n\t\t\t\titem = this;\n\t\t\t}\n\t\t\tif (!item) {\n\t\t\t\titem = new CompoundPath(Item.NO_INSERT);\n\t\t\t\titem.addChildren(paths);\n\t\t\t\titem = item.reduce();\n\t\t\t\titem.copyAttributes(this);\n\t\t\t\tthis.replaceWith(item);\n\t\t\t}\n\t\t\treturn item;\n\t\t},\n\n\t\treorient: function(nonZero, clockwise) {\n\t\t\tvar children = this._children;\n\t\t\tif (children && children.length) {\n\t\t\t\tthis.setChildren(reorientPaths(this.removeChildren(),\n\t\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\t\treturn !!(nonZero ? w : w & 1);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclockwise));\n\t\t\t} else if (clockwise !== undefined) {\n\t\t\t\tthis.setClockwise(clockwise);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tgetInteriorPoint: function() {\n\t\t\tvar bounds = this.getBounds(),\n\t\t\t\tpoint = bounds.getCenter(true);\n\t\t\tif (!this.contains(point)) {\n\t\t\t\tvar curves = this.getCurves(),\n\t\t\t\t\ty = point.y,\n\t\t\t\t\tintercepts = [],\n\t\t\t\t\troots = [];\n\t\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\t\tvar v = curves[i].getValues(),\n\t\t\t\t\t\to0 = v[1],\n\t\t\t\t\t\to1 = v[3],\n\t\t\t\t\t\to2 = v[5],\n\t\t\t\t\t\to3 = v[7];\n\t\t\t\t\tif (y >= min(o0, o1, o2, o3) && y <= max(o0, o1, o2, o3)) {\n\t\t\t\t\t\tvar monoCurves = Curve.getMonoCurves(v);\n\t\t\t\t\t\tfor (var j = 0, m = monoCurves.length; j < m; j++) {\n\t\t\t\t\t\t\tvar mv = monoCurves[j],\n\t\t\t\t\t\t\t\tmo0 = mv[1],\n\t\t\t\t\t\t\t\tmo3 = mv[7];\n\t\t\t\t\t\t\tif ((mo0 !== mo3) &&\n\t\t\t\t\t\t\t\t(y >= mo0 && y <= mo3 || y >= mo3 && y <= mo0)){\n\t\t\t\t\t\t\t\tvar x = y === mo0 ? mv[0]\n\t\t\t\t\t\t\t\t\t: y === mo3 ? mv[6]\n\t\t\t\t\t\t\t\t\t: Curve.solveCubic(mv, 1, y, roots, 0, 1)\n\t\t\t\t\t\t\t\t\t\t=== 1\n\t\t\t\t\t\t\t\t\t\t? Curve.getPoint(mv, roots[0]).x\n\t\t\t\t\t\t\t\t\t\t: (mv[0] + mv[6]) / 2;\n\t\t\t\t\t\t\t\tintercepts.push(x);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (intercepts.length > 1) {\n\t\t\t\t\tintercepts.sort(function(a, b) { return a - b; });\n\t\t\t\t\tpoint.x = (intercepts[0] + intercepts[1]) / 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn point;\n\t\t}\n\t};\n});\n\nvar PathFlattener = Base.extend({\n\t_class: 'PathFlattener',\n\n\tinitialize: function(path, flatness, maxRecursion, ignoreStraight, matrix) {\n\t\tvar curves = [],\n\t\t\tparts = [],\n\t\t\tlength = 0,\n\t\t\tminSpan = 1 / (maxRecursion || 32),\n\t\t\tsegments = path._segments,\n\t\t\tsegment1 = segments[0],\n\t\t\tsegment2;\n\n\t\tfunction addCurve(segment1, segment2) {\n\t\t\tvar curve = Curve.getValues(segment1, segment2, matrix);\n\t\t\tcurves.push(curve);\n\t\t\tcomputeParts(curve, segment1._index, 0, 1);\n\t\t}\n\n\t\tfunction computeParts(curve, index, t1, t2) {\n\t\t\tif ((t2 - t1) > minSpan\n\t\t\t\t\t&& !(ignoreStraight && Curve.isStraight(curve))\n\t\t\t\t\t&& !Curve.isFlatEnough(curve, flatness || 0.25)) {\n\t\t\t\tvar halves = Curve.subdivide(curve, 0.5),\n\t\t\t\t\ttMid = (t1 + t2) / 2;\n\t\t\t\tcomputeParts(halves[0], index, t1, tMid);\n\t\t\t\tcomputeParts(halves[1], index, tMid, t2);\n\t\t\t} else {\n\t\t\t\tvar dx = curve[6] - curve[0],\n\t\t\t\t\tdy = curve[7] - curve[1],\n\t\t\t\t\tdist = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\tif (dist > 0) {\n\t\t\t\t\tlength += dist;\n\t\t\t\t\tparts.push({\n\t\t\t\t\t\toffset: length,\n\t\t\t\t\t\tcurve: curve,\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\ttime: t2,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++) {\n\t\t\tsegment2 = segments[i];\n\t\t\taddCurve(segment1, segment2);\n\t\t\tsegment1 = segment2;\n\t\t}\n\t\tif (path._closed)\n\t\t\taddCurve(segment2 || segment1, segments[0]);\n\t\tthis.curves = curves;\n\t\tthis.parts = parts;\n\t\tthis.length = length;\n\t\tthis.index = 0;\n\t},\n\n\t_get: function(offset) {\n\t\tvar parts = this.parts,\n\t\t\tlength = parts.length,\n\t\t\tstart,\n\t\t\ti, j = this.index;\n\t\tfor (;;) {\n\t\t\ti = j;\n\t\t\tif (!j || parts[--j].offset < offset)\n\t\t\t\tbreak;\n\t\t}\n\t\tfor (; i < length; i++) {\n\t\t\tvar part = parts[i];\n\t\t\tif (part.offset >= offset) {\n\t\t\t\tthis.index = i;\n\t\t\t\tvar prev = parts[i - 1],\n\t\t\t\t\tprevTime = prev && prev.index === part.index ? prev.time : 0,\n\t\t\t\t\tprevOffset = prev ? prev.offset : 0;\n\t\t\t\treturn {\n\t\t\t\t\tindex: part.index,\n\t\t\t\t\ttime: prevTime + (part.time - prevTime)\n\t\t\t\t\t\t* (offset - prevOffset) / (part.offset - prevOffset)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tindex: parts[length - 1].index,\n\t\t\ttime: 1\n\t\t};\n\t},\n\n\tdrawPart: function(ctx, from, to) {\n\t\tvar start = this._get(from),\n\t\t\tend = this._get(to);\n\t\tfor (var i = start.index, l = end.index; i <= l; i++) {\n\t\t\tvar curve = Curve.getPart(this.curves[i],\n\t\t\t\t\ti === start.index ? start.time : 0,\n\t\t\t\t\ti === end.index ? end.time : 1);\n\t\t\tif (i === start.index)\n\t\t\t\tctx.moveTo(curve[0], curve[1]);\n\t\t\tctx.bezierCurveTo.apply(ctx, curve.slice(2));\n\t\t}\n\t}\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar param = this._get(offset);\n\t\t\treturn Curve[name](this.curves[param.index], param.time);\n\t\t};\n\t}, {})\n);\n\nvar PathFitter = Base.extend({\n\tinitialize: function(path) {\n\t\tvar points = this.points = [],\n\t\t\tsegments = path._segments,\n\t\t\tclosed = path._closed;\n\t\tfor (var i = 0, prev, l = segments.length; i < l; i++) {\n\t\t\tvar point = segments[i].point;\n\t\t\tif (!prev || !prev.equals(point)) {\n\t\t\t\tpoints.push(prev = point.clone());\n\t\t\t}\n\t\t}\n\t\tif (closed) {\n\t\t\tpoints.unshift(points[points.length - 1]);\n\t\t\tpoints.push(points[1]);\n\t\t}\n\t\tthis.closed = closed;\n\t},\n\n\tfit: function(error) {\n\t\tvar points = this.points,\n\t\t\tlength = points.length,\n\t\t\tsegments = null;\n\t\tif (length > 0) {\n\t\t\tsegments = [new Segment(points[0])];\n\t\t\tif (length > 1) {\n\t\t\t\tthis.fitCubic(segments, error, 0, length - 1,\n\t\t\t\t\t\tpoints[1].subtract(points[0]),\n\t\t\t\t\t\tpoints[length - 2].subtract(points[length - 1]));\n\t\t\t\tif (this.closed) {\n\t\t\t\t\tsegments.shift();\n\t\t\t\t\tsegments.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn segments;\n\t},\n\n\tfitCubic: function(segments, error, first, last, tan1, tan2) {\n\t\tvar points = this.points;\n\t\tif (last - first === 1) {\n\t\t\tvar pt1 = points[first],\n\t\t\t\tpt2 = points[last],\n\t\t\t\tdist = pt1.getDistance(pt2) / 3;\n\t\t\tthis.addCurve(segments, [pt1, pt1.add(tan1.normalize(dist)),\n\t\t\t\t\tpt2.add(tan2.normalize(dist)), pt2]);\n\t\t\treturn;\n\t\t}\n\t\tvar uPrime = this.chordLengthParameterize(first, last),\n\t\t\tmaxError = Math.max(error, error * error),\n\t\t\tsplit,\n\t\t\tparametersInOrder = true;\n\t\tfor (var i = 0; i <= 4; i++) {\n\t\t\tvar curve = this.generateBezier(first, last, uPrime, tan1, tan2);\n\t\t\tvar max = this.findMaxError(first, last, curve, uPrime);\n\t\t\tif (max.error < error && parametersInOrder) {\n\t\t\t\tthis.addCurve(segments, curve);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsplit = max.index;\n\t\t\tif (max.error >= maxError)\n\t\t\t\tbreak;\n\t\t\tparametersInOrder = this.reparameterize(first, last, uPrime, curve);\n\t\t\tmaxError = max.error;\n\t\t}\n\t\tvar tanCenter = points[split - 1].subtract(points[split + 1]);\n\t\tthis.fitCubic(segments, error, first, split, tan1, tanCenter);\n\t\tthis.fitCubic(segments, error, split, last, tanCenter.negate(), tan2);\n\t},\n\n\taddCurve: function(segments, curve) {\n\t\tvar prev = segments[segments.length - 1];\n\t\tprev.setHandleOut(curve[1].subtract(curve[0]));\n\t\tsegments.push(new Segment(curve[3], curve[2].subtract(curve[3])));\n\t},\n\n\tgenerateBezier: function(first, last, uPrime, tan1, tan2) {\n\t\tvar epsilon = 1e-12,\n\t\t\tabs = Math.abs,\n\t\t\tpoints = this.points,\n\t\t\tpt1 = points[first],\n\t\t\tpt2 = points[last],\n\t\t\tC = [[0, 0], [0, 0]],\n\t\t\tX = [0, 0];\n\n\t\tfor (var i = 0, l = last - first + 1; i < l; i++) {\n\t\t\tvar u = uPrime[i],\n\t\t\t\tt = 1 - u,\n\t\t\t\tb = 3 * u * t,\n\t\t\t\tb0 = t * t * t,\n\t\t\t\tb1 = b * t,\n\t\t\t\tb2 = b * u,\n\t\t\t\tb3 = u * u * u,\n\t\t\t\ta1 = tan1.normalize(b1),\n\t\t\t\ta2 = tan2.normalize(b2),\n\t\t\t\ttmp = points[first + i]\n\t\t\t\t\t.subtract(pt1.multiply(b0 + b1))\n\t\t\t\t\t.subtract(pt2.multiply(b2 + b3));\n\t\t\tC[0][0] += a1.dot(a1);\n\t\t\tC[0][1] += a1.dot(a2);\n\t\t\tC[1][0] = C[0][1];\n\t\t\tC[1][1] += a2.dot(a2);\n\t\t\tX[0] += a1.dot(tmp);\n\t\t\tX[1] += a2.dot(tmp);\n\t\t}\n\n\t\tvar detC0C1 = C[0][0] * C[1][1] - C[1][0] * C[0][1],\n\t\t\talpha1,\n\t\t\talpha2;\n\t\tif (abs(detC0C1) > epsilon) {\n\t\t\tvar detC0X = C[0][0] * X[1]    - C[1][0] * X[0],\n\t\t\t\tdetXC1 = X[0]    * C[1][1] - X[1]    * C[0][1];\n\t\t\talpha1 = detXC1 / detC0C1;\n\t\t\talpha2 = detC0X / detC0C1;\n\t\t} else {\n\t\t\tvar c0 = C[0][0] + C[0][1],\n\t\t\t\tc1 = C[1][0] + C[1][1];\n\t\t\talpha1 = alpha2 = abs(c0) > epsilon ? X[0] / c0\n\t\t\t\t\t\t\t: abs(c1) > epsilon ? X[1] / c1\n\t\t\t\t\t\t\t: 0;\n\t\t}\n\n\t\tvar segLength = pt2.getDistance(pt1),\n\t\t\teps = epsilon * segLength,\n\t\t\thandle1,\n\t\t\thandle2;\n\t\tif (alpha1 < eps || alpha2 < eps) {\n\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t} else {\n\t\t\tvar line = pt2.subtract(pt1);\n\t\t\thandle1 = tan1.normalize(alpha1);\n\t\t\thandle2 = tan2.normalize(alpha2);\n\t\t\tif (handle1.dot(line) - handle2.dot(line) > segLength * segLength) {\n\t\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t\t\thandle1 = handle2 = null;\n\t\t\t}\n\t\t}\n\n\t\treturn [pt1,\n\t\t\t\tpt1.add(handle1 || tan1.normalize(alpha1)),\n\t\t\t\tpt2.add(handle2 || tan2.normalize(alpha2)),\n\t\t\t\tpt2];\n\t},\n\n\treparameterize: function(first, last, u, curve) {\n\t\tfor (var i = first; i <= last; i++) {\n\t\t\tu[i - first] = this.findRoot(curve, this.points[i], u[i - first]);\n\t\t}\n\t\tfor (var i = 1, l = u.length; i < l; i++) {\n\t\t\tif (u[i] <= u[i - 1])\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tfindRoot: function(curve, point, u) {\n\t\tvar curve1 = [],\n\t\t\tcurve2 = [];\n\t\tfor (var i = 0; i <= 2; i++) {\n\t\t\tcurve1[i] = curve[i + 1].subtract(curve[i]).multiply(3);\n\t\t}\n\t\tfor (var i = 0; i <= 1; i++) {\n\t\t\tcurve2[i] = curve1[i + 1].subtract(curve1[i]).multiply(2);\n\t\t}\n\t\tvar pt = this.evaluate(3, curve, u),\n\t\t\tpt1 = this.evaluate(2, curve1, u),\n\t\t\tpt2 = this.evaluate(1, curve2, u),\n\t\t\tdiff = pt.subtract(point),\n\t\t\tdf = pt1.dot(pt1) + diff.dot(pt2);\n\t\treturn Numerical.isMachineZero(df) ? u : u - diff.dot(pt1) / df;\n\t},\n\n\tevaluate: function(degree, curve, t) {\n\t\tvar tmp = curve.slice();\n\t\tfor (var i = 1; i <= degree; i++) {\n\t\t\tfor (var j = 0; j <= degree - i; j++) {\n\t\t\t\ttmp[j] = tmp[j].multiply(1 - t).add(tmp[j + 1].multiply(t));\n\t\t\t}\n\t\t}\n\t\treturn tmp[0];\n\t},\n\n\tchordLengthParameterize: function(first, last) {\n\t\tvar u = [0];\n\t\tfor (var i = first + 1; i <= last; i++) {\n\t\t\tu[i - first] = u[i - first - 1]\n\t\t\t\t\t+ this.points[i].getDistance(this.points[i - 1]);\n\t\t}\n\t\tfor (var i = 1, m = last - first; i <= m; i++) {\n\t\t\tu[i] /= u[m];\n\t\t}\n\t\treturn u;\n\t},\n\n\tfindMaxError: function(first, last, curve, u) {\n\t\tvar index = Math.floor((last - first + 1) / 2),\n\t\t\tmaxDist = 0;\n\t\tfor (var i = first + 1; i < last; i++) {\n\t\t\tvar P = this.evaluate(3, curve, u[i - first]);\n\t\t\tvar v = P.subtract(this.points[i]);\n\t\t\tvar dist = v.x * v.x + v.y * v.y;\n\t\t\tif (dist >= maxDist) {\n\t\t\t\tmaxDist = dist;\n\t\t\t\tindex = i;\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\terror: maxDist,\n\t\t\tindex: index\n\t\t};\n\t}\n});\n\nvar TextItem = Item.extend({\n\t_class: 'TextItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_serializeFields: {\n\t\tcontent: null\n\t},\n\t_boundsOptions: { stroke: false, handle: false },\n\n\tinitialize: function TextItem(arg) {\n\t\tthis._content = '';\n\t\tthis._lines = [];\n\t\tvar hasProps = arg && Base.isPlainObject(arg)\n\t\t\t\t&& arg.x === undefined && arg.y === undefined;\n\t\tthis._initialize(hasProps && arg, !hasProps && Point.read(arguments));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._content === item._content;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setContent(source._content);\n\t},\n\n\tgetContent: function() {\n\t\treturn this._content;\n\t},\n\n\tsetContent: function(content) {\n\t\tthis._content = '' + content;\n\t\tthis._lines = this._content.split(/\\r\\n|\\n|\\r/mg);\n\t\tthis._changed(521);\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._content;\n\t},\n\n\tgetCharacterStyle: '#getStyle',\n\tsetCharacterStyle: '#setStyle',\n\n\tgetParagraphStyle: '#getStyle',\n\tsetParagraphStyle: '#setStyle'\n});\n\nvar PointText = TextItem.extend({\n\t_class: 'PointText',\n\n\tinitialize: function PointText() {\n\t\tTextItem.apply(this, arguments);\n\t},\n\n\tgetPoint: function() {\n\t\tvar point = this._matrix.getTranslation();\n\t\treturn new LinkedPoint(point.x, point.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.translate(point.subtract(this._matrix.getTranslation()));\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tif (!this._content)\n\t\t\treturn;\n\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\tvar lines = this._lines,\n\t\t\tstyle = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tleading = style.getLeading(),\n\t\t\tshadowColor = ctx.shadowColor;\n\t\tctx.font = style.getFontStyle();\n\t\tctx.textAlign = style.getJustification();\n\t\tfor (var i = 0, l = lines.length; i < l; i++) {\n\t\t\tctx.shadowColor = shadowColor;\n\t\t\tvar line = lines[i];\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fillText(line, 0, 0);\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.strokeText(line, 0, 0);\n\t\t\tctx.translate(0, leading);\n\t\t}\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar style = this._style,\n\t\t\tlines = this._lines,\n\t\t\tnumLines = lines.length,\n\t\t\tjustification = style.getJustification(),\n\t\t\tleading = style.getLeading(),\n\t\t\twidth = this.getView().getTextWidth(style.getFontStyle(), lines),\n\t\t\tx = 0;\n\t\tif (justification !== 'left')\n\t\t\tx -= width / (justification === 'center' ? 2: 1);\n\t\tvar rect = new Rectangle(x,\n\t\t\t\t\tnumLines ? - 0.75 * leading : 0,\n\t\t\t\t\twidth, numLines * leading);\n\t\treturn matrix ? matrix._transformBounds(rect, rect) : rect;\n\t}\n});\n\nvar Color = Base.extend(new function() {\n\tvar types = {\n\t\tgray: ['gray'],\n\t\trgb: ['red', 'green', 'blue'],\n\t\thsb: ['hue', 'saturation', 'brightness'],\n\t\thsl: ['hue', 'saturation', 'lightness'],\n\t\tgradient: ['gradient', 'origin', 'destination', 'highlight']\n\t};\n\n\tvar componentParsers = {},\n\t\tnamedColors = {\n\t\t\ttransparent: [0, 0, 0, 0]\n\t\t},\n\t\tcolorCtx;\n\n\tfunction fromCSS(string) {\n\t\tvar match = string.match(\n\t\t\t\t/^#([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})?$/i\n\t\t\t) || string.match(\n\t\t\t\t/^#([\\da-f])([\\da-f])([\\da-f])([\\da-f])?$/i\n\t\t\t),\n\t\t\ttype = 'rgb',\n\t\t\tcomponents;\n\t\tif (match) {\n\t\t\tvar amount = match[4] ? 4 : 3;\n\t\t\tcomponents = new Array(amount);\n\t\t\tfor (var i = 0; i < amount; i++) {\n\t\t\t\tvar value = match[i + 1];\n\t\t\t\tcomponents[i] = parseInt(value.length == 1\n\t\t\t\t\t\t? value + value : value, 16) / 255;\n\t\t\t}\n\t\t} else if (match = string.match(/^(rgb|hsl)a?\\((.*)\\)$/)) {\n\t\t\ttype = match[1];\n\t\t\tcomponents = match[2].trim().split(/[,\\s]+/g);\n\t\t\tvar isHSL = type === 'hsl';\n\t\t\tfor (var i = 0, l = Math.min(components.length, 4); i < l; i++) {\n\t\t\t\tvar component = components[i];\n\t\t\t\tvar value = parseFloat(component);\n\t\t\t\tif (isHSL) {\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tvar unit = component.match(/([a-z]*)$/)[1];\n\t\t\t\t\t\tvalue *= ({\n\t\t\t\t\t\t\tturn: 360,\n\t\t\t\t\t\t\trad: 180 / Math.PI,\n\t\t\t\t\t\t\tgrad: 0.9\n\t\t\t\t\t\t}[unit] || 1);\n\t\t\t\t\t} else if (i < 3) {\n\t\t\t\t\t\tvalue /= 100;\n\t\t\t\t\t}\n\t\t\t\t} else if (i < 3) {\n\t\t\t\t\tvalue /= /%$/.test(component) ? 100 : 255;\n\t\t\t\t}\n\t\t\t\tcomponents[i] = value;\n\t\t\t}\n\t\t} else {\n\t\t\tvar color = namedColors[string];\n\t\t\tif (!color) {\n\t\t\t\tif (window) {\n\t\t\t\t\tif (!colorCtx) {\n\t\t\t\t\t\tcolorCtx = CanvasProvider.getContext(1, 1, {\n\t\t\t\t\t\t\twillReadFrequently: true\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcolorCtx.globalCompositeOperation = 'copy';\n\t\t\t\t\t}\n\t\t\t\t\tcolorCtx.fillStyle = 'rgba(0,0,0,0)';\n\t\t\t\t\tcolorCtx.fillStyle = string;\n\t\t\t\t\tcolorCtx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tvar data = colorCtx.getImageData(0, 0, 1, 1).data;\n\t\t\t\t\tcolor = namedColors[string] = [\n\t\t\t\t\t\tdata[0] / 255,\n\t\t\t\t\t\tdata[1] / 255,\n\t\t\t\t\t\tdata[2] / 255\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tcolor = [0, 0, 0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcomponents = color.slice();\n\t\t}\n\t\treturn [type, components];\n\t}\n\n\tvar hsbIndices = [\n\t\t[0, 3, 1],\n\t\t[2, 0, 1],\n\t\t[1, 0, 3],\n\t\t[1, 2, 0],\n\t\t[3, 1, 0],\n\t\t[0, 1, 2]\n\t];\n\n\tvar converters = {\n\t\t'rgb-hsb': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\th = delta === 0 ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60;\n\t\t\treturn [h, max === 0 ? 0 : delta / max, max];\n\t\t},\n\n\t\t'hsb-rgb': function(h, s, b) {\n\t\t\th = (((h / 60) % 6) + 6) % 6;\n\t\t\tvar i = Math.floor(h),\n\t\t\t\tf = h - i,\n\t\t\t\ti = hsbIndices[i],\n\t\t\t\tv = [\n\t\t\t\t\tb,\n\t\t\t\t\tb * (1 - s),\n\t\t\t\t\tb * (1 - s * f),\n\t\t\t\t\tb * (1 - s * (1 - f))\n\t\t\t\t];\n\t\t\treturn [v[i[0]], v[i[1]], v[i[2]]];\n\t\t},\n\n\t\t'rgb-hsl': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\tachromatic = delta === 0,\n\t\t\t\th = achromatic ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60,\n\t\t\t\tl = (max + min) / 2,\n\t\t\t\ts = achromatic ? 0 : l < 0.5\n\t\t\t\t\t\t? delta / (max + min)\n\t\t\t\t\t\t: delta / (2 - max - min);\n\t\t\treturn [h, s, l];\n\t\t},\n\n\t\t'hsl-rgb': function(h, s, l) {\n\t\t\th = (((h / 360) % 1) + 1) % 1;\n\t\t\tif (s === 0)\n\t\t\t\treturn [l, l, l];\n\t\t\tvar t3s = [ h + 1 / 3, h, h - 1 / 3 ],\n\t\t\t\tt2 = l < 0.5 ? l * (1 + s) : l + s - l * s,\n\t\t\t\tt1 = 2 * l - t2,\n\t\t\t\tc = [];\n\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\tvar t3 = t3s[i];\n\t\t\t\tif (t3 < 0) t3 += 1;\n\t\t\t\tif (t3 > 1) t3 -= 1;\n\t\t\t\tc[i] = 6 * t3 < 1\n\t\t\t\t\t? t1 + (t2 - t1) * 6 * t3\n\t\t\t\t\t: 2 * t3 < 1\n\t\t\t\t\t\t? t2\n\t\t\t\t\t\t: 3 * t3 < 2\n\t\t\t\t\t\t\t? t1 + (t2 - t1) * ((2 / 3) - t3) * 6\n\t\t\t\t\t\t\t: t1;\n\t\t\t}\n\t\t\treturn c;\n\t\t},\n\n\t\t'rgb-gray': function(r, g, b) {\n\t\t\treturn [r * 0.2989 + g * 0.587 + b * 0.114];\n\t\t},\n\n\t\t'gray-rgb': function(g) {\n\t\t\treturn [g, g, g];\n\t\t},\n\n\t\t'gray-hsb': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gray-hsl': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gradient-rgb': function() {\n\t\t\treturn [];\n\t\t},\n\n\t\t'rgb-gradient': function() {\n\t\t\treturn [];\n\t\t}\n\n\t};\n\n\treturn Base.each(types, function(properties, type) {\n\t\tcomponentParsers[type] = [];\n\t\tBase.each(properties, function(name, index) {\n\t\t\tvar part = Base.capitalize(name),\n\t\t\t\thasOverlap = /^(hue|saturation)$/.test(name),\n\t\t\t\tparser = componentParsers[type][index] = type === 'gradient'\n\t\t\t\t\t? name === 'gradient'\n\t\t\t\t\t\t? function(value) {\n\t\t\t\t\t\t\tvar current = this._components[0];\n\t\t\t\t\t\t\tvalue = Gradient.read(\n\t\t\t\t\t\t\t\tArray.isArray(value)\n\t\t\t\t\t\t\t\t\t? value\n\t\t\t\t\t\t\t\t\t: arguments, 0, { readNull: true }\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (current !== value) {\n\t\t\t\t\t\t\t\tif (current)\n\t\t\t\t\t\t\t\t\tcurrent._removeOwner(this);\n\t\t\t\t\t\t\t\tif (value)\n\t\t\t\t\t\t\t\t\tvalue._addOwner(this);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t: function() {\n\t\t\t\t\t\t\treturn Point.read(arguments, 0, {\n\t\t\t\t\t\t\t\t\treadNull: name === 'highlight',\n\t\t\t\t\t\t\t\t\tclone: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t: function(value) {\n\t\t\t\t\t\treturn value == null || isNaN(value) ? 0 : +value;\n\t\t\t\t\t};\n\t\t\tthis['get' + part] = function() {\n\t\t\t\treturn this._type === type\n\t\t\t\t\t|| hasOverlap && /^hs[bl]$/.test(this._type)\n\t\t\t\t\t\t? this._components[index]\n\t\t\t\t\t\t: this._convert(type)[index];\n\t\t\t};\n\n\t\t\tthis['set' + part] = function(value) {\n\t\t\t\tif (this._type !== type\n\t\t\t\t\t\t&& !(hasOverlap && /^hs[bl]$/.test(this._type))) {\n\t\t\t\t\tthis._components = this._convert(type);\n\t\t\t\t\tthis._properties = types[type];\n\t\t\t\t\tthis._type = type;\n\t\t\t\t}\n\t\t\t\tthis._components[index] = parser.call(this, value);\n\t\t\t\tthis._changed();\n\t\t\t};\n\t\t}, this);\n\t}, {\n\t\t_class: 'Color',\n\t\t_readIndex: true,\n\n\t\tinitialize: function Color(arg) {\n\t\t\tvar args = arguments,\n\t\t\t\treading = this.__read,\n\t\t\t\tread = 0,\n\t\t\t\ttype,\n\t\t\t\tcomponents,\n\t\t\t\talpha,\n\t\t\t\tvalues;\n\t\t\tif (Array.isArray(arg)) {\n\t\t\t\targs = arg;\n\t\t\t\targ = args[0];\n\t\t\t}\n\t\t\tvar argType = arg != null && typeof arg;\n\t\t\tif (argType === 'string' && arg in types) {\n\t\t\t\ttype = arg;\n\t\t\t\targ = args[1];\n\t\t\t\tif (Array.isArray(arg)) {\n\t\t\t\t\tcomponents = arg;\n\t\t\t\t\talpha = args[2];\n\t\t\t\t} else {\n\t\t\t\t\tif (reading)\n\t\t\t\t\t\tread = 1;\n\t\t\t\t\targs = Base.slice(args, 1);\n\t\t\t\t\targType = typeof arg;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!components) {\n\t\t\t\tvalues = argType === 'number'\n\t\t\t\t\t\t? args\n\t\t\t\t\t\t: argType === 'object' && arg.length != null\n\t\t\t\t\t\t\t? arg\n\t\t\t\t\t\t\t: null;\n\t\t\t\tif (values) {\n\t\t\t\t\tif (!type)\n\t\t\t\t\t\ttype = values.length >= 3\n\t\t\t\t\t\t\t\t? 'rgb'\n\t\t\t\t\t\t\t\t: 'gray';\n\t\t\t\t\tvar length = types[type].length;\n\t\t\t\t\talpha = values[length];\n\t\t\t\t\tif (reading) {\n\t\t\t\t\t\tread += values === arguments\n\t\t\t\t\t\t\t? length + (alpha != null ? 1 : 0)\n\t\t\t\t\t\t\t: 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (values.length > length)\n\t\t\t\t\t\tvalues = Base.slice(values, 0, length);\n\t\t\t\t} else if (argType === 'string') {\n\t\t\t\t\tvar converted = fromCSS(arg);\n\t\t\t\t\ttype = converted[0];\n\t\t\t\t\tcomponents = converted[1];\n\t\t\t\t\tif (components.length === 4) {\n\t\t\t\t\t\talpha = components[3];\n\t\t\t\t\t\tcomponents.length--;\n\t\t\t\t\t}\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tif (arg.constructor === Color) {\n\t\t\t\t\t\ttype = arg._type;\n\t\t\t\t\t\tcomponents = arg._components.slice();\n\t\t\t\t\t\talpha = arg._alpha;\n\t\t\t\t\t\tif (type === 'gradient') {\n\t\t\t\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\t\t\t\tvar point = components[i];\n\t\t\t\t\t\t\t\tif (point)\n\t\t\t\t\t\t\t\t\tcomponents[i] = point.clone();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (arg.constructor === Gradient) {\n\t\t\t\t\t\ttype = 'gradient';\n\t\t\t\t\t\tvalues = args;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = 'hue' in arg\n\t\t\t\t\t\t\t? 'lightness' in arg\n\t\t\t\t\t\t\t\t? 'hsl'\n\t\t\t\t\t\t\t\t: 'hsb'\n\t\t\t\t\t\t\t: 'gradient' in arg || 'stops' in arg\n\t\t\t\t\t\t\t\t\t|| 'radial' in arg\n\t\t\t\t\t\t\t\t? 'gradient'\n\t\t\t\t\t\t\t\t: 'gray' in arg\n\t\t\t\t\t\t\t\t\t? 'gray'\n\t\t\t\t\t\t\t\t\t: 'rgb';\n\t\t\t\t\t\tvar properties = types[type],\n\t\t\t\t\t\t\tparsers = componentParsers[type];\n\t\t\t\t\t\tthis._components = components = [];\n\t\t\t\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\t\t\t\tvar value = arg[properties[i]];\n\t\t\t\t\t\t\tif (value == null && !i && type === 'gradient'\n\t\t\t\t\t\t\t\t\t&& 'stops' in arg) {\n\t\t\t\t\t\t\t\tvalue = {\n\t\t\t\t\t\t\t\t\tstops: arg.stops,\n\t\t\t\t\t\t\t\t\tradial: arg.radial\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue = parsers[i].call(this, value);\n\t\t\t\t\t\t\tif (value != null)\n\t\t\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\talpha = arg.alpha;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (reading && type)\n\t\t\t\t\tread = 1;\n\t\t\t}\n\t\t\tthis._type = type || 'rgb';\n\t\t\tif (!components) {\n\t\t\t\tthis._components = components = [];\n\t\t\t\tvar parsers = componentParsers[this._type];\n\t\t\t\tfor (var i = 0, l = parsers.length; i < l; i++) {\n\t\t\t\t\tvar value = parsers[i].call(this, values && values[i]);\n\t\t\t\t\tif (value != null)\n\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._components = components;\n\t\t\tthis._properties = types[this._type];\n\t\t\tthis._alpha = alpha;\n\t\t\tif (reading)\n\t\t\t\tthis.__read = read;\n\t\t\treturn this;\n\t\t},\n\n\t\tset: '#initialize',\n\n\t\t_serialize: function(options, dictionary) {\n\t\t\tvar components = this.getComponents();\n\t\t\treturn Base.serialize(\n\t\t\t\t\t/^(gray|rgb)$/.test(this._type)\n\t\t\t\t\t\t? components\n\t\t\t\t\t\t: [this._type].concat(components),\n\t\t\t\t\toptions, true, dictionary);\n\t\t},\n\n\t\t_changed: function() {\n\t\t\tthis._canvasStyle = null;\n\t\t\tif (this._owner) {\n\t\t\t\tif (this._setter) {\n\t\t\t\t\tthis._owner[this._setter](this);\n\t\t\t\t} else {\n\t\t\t\t\tthis._owner._changed(129);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_convert: function(type) {\n\t\t\tvar converter;\n\t\t\treturn this._type === type\n\t\t\t\t\t? this._components.slice()\n\t\t\t\t\t: (converter = converters[this._type + '-' + type])\n\t\t\t\t\t\t? converter.apply(this, this._components)\n\t\t\t\t\t\t: converters['rgb-' + type].apply(this,\n\t\t\t\t\t\t\tconverters[this._type + '-rgb'].apply(this,\n\t\t\t\t\t\t\t\tthis._components));\n\t\t},\n\n\t\tconvert: function(type) {\n\t\t\treturn new Color(type, this._convert(type), this._alpha);\n\t\t},\n\n\t\tgetType: function() {\n\t\t\treturn this._type;\n\t\t},\n\n\t\tsetType: function(type) {\n\t\t\tthis._components = this._convert(type);\n\t\t\tthis._properties = types[type];\n\t\t\tthis._type = type;\n\t\t},\n\n\t\tgetComponents: function() {\n\t\t\tvar components = this._components.slice();\n\t\t\tif (this._alpha != null)\n\t\t\t\tcomponents.push(this._alpha);\n\t\t\treturn components;\n\t\t},\n\n\t\tgetAlpha: function() {\n\t\t\treturn this._alpha != null ? this._alpha : 1;\n\t\t},\n\n\t\tsetAlpha: function(alpha) {\n\t\t\tthis._alpha = alpha == null ? null : Math.min(Math.max(alpha, 0), 1);\n\t\t\tthis._changed();\n\t\t},\n\n\t\thasAlpha: function() {\n\t\t\treturn this._alpha != null;\n\t\t},\n\n\t\tequals: function(color) {\n\t\t\tvar col = Base.isPlainValue(color, true)\n\t\t\t\t\t? Color.read(arguments)\n\t\t\t\t\t: color;\n\t\t\treturn col === this || col && this._class === col._class\n\t\t\t\t\t&& this._type === col._type\n\t\t\t\t\t&& this.getAlpha() === col.getAlpha()\n\t\t\t\t\t&& Base.equals(this._components, col._components)\n\t\t\t\t\t|| false;\n\t\t},\n\n\t\ttoString: function() {\n\t\t\tvar properties = this._properties,\n\t\t\t\tparts = [],\n\t\t\t\tisGradient = this._type === 'gradient',\n\t\t\t\tf = Formatter.instance;\n\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\tvar value = this._components[i];\n\t\t\t\tif (value != null)\n\t\t\t\t\tparts.push(properties[i] + ': '\n\t\t\t\t\t\t\t+ (isGradient ? value : f.number(value)));\n\t\t\t}\n\t\t\tif (this._alpha != null)\n\t\t\t\tparts.push('alpha: ' + f.number(this._alpha));\n\t\t\treturn '{ ' + parts.join(', ') + ' }';\n\t\t},\n\n\t\ttoCSS: function(hex) {\n\t\t\tvar components = this._convert('rgb'),\n\t\t\t\talpha = hex || this._alpha == null ? 1 : this._alpha;\n\t\t\tfunction convert(val) {\n\t\t\t\treturn Math.round((val < 0 ? 0 : val > 1 ? 1 : val) * 255);\n\t\t\t}\n\t\t\tcomponents = [\n\t\t\t\tconvert(components[0]),\n\t\t\t\tconvert(components[1]),\n\t\t\t\tconvert(components[2])\n\t\t\t];\n\t\t\tif (alpha < 1)\n\t\t\t\tcomponents.push(alpha < 0 ? 0 : alpha);\n\t\t\treturn hex\n\t\t\t\t\t? '#' + ((1 << 24) + (components[0] << 16)\n\t\t\t\t\t\t+ (components[1] << 8)\n\t\t\t\t\t\t+ components[2]).toString(16).slice(1)\n\t\t\t\t\t: (components.length == 4 ? 'rgba(' : 'rgb(')\n\t\t\t\t\t\t+ components.join(',') + ')';\n\t\t},\n\n\t\ttoCanvasStyle: function(ctx, matrix) {\n\t\t\tif (this._canvasStyle)\n\t\t\t\treturn this._canvasStyle;\n\t\t\tif (this._type !== 'gradient')\n\t\t\t\treturn this._canvasStyle = this.toCSS();\n\t\t\tvar components = this._components,\n\t\t\t\tgradient = components[0],\n\t\t\t\tstops = gradient._stops,\n\t\t\t\torigin = components[1],\n\t\t\t\tdestination = components[2],\n\t\t\t\thighlight = components[3],\n\t\t\t\tinverse = matrix && matrix.inverted(),\n\t\t\t\tcanvasGradient;\n\t\t\tif (inverse) {\n\t\t\t\torigin = inverse._transformPoint(origin);\n\t\t\t\tdestination = inverse._transformPoint(destination);\n\t\t\t\tif (highlight)\n\t\t\t\t\thighlight = inverse._transformPoint(highlight);\n\t\t\t}\n\t\t\tif (gradient._radial) {\n\t\t\t\tvar radius = destination.getDistance(origin);\n\t\t\t\tif (highlight) {\n\t\t\t\t\tvar vector = highlight.subtract(origin);\n\t\t\t\t\tif (vector.getLength() > radius)\n\t\t\t\t\t\thighlight = origin.add(vector.normalize(radius - 0.1));\n\t\t\t\t}\n\t\t\t\tvar start = highlight || origin;\n\t\t\t\tcanvasGradient = ctx.createRadialGradient(start.x, start.y,\n\t\t\t\t\t\t0, origin.x, origin.y, radius);\n\t\t\t} else {\n\t\t\t\tcanvasGradient = ctx.createLinearGradient(origin.x, origin.y,\n\t\t\t\t\t\tdestination.x, destination.y);\n\t\t\t}\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tcanvasGradient.addColorStop(\n\t\t\t\t\t\toffset == null ? i / (l - 1) : offset,\n\t\t\t\t\t\tstop._color.toCanvasStyle());\n\t\t\t}\n\t\t\treturn this._canvasStyle = canvasGradient;\n\t\t},\n\n\t\ttransform: function(matrix) {\n\t\t\tif (this._type === 'gradient') {\n\t\t\t\tvar components = this._components;\n\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\tvar point = components[i];\n\t\t\t\t\tmatrix._transformPoint(point, point, true);\n\t\t\t\t}\n\t\t\t\tthis._changed();\n\t\t\t}\n\t\t},\n\n\t\tstatics: {\n\t\t\t_types: types,\n\n\t\t\trandom: function() {\n\t\t\t\tvar random = Math.random;\n\t\t\t\treturn new Color(random(), random(), random());\n\t\t\t},\n\n\t\t\t_setOwner: function(color, owner, setter) {\n\t\t\t\tif (color) {\n\t\t\t\t\tif (color._owner && owner && color._owner !== owner) {\n\t\t\t\t\t\tcolor = color.clone();\n\t\t\t\t\t}\n\t\t\t\t\tif (!color._owner ^ !owner) {\n\t\t\t\t\t\tcolor._owner = owner || null;\n\t\t\t\t\t\tcolor._setter = setter || null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn color;\n\t\t\t}\n\t\t}\n\t});\n},\nnew function() {\n\tvar operators = {\n\t\tadd: function(a, b) {\n\t\t\treturn a + b;\n\t\t},\n\n\t\tsubtract: function(a, b) {\n\t\t\treturn a - b;\n\t\t},\n\n\t\tmultiply: function(a, b) {\n\t\t\treturn a * b;\n\t\t},\n\n\t\tdivide: function(a, b) {\n\t\t\treturn a / b;\n\t\t}\n\t};\n\n\treturn Base.each(operators, function(operator, name) {\n\t\tthis[name] = function(color) {\n\t\t\tcolor = Color.read(arguments);\n\t\t\tvar type = this._type,\n\t\t\t\tcomponents1 = this._components,\n\t\t\t\tcomponents2 = color._convert(type);\n\t\t\tfor (var i = 0, l = components1.length; i < l; i++)\n\t\t\t\tcomponents2[i] = operator(components1[i], components2[i]);\n\t\t\treturn new Color(type, components2,\n\t\t\t\t\tthis._alpha != null\n\t\t\t\t\t\t\t? operator(this._alpha, color.getAlpha())\n\t\t\t\t\t\t\t: null);\n\t\t};\n\t}, {\n\t});\n});\n\nvar Gradient = Base.extend({\n\t_class: 'Gradient',\n\n\tinitialize: function Gradient(stops, radial) {\n\t\tthis._id = UID.get();\n\t\tif (stops && Base.isPlainObject(stops)) {\n\t\t\tthis.set(stops);\n\t\t\tstops = radial = null;\n\t\t}\n\t\tif (this._stops == null) {\n\t\t\tthis.setStops(stops || ['white', 'black']);\n\t\t}\n\t\tif (this._radial == null) {\n\t\t\tthis.setRadial(typeof radial === 'string' && radial === 'radial'\n\t\t\t\t\t|| radial || false);\n\t\t}\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._stops, this._radial],\n\t\t\t\t\toptions, true, dictionary);\n\t\t});\n\t},\n\n\t_changed: function() {\n\t\tfor (var i = 0, l = this._owners && this._owners.length; i < l; i++) {\n\t\t\tthis._owners[i]._changed();\n\t\t}\n\t},\n\n\t_addOwner: function(color) {\n\t\tif (!this._owners)\n\t\t\tthis._owners = [];\n\t\tthis._owners.push(color);\n\t},\n\n\t_removeOwner: function(color) {\n\t\tvar index = this._owners ? this._owners.indexOf(color) : -1;\n\t\tif (index != -1) {\n\t\t\tthis._owners.splice(index, 1);\n\t\t\tif (!this._owners.length)\n\t\t\t\tthis._owners = undefined;\n\t\t}\n\t},\n\n\tclone: function() {\n\t\tvar stops = [];\n\t\tfor (var i = 0, l = this._stops.length; i < l; i++) {\n\t\t\tstops[i] = this._stops[i].clone();\n\t\t}\n\t\treturn new Gradient(stops, this._radial);\n\t},\n\n\tgetStops: function() {\n\t\treturn this._stops;\n\t},\n\n\tsetStops: function(stops) {\n\t\tif (stops.length < 2) {\n\t\t\tthrow new Error(\n\t\t\t\t\t'Gradient stop list needs to contain at least two stops.');\n\t\t}\n\t\tvar _stops = this._stops;\n\t\tif (_stops) {\n\t\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t\t_stops[i]._owner = undefined;\n\t\t}\n\t\t_stops = this._stops = GradientStop.readList(stops, 0, { clone: true });\n\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t_stops[i]._owner = this;\n\t\tthis._changed();\n\t},\n\n\tgetRadial: function() {\n\t\treturn this._radial;\n\t},\n\n\tsetRadial: function(radial) {\n\t\tthis._radial = radial;\n\t\tthis._changed();\n\t},\n\n\tequals: function(gradient) {\n\t\tif (gradient === this)\n\t\t\treturn true;\n\t\tif (gradient && this._class === gradient._class) {\n\t\t\tvar stops1 = this._stops,\n\t\t\t\tstops2 = gradient._stops,\n\t\t\t\tlength = stops1.length;\n\t\t\tif (length === stops2.length) {\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tif (!stops1[i].equals(stops2[i]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n});\n\nvar GradientStop = Base.extend({\n\t_class: 'GradientStop',\n\n\tinitialize: function GradientStop(arg0, arg1) {\n\t\tvar color = arg0,\n\t\t\toffset = arg1;\n\t\tif (typeof arg0 === 'object' && arg1 === undefined) {\n\t\t\tif (Array.isArray(arg0) && typeof arg0[0] !== 'number') {\n\t\t\t\tcolor = arg0[0];\n\t\t\t\toffset = arg0[1];\n\t\t\t} else if ('color' in arg0 || 'offset' in arg0\n\t\t\t\t\t|| 'rampPoint' in arg0) {\n\t\t\t\tcolor = arg0.color;\n\t\t\t\toffset = arg0.offset || arg0.rampPoint || 0;\n\t\t\t}\n\t\t}\n\t\tthis.setColor(color);\n\t\tthis.setOffset(offset);\n\t},\n\n\tclone: function() {\n\t\treturn new GradientStop(this._color.clone(), this._offset);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar color = this._color,\n\t\t\toffset = this._offset;\n\t\treturn Base.serialize(offset == null ? [color] : [color, offset],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tif (this._owner)\n\t\t\tthis._owner._changed(129);\n\t},\n\n\tgetOffset: function() {\n\t\treturn this._offset;\n\t},\n\n\tsetOffset: function(offset) {\n\t\tthis._offset = offset;\n\t\tthis._changed();\n\t},\n\n\tgetRampPoint: '#getOffset',\n\tsetRampPoint: '#setOffset',\n\n\tgetColor: function() {\n\t\treturn this._color;\n\t},\n\n\tsetColor: function() {\n\t\tColor._setOwner(this._color, null);\n\t\tthis._color = Color._setOwner(Color.read(arguments, 0), this,\n\t\t\t\t'setColor');\n\t\tthis._changed();\n\t},\n\n\tequals: function(stop) {\n\t\treturn stop === this || stop && this._class === stop._class\n\t\t\t\t&& this._color.equals(stop._color)\n\t\t\t\t&& this._offset == stop._offset\n\t\t\t\t|| false;\n\t}\n});\n\nvar Style = Base.extend(new function() {\n\tvar itemDefaults = {\n\t\tfillColor: null,\n\t\tfillRule: 'nonzero',\n\t\tstrokeColor: null,\n\t\tstrokeWidth: 1,\n\t\tstrokeCap: 'butt',\n\t\tstrokeJoin: 'miter',\n\t\tstrokeScaling: true,\n\t\tmiterLimit: 10,\n\t\tdashOffset: 0,\n\t\tdashArray: [],\n\t\tshadowColor: null,\n\t\tshadowBlur: 0,\n\t\tshadowOffset: new Point(),\n\t\tselectedColor: null\n\t},\n\tgroupDefaults = Base.set({}, itemDefaults, {\n\t\tfontFamily: 'sans-serif',\n\t\tfontWeight: 'normal',\n\t\tfontSize: 12,\n\t\tleading: null,\n\t\tjustification: 'left'\n\t}),\n\ttextDefaults = Base.set({}, groupDefaults, {\n\t\tfillColor: new Color()\n\t}),\n\tflags = {\n\t\tstrokeWidth: 193,\n\t\tstrokeCap: 193,\n\t\tstrokeJoin: 193,\n\t\tstrokeScaling: 201,\n\t\tmiterLimit: 193,\n\t\tfontFamily: 9,\n\t\tfontWeight: 9,\n\t\tfontSize: 9,\n\t\tfont: 9,\n\t\tleading: 9,\n\t\tjustification: 9\n\t},\n\titem = {\n\t\tbeans: true\n\t},\n\tfields = {\n\t\t_class: 'Style',\n\t\tbeans: true,\n\n\t\tinitialize: function Style(style, _owner, _project) {\n\t\t\tthis._values = {};\n\t\t\tthis._owner = _owner;\n\t\t\tthis._project = _owner && _owner._project || _project\n\t\t\t\t\t|| paper.project;\n\t\t\tthis._defaults = !_owner || _owner instanceof Group ? groupDefaults\n\t\t\t\t\t: _owner instanceof TextItem ? textDefaults\n\t\t\t\t\t: itemDefaults;\n\t\t\tif (style)\n\t\t\t\tthis.set(style);\n\t\t}\n\t};\n\n\tBase.each(groupDefaults, function(value, key) {\n\t\tvar isColor = /Color$/.test(key),\n\t\t\tisPoint = key === 'shadowOffset',\n\t\t\tpart = Base.capitalize(key),\n\t\t\tflag = flags[key],\n\t\t\tset = 'set' + part,\n\t\t\tget = 'get' + part;\n\n\t\tfields[set] = function(value) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath);\n\t\t\tif (applyToChildren) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\t\tchildren[i]._style[set](value);\n\t\t\t}\n\t\t\tif ((key === 'selectedColor' || !applyToChildren)\n\t\t\t\t\t&& key in this._defaults) {\n\t\t\t\tvar old = this._values[key];\n\t\t\t\tif (old !== value) {\n\t\t\t\t\tif (isColor) {\n\t\t\t\t\t\tif (old) {\n\t\t\t\t\t\t\tColor._setOwner(old, null);\n\t\t\t\t\t\t\told._canvasStyle = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (value && value.constructor === Color) {\n\t\t\t\t\t\t\tvalue = Color._setOwner(value, owner,\n\t\t\t\t\t\t\t\t\tapplyToChildren && set);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._values[key] = value;\n\t\t\t\t\tif (owner)\n\t\t\t\t\t\towner._changed(flag || 129);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfields[get] = function(_dontMerge) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath),\n\t\t\t\tvalue;\n\t\t\tif (applyToChildren && !_dontMerge) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\tvar childValue = children[i]._style[get]();\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tvalue = childValue;\n\t\t\t\t\t} else if (!Base.equals(value, childValue)) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (key in this._defaults) {\n\t\t\t\tvar value = this._values[key];\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\tvalue = this._defaults[key];\n\t\t\t\t\tif (value && value.clone) {\n\t\t\t\t\t\tvalue = value.clone();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar ctor = isColor ? Color : isPoint ? Point : null;\n\t\t\t\t\tif (ctor && !(value && value.constructor === ctor)) {\n\t\t\t\t\t\tthis._values[key] = value = ctor.read([value], 0,\n\t\t\t\t\t\t\t\t{ readNull: true, clone: true });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (value && isColor) {\n\t\t\t\tvalue = Color._setOwner(value, owner, applyToChildren && set);\n\t\t\t}\n\t\t\treturn value;\n\t\t};\n\n\t\titem[get] = function(_dontMerge) {\n\t\t\treturn this._style[get](_dontMerge);\n\t\t};\n\n\t\titem[set] = function(value) {\n\t\t\tthis._style[set](value);\n\t\t};\n\t});\n\n\tBase.each({\n\t\tFont: 'FontFamily',\n\t\tWindingRule: 'FillRule'\n\t}, function(value, key) {\n\t\tvar get = 'get' + key,\n\t\t\tset = 'set' + key;\n\t\tfields[get] = item[get] = '#get' + value;\n\t\tfields[set] = item[set] = '#set' + value;\n\t});\n\n\tItem.inject(item);\n\treturn fields;\n}, {\n\tset: function(style) {\n\t\tvar isStyle = style instanceof Style,\n\t\t\tvalues = isStyle ? style._values : style;\n\t\tif (values) {\n\t\t\tfor (var key in values) {\n\t\t\t\tif (key in this._defaults) {\n\t\t\t\t\tvar value = values[key];\n\t\t\t\t\tthis[key] = value && isStyle && value.clone\n\t\t\t\t\t\t\t? value.clone() : value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tequals: function(style) {\n\t\tfunction compare(style1, style2, secondary) {\n\t\t\tvar values1 = style1._values,\n\t\t\t\tvalues2 = style2._values,\n\t\t\t\tdefaults2 = style2._defaults;\n\t\t\tfor (var key in values1) {\n\t\t\t\tvar value1 = values1[key],\n\t\t\t\t\tvalue2 = values2[key];\n\t\t\t\tif (!(secondary && key in values2) && !Base.equals(value1,\n\t\t\t\t\t\tvalue2 === undefined ? defaults2[key] : value2))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn style === this || style && this._class === style._class\n\t\t\t\t&& compare(this, style)\n\t\t\t\t&& compare(style, this, true)\n\t\t\t\t|| false;\n\t},\n\n\t_dispose: function() {\n\t\tvar color;\n\t\tcolor = this.getFillColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getStrokeColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getShadowColor();\n\t\tif (color) color._canvasStyle = null;\n\t},\n\n\thasFill: function() {\n\t\tvar color = this.getFillColor();\n\t\treturn !!color && color.alpha > 0;\n\t},\n\n\thasStroke: function() {\n\t\tvar color = this.getStrokeColor();\n\t\treturn !!color && color.alpha > 0 && this.getStrokeWidth() > 0;\n\t},\n\n\thasShadow: function() {\n\t\tvar color = this.getShadowColor();\n\t\treturn !!color && color.alpha > 0 && (this.getShadowBlur() > 0\n\t\t\t\t|| !this.getShadowOffset().isZero());\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\tgetFontStyle: function() {\n\t\tvar fontSize = this.getFontSize();\n\t\treturn this.getFontWeight()\n\t\t\t\t+ ' ' + fontSize + (/[a-z]/i.test(fontSize + '') ? ' ' : 'px ')\n\t\t\t\t+ this.getFontFamily();\n\t},\n\n\tgetFont: '#getFontFamily',\n\tsetFont: '#setFontFamily',\n\n\tgetLeading: function getLeading() {\n\t\tvar leading = getLeading.base.call(this),\n\t\t\tfontSize = this.getFontSize();\n\t\tif (/pt|em|%|px/.test(fontSize))\n\t\t\tfontSize = this.getView().getPixelSize(fontSize);\n\t\treturn leading != null ? leading : fontSize * 1.2;\n\t}\n\n});\n\nvar DomElement = new function() {\n\tfunction handlePrefix(el, name, set, value) {\n\t\tvar prefixes = ['', 'webkit', 'moz', 'Moz', 'ms', 'o'],\n\t\t\tsuffix = name[0].toUpperCase() + name.substring(1);\n\t\tfor (var i = 0; i < 6; i++) {\n\t\t\tvar prefix = prefixes[i],\n\t\t\t\tkey = prefix ? prefix + suffix : name;\n\t\t\tif (key in el) {\n\t\t\t\tif (set) {\n\t\t\t\t\tel[key] = value;\n\t\t\t\t} else {\n\t\t\t\t\treturn el[key];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tgetStyles: function(el) {\n\t\t\tvar doc = el && el.nodeType !== 9 ? el.ownerDocument : el,\n\t\t\t\tview = doc && doc.defaultView;\n\t\t\treturn view && view.getComputedStyle(el, '');\n\t\t},\n\n\t\tgetBounds: function(el, viewport) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tbody = doc.body,\n\t\t\t\thtml = doc.documentElement,\n\t\t\t\trect;\n\t\t\ttry {\n\t\t\t\trect = el.getBoundingClientRect();\n\t\t\t} catch (e) {\n\t\t\t\trect = { left: 0, top: 0, width: 0, height: 0 };\n\t\t\t}\n\t\t\tvar x = rect.left - (html.clientLeft || body.clientLeft || 0),\n\t\t\t\ty = rect.top - (html.clientTop || body.clientTop || 0);\n\t\t\tif (!viewport) {\n\t\t\t\tvar view = doc.defaultView;\n\t\t\t\tx += view.pageXOffset || html.scrollLeft || body.scrollLeft;\n\t\t\t\ty += view.pageYOffset || html.scrollTop || body.scrollTop;\n\t\t\t}\n\t\t\treturn new Rectangle(x, y, rect.width, rect.height);\n\t\t},\n\n\t\tgetViewportBounds: function(el) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tview = doc.defaultView,\n\t\t\t\thtml = doc.documentElement;\n\t\t\treturn new Rectangle(0, 0,\n\t\t\t\tview.innerWidth || html.clientWidth,\n\t\t\t\tview.innerHeight || html.clientHeight\n\t\t\t);\n\t\t},\n\n\t\tgetOffset: function(el, viewport) {\n\t\t\treturn DomElement.getBounds(el, viewport).getPoint();\n\t\t},\n\n\t\tgetSize: function(el) {\n\t\t\treturn DomElement.getBounds(el, true).getSize();\n\t\t},\n\n\t\tisInvisible: function(el) {\n\t\t\treturn DomElement.getSize(el).equals(new Size(0, 0));\n\t\t},\n\n\t\tisInView: function(el) {\n\t\t\treturn !DomElement.isInvisible(el)\n\t\t\t\t\t&& DomElement.getViewportBounds(el).intersects(\n\t\t\t\t\t\tDomElement.getBounds(el, true));\n\t\t},\n\n\t\tisInserted: function(el) {\n\t\t\treturn document.body.contains(el);\n\t\t},\n\n\t\tgetPrefixed: function(el, name) {\n\t\t\treturn el && handlePrefix(el, name);\n\t\t},\n\n\t\tsetPrefixed: function(el, name, value) {\n\t\t\tif (typeof name === 'object') {\n\t\t\t\tfor (var key in name)\n\t\t\t\t\thandlePrefix(el, key, true, name[key]);\n\t\t\t} else {\n\t\t\t\thandlePrefix(el, name, true, value);\n\t\t\t}\n\t\t}\n\t};\n};\n\nvar DomEvent = {\n\tadd: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++) {\n\t\t\t\t\tvar name = parts[i];\n\t\t\t\t\tvar options = (\n\t\t\t\t\t\tel === document\n\t\t\t\t\t\t&& (name === 'touchstart' || name === 'touchmove')\n\t\t\t\t\t) ? { passive: false } : false;\n\t\t\t\t\tel.addEventListener(name, func, options);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremove: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++)\n\t\t\t\t\tel.removeEventListener(parts[i], func, false);\n\t\t\t}\n\t\t}\n\t},\n\n\tgetPoint: function(event) {\n\t\tvar pos = event.targetTouches\n\t\t\t\t? event.targetTouches.length\n\t\t\t\t\t? event.targetTouches[0]\n\t\t\t\t\t: event.changedTouches[0]\n\t\t\t\t: event;\n\t\treturn new Point(\n\t\t\tpos.pageX || pos.clientX + document.documentElement.scrollLeft,\n\t\t\tpos.pageY || pos.clientY + document.documentElement.scrollTop\n\t\t);\n\t},\n\n\tgetTarget: function(event) {\n\t\treturn event.target || event.srcElement;\n\t},\n\n\tgetRelatedTarget: function(event) {\n\t\treturn event.relatedTarget || event.toElement;\n\t},\n\n\tgetOffset: function(event, target) {\n\t\treturn DomEvent.getPoint(event).subtract(DomElement.getOffset(\n\t\t\t\ttarget || DomEvent.getTarget(event)));\n\t}\n};\n\nDomEvent.requestAnimationFrame = new function() {\n\tvar nativeRequest = DomElement.getPrefixed(window, 'requestAnimationFrame'),\n\t\trequested = false,\n\t\tcallbacks = [],\n\t\ttimer;\n\n\tfunction handleCallbacks() {\n\t\tvar functions = callbacks;\n\t\tcallbacks = [];\n\t\tfor (var i = 0, l = functions.length; i < l; i++)\n\t\t\tfunctions[i]();\n\t\trequested = nativeRequest && callbacks.length;\n\t\tif (requested)\n\t\t\tnativeRequest(handleCallbacks);\n\t}\n\n\treturn function(callback) {\n\t\tcallbacks.push(callback);\n\t\tif (nativeRequest) {\n\t\t\tif (!requested) {\n\t\t\t\tnativeRequest(handleCallbacks);\n\t\t\t\trequested = true;\n\t\t\t}\n\t\t} else if (!timer) {\n\t\t\ttimer = setInterval(handleCallbacks, 1000 / 60);\n\t\t}\n\t};\n};\n\nvar View = Base.extend(Emitter, {\n\t_class: 'View',\n\n\tinitialize: function View(project, element) {\n\n\t\tfunction getSize(name) {\n\t\t\treturn element[name] || parseInt(element.getAttribute(name), 10);\n\t\t}\n\n\t\tfunction getCanvasSize() {\n\t\t\tvar size = DomElement.getSize(element);\n\t\t\treturn size.isNaN() || size.isZero()\n\t\t\t\t\t? new Size(getSize('width'), getSize('height'))\n\t\t\t\t\t: size;\n\t\t}\n\n\t\tvar size;\n\t\tif (window && element) {\n\t\t\tthis._id = element.getAttribute('id');\n\t\t\tif (this._id == null)\n\t\t\t\telement.setAttribute('id', this._id = 'paper-view-' + View._id++);\n\t\t\tDomEvent.add(element, this._viewEvents);\n\t\t\tvar none = 'none';\n\t\t\tDomElement.setPrefixed(element.style, {\n\t\t\t\tuserDrag: none,\n\t\t\t\tuserSelect: none,\n\t\t\t\ttouchCallout: none,\n\t\t\t\tcontentZooming: none,\n\t\t\t\ttapHighlightColor: 'rgba(0,0,0,0)'\n\t\t\t});\n\n\t\t\tif (PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar that = this;\n\t\t\t\tDomEvent.add(window, this._windowEvents = {\n\t\t\t\t\tresize: function() {\n\t\t\t\t\t\tthat.setViewSize(getCanvasSize());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsize = getCanvasSize();\n\n\t\t\tif (PaperScope.hasAttribute(element, 'stats')\n\t\t\t\t\t&& typeof Stats !== 'undefined') {\n\t\t\t\tthis._stats = new Stats();\n\t\t\t\tvar stats = this._stats.domElement,\n\t\t\t\t\tstyle = stats.style,\n\t\t\t\t\toffset = DomElement.getOffset(element);\n\t\t\t\tstyle.position = 'absolute';\n\t\t\t\tstyle.left = offset.x + 'px';\n\t\t\t\tstyle.top = offset.y + 'px';\n\t\t\t\tdocument.body.appendChild(stats);\n\t\t\t}\n\t\t} else {\n\t\t\tsize = new Size(element);\n\t\t\telement = null;\n\t\t}\n\t\tthis._project = project;\n\t\tthis._scope = project._scope;\n\t\tthis._element = element;\n\t\tif (!this._pixelRatio)\n\t\t\tthis._pixelRatio = window && window.devicePixelRatio || 1;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize = size;\n\t\tView._views.push(this);\n\t\tView._viewsById[this._id] = this;\n\t\t(this._matrix = new Matrix())._owner = this;\n\t\tif (!View._focused)\n\t\t\tView._focused = this;\n\t\tthis._frameItems = {};\n\t\tthis._frameItemCount = 0;\n\t\tthis._itemEvents = { native: {}, virtual: {} };\n\t\tthis._autoUpdate = !paper.agent.node;\n\t\tthis._needsUpdate = false;\n\t},\n\n\tremove: function() {\n\t\tif (!this._project)\n\t\t\treturn false;\n\t\tif (View._focused === this)\n\t\t\tView._focused = null;\n\t\tView._views.splice(View._views.indexOf(this), 1);\n\t\tdelete View._viewsById[this._id];\n\t\tvar project = this._project;\n\t\tif (project._view === this)\n\t\t\tproject._view = null;\n\t\tDomEvent.remove(this._element, this._viewEvents);\n\t\tDomEvent.remove(window, this._windowEvents);\n\t\tthis._element = this._project = null;\n\t\tthis.off('frame');\n\t\tthis._animate = false;\n\t\tthis._frameItems = {};\n\t\treturn true;\n\t},\n\n\t_events: Base.each(\n\t\tItem._itemHandlers.concat(['onResize', 'onKeyDown', 'onKeyUp']),\n\t\tfunction(name) {\n\t\t\tthis[name] = {};\n\t\t}, {\n\t\t\tonFrame: {\n\t\t\t\tinstall: function() {\n\t\t\t\t\tthis.play();\n\t\t\t\t},\n\n\t\t\t\tuninstall: function() {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t),\n\n\t_animate: false,\n\t_time: 0,\n\t_count: 0,\n\n\tgetAutoUpdate: function() {\n\t\treturn this._autoUpdate;\n\t},\n\n\tsetAutoUpdate: function(autoUpdate) {\n\t\tthis._autoUpdate = autoUpdate;\n\t\tif (autoUpdate)\n\t\t\tthis.requestUpdate();\n\t},\n\n\tupdate: function() {\n\t},\n\n\tdraw: function() {\n\t\tthis.update();\n\t},\n\n\trequestUpdate: function() {\n\t\tif (!this._requested) {\n\t\t\tvar that = this;\n\t\t\tDomEvent.requestAnimationFrame(function() {\n\t\t\t\tthat._requested = false;\n\t\t\t\tif (that._animate) {\n\t\t\t\t\tthat.requestUpdate();\n\t\t\t\t\tvar element = that._element;\n\t\t\t\t\tif ((!DomElement.getPrefixed(document, 'hidden')\n\t\t\t\t\t\t\t|| PaperScope.getAttribute(element, 'keepalive')\n\t\t\t\t\t\t\t\t=== 'true') && DomElement.isInView(element)) {\n\t\t\t\t\t\tthat._handleFrame();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (that._autoUpdate)\n\t\t\t\t\tthat.update();\n\t\t\t});\n\t\t\tthis._requested = true;\n\t\t}\n\t},\n\n\tplay: function() {\n\t\tthis._animate = true;\n\t\tthis.requestUpdate();\n\t},\n\n\tpause: function() {\n\t\tthis._animate = false;\n\t},\n\n\t_handleFrame: function() {\n\t\tpaper = this._scope;\n\t\tvar now = Date.now() / 1000,\n\t\t\tdelta = this._last ? now - this._last : 0;\n\t\tthis._last = now;\n\t\tthis.emit('frame', new Base({\n\t\t\tdelta: delta,\n\t\t\ttime: this._time += delta,\n\t\t\tcount: this._count++\n\t\t}));\n\t\tif (this._stats)\n\t\t\tthis._stats.update();\n\t},\n\n\t_animateItem: function(item, animate) {\n\t\tvar items = this._frameItems;\n\t\tif (animate) {\n\t\t\titems[item._id] = {\n\t\t\t\titem: item,\n\t\t\t\ttime: 0,\n\t\t\t\tcount: 0\n\t\t\t};\n\t\t\tif (++this._frameItemCount === 1)\n\t\t\t\tthis.on('frame', this._handleFrameItems);\n\t\t} else {\n\t\t\tdelete items[item._id];\n\t\t\tif (--this._frameItemCount === 0) {\n\t\t\t\tthis.off('frame', this._handleFrameItems);\n\t\t\t}\n\t\t}\n\t},\n\n\t_handleFrameItems: function(event) {\n\t\tfor (var i in this._frameItems) {\n\t\t\tvar entry = this._frameItems[i];\n\t\t\tentry.item.emit('frame', new Base(event, {\n\t\t\t\ttime: entry.time += event.delta,\n\t\t\t\tcount: entry.count++\n\t\t\t}));\n\t\t}\n\t},\n\n\t_changed: function() {\n\t\tthis._project._changed(4097);\n\t\tthis._bounds = this._decomposed = undefined;\n\t},\n\n\tgetElement: function() {\n\t\treturn this._element;\n\t},\n\n\tgetPixelRatio: function() {\n\t\treturn this._pixelRatio;\n\t},\n\n\tgetResolution: function() {\n\t\treturn this._pixelRatio * 72;\n\t},\n\n\tgetViewSize: function() {\n\t\tvar size = this._viewSize;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setViewSize');\n\t},\n\n\tsetViewSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tdelta = size.subtract(this._viewSize);\n\t\tif (delta.isZero())\n\t\t\treturn;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize.set(size);\n\t\tthis._changed();\n\t\tthis.emit('resize', { size: size, delta: delta });\n\t\tif (this._autoUpdate) {\n\t\t\tthis.update();\n\t\t}\n\t},\n\n\t_setElementSize: function(width, height) {\n\t\tvar element = this._element;\n\t\tif (element) {\n\t\t\tif (element.width !== width)\n\t\t\t\telement.width = width;\n\t\t\tif (element.height !== height)\n\t\t\t\telement.height = height;\n\t\t}\n\t},\n\n\tgetBounds: function() {\n\t\tif (!this._bounds)\n\t\t\tthis._bounds = this._matrix.inverted()._transformBounds(\n\t\t\t\t\tnew Rectangle(new Point(), this._viewSize));\n\t\treturn this._bounds;\n\t},\n\n\tgetSize: function() {\n\t\treturn this.getBounds().getSize();\n\t},\n\n\tisVisible: function() {\n\t\treturn DomElement.isInView(this._element);\n\t},\n\n\tisInserted: function() {\n\t\treturn DomElement.isInserted(this._element);\n\t},\n\n\tgetPixelSize: function(size) {\n\t\tvar element = this._element,\n\t\t\tpixels;\n\t\tif (element) {\n\t\t\tvar parent = element.parentNode,\n\t\t\t\ttemp = document.createElement('div');\n\t\t\ttemp.style.fontSize = size;\n\t\t\tparent.appendChild(temp);\n\t\t\tpixels = parseFloat(DomElement.getStyles(temp).fontSize);\n\t\t\tparent.removeChild(temp);\n\t\t} else {\n\t\t\tpixels = parseFloat(pixels);\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\treturn 0;\n\t}\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getCenter(true)));\n\t};\n}, {\n\t_decompose: function() {\n\t\treturn this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\tgetCenter: function() {\n\t\treturn this.getBounds().getCenter();\n\t},\n\n\tsetCenter: function() {\n\t\tvar center = Point.read(arguments);\n\t\tthis.translate(this.getCenter().subtract(center));\n\t},\n\n\tgetZoom: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn (scaling.x + scaling.y) / 2;\n\t},\n\n\tsetZoom: function(zoom) {\n\t\tthis.transform(new Matrix().scale(zoom / this.getZoom(),\n\t\t\tthis.getCenter()));\n\t},\n\n\tgetRotation: function() {\n\t\treturn this._decompose().rotation;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tthis.rotate(rotation - current);\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn new LinkedPoint(scaling.x, scaling.y, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling) {\n\t\t\tthis.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.set.apply(matrix, arguments);\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._matrix.append(matrix);\n\t},\n\n\tscrollBy: function() {\n\t\tthis.translate(Point.read(arguments).negate());\n\t}\n}), {\n\n\tprojectToView: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tviewToProject: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tgetEventPoint: function(event) {\n\t\treturn this.viewToProject(DomEvent.getOffset(event, this._element));\n\t},\n\n}, {\n\tstatics: {\n\t\t_views: [],\n\t\t_viewsById: {},\n\t\t_id: 0,\n\n\t\tcreate: function(project, element) {\n\t\t\tif (document && typeof element === 'string')\n\t\t\t\telement = document.getElementById(element);\n\t\t\tvar ctor = window ? CanvasView : View;\n\t\t\treturn new ctor(project, element);\n\t\t}\n\t}\n},\nnew function() {\n\tif (!window)\n\t\treturn;\n\tvar prevFocus,\n\t\ttempFocus,\n\t\tdragging = false,\n\t\tmouseDown = false;\n\n\tfunction getView(event) {\n\t\tvar target = DomEvent.getTarget(event);\n\t\treturn target.getAttribute && View._viewsById[\n\t\t\t\ttarget.getAttribute('id')];\n\t}\n\n\tfunction updateFocus() {\n\t\tvar view = View._focused;\n\t\tif (!view || !view.isVisible()) {\n\t\t\tfor (var i = 0, l = View._views.length; i < l; i++) {\n\t\t\t\tif ((view = View._views[i]).isVisible()) {\n\t\t\t\t\tView._focused = tempFocus = view;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleMouseMove(view, event, point) {\n\t\tview._handleMouseEvent('mousemove', event, point);\n\t}\n\n\tvar navigator = window.navigator,\n\t\tmousedown, mousemove, mouseup;\n\tif (navigator.pointerEnabled || navigator.msPointerEnabled) {\n\t\tmousedown = 'pointerdown MSPointerDown';\n\t\tmousemove = 'pointermove MSPointerMove';\n\t\tmouseup = 'pointerup pointercancel MSPointerUp MSPointerCancel';\n\t} else {\n\t\tmousedown = 'touchstart';\n\t\tmousemove = 'touchmove';\n\t\tmouseup = 'touchend touchcancel';\n\t\tif (!('ontouchstart' in window && navigator.userAgent.match(\n\t\t\t\t/mobile|tablet|ip(ad|hone|od)|android|silk/i))) {\n\t\t\tmousedown += ' mousedown';\n\t\t\tmousemove += ' mousemove';\n\t\t\tmouseup += ' mouseup';\n\t\t}\n\t}\n\n\tvar viewEvents = {},\n\t\tdocEvents = {\n\t\t\tmouseout: function(event) {\n\t\t\t\tvar view = View._focused,\n\t\t\t\t\ttarget = DomEvent.getRelatedTarget(event);\n\t\t\t\tif (view && (!target || target.nodeName === 'HTML')) {\n\t\t\t\t\tvar offset = DomEvent.getOffset(event, view._element),\n\t\t\t\t\t\tx = offset.x,\n\t\t\t\t\t\tabs = Math.abs,\n\t\t\t\t\t\tax = abs(x),\n\t\t\t\t\t\tmax = 1 << 25,\n\t\t\t\t\t\tdiff = ax - max;\n\t\t\t\t\toffset.x = abs(diff) < ax ? diff * (x < 0 ? -1 : 1) : x;\n\t\t\t\t\thandleMouseMove(view, event, view.viewToProject(offset));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tscroll: updateFocus\n\t\t};\n\n\tviewEvents[mousedown] = function(event) {\n\t\tvar view = View._focused = getView(event);\n\t\tif (!dragging) {\n\t\t\tdragging = true;\n\t\t\tview._handleMouseEvent('mousedown', event);\n\t\t}\n\t};\n\n\tdocEvents[mousemove] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (!mouseDown) {\n\t\t\tvar target = getView(event);\n\t\t\tif (target) {\n\t\t\t\tif (view !== target) {\n\t\t\t\t\tif (view)\n\t\t\t\t\t\thandleMouseMove(view, event);\n\t\t\t\t\tif (!prevFocus)\n\t\t\t\t\t\tprevFocus = view;\n\t\t\t\t\tview = View._focused = tempFocus = target;\n\t\t\t\t}\n\t\t\t} else if (tempFocus && tempFocus === view) {\n\t\t\t\tif (prevFocus && !prevFocus.isInserted())\n\t\t\t\t\tprevFocus = null;\n\t\t\t\tview = View._focused = prevFocus;\n\t\t\t\tprevFocus = null;\n\t\t\t\tupdateFocus();\n\t\t\t}\n\t\t}\n\t\tif (view)\n\t\t\thandleMouseMove(view, event);\n\t};\n\n\tdocEvents[mousedown] = function() {\n\t\tmouseDown = true;\n\t};\n\n\tdocEvents[mouseup] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (view && dragging)\n\t\t\tview._handleMouseEvent('mouseup', event);\n\t\tmouseDown = dragging = false;\n\t};\n\n\tDomEvent.add(document, docEvents);\n\n\tDomEvent.add(window, {\n\t\tload: updateFocus\n\t});\n\n\tvar called = false,\n\t\tprevented = false,\n\t\tfallbacks = {\n\t\t\tdoubleclick: 'click',\n\t\t\tmousedrag: 'mousemove'\n\t\t},\n\t\twasInView = false,\n\t\toverView,\n\t\tdownPoint,\n\t\tlastPoint,\n\t\tdownItem,\n\t\toverItem,\n\t\tdragItem,\n\t\tclickItem,\n\t\tclickTime,\n\t\tdblClick;\n\n\tfunction emitMouseEvent(obj, target, type, event, point, prevPoint,\n\t\t\tstopItem) {\n\t\tvar stopped = false,\n\t\t\tmouseEvent;\n\n\t\tfunction emit(obj, type) {\n\t\t\tif (obj.responds(type)) {\n\t\t\t\tif (!mouseEvent) {\n\t\t\t\t\tmouseEvent = new MouseEvent(type, event, point,\n\t\t\t\t\t\t\ttarget || obj,\n\t\t\t\t\t\t\tprevPoint ? point.subtract(prevPoint) : null);\n\t\t\t\t}\n\t\t\t\tif (obj.emit(type, mouseEvent)) {\n\t\t\t\t\tcalled = true;\n\t\t\t\t\tif (mouseEvent.prevented)\n\t\t\t\t\t\tprevented = true;\n\t\t\t\t\tif (mouseEvent.stopped)\n\t\t\t\t\t\treturn stopped = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar fallback = fallbacks[type];\n\t\t\t\tif (fallback)\n\t\t\t\t\treturn emit(obj, fallback);\n\t\t\t}\n\t\t}\n\n\t\twhile (obj && obj !== stopItem) {\n\t\t\tif (emit(obj, type))\n\t\t\t\tbreak;\n\t\t\tobj = obj._parent;\n\t\t}\n\t\treturn stopped;\n\t}\n\n\tfunction emitMouseEvents(view, hitItem, type, event, point, prevPoint) {\n\t\tview._project.removeOn(type);\n\t\tprevented = called = false;\n\t\treturn (dragItem && emitMouseEvent(dragItem, null, type, event,\n\t\t\t\t\tpoint, prevPoint)\n\t\t\t|| hitItem && hitItem !== dragItem\n\t\t\t\t&& !hitItem.isDescendant(dragItem)\n\t\t\t\t&& emitMouseEvent(hitItem, null, type === 'mousedrag' ?\n\t\t\t\t\t'mousemove' : type, event, point, prevPoint, dragItem)\n\t\t\t|| emitMouseEvent(view, dragItem || hitItem || view, type, event,\n\t\t\t\t\tpoint, prevPoint));\n\t}\n\n\tvar itemEventsMap = {\n\t\tmousedown: {\n\t\t\tmousedown: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmouseup: {\n\t\t\tmouseup: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmousemove: {\n\t\t\tmousedrag: 1,\n\t\t\tmousemove: 1,\n\t\t\tmouseenter: 1,\n\t\t\tmouseleave: 1\n\t\t}\n\t};\n\n\treturn {\n\t\t_viewEvents: viewEvents,\n\n\t\t_handleMouseEvent: function(type, event, point) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\thitItems = itemEvents.native[type],\n\t\t\t\tnativeMove = type === 'mousemove',\n\t\t\t\ttool = this._scope.tool,\n\t\t\t\tview = this;\n\n\t\t\tfunction responds(type) {\n\t\t\t\treturn itemEvents.virtual[type] || view.responds(type)\n\t\t\t\t\t\t|| tool && tool.responds(type);\n\t\t\t}\n\n\t\t\tif (nativeMove && dragging && responds('mousedrag'))\n\t\t\t\ttype = 'mousedrag';\n\t\t\tif (!point)\n\t\t\t\tpoint = this.getEventPoint(event);\n\n\t\t\tvar inView = this.getBounds().contains(point),\n\t\t\t\thit = hitItems && inView && view._project.hitTest(point, {\n\t\t\t\t\ttolerance: 0,\n\t\t\t\t\tfill: true,\n\t\t\t\t\tstroke: true\n\t\t\t\t}),\n\t\t\t\thitItem = hit && hit.item || null,\n\t\t\t\thandle = false,\n\t\t\t\tmouse = {};\n\t\t\tmouse[type.substr(5)] = true;\n\n\t\t\tif (hitItems && hitItem !== overItem) {\n\t\t\t\tif (overItem) {\n\t\t\t\t\temitMouseEvent(overItem, null, 'mouseleave', event, point);\n\t\t\t\t}\n\t\t\t\tif (hitItem) {\n\t\t\t\t\temitMouseEvent(hitItem, null, 'mouseenter', event, point);\n\t\t\t\t}\n\t\t\t\toverItem = hitItem;\n\t\t\t}\n\t\t\tif (wasInView ^ inView) {\n\t\t\t\temitMouseEvent(this, null, inView ? 'mouseenter' : 'mouseleave',\n\t\t\t\t\t\tevent, point);\n\t\t\t\toverView = inView ? this : null;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tif ((inView || mouse.drag) && !point.equals(lastPoint)) {\n\t\t\t\temitMouseEvents(this, hitItem, nativeMove ? type : 'mousemove',\n\t\t\t\t\t\tevent, point, lastPoint);\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\twasInView = inView;\n\t\t\tif (mouse.down && inView || mouse.up && downPoint) {\n\t\t\t\temitMouseEvents(this, hitItem, type, event, point, downPoint);\n\t\t\t\tif (mouse.down) {\n\t\t\t\t\tdblClick = hitItem === clickItem\n\t\t\t\t\t\t&& (Date.now() - clickTime < 300);\n\t\t\t\t\tdownItem = clickItem = hitItem;\n\t\t\t\t\tif (!prevented && hitItem) {\n\t\t\t\t\t\tvar item = hitItem;\n\t\t\t\t\t\twhile (item && !item.responds('mousedrag'))\n\t\t\t\t\t\t\titem = item._parent;\n\t\t\t\t\t\tif (item)\n\t\t\t\t\t\t\tdragItem = hitItem;\n\t\t\t\t\t}\n\t\t\t\t\tdownPoint = point;\n\t\t\t\t} else if (mouse.up) {\n\t\t\t\t\tif (!prevented && hitItem === downItem) {\n\t\t\t\t\t\tclickTime = Date.now();\n\t\t\t\t\t\temitMouseEvents(this, hitItem, dblClick ? 'doubleclick'\n\t\t\t\t\t\t\t\t: 'click', event, point, downPoint);\n\t\t\t\t\t\tdblClick = false;\n\t\t\t\t\t}\n\t\t\t\t\tdownItem = dragItem = null;\n\t\t\t\t}\n\t\t\t\twasInView = false;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tlastPoint = point;\n\t\t\tif (handle && tool) {\n\t\t\t\tcalled = tool._handleMouseEvent(type, event, point, mouse)\n\t\t\t\t\t|| called;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tevent.cancelable !== false\n\t\t\t\t&& (called && !mouse.move || mouse.down && responds('mouseup'))\n\t\t\t) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_handleKeyEvent: function(type, event, key, character) {\n\t\t\tvar scope = this._scope,\n\t\t\t\ttool = scope.tool,\n\t\t\t\tkeyEvent;\n\n\t\t\tfunction emit(obj) {\n\t\t\t\tif (obj.responds(type)) {\n\t\t\t\t\tpaper = scope;\n\t\t\t\t\tobj.emit(type, keyEvent = keyEvent\n\t\t\t\t\t\t\t|| new KeyEvent(type, event, key, character));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.isVisible()) {\n\t\t\t\temit(this);\n\t\t\t\tif (tool && tool.responds(type))\n\t\t\t\t\temit(tool);\n\t\t\t}\n\t\t},\n\n\t\t_countItemEvent: function(type, sign) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\tnative = itemEvents.native,\n\t\t\t\tvirtual = itemEvents.virtual;\n\t\t\tfor (var key in itemEventsMap) {\n\t\t\t\tnative[key] = (native[key] || 0)\n\t\t\t\t\t\t+ (itemEventsMap[key][type] || 0) * sign;\n\t\t\t}\n\t\t\tvirtual[type] = (virtual[type] || 0) + sign;\n\t\t},\n\n\t\tstatics: {\n\t\t\tupdateFocus: updateFocus,\n\n\t\t\t_resetState: function() {\n\t\t\t\tdragging = mouseDown = called = wasInView = false;\n\t\t\t\tprevFocus = tempFocus = overView = downPoint = lastPoint =\n\t\t\t\t\tdownItem = overItem = dragItem = clickItem = clickTime =\n\t\t\t\t\tdblClick = null;\n\t\t\t}\n\t\t}\n\t};\n});\n\nvar CanvasView = View.extend({\n\t_class: 'CanvasView',\n\n\tinitialize: function CanvasView(project, canvas) {\n\t\tif (!(canvas instanceof window.HTMLCanvasElement)) {\n\t\t\tvar size = Size.read(arguments, 1);\n\t\t\tif (size.isZero())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Cannot create CanvasView with the provided argument: '\n\t\t\t\t\t\t+ Base.slice(arguments, 1));\n\t\t\tcanvas = CanvasProvider.getCanvas(size);\n\t\t}\n\t\tvar ctx = this._context = canvas.getContext('2d');\n\t\tctx.save();\n\t\tthis._pixelRatio = 1;\n\t\tif (!/^off|false$/.test(PaperScope.getAttribute(canvas, 'hidpi'))) {\n\t\t\tvar deviceRatio = window.devicePixelRatio || 1,\n\t\t\t\tbackingStoreRatio = DomElement.getPrefixed(ctx,\n\t\t\t\t\t\t'backingStorePixelRatio') || 1;\n\t\t\tthis._pixelRatio = deviceRatio / backingStoreRatio;\n\t\t}\n\t\tView.call(this, project, canvas);\n\t\tthis._needsUpdate = true;\n\t},\n\n\tremove: function remove() {\n\t\tthis._context.restore();\n\t\treturn remove.base.call(this);\n\t},\n\n\t_setElementSize: function _setElementSize(width, height) {\n\t\tvar pixelRatio = this._pixelRatio;\n\t\t_setElementSize.base.call(this, width * pixelRatio, height * pixelRatio);\n\t\tif (pixelRatio !== 1) {\n\t\t\tvar element = this._element,\n\t\t\t\tctx = this._context;\n\t\t\tif (!PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar style = element.style;\n\t\t\t\tstyle.width = width + 'px';\n\t\t\t\tstyle.height = height + 'px';\n\t\t\t}\n\t\t\tctx.restore();\n\t\t\tctx.save();\n\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t},\n\n\tgetContext: function() {\n\t\treturn this._context;\n\t},\n\n\tgetPixelSize: function getPixelSize(size) {\n\t\tvar agent = paper.agent,\n\t\t\tpixels;\n\t\tif (agent && agent.firefox) {\n\t\t\tpixels = getPixelSize.base.call(this, size);\n\t\t} else {\n\t\t\tvar ctx = this._context,\n\t\t\t\tprevFont = ctx.font;\n\t\t\tctx.font = size + ' serif';\n\t\t\tpixels = parseFloat(ctx.font);\n\t\t\tctx.font = prevFont;\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\tvar ctx = this._context,\n\t\t\tprevFont = ctx.font,\n\t\t\twidth = 0;\n\t\tctx.font = font;\n\t\tfor (var i = 0, l = lines.length; i < l; i++)\n\t\t\twidth = Math.max(width, ctx.measureText(lines[i]).width);\n\t\tctx.font = prevFont;\n\t\treturn width;\n\t},\n\n\tupdate: function() {\n\t\tif (!this._needsUpdate)\n\t\t\treturn false;\n\t\tvar project = this._project,\n\t\t\tctx = this._context,\n\t\t\tsize = this._viewSize;\n\t\tctx.clearRect(0, 0, size.width + 1, size.height + 1);\n\t\tif (project)\n\t\t\tproject.draw(ctx, this._matrix, this._pixelRatio);\n\t\tthis._needsUpdate = false;\n\t\treturn true;\n\t}\n});\n\nvar Event = Base.extend({\n\t_class: 'Event',\n\n\tinitialize: function Event(event) {\n\t\tthis.event = event;\n\t\tthis.type = event && event.type;\n\t},\n\n\tprevented: false,\n\tstopped: false,\n\n\tpreventDefault: function() {\n\t\tthis.prevented = true;\n\t\tthis.event.preventDefault();\n\t},\n\n\tstopPropagation: function() {\n\t\tthis.stopped = true;\n\t\tthis.event.stopPropagation();\n\t},\n\n\tstop: function() {\n\t\tthis.stopPropagation();\n\t\tthis.preventDefault();\n\t},\n\n\tgetTimeStamp: function() {\n\t\treturn this.event.timeStamp;\n\t},\n\n\tgetModifiers: function() {\n\t\treturn Key.modifiers;\n\t}\n});\n\nvar KeyEvent = Event.extend({\n\t_class: 'KeyEvent',\n\n\tinitialize: function KeyEvent(type, event, key, character) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.key = key;\n\t\tthis.character = character;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', key: '\" + this.key\n\t\t\t\t+ \"', character: '\" + this.character\n\t\t\t\t+ \"', modifiers: \" + this.getModifiers()\n\t\t\t\t+ \" }\";\n\t}\n});\n\nvar Key = new function() {\n\tvar keyLookup = {\n\t\t\t'\\t': 'tab',\n\t\t\t' ': 'space',\n\t\t\t'\\b': 'backspace',\n\t\t\t'\\x7f': 'delete',\n\t\t\t'Spacebar': 'space',\n\t\t\t'Del': 'delete',\n\t\t\t'Win': 'meta',\n\t\t\t'Esc': 'escape'\n\t\t},\n\n\t\tcharLookup = {\n\t\t\t'tab': '\\t',\n\t\t\t'space': ' ',\n\t\t\t'enter': '\\r'\n\t\t},\n\n\t\tkeyMap = {},\n\t\tcharMap = {},\n\t\tmetaFixMap,\n\t\tdownKey,\n\n\t\tmodifiers = new Base({\n\t\t\tshift: false,\n\t\t\tcontrol: false,\n\t\t\talt: false,\n\t\t\tmeta: false,\n\t\t\tcapsLock: false,\n\t\t\tspace: false\n\t\t}).inject({\n\t\t\toption: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this.alt;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcommand: {\n\t\t\t\tget: function() {\n\t\t\t\t\tvar agent = paper && paper.agent;\n\t\t\t\t\treturn agent && agent.mac ? this.meta : this.control;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\tfunction getKey(event) {\n\t\tvar key = event.key || event.keyIdentifier;\n\t\tkey = /^U\\+/.test(key)\n\t\t\t\t? String.fromCharCode(parseInt(key.substr(2), 16))\n\t\t\t\t: /^Arrow[A-Z]/.test(key) ? key.substr(5)\n\t\t\t\t: key === 'Unidentified'  || key === undefined\n\t\t\t\t\t? String.fromCharCode(event.keyCode)\n\t\t\t\t\t: key;\n\t\treturn keyLookup[key] ||\n\t\t\t\t(key.length > 1 ? Base.hyphenate(key) : key.toLowerCase());\n\t}\n\n\tfunction handleKey(down, key, character, event) {\n\t\tvar type = down ? 'keydown' : 'keyup',\n\t\t\tview = View._focused,\n\t\t\tname;\n\t\tkeyMap[key] = down;\n\t\tif (down) {\n\t\t\tcharMap[key] = character;\n\t\t} else {\n\t\t\tdelete charMap[key];\n\t\t}\n\t\tif (key.length > 1 && (name = Base.camelize(key)) in modifiers) {\n\t\t\tmodifiers[name] = down;\n\t\t\tvar agent = paper && paper.agent;\n\t\t\tif (name === 'meta' && agent && agent.mac) {\n\t\t\t\tif (down) {\n\t\t\t\t\tmetaFixMap = {};\n\t\t\t\t} else {\n\t\t\t\t\tfor (var k in metaFixMap) {\n\t\t\t\t\t\tif (k in charMap)\n\t\t\t\t\t\t\thandleKey(false, k, metaFixMap[k], event);\n\t\t\t\t\t}\n\t\t\t\t\tmetaFixMap = null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (down && metaFixMap) {\n\t\t\tmetaFixMap[key] = character;\n\t\t}\n\t\tif (view) {\n\t\t\tview._handleKeyEvent(down ? 'keydown' : 'keyup', event, key,\n\t\t\t\t\tcharacter);\n\t\t}\n\t}\n\n\tDomEvent.add(document, {\n\t\tkeydown: function(event) {\n\t\t\tvar key = getKey(event),\n\t\t\t\tagent = paper && paper.agent;\n\t\t\tif (key.length > 1 || agent && (agent.chrome && (event.altKey\n\t\t\t\t\t\t|| agent.mac && event.metaKey\n\t\t\t\t\t\t|| !agent.mac && event.ctrlKey))) {\n\t\t\t\thandleKey(true, key,\n\t\t\t\t\t\tcharLookup[key] || (key.length > 1 ? '' : key), event);\n\t\t\t} else {\n\t\t\t\tdownKey = key;\n\t\t\t}\n\t\t},\n\n\t\tkeypress: function(event) {\n\t\t\tif (downKey) {\n\t\t\t\tvar key = getKey(event),\n\t\t\t\t\tcode = event.charCode,\n\t\t\t\t\tcharacter = code >= 32 ? String.fromCharCode(code)\n\t\t\t\t\t\t: key.length > 1 ? '' : key;\n\t\t\t\tif (key !== downKey) {\n\t\t\t\t\tkey = character.toLowerCase();\n\t\t\t\t}\n\t\t\t\thandleKey(true, key, character, event);\n\t\t\t\tdownKey = null;\n\t\t\t}\n\t\t},\n\n\t\tkeyup: function(event) {\n\t\t\tvar key = getKey(event);\n\t\t\tif (key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\tDomEvent.add(window, {\n\t\tblur: function(event) {\n\t\t\tfor (var key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\treturn {\n\t\tmodifiers: modifiers,\n\n\t\tisDown: function(key) {\n\t\t\treturn !!keyMap[key];\n\t\t}\n\t};\n};\n\nvar MouseEvent = Event.extend({\n\t_class: 'MouseEvent',\n\n\tinitialize: function MouseEvent(type, event, point, target, delta) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.point = point;\n\t\tthis.target = target;\n\t\tthis.delta = delta;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', point: \" + this.point\n\t\t\t\t+ ', target: ' + this.target\n\t\t\t\t+ (this.delta ? ', delta: ' + this.delta : '')\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar ToolEvent = Event.extend({\n\t_class: 'ToolEvent',\n\t_item: null,\n\n\tinitialize: function ToolEvent(tool, type, event) {\n\t\tthis.tool = tool;\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t},\n\n\t_choosePoint: function(point, toolPoint) {\n\t\treturn point ? point : toolPoint ? toolPoint.clone() : null;\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._choosePoint(this._point, this.tool._point);\n\t},\n\n\tsetPoint: function(point) {\n\t\tthis._point = point;\n\t},\n\n\tgetLastPoint: function() {\n\t\treturn this._choosePoint(this._lastPoint, this.tool._lastPoint);\n\t},\n\n\tsetLastPoint: function(lastPoint) {\n\t\tthis._lastPoint = lastPoint;\n\t},\n\n\tgetDownPoint: function() {\n\t\treturn this._choosePoint(this._downPoint, this.tool._downPoint);\n\t},\n\n\tsetDownPoint: function(downPoint) {\n\t\tthis._downPoint = downPoint;\n\t},\n\n\tgetMiddlePoint: function() {\n\t\tif (!this._middlePoint && this.tool._lastPoint) {\n\t\t\treturn this.tool._point.add(this.tool._lastPoint).divide(2);\n\t\t}\n\t\treturn this._middlePoint;\n\t},\n\n\tsetMiddlePoint: function(middlePoint) {\n\t\tthis._middlePoint = middlePoint;\n\t},\n\n\tgetDelta: function() {\n\t\treturn !this._delta && this.tool._lastPoint\n\t\t\t\t? this.tool._point.subtract(this.tool._lastPoint)\n\t\t\t\t: this._delta;\n\t},\n\n\tsetDelta: function(delta) {\n\t\tthis._delta = delta;\n\t},\n\n\tgetCount: function() {\n\t\treturn this.tool[/^mouse(down|up)$/.test(this.type)\n\t\t\t\t? '_downCount' : '_moveCount'];\n\t},\n\n\tsetCount: function(count) {\n\t\tthis.tool[/^mouse(down|up)$/.test(this.type) ? 'downCount' : 'count']\n\t\t\t= count;\n\t},\n\n\tgetItem: function() {\n\t\tif (!this._item) {\n\t\t\tvar result = this.tool._scope.project.hitTest(this.getPoint());\n\t\t\tif (result) {\n\t\t\t\tvar item = result.item,\n\t\t\t\t\tparent = item._parent;\n\t\t\t\twhile (/^(Group|CompoundPath)$/.test(parent._class)) {\n\t\t\t\t\titem = parent;\n\t\t\t\t\tparent = parent._parent;\n\t\t\t\t}\n\t\t\t\tthis._item = item;\n\t\t\t}\n\t\t}\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item) {\n\t\tthis._item = item;\n\t},\n\n\ttoString: function() {\n\t\treturn '{ type: ' + this.type\n\t\t\t\t+ ', point: ' + this.getPoint()\n\t\t\t\t+ ', count: ' + this.getCount()\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar Tool = PaperScopeItem.extend({\n\t_class: 'Tool',\n\t_list: 'tools',\n\t_reference: 'tool',\n\t_events: ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onMouseMove',\n\t\t\t'onActivate', 'onDeactivate', 'onEditOptions', 'onKeyDown',\n\t\t\t'onKeyUp'],\n\n\tinitialize: function Tool(props) {\n\t\tPaperScopeItem.call(this);\n\t\tthis._moveCount = -1;\n\t\tthis._downCount = -1;\n\t\tthis.set(props);\n\t},\n\n\tgetMinDistance: function() {\n\t\treturn this._minDistance;\n\t},\n\n\tsetMinDistance: function(minDistance) {\n\t\tthis._minDistance = minDistance;\n\t\tif (minDistance != null && this._maxDistance != null\n\t\t\t\t&& minDistance > this._maxDistance) {\n\t\t\tthis._maxDistance = minDistance;\n\t\t}\n\t},\n\n\tgetMaxDistance: function() {\n\t\treturn this._maxDistance;\n\t},\n\n\tsetMaxDistance: function(maxDistance) {\n\t\tthis._maxDistance = maxDistance;\n\t\tif (this._minDistance != null && maxDistance != null\n\t\t\t\t&& maxDistance < this._minDistance) {\n\t\t\tthis._minDistance = maxDistance;\n\t\t}\n\t},\n\n\tgetFixedDistance: function() {\n\t\treturn this._minDistance == this._maxDistance\n\t\t\t? this._minDistance : null;\n\t},\n\n\tsetFixedDistance: function(distance) {\n\t\tthis._minDistance = this._maxDistance = distance;\n\t},\n\n\t_handleMouseEvent: function(type, event, point, mouse) {\n\t\tpaper = this._scope;\n\t\tif (mouse.drag && !this.responds(type))\n\t\t\ttype = 'mousemove';\n\t\tvar move = mouse.move || mouse.drag,\n\t\t\tresponds = this.responds(type),\n\t\t\tcalled = false,\n\t\t\ttool = this;\n\t\tfunction update(minDistance, maxDistance) {\n\t\t\tvar pt = point,\n\t\t\t\ttoolPoint = move ? tool._point : (tool._downPoint || pt);\n\t\t\tif (move) {\n\t\t\t\tif (tool._moveCount >= 0 && pt.equals(toolPoint)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (toolPoint && (minDistance != null || maxDistance != null)) {\n\t\t\t\t\tvar vector = pt.subtract(toolPoint),\n\t\t\t\t\t\tdistance = vector.getLength();\n\t\t\t\t\tif (distance < (minDistance || 0))\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tif (maxDistance) {\n\t\t\t\t\t\tpt = toolPoint.add(vector.normalize(\n\t\t\t\t\t\t\t\tMath.min(distance, maxDistance)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttool._moveCount++;\n\t\t\t}\n\t\t\ttool._point = pt;\n\t\t\ttool._lastPoint = toolPoint || pt;\n\t\t\tif (mouse.down) {\n\t\t\t\ttool._moveCount = -1;\n\t\t\t\ttool._downPoint = pt;\n\t\t\t\ttool._downCount++;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tfunction emit() {\n\t\t\tif (responds) {\n\t\t\t\tcalled = tool.emit(type, new ToolEvent(tool, type, event))\n\t\t\t\t\t\t|| called;\n\t\t\t}\n\t\t}\n\n\t\tif (mouse.down) {\n\t\t\tupdate();\n\t\t\temit();\n\t\t} else if (mouse.up) {\n\t\t\tupdate(null, this._maxDistance);\n\t\t\temit();\n\t\t} else if (responds) {\n\t\t\twhile (update(this._minDistance, this._maxDistance))\n\t\t\t\temit();\n\t\t}\n\t\treturn called;\n\t}\n\n});\n\nvar Tween = Base.extend(Emitter, {\n\t_class: 'Tween',\n\n\tstatics: {\n\t\teasings: new Base({\n\t\t\tlinear: function(t) {\n\t\t\t\treturn t;\n\t\t\t},\n\n\t\t\teaseInQuad: function(t) {\n\t\t\t\treturn t * t;\n\t\t\t},\n\n\t\t\teaseOutQuad: function(t) {\n\t\t\t\treturn t * (2 - t);\n\t\t\t},\n\n\t\t\teaseInOutQuad: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 2 * t * t\n\t\t\t\t\t: -1 + 2 * (2 - t) * t;\n\t\t\t},\n\n\t\t\teaseInCubic: function(t) {\n\t\t\t\treturn t * t * t;\n\t\t\t},\n\n\t\t\teaseOutCubic: function(t) {\n\t\t\t\treturn --t * t * t + 1;\n\t\t\t},\n\n\t\t\teaseInOutCubic: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 4 * t * t * t\n\t\t\t\t\t: (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n\t\t\t},\n\n\t\t\teaseInQuart: function(t) {\n\t\t\t\treturn t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuart: function(t) {\n\t\t\t\treturn 1 - (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuart: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 8 * t * t * t * t\n\t\t\t\t\t: 1 - 8 * (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInQuint: function(t) {\n\t\t\t\treturn t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuint: function(t) {\n\t\t\t\treturn 1 + --t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuint: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 16 * t * t * t * t * t\n\t\t\t\t\t: 1 + 16 * (--t) * t * t * t * t;\n\t\t\t}\n\t\t})\n\t},\n\n\tinitialize: function Tween(object, from, to, duration, easing, start) {\n\t\tthis.object = object;\n\t\tvar type = typeof easing;\n\t\tvar isFunction = type === 'function';\n\t\tthis.type = isFunction\n\t\t\t? type\n\t\t\t: type === 'string'\n\t\t\t\t? easing\n\t\t\t\t: 'linear';\n\t\tthis.easing = isFunction ? easing : Tween.easings[this.type];\n\t\tthis.duration = duration;\n\t\tthis.running = false;\n\n\t\tthis._then = null;\n\t\tthis._startTime = null;\n\t\tvar state = from || to;\n\t\tthis._keys = state ? Object.keys(state) : [];\n\t\tthis._parsedKeys = this._parseKeys(this._keys);\n\t\tthis._from = state && this._getState(from);\n\t\tthis._to = state && this._getState(to);\n\t\tif (start !== false) {\n\t\t\tthis.start();\n\t\t}\n\t},\n\n\tthen: function(then) {\n\t\tthis._then = then;\n\t\treturn this;\n\t},\n\n\tstart: function() {\n\t\tthis._startTime = null;\n\t\tthis.running = true;\n\t\treturn this;\n\t},\n\n\tstop: function() {\n\t\tthis.running = false;\n\t\treturn this;\n\t},\n\n\tupdate: function(progress) {\n\t\tif (this.running) {\n\t\t\tif (progress >= 1) {\n\t\t\t\tprogress = 1;\n\t\t\t\tthis.running = false;\n\t\t\t}\n\n\t\t\tvar factor = this.easing(progress),\n\t\t\t\tkeys = this._keys,\n\t\t\t\tgetValue = function(value) {\n\t\t\t\t\treturn typeof value === 'function'\n\t\t\t\t\t\t? value(factor, progress)\n\t\t\t\t\t\t: value;\n\t\t\t\t};\n\t\t\tfor (var i = 0, l = keys && keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i],\n\t\t\t\t\tfrom = getValue(this._from[key]),\n\t\t\t\t\tto = getValue(this._to[key]),\n\t\t\t\t\tvalue = (from && to && from.__add && to.__add)\n\t\t\t\t\t\t? to.__subtract(from).__multiply(factor).__add(from)\n\t\t\t\t\t\t: ((to - from) * factor) + from;\n\t\t\t\tthis._setProperty(this._parsedKeys[key], value);\n\t\t\t}\n\n\t\t\tif (this.responds('update')) {\n\t\t\t\tthis.emit('update', new Base({\n\t\t\t\t\tprogress: progress,\n\t\t\t\t\tfactor: factor\n\t\t\t\t}));\n\t\t\t}\n\t\t\tif (!this.running && this._then) {\n\t\t\t\tthis._then(this.object);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t_events: {\n\t\tonUpdate: {}\n\t},\n\n\t_handleFrame: function(time) {\n\t\tvar startTime = this._startTime,\n\t\t\tprogress = startTime\n\t\t\t\t? (time - startTime) / this.duration\n\t\t\t\t: 0;\n\t\tif (!startTime) {\n\t\t\tthis._startTime = time;\n\t\t}\n\t\tthis.update(progress);\n\t},\n\n\t_getState: function(state) {\n\t\tvar keys = this._keys,\n\t\t\tresult = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = this._parsedKeys[key],\n\t\t\t\tcurrent = this._getProperty(path),\n\t\t\t\tvalue;\n\t\t\tif (state) {\n\t\t\t\tvar resolved = this._resolveValue(current, state[key]);\n\t\t\t\tthis._setProperty(path, resolved);\n\t\t\t\tvalue = this._getProperty(path);\n\t\t\t\tvalue = value && value.clone ? value.clone() : value;\n\t\t\t\tthis._setProperty(path, current);\n\t\t\t} else {\n\t\t\t\tvalue = current && current.clone ? current.clone() : current;\n\t\t\t}\n\t\t\tresult[key] = value;\n\t\t}\n\t\treturn result;\n\t},\n\n\t_resolveValue: function(current, value) {\n\t\tif (value) {\n\t\t\tif (Array.isArray(value) && value.length === 2) {\n\t\t\t\tvar operator = value[0];\n\t\t\t\treturn (\n\t\t\t\t\toperator &&\n\t\t\t\t\toperator.match &&\n\t\t\t\t\toperator.match(/^[+\\-\\*\\/]=/)\n\t\t\t\t)\n\t\t\t\t\t? this._calculate(current, operator[0], value[1])\n\t\t\t\t\t: value;\n\t\t\t} else if (typeof value === 'string') {\n\t\t\t\tvar match = value.match(/^[+\\-*/]=(.*)/);\n\t\t\t\tif (match) {\n\t\t\t\t\tvar parsed = JSON.parse(match[1].replace(\n\t\t\t\t\t\t/(['\"])?([a-zA-Z0-9_]+)(['\"])?:/g,\n\t\t\t\t\t\t'\"$2\": '\n\t\t\t\t\t));\n\t\t\t\t\treturn this._calculate(current, value[0], parsed);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t},\n\n\t_calculate: function(left, operator, right) {\n\t\treturn paper.PaperScript.calculateBinary(left, operator, right);\n\t},\n\n\t_parseKeys: function(keys) {\n\t\tvar parsed = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = key\n\t\t\t\t\t.replace(/\\.([^.]*)/g, '/$1')\n\t\t\t\t\t.replace(/\\[['\"]?([^'\"\\]]*)['\"]?\\]/g, '/$1');\n\t\t\tparsed[key] = path.split('/');\n\t\t}\n\t\treturn parsed;\n\t},\n\n\t_getProperty: function(path, offset) {\n\t\tvar obj = this.object;\n\t\tfor (var i = 0, l = path.length - (offset || 0); i < l && obj; i++) {\n\t\t\tobj = obj[path[i]];\n\t\t}\n\t\treturn obj;\n\t},\n\n\t_setProperty: function(path, value) {\n\t\tvar dest = this._getProperty(path, 1);\n\t\tif (dest) {\n\t\t\tdest[path[path.length - 1]] = value;\n\t\t}\n\t}\n});\n\nvar Http = {\n\trequest: function(options) {\n\t\tvar xhr = new self.XMLHttpRequest();\n\t\txhr.open((options.method || 'get').toUpperCase(), options.url,\n\t\t\t\tBase.pick(options.async, true));\n\t\tif (options.mimeType)\n\t\t\txhr.overrideMimeType(options.mimeType);\n\t\txhr.onload = function() {\n\t\t\tvar status = xhr.status;\n\t\t\tif (status === 0 || status === 200) {\n\t\t\t\tif (options.onLoad) {\n\t\t\t\t\toptions.onLoad.call(xhr, xhr.responseText);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\txhr.onerror();\n\t\t\t}\n\t\t};\n\t\txhr.onerror = function() {\n\t\t\tvar status = xhr.status,\n\t\t\t\tmessage = 'Could not load \"' + options.url + '\" (Status: '\n\t\t\t\t\t\t+ status + ')';\n\t\t\tif (options.onError) {\n\t\t\t\toptions.onError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t};\n\t\treturn xhr.send(null);\n\t}\n};\n\nvar CanvasProvider = Base.exports.CanvasProvider = {\n\tcanvases: [],\n\n\tgetCanvas: function(width, height, options) {\n\t\tif (!window)\n\t\t\treturn null;\n\t\tvar canvas,\n\t\t\tclear = true;\n\t\tif (typeof width === 'object') {\n\t\t\theight = width.height;\n\t\t\twidth = width.width;\n\t\t}\n\t\tif (this.canvases.length) {\n\t\t\tcanvas = this.canvases.pop();\n\t\t} else {\n\t\t\tcanvas = document.createElement('canvas');\n\t\t\tclear = false;\n\t\t}\n\t\tvar ctx = canvas.getContext('2d', options || {});\n\t\tif (!ctx) {\n\t\t\tthrow new Error('Canvas ' + canvas +\n\t\t\t\t\t' is unable to provide a 2D context.');\n\t\t}\n\t\tif (canvas.width === width && canvas.height === height) {\n\t\t\tif (clear)\n\t\t\t\tctx.clearRect(0, 0, width + 1, height + 1);\n\t\t} else {\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\t\t}\n\t\tctx.save();\n\t\treturn canvas;\n\t},\n\n\tgetContext: function(width, height, options) {\n\t\tvar canvas = this.getCanvas(width, height, options);\n\t\treturn canvas ? canvas.getContext('2d', options || {}) : null;\n\t},\n\n\trelease: function(obj) {\n\t\tvar canvas = obj && obj.canvas ? obj.canvas : obj;\n\t\tif (canvas && canvas.getContext) {\n\t\t\tcanvas.getContext('2d').restore();\n\t\t\tthis.canvases.push(canvas);\n\t\t}\n\t}\n};\n\nvar BlendMode = new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\tsr, sg, sb, sa,\n\t\tbr, bg, bb, ba,\n\t\tdr, dg, db;\n\n\tfunction getLum(r, g, b) {\n\t\treturn 0.2989 * r + 0.587 * g + 0.114 * b;\n\t}\n\n\tfunction setLum(r, g, b, l) {\n\t\tvar d = l - getLum(r, g, b);\n\t\tdr = r + d;\n\t\tdg = g + d;\n\t\tdb = b + d;\n\t\tvar l = getLum(dr, dg, db),\n\t\t\tmn = min(dr, dg, db),\n\t\t\tmx = max(dr, dg, db);\n\t\tif (mn < 0) {\n\t\t\tvar lmn = l - mn;\n\t\t\tdr = l + (dr - l) * l / lmn;\n\t\t\tdg = l + (dg - l) * l / lmn;\n\t\t\tdb = l + (db - l) * l / lmn;\n\t\t}\n\t\tif (mx > 255) {\n\t\t\tvar ln = 255 - l,\n\t\t\t\tmxl = mx - l;\n\t\t\tdr = l + (dr - l) * ln / mxl;\n\t\t\tdg = l + (dg - l) * ln / mxl;\n\t\t\tdb = l + (db - l) * ln / mxl;\n\t\t}\n\t}\n\n\tfunction getSat(r, g, b) {\n\t\treturn max(r, g, b) - min(r, g, b);\n\t}\n\n\tfunction setSat(r, g, b, s) {\n\t\tvar col = [r, g, b],\n\t\t\tmx = max(r, g, b),\n\t\t\tmn = min(r, g, b),\n\t\t\tmd;\n\t\tmn = mn === r ? 0 : mn === g ? 1 : 2;\n\t\tmx = mx === r ? 0 : mx === g ? 1 : 2;\n\t\tmd = min(mn, mx) === 0 ? max(mn, mx) === 1 ? 2 : 1 : 0;\n\t\tif (col[mx] > col[mn]) {\n\t\t\tcol[md] = (col[md] - col[mn]) * s / (col[mx] - col[mn]);\n\t\t\tcol[mx] = s;\n\t\t} else {\n\t\t\tcol[md] = col[mx] = 0;\n\t\t}\n\t\tcol[mn] = 0;\n\t\tdr = col[0];\n\t\tdg = col[1];\n\t\tdb = col[2];\n\t}\n\n\tvar modes = {\n\t\tmultiply: function() {\n\t\t\tdr = br * sr / 255;\n\t\t\tdg = bg * sg / 255;\n\t\t\tdb = bb * sb / 255;\n\t\t},\n\n\t\tscreen: function() {\n\t\t\tdr = br + sr - (br * sr / 255);\n\t\t\tdg = bg + sg - (bg * sg / 255);\n\t\t\tdb = bb + sb - (bb * sb / 255);\n\t\t},\n\n\t\toverlay: function() {\n\t\t\tdr = br < 128 ? 2 * br * sr / 255 : 255 - 2 * (255 - br) * (255 - sr) / 255;\n\t\t\tdg = bg < 128 ? 2 * bg * sg / 255 : 255 - 2 * (255 - bg) * (255 - sg) / 255;\n\t\t\tdb = bb < 128 ? 2 * bb * sb / 255 : 255 - 2 * (255 - bb) * (255 - sb) / 255;\n\t\t},\n\n\t\t'soft-light': function() {\n\t\t\tvar t = sr * br / 255;\n\t\t\tdr = t + br * (255 - (255 - br) * (255 - sr) / 255 - t) / 255;\n\t\t\tt = sg * bg / 255;\n\t\t\tdg = t + bg * (255 - (255 - bg) * (255 - sg) / 255 - t) / 255;\n\t\t\tt = sb * bb / 255;\n\t\t\tdb = t + bb * (255 - (255 - bb) * (255 - sb) / 255 - t) / 255;\n\t\t},\n\n\t\t'hard-light': function() {\n\t\t\tdr = sr < 128 ? 2 * sr * br / 255 : 255 - 2 * (255 - sr) * (255 - br) / 255;\n\t\t\tdg = sg < 128 ? 2 * sg * bg / 255 : 255 - 2 * (255 - sg) * (255 - bg) / 255;\n\t\t\tdb = sb < 128 ? 2 * sb * bb / 255 : 255 - 2 * (255 - sb) * (255 - bb) / 255;\n\t\t},\n\n\t\t'color-dodge': function() {\n\t\t\tdr = br === 0 ? 0 : sr === 255 ? 255 : min(255, 255 * br / (255 - sr));\n\t\t\tdg = bg === 0 ? 0 : sg === 255 ? 255 : min(255, 255 * bg / (255 - sg));\n\t\t\tdb = bb === 0 ? 0 : sb === 255 ? 255 : min(255, 255 * bb / (255 - sb));\n\t\t},\n\n\t\t'color-burn': function() {\n\t\t\tdr = br === 255 ? 255 : sr === 0 ? 0 : max(0, 255 - (255 - br) * 255 / sr);\n\t\t\tdg = bg === 255 ? 255 : sg === 0 ? 0 : max(0, 255 - (255 - bg) * 255 / sg);\n\t\t\tdb = bb === 255 ? 255 : sb === 0 ? 0 : max(0, 255 - (255 - bb) * 255 / sb);\n\t\t},\n\n\t\tdarken: function() {\n\t\t\tdr = br < sr ? br : sr;\n\t\t\tdg = bg < sg ? bg : sg;\n\t\t\tdb = bb < sb ? bb : sb;\n\t\t},\n\n\t\tlighten: function() {\n\t\t\tdr = br > sr ? br : sr;\n\t\t\tdg = bg > sg ? bg : sg;\n\t\t\tdb = bb > sb ? bb : sb;\n\t\t},\n\n\t\tdifference: function() {\n\t\t\tdr = br - sr;\n\t\t\tif (dr < 0)\n\t\t\t\tdr = -dr;\n\t\t\tdg = bg - sg;\n\t\t\tif (dg < 0)\n\t\t\t\tdg = -dg;\n\t\t\tdb = bb - sb;\n\t\t\tif (db < 0)\n\t\t\t\tdb = -db;\n\t\t},\n\n\t\texclusion: function() {\n\t\t\tdr = br + sr * (255 - br - br) / 255;\n\t\t\tdg = bg + sg * (255 - bg - bg) / 255;\n\t\t\tdb = bb + sb * (255 - bb - bb) / 255;\n\t\t},\n\n\t\thue: function() {\n\t\t\tsetSat(sr, sg, sb, getSat(br, bg, bb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tsaturation: function() {\n\t\t\tsetSat(br, bg, bb, getSat(sr, sg, sb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tluminosity: function() {\n\t\t\tsetLum(br, bg, bb, getLum(sr, sg, sb));\n\t\t},\n\n\t\tcolor: function() {\n\t\t\tsetLum(sr, sg, sb, getLum(br, bg, bb));\n\t\t},\n\n\t\tadd: function() {\n\t\t\tdr = min(br + sr, 255);\n\t\t\tdg = min(bg + sg, 255);\n\t\t\tdb = min(bb + sb, 255);\n\t\t},\n\n\t\tsubtract: function() {\n\t\t\tdr = max(br - sr, 0);\n\t\t\tdg = max(bg - sg, 0);\n\t\t\tdb = max(bb - sb, 0);\n\t\t},\n\n\t\taverage: function() {\n\t\t\tdr = (br + sr) / 2;\n\t\t\tdg = (bg + sg) / 2;\n\t\t\tdb = (bb + sb) / 2;\n\t\t},\n\n\t\tnegation: function() {\n\t\t\tdr = 255 - abs(255 - sr - br);\n\t\t\tdg = 255 - abs(255 - sg - bg);\n\t\t\tdb = 255 - abs(255 - sb - bb);\n\t\t}\n\t};\n\n\tvar nativeModes = this.nativeModes = Base.each([\n\t\t'source-over', 'source-in', 'source-out', 'source-atop',\n\t\t'destination-over', 'destination-in', 'destination-out',\n\t\t'destination-atop', 'lighter', 'darker', 'copy', 'xor'\n\t], function(mode) {\n\t\tthis[mode] = true;\n\t}, {});\n\n\tvar ctx = CanvasProvider.getContext(1, 1, { willReadFrequently: true });\n\tif (ctx) {\n\t\tBase.each(modes, function(func, mode) {\n\t\t\tvar darken = mode === 'darken',\n\t\t\t\tok = false;\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.fillStyle = darken ? '#300' : '#a00';\n\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\tctx.globalCompositeOperation = mode;\n\t\t\t\tif (ctx.globalCompositeOperation === mode) {\n\t\t\t\t\tctx.fillStyle = darken ? '#a00' : '#300';\n\t\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tok = ctx.getImageData(0, 0, 1, 1).data[0] !== darken\n\t\t\t\t\t\t\t? 170 : 51;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t\tctx.restore();\n\t\t\tnativeModes[mode] = ok;\n\t\t});\n\t\tCanvasProvider.release(ctx);\n\t}\n\n\tthis.process = function(mode, srcContext, dstContext, alpha, offset) {\n\t\tvar srcCanvas = srcContext.canvas,\n\t\t\tnormal = mode === 'normal';\n\t\tif (normal || nativeModes[mode]) {\n\t\t\tdstContext.save();\n\t\t\tdstContext.setTransform(1, 0, 0, 1, 0, 0);\n\t\t\tdstContext.globalAlpha = alpha;\n\t\t\tif (!normal)\n\t\t\t\tdstContext.globalCompositeOperation = mode;\n\t\t\tdstContext.drawImage(srcCanvas, offset.x, offset.y);\n\t\t\tdstContext.restore();\n\t\t} else {\n\t\t\tvar process = modes[mode];\n\t\t\tif (!process)\n\t\t\t\treturn;\n\t\t\tvar dstData = dstContext.getImageData(offset.x, offset.y,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height),\n\t\t\t\tdst = dstData.data,\n\t\t\t\tsrc = srcContext.getImageData(0, 0,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height).data;\n\t\t\tfor (var i = 0, l = dst.length; i < l; i += 4) {\n\t\t\t\tsr = src[i];\n\t\t\t\tbr = dst[i];\n\t\t\t\tsg = src[i + 1];\n\t\t\t\tbg = dst[i + 1];\n\t\t\t\tsb = src[i + 2];\n\t\t\t\tbb = dst[i + 2];\n\t\t\t\tsa = src[i + 3];\n\t\t\t\tba = dst[i + 3];\n\t\t\t\tprocess();\n\t\t\t\tvar a1 = sa * alpha / 255,\n\t\t\t\t\ta2 = 1 - a1;\n\t\t\t\tdst[i] = a1 * dr + a2 * br;\n\t\t\t\tdst[i + 1] = a1 * dg + a2 * bg;\n\t\t\t\tdst[i + 2] = a1 * db + a2 * bb;\n\t\t\t\tdst[i + 3] = sa * alpha + a2 * ba;\n\t\t\t}\n\t\t\tdstContext.putImageData(dstData, offset.x, offset.y);\n\t\t}\n\t};\n};\n\nvar SvgElement = new function() {\n\tvar svg = 'http://www.w3.org/2000/svg',\n\t\txmlns = 'http://www.w3.org/2000/xmlns',\n\t\txlink = 'http://www.w3.org/1999/xlink',\n\t\tattributeNamespace = {\n\t\t\thref: xlink,\n\t\t\txlink: xmlns,\n\t\t\txmlns: xmlns + '/',\n\t\t\t'xmlns:xlink': xmlns + '/'\n\t\t};\n\n\tfunction create(tag, attributes, formatter) {\n\t\treturn set(document.createElementNS(svg, tag), attributes, formatter);\n\t}\n\n\tfunction get(node, name) {\n\t\tvar namespace = attributeNamespace[name],\n\t\t\tvalue = namespace\n\t\t\t\t? node.getAttributeNS(namespace, name)\n\t\t\t\t: node.getAttribute(name);\n\t\treturn value === 'null' ? null : value;\n\t}\n\n\tfunction set(node, attributes, formatter) {\n\t\tfor (var name in attributes) {\n\t\t\tvar value = attributes[name],\n\t\t\t\tnamespace = attributeNamespace[name];\n\t\t\tif (typeof value === 'number' && formatter)\n\t\t\t\tvalue = formatter.number(value);\n\t\t\tif (namespace) {\n\t\t\t\tnode.setAttributeNS(namespace, name, value);\n\t\t\t} else {\n\t\t\t\tnode.setAttribute(name, value);\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\treturn {\n\t\tsvg: svg,\n\t\txmlns: xmlns,\n\t\txlink: xlink,\n\n\t\tcreate: create,\n\t\tget: get,\n\t\tset: set\n\t};\n};\n\nvar SvgStyles = Base.each({\n\tfillColor: ['fill', 'color'],\n\tfillRule: ['fill-rule', 'string'],\n\tstrokeColor: ['stroke', 'color'],\n\tstrokeWidth: ['stroke-width', 'number'],\n\tstrokeCap: ['stroke-linecap', 'string'],\n\tstrokeJoin: ['stroke-linejoin', 'string'],\n\tstrokeScaling: ['vector-effect', 'lookup', {\n\t\ttrue: 'none',\n\t\tfalse: 'non-scaling-stroke'\n\t}, function(item, value) {\n\t\treturn !value\n\t\t\t\t&& (item instanceof PathItem\n\t\t\t\t\t|| item instanceof Shape\n\t\t\t\t\t|| item instanceof TextItem);\n\t}],\n\tmiterLimit: ['stroke-miterlimit', 'number'],\n\tdashArray: ['stroke-dasharray', 'array'],\n\tdashOffset: ['stroke-dashoffset', 'number'],\n\tfontFamily: ['font-family', 'string'],\n\tfontWeight: ['font-weight', 'string'],\n\tfontSize: ['font-size', 'number'],\n\tjustification: ['text-anchor', 'lookup', {\n\t\tleft: 'start',\n\t\tcenter: 'middle',\n\t\tright: 'end'\n\t}],\n\topacity: ['opacity', 'number'],\n\tblendMode: ['mix-blend-mode', 'style']\n}, function(entry, key) {\n\tvar part = Base.capitalize(key),\n\t\tlookup = entry[2];\n\tthis[key] = {\n\t\ttype: entry[1],\n\t\tproperty: key,\n\t\tattribute: entry[0],\n\t\ttoSVG: lookup,\n\t\tfromSVG: lookup && Base.each(lookup, function(value, name) {\n\t\t\tthis[value] = name;\n\t\t}, {}),\n\t\texportFilter: entry[3],\n\t\tget: 'get' + part,\n\t\tset: 'set' + part\n\t};\n}, {});\n\nnew function() {\n\tvar formatter;\n\n\tfunction getTransform(matrix, coordinates, center) {\n\t\tvar attrs = new Base(),\n\t\t\ttrans = matrix.getTranslation();\n\t\tif (coordinates) {\n\t\t\tvar point;\n\t\t\tif (matrix.isInvertible()) {\n\t\t\t\tmatrix = matrix._shiftless();\n\t\t\t\tpoint = matrix._inverseTransform(trans);\n\t\t\t\ttrans = null;\n\t\t\t} else {\n\t\t\t\tpoint = new Point();\n\t\t\t}\n\t\t\tattrs[center ? 'cx' : 'x'] = point.x;\n\t\t\tattrs[center ? 'cy' : 'y'] = point.y;\n\t\t}\n\t\tif (!matrix.isIdentity()) {\n\t\t\tvar decomposed = matrix.decompose();\n\t\t\tif (decomposed) {\n\t\t\t\tvar parts = [],\n\t\t\t\t\tangle = decomposed.rotation,\n\t\t\t\t\tscale = decomposed.scaling,\n\t\t\t\t\tskew = decomposed.skewing;\n\t\t\t\tif (trans && !trans.isZero())\n\t\t\t\t\tparts.push('translate(' + formatter.point(trans) + ')');\n\t\t\t\tif (angle)\n\t\t\t\t\tparts.push('rotate(' + formatter.number(angle) + ')');\n\t\t\t\tif (!Numerical.isZero(scale.x - 1)\n\t\t\t\t\t\t|| !Numerical.isZero(scale.y - 1))\n\t\t\t\t\tparts.push('scale(' + formatter.point(scale) +')');\n\t\t\t\tif (skew.x)\n\t\t\t\t\tparts.push('skewX(' + formatter.number(skew.x) + ')');\n\t\t\t\tif (skew.y)\n\t\t\t\t\tparts.push('skewY(' + formatter.number(skew.y) + ')');\n\t\t\t\tattrs.transform = parts.join(' ');\n\t\t\t} else {\n\t\t\t\tattrs.transform = 'matrix(' + matrix.getValues().join(',') + ')';\n\t\t\t}\n\t\t}\n\t\treturn attrs;\n\t}\n\n\tfunction exportGroup(item, options) {\n\t\tvar attrs = getTransform(item._matrix),\n\t\t\tchildren = item._children;\n\t\tvar node = SvgElement.create('g', attrs, formatter);\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i];\n\t\t\tvar childNode = exportSVG(child, options);\n\t\t\tif (childNode) {\n\t\t\t\tif (child.isClipMask()) {\n\t\t\t\t\tvar clip = SvgElement.create('clipPath');\n\t\t\t\t\tclip.appendChild(childNode);\n\t\t\t\t\tsetDefinition(child, clip, 'clip');\n\t\t\t\t\tSvgElement.set(node, {\n\t\t\t\t\t\t'clip-path': 'url(#' + clip.id + ')'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnode.appendChild(childNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\tfunction exportRaster(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tsize = item.getSize(),\n\t\t\timage = item.getImage();\n\t\tattrs.x -= size.width / 2;\n\t\tattrs.y -= size.height / 2;\n\t\tattrs.width = size.width;\n\t\tattrs.height = size.height;\n\t\tattrs.href = options.embedImages == false && image && image.src\n\t\t\t\t|| item.toDataURL();\n\t\treturn SvgElement.create('image', attrs, formatter);\n\t}\n\n\tfunction exportPath(item, options) {\n\t\tvar matchShapes = options.matchShapes;\n\t\tif (matchShapes) {\n\t\t\tvar shape = item.toShape(false);\n\t\t\tif (shape)\n\t\t\t\treturn exportShape(shape, options);\n\t\t}\n\t\tvar segments = item._segments,\n\t\t\tlength = segments.length,\n\t\t\ttype,\n\t\t\tattrs = getTransform(item._matrix);\n\t\tif (matchShapes && length >= 2 && !item.hasHandles()) {\n\t\t\tif (length > 2) {\n\t\t\t\ttype = item._closed ? 'polygon' : 'polyline';\n\t\t\t\tvar parts = [];\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tparts.push(formatter.point(segments[i]._point));\n\t\t\t\t}\n\t\t\t\tattrs.points = parts.join(' ');\n\t\t\t} else {\n\t\t\t\ttype = 'line';\n\t\t\t\tvar start = segments[0]._point,\n\t\t\t\t\tend = segments[1]._point;\n\t\t\t\tattrs.set({\n\t\t\t\t\tx1: start.x,\n\t\t\t\t\ty1: start.y,\n\t\t\t\t\tx2: end.x,\n\t\t\t\t\ty2: end.y\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\ttype = 'path';\n\t\t\tattrs.d = item.getPathData(null, options.precision);\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportShape(item) {\n\t\tvar type = item._type,\n\t\t\tradius = item._radius,\n\t\t\tattrs = getTransform(item._matrix, true, type !== 'rectangle');\n\t\tif (type === 'rectangle') {\n\t\t\ttype = 'rect';\n\t\t\tvar size = item._size,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tattrs.x -= width / 2;\n\t\t\tattrs.y -= height / 2;\n\t\t\tattrs.width = width;\n\t\t\tattrs.height = height;\n\t\t\tif (radius.isZero())\n\t\t\t\tradius = null;\n\t\t}\n\t\tif (radius) {\n\t\t\tif (type === 'circle') {\n\t\t\t\tattrs.r = radius;\n\t\t\t} else {\n\t\t\t\tattrs.rx = radius.width;\n\t\t\t\tattrs.ry = radius.height;\n\t\t\t}\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportCompoundPath(item, options) {\n\t\tvar attrs = getTransform(item._matrix);\n\t\tvar data = item.getPathData(null, options.precision);\n\t\tif (data)\n\t\t\tattrs.d = data;\n\t\treturn SvgElement.create('path', attrs, formatter);\n\t}\n\n\tfunction exportSymbolItem(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tdefinition = item._definition,\n\t\t\tnode = getDefinition(definition, 'symbol'),\n\t\t\tdefinitionItem = definition._item,\n\t\t\tbounds = definitionItem.getStrokeBounds();\n\t\tif (!node) {\n\t\t\tnode = SvgElement.create('symbol', {\n\t\t\t\tviewBox: formatter.rectangle(bounds)\n\t\t\t});\n\t\t\tnode.appendChild(exportSVG(definitionItem, options));\n\t\t\tsetDefinition(definition, node, 'symbol');\n\t\t}\n\t\tattrs.href = '#' + node.id;\n\t\tattrs.x += bounds.x;\n\t\tattrs.y += bounds.y;\n\t\tattrs.width = bounds.width;\n\t\tattrs.height = bounds.height;\n\t\tattrs.overflow = 'visible';\n\t\treturn SvgElement.create('use', attrs, formatter);\n\t}\n\n\tfunction exportGradient(color) {\n\t\tvar gradientNode = getDefinition(color, 'color');\n\t\tif (!gradientNode) {\n\t\t\tvar gradient = color.getGradient(),\n\t\t\t\tradial = gradient._radial,\n\t\t\t\torigin = color.getOrigin(),\n\t\t\t\tdestination = color.getDestination(),\n\t\t\t\tattrs;\n\t\t\tif (radial) {\n\t\t\t\tattrs = {\n\t\t\t\t\tcx: origin.x,\n\t\t\t\t\tcy: origin.y,\n\t\t\t\t\tr: origin.getDistance(destination)\n\t\t\t\t};\n\t\t\t\tvar highlight = color.getHighlight();\n\t\t\t\tif (highlight) {\n\t\t\t\t\tattrs.fx = highlight.x;\n\t\t\t\t\tattrs.fy = highlight.y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tattrs = {\n\t\t\t\t\tx1: origin.x,\n\t\t\t\t\ty1: origin.y,\n\t\t\t\t\tx2: destination.x,\n\t\t\t\t\ty2: destination.y\n\t\t\t\t};\n\t\t\t}\n\t\t\tattrs.gradientUnits = 'userSpaceOnUse';\n\t\t\tgradientNode = SvgElement.create((radial ? 'radial' : 'linear')\n\t\t\t\t\t+ 'Gradient', attrs, formatter);\n\t\t\tvar stops = gradient._stops;\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\tstopColor = stop._color,\n\t\t\t\t\talpha = stopColor.getAlpha(),\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tattrs = {\n\t\t\t\t\toffset: offset == null ? i / (l - 1) : offset\n\t\t\t\t};\n\t\t\t\tif (stopColor)\n\t\t\t\t\tattrs['stop-color'] = stopColor.toCSS(true);\n\t\t\t\tif (alpha < 1)\n\t\t\t\t\tattrs['stop-opacity'] = alpha;\n\t\t\t\tgradientNode.appendChild(\n\t\t\t\t\t\tSvgElement.create('stop', attrs, formatter));\n\t\t\t}\n\t\t\tsetDefinition(color, gradientNode, 'color');\n\t\t}\n\t\treturn 'url(#' + gradientNode.id + ')';\n\t}\n\n\tfunction exportText(item) {\n\t\tvar node = SvgElement.create('text', getTransform(item._matrix, true),\n\t\t\t\tformatter);\n\t\tnode.textContent = item._content;\n\t\treturn node;\n\t}\n\n\tvar exporters = {\n\t\tGroup: exportGroup,\n\t\tLayer: exportGroup,\n\t\tRaster: exportRaster,\n\t\tPath: exportPath,\n\t\tShape: exportShape,\n\t\tCompoundPath: exportCompoundPath,\n\t\tSymbolItem: exportSymbolItem,\n\t\tPointText: exportText\n\t};\n\n\tfunction applyStyle(item, node, options, isRoot) {\n\t\tvar attrs = {},\n\t\t\tparent = !isRoot && item.getParent(),\n\t\t\tstyle = [];\n\n\t\tif (item._name != null)\n\t\t\tattrs.id = item._name;\n\n\t\tBase.each(SvgStyles, function(entry) {\n\t\t\tvar get = entry.get,\n\t\t\t\ttype = entry.type,\n\t\t\t\tvalue = item[get]();\n\t\t\tif (entry.exportFilter\n\t\t\t\t\t? entry.exportFilter(item, value)\n\t\t\t\t\t: options.reduceAttributes == false\n\t\t\t\t\t\t|| !parent || !Base.equals(parent[get](), value)) {\n\t\t\t\tif (type === 'color' && value != null) {\n\t\t\t\t\tvar alpha = value.getAlpha();\n\t\t\t\t\tif (alpha < 1)\n\t\t\t\t\t\tattrs[entry.attribute + '-opacity'] = alpha;\n\t\t\t\t}\n\t\t\t\tif (type === 'style') {\n\t\t\t\t\tstyle.push(entry.attribute + ': ' + value);\n\t\t\t\t} else {\n\t\t\t\t\tattrs[entry.attribute] = value == null ? 'none'\n\t\t\t\t\t\t\t: type === 'color' ? value.gradient\n\t\t\t\t\t\t\t\t? exportGradient(value, item)\n\t\t\t\t\t\t\t\t: value.toCSS(true)\n\t\t\t\t\t\t\t: type === 'array' ? value.join(',')\n\t\t\t\t\t\t\t: type === 'lookup' ? entry.toSVG[value]\n\t\t\t\t\t\t\t: value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (style.length)\n\t\t\tattrs.style = style.join(';');\n\n\t\tif (attrs.opacity === 1)\n\t\t\tdelete attrs.opacity;\n\n\t\tif (!item._visible)\n\t\t\tattrs.visibility = 'hidden';\n\n\t\treturn SvgElement.set(node, attrs, formatter);\n\t}\n\n\tvar definitions;\n\tfunction getDefinition(item, type) {\n\t\tif (!definitions)\n\t\t\tdefinitions = { ids: {}, svgs: {} };\n\t\treturn item && definitions.svgs[type + '-'\n\t\t\t\t+ (item._id || item.__id || (item.__id = UID.get('svg')))];\n\t}\n\n\tfunction setDefinition(item, node, type) {\n\t\tif (!definitions)\n\t\t\tgetDefinition();\n\t\tvar typeId = definitions.ids[type] = (definitions.ids[type] || 0) + 1;\n\t\tnode.id = type + '-' + typeId;\n\t\tdefinitions.svgs[type + '-' + (item._id || item.__id)] = node;\n\t}\n\n\tfunction exportDefinitions(node, options) {\n\t\tvar svg = node,\n\t\t\tdefs = null;\n\t\tif (definitions) {\n\t\t\tsvg = node.nodeName.toLowerCase() === 'svg' && node;\n\t\t\tfor (var i in definitions.svgs) {\n\t\t\t\tif (!defs) {\n\t\t\t\t\tif (!svg) {\n\t\t\t\t\t\tsvg = SvgElement.create('svg');\n\t\t\t\t\t\tsvg.appendChild(node);\n\t\t\t\t\t}\n\t\t\t\t\tdefs = svg.insertBefore(SvgElement.create('defs'),\n\t\t\t\t\t\t\tsvg.firstChild);\n\t\t\t\t}\n\t\t\t\tdefs.appendChild(definitions.svgs[i]);\n\t\t\t}\n\t\t\tdefinitions = null;\n\t\t}\n\t\treturn options.asString\n\t\t\t\t? new self.XMLSerializer().serializeToString(svg)\n\t\t\t\t: svg;\n\t}\n\n\tfunction exportSVG(item, options, isRoot) {\n\t\tvar exporter = exporters[item._class],\n\t\t\tnode = exporter && exporter(item, options);\n\t\tif (node) {\n\t\t\tvar onExport = options.onExport;\n\t\t\tif (onExport)\n\t\t\t\tnode = onExport(item, node, options) || node;\n\t\t\tvar data = JSON.stringify(item._data);\n\t\t\tif (data && data !== '{}' && data !== 'null')\n\t\t\t\tnode.setAttribute('data-paper-data', data);\n\t\t}\n\t\treturn node && applyStyle(item, node, options, isRoot);\n\t}\n\n\tfunction setOptions(options) {\n\t\tif (!options)\n\t\t\toptions = {};\n\t\tformatter = new Formatter(options.precision);\n\t\treturn options;\n\t}\n\n\tItem.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\treturn exportDefinitions(exportSVG(this, options, true), options);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\tvar children = this._children,\n\t\t\t\tview = this.getView(),\n\t\t\t\tbounds = Base.pick(options.bounds, 'view'),\n\t\t\t\tmx = options.matrix || bounds === 'view' && view._matrix,\n\t\t\t\tmatrix = mx && Matrix.read([mx]),\n\t\t\t\trect = bounds === 'view'\n\t\t\t\t\t? new Rectangle([0, 0], view.getViewSize())\n\t\t\t\t\t: bounds === 'content'\n\t\t\t\t\t\t? Item._getBounds(children, matrix, { stroke: true })\n\t\t\t\t\t\t\t.rect\n\t\t\t\t\t\t: Rectangle.read([bounds], 0, { readNull: true }),\n\t\t\t\tattrs = {\n\t\t\t\t\tversion: '1.1',\n\t\t\t\t\txmlns: SvgElement.svg,\n\t\t\t\t\t'xmlns:xlink': SvgElement.xlink,\n\t\t\t\t};\n\t\t\tif (rect) {\n\t\t\t\tattrs.width = rect.width;\n\t\t\t\tattrs.height = rect.height;\n\t\t\t\tif (rect.x || rect.x === 0 || rect.y || rect.y === 0)\n\t\t\t\t\tattrs.viewBox = formatter.rectangle(rect);\n\t\t\t}\n\t\t\tvar node = SvgElement.create('svg', attrs, formatter),\n\t\t\t\tparent = node;\n\t\t\tif (matrix && !matrix.isIdentity()) {\n\t\t\t\tparent = node.appendChild(SvgElement.create('g',\n\t\t\t\t\t\tgetTransform(matrix), formatter));\n\t\t\t}\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tparent.appendChild(exportSVG(children[i], options, true));\n\t\t\t}\n\t\t\treturn exportDefinitions(node, options);\n\t\t}\n\t});\n};\n\nnew function() {\n\n\tvar definitions = {},\n\t\trootSize;\n\n\tfunction getValue(node, name, isString, allowNull, allowPercent,\n\t\t\tdefaultValue) {\n\t\tvar value = SvgElement.get(node, name) || defaultValue,\n\t\t\tres = value == null\n\t\t\t\t? allowNull\n\t\t\t\t\t? null\n\t\t\t\t\t: isString ? '' : 0\n\t\t\t\t: isString\n\t\t\t\t\t? value\n\t\t\t\t\t: parseFloat(value);\n\t\treturn /%\\s*$/.test(value)\n\t\t\t? (res / 100) * (allowPercent ? 1\n\t\t\t\t: rootSize[/x|^width/.test(name) ? 'width' : 'height'])\n\t\t\t: res;\n\t}\n\n\tfunction getPoint(node, x, y, allowNull, allowPercent, defaultX, defaultY) {\n\t\tx = getValue(node, x || 'x', false, allowNull, allowPercent, defaultX);\n\t\ty = getValue(node, y || 'y', false, allowNull, allowPercent, defaultY);\n\t\treturn allowNull && (x == null || y == null) ? null\n\t\t\t\t: new Point(x, y);\n\t}\n\n\tfunction getSize(node, w, h, allowNull, allowPercent) {\n\t\tw = getValue(node, w || 'width', false, allowNull, allowPercent);\n\t\th = getValue(node, h || 'height', false, allowNull, allowPercent);\n\t\treturn allowNull && (w == null || h == null) ? null\n\t\t\t\t: new Size(w, h);\n\t}\n\n\tfunction convertValue(value, type, lookup) {\n\t\treturn value === 'none' ? null\n\t\t\t\t: type === 'number' ? parseFloat(value)\n\t\t\t\t: type === 'array' ?\n\t\t\t\t\tvalue ? value.split(/[\\s,]+/g).map(parseFloat) : []\n\t\t\t\t: type === 'color' ? getDefinition(value) || value\n\t\t\t\t: type === 'lookup' ? lookup[value]\n\t\t\t\t: value;\n\t}\n\n\tfunction importGroup(node, type, options, isRoot) {\n\t\tvar nodes = node.childNodes,\n\t\t\tisClip = type === 'clippath',\n\t\t\tisDefs = type === 'defs',\n\t\t\titem = new Group(),\n\t\t\tproject = item._project,\n\t\t\tcurrentStyle = project._currentStyle,\n\t\t\tchildren = [];\n\t\tif (!isClip && !isDefs) {\n\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tproject._currentStyle = item._style.clone();\n\t\t}\n\t\tif (isRoot) {\n\t\t\tvar defs = node.querySelectorAll('defs');\n\t\t\tfor (var i = 0, l = defs.length; i < l; i++) {\n\t\t\t\timportNode(defs[i], options, false);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\tvar childNode = nodes[i],\n\t\t\t\tchild;\n\t\t\tif (childNode.nodeType === 1\n\t\t\t\t\t&& !/^defs$/i.test(childNode.nodeName)\n\t\t\t\t\t&& (child = importNode(childNode, options, false))\n\t\t\t\t\t&& !(child instanceof SymbolDefinition))\n\t\t\t\tchildren.push(child);\n\t\t}\n\t\titem.addChildren(children);\n\t\tif (isClip)\n\t\t\titem = applyAttributes(item.reduce(), node, isRoot);\n\t\tproject._currentStyle = currentStyle;\n\t\tif (isClip || isDefs) {\n\t\t\titem.remove();\n\t\t\titem = null;\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importPoly(node, type) {\n\t\tvar coords = node.getAttribute('points').match(\n\t\t\t\t\t/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g),\n\t\t\tpoints = [];\n\t\tfor (var i = 0, l = coords.length; i < l; i += 2)\n\t\t\tpoints.push(new Point(\n\t\t\t\t\tparseFloat(coords[i]),\n\t\t\t\t\tparseFloat(coords[i + 1])));\n\t\tvar path = new Path(points);\n\t\tif (type === 'polygon')\n\t\t\tpath.closePath();\n\t\treturn path;\n\t}\n\n\tfunction importPath(node) {\n\t\treturn PathItem.create(node.getAttribute('d'));\n\t}\n\n\tfunction importGradient(node, type) {\n\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\tradial = type === 'radialgradient',\n\t\t\tgradient;\n\t\tif (id) {\n\t\t\tgradient = definitions[id].getGradient();\n\t\t\tif (gradient._radial ^ radial) {\n\t\t\t\tgradient = gradient.clone();\n\t\t\t\tgradient._radial = radial;\n\t\t\t}\n\t\t} else {\n\t\t\tvar nodes = node.childNodes,\n\t\t\t\tstops = [];\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\tstops.push(applyAttributes(new GradientStop(), child));\n\t\t\t}\n\t\t\tgradient = new Gradient(stops, radial);\n\t\t}\n\t\tvar origin, destination, highlight,\n\t\t\tscaleToBounds = getValue(node, 'gradientUnits', true) !==\n\t\t\t\t'userSpaceOnUse';\n\t\tif (radial) {\n\t\t\torigin = getPoint(node, 'cx', 'cy', false, scaleToBounds,\n\t\t\t\t'50%', '50%');\n\t\t\tdestination = origin.add(\n\t\t\t\tgetValue(node, 'r', false, false, scaleToBounds, '50%'), 0);\n\t\t\thighlight = getPoint(node, 'fx', 'fy', true, scaleToBounds);\n\t\t} else {\n\t\t\torigin = getPoint(node, 'x1', 'y1', false, scaleToBounds,\n\t\t\t\t'0%', '0%');\n\t\t\tdestination = getPoint(node, 'x2', 'y2', false, scaleToBounds,\n\t\t\t\t'100%', '0%');\n\t\t}\n\t\tvar color = applyAttributes(\n\t\t\t\tnew Color(gradient, origin, destination, highlight), node);\n\t\tcolor._scaleToBounds = scaleToBounds;\n\t\treturn null;\n\t}\n\n\tvar importers = {\n\t\t'#document': function (node, type, options, isRoot) {\n\t\t\tvar nodes = node.childNodes;\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\treturn importNode(child, options, isRoot);\n\t\t\t}\n\t\t},\n\t\tg: importGroup,\n\t\tsvg: importGroup,\n\t\tclippath: importGroup,\n\t\tpolygon: importPoly,\n\t\tpolyline: importPoly,\n\t\tpath: importPath,\n\t\tlineargradient: importGradient,\n\t\tradialgradient: importGradient,\n\n\t\timage: function (node) {\n\t\t\tvar raster = new Raster(getValue(node, 'href', true));\n\t\t\traster.on('load', function() {\n\t\t\t\tvar size = getSize(node);\n\t\t\t\tthis.setSize(size);\n\t\t\t\tvar center = getPoint(node).add(size.divide(2));\n\t\t\t\tthis._matrix.append(new Matrix().translate(center));\n\t\t\t});\n\t\t\treturn raster;\n\t\t},\n\n\t\tsymbol: function(node, type, options, isRoot) {\n\t\t\treturn new SymbolDefinition(\n\t\t\t\t\timportGroup(node, type, options, isRoot), true);\n\t\t},\n\n\t\tdefs: importGroup,\n\n\t\tuse: function(node) {\n\t\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\t\tdefinition = definitions[id],\n\t\t\t\tpoint = getPoint(node);\n\t\t\treturn definition\n\t\t\t\t\t? definition instanceof SymbolDefinition\n\t\t\t\t\t\t? definition.place(point)\n\t\t\t\t\t\t: definition.clone().translate(point)\n\t\t\t\t\t: null;\n\t\t},\n\n\t\tcircle: function(node) {\n\t\t\treturn new Shape.Circle(\n\t\t\t\t\tgetPoint(node, 'cx', 'cy'),\n\t\t\t\t\tgetValue(node, 'r'));\n\t\t},\n\n\t\tellipse: function(node) {\n\t\t\treturn new Shape.Ellipse({\n\t\t\t\tcenter: getPoint(node, 'cx', 'cy'),\n\t\t\t\tradius: getSize(node, 'rx', 'ry')\n\t\t\t});\n\t\t},\n\n\t\trect: function(node) {\n\t\t\treturn new Shape.Rectangle(new Rectangle(\n\t\t\t\t\t\tgetPoint(node),\n\t\t\t\t\t\tgetSize(node)\n\t\t\t\t\t), getSize(node, 'rx', 'ry'));\n\t\t\t},\n\n\t\tline: function(node) {\n\t\t\treturn new Path.Line(\n\t\t\t\t\tgetPoint(node, 'x1', 'y1'),\n\t\t\t\t\tgetPoint(node, 'x2', 'y2'));\n\t\t},\n\n\t\ttext: function(node) {\n\t\t\tvar text = new PointText(getPoint(node).add(\n\t\t\t\t\tgetPoint(node, 'dx', 'dy')));\n\t\t\ttext.setContent(node.textContent.trim() || '');\n\t\t\treturn text;\n\t\t},\n\n\t\tswitch: importGroup\n\t};\n\n\tfunction applyTransform(item, value, name, node) {\n\t\tif (item.transform) {\n\t\t\tvar transforms = (node.getAttribute(name) || '').split(/\\)\\s*/g),\n\t\t\t\tmatrix = new Matrix();\n\t\t\tfor (var i = 0, l = transforms.length; i < l; i++) {\n\t\t\t\tvar transform = transforms[i];\n\t\t\t\tif (!transform)\n\t\t\t\t\tbreak;\n\t\t\t\tvar parts = transform.split(/\\(\\s*/),\n\t\t\t\t\tcommand = parts[0].trim(),\n\t\t\t\t\tv = parts[1].split(/[\\s,]+/g);\n\t\t\t\tfor (var j = 0, m = v.length; j < m; j++)\n\t\t\t\t\tv[j] = parseFloat(v[j]);\n\t\t\t\tswitch (command) {\n\t\t\t\tcase 'matrix':\n\t\t\t\t\tmatrix.append(\n\t\t\t\t\t\t\tnew Matrix(v[0], v[1], v[2], v[3], v[4], v[5]));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotate':\n\t\t\t\t\tmatrix.rotate(v[0], v[1] || 0, v[2] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'translate':\n\t\t\t\t\tmatrix.translate(v[0], v[1] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scale':\n\t\t\t\t\tmatrix.scale(v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewX':\n\t\t\t\t\tmatrix.skew(v[0], 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewY':\n\t\t\t\t\tmatrix.skew(0, v[0]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\titem.transform(matrix);\n\t\t}\n\t}\n\n\tfunction applyOpacity(item, value, name) {\n\t\tvar key = name === 'fill-opacity' ? 'getFillColor' : 'getStrokeColor',\n\t\t\tcolor = item[key] && item[key]();\n\t\tif (color)\n\t\t\tcolor.setAlpha(parseFloat(value));\n\t}\n\n\tvar attributes = Base.set(Base.each(SvgStyles, function(entry) {\n\t\tthis[entry.attribute] = function(item, value) {\n\t\t\tif (item[entry.set]) {\n\t\t\t\titem[entry.set](convertValue(value, entry.type, entry.fromSVG));\n\t\t\t\tif (entry.type === 'color') {\n\t\t\t\t\tvar color = item[entry.get]();\n\t\t\t\t\tif (color) {\n\t\t\t\t\t\tif (color._scaleToBounds) {\n\t\t\t\t\t\t\tvar bounds = item.getBounds();\n\t\t\t\t\t\t\tcolor.transform(new Matrix()\n\t\t\t\t\t\t\t\t.translate(bounds.getPoint())\n\t\t\t\t\t\t\t\t.scale(bounds.getSize()));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}, {}), {\n\t\tid: function(item, value) {\n\t\t\tdefinitions[value] = item;\n\t\t\tif (item.setName)\n\t\t\t\titem.setName(value);\n\t\t},\n\n\t\t'clip-path': function(item, value) {\n\t\t\tvar clip = getDefinition(value);\n\t\t\tif (clip) {\n\t\t\t\tclip = clip.clone();\n\t\t\t\tclip.setClipMask(true);\n\t\t\t\tif (item instanceof Group) {\n\t\t\t\t\titem.insertChild(0, clip);\n\t\t\t\t} else {\n\t\t\t\t\treturn new Group(clip, item);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgradientTransform: applyTransform,\n\t\ttransform: applyTransform,\n\n\t\t'fill-opacity': applyOpacity,\n\t\t'stroke-opacity': applyOpacity,\n\n\t\tvisibility: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value === 'visible');\n\t\t},\n\n\t\tdisplay: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value !== null);\n\t\t},\n\n\t\t'stop-color': function(item, value) {\n\t\t\tif (item.setColor)\n\t\t\t\titem.setColor(value);\n\t\t},\n\n\t\t'stop-opacity': function(item, value) {\n\t\t\tif (item._color)\n\t\t\t\titem._color.setAlpha(parseFloat(value));\n\t\t},\n\n\t\toffset: function(item, value) {\n\t\t\tif (item.setOffset) {\n\t\t\t\tvar percent = value.match(/(.*)%$/);\n\t\t\t\titem.setOffset(percent ? percent[1] / 100 : parseFloat(value));\n\t\t\t}\n\t\t},\n\n\t\tviewBox: function(item, value, name, node, styles) {\n\t\t\tvar rect = new Rectangle(convertValue(value, 'array')),\n\t\t\t\tsize = getSize(node, null, null, true),\n\t\t\t\tgroup,\n\t\t\t\tmatrix;\n\t\t\tif (item instanceof Group) {\n\t\t\t\tvar scale = size ? size.divide(rect.getSize()) : 1,\n\t\t\t\tmatrix = new Matrix().scale(scale)\n\t\t\t\t\t\t.translate(rect.getPoint().negate());\n\t\t\t\tgroup = item;\n\t\t\t} else if (item instanceof SymbolDefinition) {\n\t\t\t\tif (size)\n\t\t\t\t\trect.setSize(size);\n\t\t\t\tgroup = item._item;\n\t\t\t}\n\t\t\tif (group)  {\n\t\t\t\tif (getAttribute(node, 'overflow', styles) !== 'visible') {\n\t\t\t\t\tvar clip = new Shape.Rectangle(rect);\n\t\t\t\t\tclip.setClipMask(true);\n\t\t\t\t\tgroup.addChild(clip);\n\t\t\t\t}\n\t\t\t\tif (matrix)\n\t\t\t\t\tgroup.transform(matrix);\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction getAttribute(node, name, styles) {\n\t\tvar attr = node.attributes[name],\n\t\t\tvalue = attr && attr.value;\n\t\tif (!value && node.style) {\n\t\t\tvar style = Base.camelize(name);\n\t\t\tvalue = node.style[style];\n\t\t\tif (!value && styles.node[style] !== styles.parent[style])\n\t\t\t\tvalue = styles.node[style];\n\t\t}\n\t\treturn !value ? undefined\n\t\t\t\t: value === 'none' ? null\n\t\t\t\t: value;\n\t}\n\n\tfunction applyAttributes(item, node, isRoot) {\n\t\tvar parent = node.parentNode,\n\t\t\tstyles = {\n\t\t\t\tnode: DomElement.getStyles(node) || {},\n\t\t\t\tparent: !isRoot && !/^defs$/i.test(parent.tagName)\n\t\t\t\t\t\t&& DomElement.getStyles(parent) || {}\n\t\t\t};\n\t\tBase.each(attributes, function(apply, name) {\n\t\t\tvar value = getAttribute(node, name, styles);\n\t\t\titem = value !== undefined\n\t\t\t\t\t&& apply(item, value, name, node, styles) || item;\n\t\t});\n\t\treturn item;\n\t}\n\n\tfunction getDefinition(value) {\n\t\tvar match = value && value.match(/\\((?:[\"'#]*)([^\"')]+)/),\n\t\t\tname = match && match[1],\n\t\t\tres = name && definitions[window\n\t\t\t\t\t? name.replace(window.location.href.split('#')[0] + '#', '')\n\t\t\t\t\t: name];\n\t\tif (res && res._scaleToBounds) {\n\t\t\tres = res.clone();\n\t\t\tres._scaleToBounds = true;\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction importNode(node, options, isRoot) {\n\t\tvar type = node.nodeName.toLowerCase(),\n\t\t\tisElement = type !== '#document',\n\t\t\tbody = document.body,\n\t\t\tcontainer,\n\t\t\tparent,\n\t\t\tnext;\n\t\tif (isRoot && isElement) {\n\t\t\trootSize = paper.getView().getSize();\n\t\t\trootSize = getSize(node, null, null, true) || rootSize;\n\t\t\tcontainer = SvgElement.create('svg', {\n\t\t\t\tstyle: 'stroke-width: 1px; stroke-miterlimit: 10'\n\t\t\t});\n\t\t\tparent = node.parentNode;\n\t\t\tnext = node.nextSibling;\n\t\t\tcontainer.appendChild(node);\n\t\t\tbody.appendChild(container);\n\t\t}\n\t\tvar settings = paper.settings,\n\t\t\tapplyMatrix = settings.applyMatrix,\n\t\t\tinsertItems = settings.insertItems;\n\t\tsettings.applyMatrix = false;\n\t\tsettings.insertItems = false;\n\t\tvar importer = importers[type],\n\t\t\titem = importer && importer(node, type, options, isRoot) || null;\n\t\tsettings.insertItems = insertItems;\n\t\tsettings.applyMatrix = applyMatrix;\n\t\tif (item) {\n\t\t\tif (isElement && !(item instanceof Group))\n\t\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tvar onImport = options.onImport,\n\t\t\t\tdata = isElement && node.getAttribute('data-paper-data');\n\t\t\tif (onImport)\n\t\t\t\titem = onImport(node, item, options) || item;\n\t\t\tif (options.expandShapes && item instanceof Shape) {\n\t\t\t\titem.remove();\n\t\t\t\titem = item.toPath();\n\t\t\t}\n\t\t\tif (data)\n\t\t\t\titem._data = JSON.parse(data);\n\t\t}\n\t\tif (container) {\n\t\t\tbody.removeChild(container);\n\t\t\tif (parent) {\n\t\t\t\tif (next) {\n\t\t\t\t\tparent.insertBefore(node, next);\n\t\t\t\t} else {\n\t\t\t\t\tparent.appendChild(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (isRoot) {\n\t\t\tdefinitions = {};\n\t\t\tif (item && Base.pick(options.applyMatrix, applyMatrix))\n\t\t\t\titem.matrix.apply(true, true);\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importSVG(source, options, owner) {\n\t\tif (!source)\n\t\t\treturn null;\n\t\toptions = typeof options === 'function' ? { onLoad: options }\n\t\t\t\t: options || {};\n\t\tvar scope = paper,\n\t\t\titem = null;\n\n\t\tfunction onLoad(svg) {\n\t\t\ttry {\n\t\t\t\tvar node = typeof svg === 'object'\n\t\t\t\t\t? svg\n\t\t\t\t\t: new self.DOMParser().parseFromString(\n\t\t\t\t\t\tsvg.trim(),\n\t\t\t\t\t\t'image/svg+xml'\n\t\t\t\t\t);\n\t\t\t\tif (!node.nodeName) {\n\t\t\t\t\tnode = null;\n\t\t\t\t\tthrow new Error('Unsupported SVG source: ' + source);\n\t\t\t\t}\n\t\t\t\tpaper = scope;\n\t\t\t\titem = importNode(node, options, true);\n\t\t\t\tif (!options || options.insert !== false) {\n\t\t\t\t\towner._insertItem(undefined, item);\n\t\t\t\t}\n\t\t\t\tvar onLoad = options.onLoad;\n\t\t\t\tif (onLoad)\n\t\t\t\t\tonLoad(item, svg);\n\t\t\t} catch (e) {\n\t\t\t\tonError(e);\n\t\t\t}\n\t\t}\n\n\t\tfunction onError(message, status) {\n\t\t\tvar onError = options.onError;\n\t\t\tif (onError) {\n\t\t\t\tonError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t}\n\n\t\tif (typeof source === 'string' && !/^[\\s\\S]*</.test(source)) {\n\t\t\tvar node = document.getElementById(source);\n\t\t\tif (node) {\n\t\t\t\tonLoad(node);\n\t\t\t} else {\n\t\t\t\tHttp.request({\n\t\t\t\t\turl: source,\n\t\t\t\t\tasync: true,\n\t\t\t\t\tonLoad: onLoad,\n\t\t\t\t\tonError: onError\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (typeof File !== 'undefined' && source instanceof File) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\tonLoad(reader.result);\n\t\t\t};\n\t\t\treader.onerror = function() {\n\t\t\t\tonError(reader.error);\n\t\t\t};\n\t\t\treturn reader.readAsText(source);\n\t\t} else {\n\t\t\tonLoad(source);\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tItem.inject({\n\t\timportSVG: function(node, options) {\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\timportSVG: function(node, options) {\n\t\t\tthis.activate();\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n};\n\nBase.exports.PaperScript = function() {\n\tvar global = this,\n\t\tacorn = global.acorn;\n\tif (!acorn && typeof require !== 'undefined') {\n\t\ttry { acorn = require('acorn'); } catch(e) {}\n\t}\n\tif (!acorn) {\n\t\tvar exports, module;\n\t\tacorn = exports = module = {};\n\n(function(root, mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") return mod(exports);\n  if (typeof define == \"function\" && define.amd) return define([\"exports\"], mod);\n  mod(root.acorn || (root.acorn = {}));\n})(this, function(exports) {\n  \"use strict\";\n\n  exports.version = \"0.5.0\";\n\n  var options, input, inputLen, sourceFile;\n\n  exports.parse = function(inpt, opts) {\n\tinput = String(inpt); inputLen = input.length;\n\tsetOptions(opts);\n\tinitTokenState();\n\treturn parseTopLevel(options.program);\n  };\n\n  var defaultOptions = exports.defaultOptions = {\n\tecmaVersion: 5,\n\tstrictSemicolons: false,\n\tallowTrailingCommas: true,\n\tforbidReserved: false,\n\tallowReturnOutsideFunction: false,\n\tlocations: false,\n\tonComment: null,\n\tranges: false,\n\tprogram: null,\n\tsourceFile: null,\n\tdirectSourceFile: null\n  };\n\n  function setOptions(opts) {\n\toptions = opts || {};\n\tfor (var opt in defaultOptions) if (!Object.prototype.hasOwnProperty.call(options, opt))\n\t  options[opt] = defaultOptions[opt];\n\tsourceFile = options.sourceFile || null;\n  }\n\n  var getLineInfo = exports.getLineInfo = function(input, offset) {\n\tfor (var line = 1, cur = 0;;) {\n\t  lineBreak.lastIndex = cur;\n\t  var match = lineBreak.exec(input);\n\t  if (match && match.index < offset) {\n\t\t++line;\n\t\tcur = match.index + match[0].length;\n\t  } else break;\n\t}\n\treturn {line: line, column: offset - cur};\n  };\n\n  exports.tokenize = function(inpt, opts) {\n\tinput = String(inpt); inputLen = input.length;\n\tsetOptions(opts);\n\tinitTokenState();\n\n\tvar t = {};\n\tfunction getToken(forceRegexp) {\n\t  lastEnd = tokEnd;\n\t  readToken(forceRegexp);\n\t  t.start = tokStart; t.end = tokEnd;\n\t  t.startLoc = tokStartLoc; t.endLoc = tokEndLoc;\n\t  t.type = tokType; t.value = tokVal;\n\t  return t;\n\t}\n\tgetToken.jumpTo = function(pos, reAllowed) {\n\t  tokPos = pos;\n\t  if (options.locations) {\n\t\ttokCurLine = 1;\n\t\ttokLineStart = lineBreak.lastIndex = 0;\n\t\tvar match;\n\t\twhile ((match = lineBreak.exec(input)) && match.index < pos) {\n\t\t  ++tokCurLine;\n\t\t  tokLineStart = match.index + match[0].length;\n\t\t}\n\t  }\n\t  tokRegexpAllowed = reAllowed;\n\t  skipSpace();\n\t};\n\treturn getToken;\n  };\n\n  var tokPos;\n\n  var tokStart, tokEnd;\n\n  var tokStartLoc, tokEndLoc;\n\n  var tokType, tokVal;\n\n  var tokRegexpAllowed;\n\n  var tokCurLine, tokLineStart;\n\n  var lastStart, lastEnd, lastEndLoc;\n\n  var inFunction, labels, strict;\n\n  function raise(pos, message) {\n\tvar loc = getLineInfo(input, pos);\n\tmessage += \" (\" + loc.line + \":\" + loc.column + \")\";\n\tvar err = new SyntaxError(message);\n\terr.pos = pos; err.loc = loc; err.raisedAt = tokPos;\n\tthrow err;\n  }\n\n  var empty = [];\n\n  var _num = {type: \"num\"}, _regexp = {type: \"regexp\"}, _string = {type: \"string\"};\n  var _name = {type: \"name\"}, _eof = {type: \"eof\"};\n\n  var _break = {keyword: \"break\"}, _case = {keyword: \"case\", beforeExpr: true}, _catch = {keyword: \"catch\"};\n  var _continue = {keyword: \"continue\"}, _debugger = {keyword: \"debugger\"}, _default = {keyword: \"default\"};\n  var _do = {keyword: \"do\", isLoop: true}, _else = {keyword: \"else\", beforeExpr: true};\n  var _finally = {keyword: \"finally\"}, _for = {keyword: \"for\", isLoop: true}, _function = {keyword: \"function\"};\n  var _if = {keyword: \"if\"}, _return = {keyword: \"return\", beforeExpr: true}, _switch = {keyword: \"switch\"};\n  var _throw = {keyword: \"throw\", beforeExpr: true}, _try = {keyword: \"try\"}, _var = {keyword: \"var\"};\n  var _while = {keyword: \"while\", isLoop: true}, _with = {keyword: \"with\"}, _new = {keyword: \"new\", beforeExpr: true};\n  var _this = {keyword: \"this\"};\n\n  var _null = {keyword: \"null\", atomValue: null}, _true = {keyword: \"true\", atomValue: true};\n  var _false = {keyword: \"false\", atomValue: false};\n\n  var _in = {keyword: \"in\", binop: 7, beforeExpr: true};\n\n  var keywordTypes = {\"break\": _break, \"case\": _case, \"catch\": _catch,\n\t\t\t\t\t  \"continue\": _continue, \"debugger\": _debugger, \"default\": _default,\n\t\t\t\t\t  \"do\": _do, \"else\": _else, \"finally\": _finally, \"for\": _for,\n\t\t\t\t\t  \"function\": _function, \"if\": _if, \"return\": _return, \"switch\": _switch,\n\t\t\t\t\t  \"throw\": _throw, \"try\": _try, \"var\": _var, \"while\": _while, \"with\": _with,\n\t\t\t\t\t  \"null\": _null, \"true\": _true, \"false\": _false, \"new\": _new, \"in\": _in,\n\t\t\t\t\t  \"instanceof\": {keyword: \"instanceof\", binop: 7, beforeExpr: true}, \"this\": _this,\n\t\t\t\t\t  \"typeof\": {keyword: \"typeof\", prefix: true, beforeExpr: true},\n\t\t\t\t\t  \"void\": {keyword: \"void\", prefix: true, beforeExpr: true},\n\t\t\t\t\t  \"delete\": {keyword: \"delete\", prefix: true, beforeExpr: true}};\n\n  var _bracketL = {type: \"[\", beforeExpr: true}, _bracketR = {type: \"]\"}, _braceL = {type: \"{\", beforeExpr: true};\n  var _braceR = {type: \"}\"}, _parenL = {type: \"(\", beforeExpr: true}, _parenR = {type: \")\"};\n  var _comma = {type: \",\", beforeExpr: true}, _semi = {type: \";\", beforeExpr: true};\n  var _colon = {type: \":\", beforeExpr: true}, _dot = {type: \".\"}, _question = {type: \"?\", beforeExpr: true};\n\n  var _slash = {binop: 10, beforeExpr: true}, _eq = {isAssign: true, beforeExpr: true};\n  var _assign = {isAssign: true, beforeExpr: true};\n  var _incDec = {postfix: true, prefix: true, isUpdate: true}, _prefix = {prefix: true, beforeExpr: true};\n  var _logicalOR = {binop: 1, beforeExpr: true};\n  var _logicalAND = {binop: 2, beforeExpr: true};\n  var _bitwiseOR = {binop: 3, beforeExpr: true};\n  var _bitwiseXOR = {binop: 4, beforeExpr: true};\n  var _bitwiseAND = {binop: 5, beforeExpr: true};\n  var _equality = {binop: 6, beforeExpr: true};\n  var _relational = {binop: 7, beforeExpr: true};\n  var _bitShift = {binop: 8, beforeExpr: true};\n  var _plusMin = {binop: 9, prefix: true, beforeExpr: true};\n  var _multiplyModulo = {binop: 10, beforeExpr: true};\n\n  exports.tokTypes = {bracketL: _bracketL, bracketR: _bracketR, braceL: _braceL, braceR: _braceR,\n\t\t\t\t\t  parenL: _parenL, parenR: _parenR, comma: _comma, semi: _semi, colon: _colon,\n\t\t\t\t\t  dot: _dot, question: _question, slash: _slash, eq: _eq, name: _name, eof: _eof,\n\t\t\t\t\t  num: _num, regexp: _regexp, string: _string};\n  for (var kw in keywordTypes) exports.tokTypes[\"_\" + kw] = keywordTypes[kw];\n\n  function makePredicate(words) {\n\twords = words.split(\" \");\n\tvar f = \"\", cats = [];\n\tout: for (var i = 0; i < words.length; ++i) {\n\t  for (var j = 0; j < cats.length; ++j)\n\t\tif (cats[j][0].length == words[i].length) {\n\t\t  cats[j].push(words[i]);\n\t\t  continue out;\n\t\t}\n\t  cats.push([words[i]]);\n\t}\n\tfunction compareTo(arr) {\n\t  if (arr.length == 1) return f += \"return str === \" + JSON.stringify(arr[0]) + \";\";\n\t  f += \"switch(str){\";\n\t  for (var i = 0; i < arr.length; ++i) f += \"case \" + JSON.stringify(arr[i]) + \":\";\n\t  f += \"return true}return false;\";\n\t}\n\n\tif (cats.length > 3) {\n\t  cats.sort(function(a, b) {return b.length - a.length;});\n\t  f += \"switch(str.length){\";\n\t  for (var i = 0; i < cats.length; ++i) {\n\t\tvar cat = cats[i];\n\t\tf += \"case \" + cat[0].length + \":\";\n\t\tcompareTo(cat);\n\t  }\n\t  f += \"}\";\n\n\t} else {\n\t  compareTo(words);\n\t}\n\treturn new Function(\"str\", f);\n  }\n\n  var isReservedWord3 = makePredicate(\"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\");\n\n  var isReservedWord5 = makePredicate(\"class enum extends super const export import\");\n\n  var isStrictReservedWord = makePredicate(\"implements interface let package private protected public static yield\");\n\n  var isStrictBadIdWord = makePredicate(\"eval arguments\");\n\n  var isKeyword = makePredicate(\"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\");\n\n  var nonASCIIwhitespace = /[\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n  var nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n  var nonASCIIidentifierChars = \"\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n  var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n  var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n  var newline = /[\\n\\r\\u2028\\u2029]/;\n\n  var lineBreak = /\\r\\n|[\\n\\r\\u2028\\u2029]/g;\n\n  var isIdentifierStart = exports.isIdentifierStart = function(code) {\n\tif (code < 65) return code === 36;\n\tif (code < 91) return true;\n\tif (code < 97) return code === 95;\n\tif (code < 123)return true;\n\treturn code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code));\n  };\n\n  var isIdentifierChar = exports.isIdentifierChar = function(code) {\n\tif (code < 48) return code === 36;\n\tif (code < 58) return true;\n\tif (code < 65) return false;\n\tif (code < 91) return true;\n\tif (code < 97) return code === 95;\n\tif (code < 123)return true;\n\treturn code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code));\n  };\n\n  function line_loc_t() {\n\tthis.line = tokCurLine;\n\tthis.column = tokPos - tokLineStart;\n  }\n\n  function initTokenState() {\n\ttokCurLine = 1;\n\ttokPos = tokLineStart = 0;\n\ttokRegexpAllowed = true;\n\tskipSpace();\n  }\n\n  function finishToken(type, val) {\n\ttokEnd = tokPos;\n\tif (options.locations) tokEndLoc = new line_loc_t;\n\ttokType = type;\n\tskipSpace();\n\ttokVal = val;\n\ttokRegexpAllowed = type.beforeExpr;\n  }\n\n  function skipBlockComment() {\n\tvar startLoc = options.onComment && options.locations && new line_loc_t;\n\tvar start = tokPos, end = input.indexOf(\"*/\", tokPos += 2);\n\tif (end === -1) raise(tokPos - 2, \"Unterminated comment\");\n\ttokPos = end + 2;\n\tif (options.locations) {\n\t  lineBreak.lastIndex = start;\n\t  var match;\n\t  while ((match = lineBreak.exec(input)) && match.index < tokPos) {\n\t\t++tokCurLine;\n\t\ttokLineStart = match.index + match[0].length;\n\t  }\n\t}\n\tif (options.onComment)\n\t  options.onComment(true, input.slice(start + 2, end), start, tokPos,\n\t\t\t\t\t\tstartLoc, options.locations && new line_loc_t);\n  }\n\n  function skipLineComment() {\n\tvar start = tokPos;\n\tvar startLoc = options.onComment && options.locations && new line_loc_t;\n\tvar ch = input.charCodeAt(tokPos+=2);\n\twhile (tokPos < inputLen && ch !== 10 && ch !== 13 && ch !== 8232 && ch !== 8233) {\n\t  ++tokPos;\n\t  ch = input.charCodeAt(tokPos);\n\t}\n\tif (options.onComment)\n\t  options.onComment(false, input.slice(start + 2, tokPos), start, tokPos,\n\t\t\t\t\t\tstartLoc, options.locations && new line_loc_t);\n  }\n\n  function skipSpace() {\n\twhile (tokPos < inputLen) {\n\t  var ch = input.charCodeAt(tokPos);\n\t  if (ch === 32) {\n\t\t++tokPos;\n\t  } else if (ch === 13) {\n\t\t++tokPos;\n\t\tvar next = input.charCodeAt(tokPos);\n\t\tif (next === 10) {\n\t\t  ++tokPos;\n\t\t}\n\t\tif (options.locations) {\n\t\t  ++tokCurLine;\n\t\t  tokLineStart = tokPos;\n\t\t}\n\t  } else if (ch === 10 || ch === 8232 || ch === 8233) {\n\t\t++tokPos;\n\t\tif (options.locations) {\n\t\t  ++tokCurLine;\n\t\t  tokLineStart = tokPos;\n\t\t}\n\t  } else if (ch > 8 && ch < 14) {\n\t\t++tokPos;\n\t  } else if (ch === 47) {\n\t\tvar next = input.charCodeAt(tokPos + 1);\n\t\tif (next === 42) {\n\t\t  skipBlockComment();\n\t\t} else if (next === 47) {\n\t\t  skipLineComment();\n\t\t} else break;\n\t  } else if (ch === 160) {\n\t\t++tokPos;\n\t  } else if (ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n\t\t++tokPos;\n\t  } else {\n\t\tbreak;\n\t  }\n\t}\n  }\n\n  function readToken_dot() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next >= 48 && next <= 57) return readNumber(true);\n\t++tokPos;\n\treturn finishToken(_dot);\n  }\n\n  function readToken_slash() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (tokRegexpAllowed) {++tokPos; return readRegexp();}\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_slash, 1);\n  }\n\n  function readToken_mult_modulo() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_multiplyModulo, 1);\n  }\n\n  function readToken_pipe_amp(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === code) return finishOp(code === 124 ? _logicalOR : _logicalAND, 2);\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(code === 124 ? _bitwiseOR : _bitwiseAND, 1);\n  }\n\n  function readToken_caret() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_bitwiseXOR, 1);\n  }\n\n  function readToken_plus_min(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === code) {\n\t  if (next == 45 && input.charCodeAt(tokPos + 2) == 62 &&\n\t\t  newline.test(input.slice(lastEnd, tokPos))) {\n\t\ttokPos += 3;\n\t\tskipLineComment();\n\t\tskipSpace();\n\t\treturn readToken();\n\t  }\n\t  return finishOp(_incDec, 2);\n\t}\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_plusMin, 1);\n  }\n\n  function readToken_lt_gt(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tvar size = 1;\n\tif (next === code) {\n\t  size = code === 62 && input.charCodeAt(tokPos + 2) === 62 ? 3 : 2;\n\t  if (input.charCodeAt(tokPos + size) === 61) return finishOp(_assign, size + 1);\n\t  return finishOp(_bitShift, size);\n\t}\n\tif (next == 33 && code == 60 && input.charCodeAt(tokPos + 2) == 45 &&\n\t\tinput.charCodeAt(tokPos + 3) == 45) {\n\t  tokPos += 4;\n\t  skipLineComment();\n\t  skipSpace();\n\t  return readToken();\n\t}\n\tif (next === 61)\n\t  size = input.charCodeAt(tokPos + 2) === 61 ? 3 : 2;\n\treturn finishOp(_relational, size);\n  }\n\n  function readToken_eq_excl(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === 61) return finishOp(_equality, input.charCodeAt(tokPos + 2) === 61 ? 3 : 2);\n\treturn finishOp(code === 61 ? _eq : _prefix, 1);\n  }\n\n  function getTokenFromCode(code) {\n\tswitch(code) {\n\tcase 46:\n\t  return readToken_dot();\n\n\tcase 40: ++tokPos; return finishToken(_parenL);\n\tcase 41: ++tokPos; return finishToken(_parenR);\n\tcase 59: ++tokPos; return finishToken(_semi);\n\tcase 44: ++tokPos; return finishToken(_comma);\n\tcase 91: ++tokPos; return finishToken(_bracketL);\n\tcase 93: ++tokPos; return finishToken(_bracketR);\n\tcase 123: ++tokPos; return finishToken(_braceL);\n\tcase 125: ++tokPos; return finishToken(_braceR);\n\tcase 58: ++tokPos; return finishToken(_colon);\n\tcase 63: ++tokPos; return finishToken(_question);\n\n\tcase 48:\n\t  var next = input.charCodeAt(tokPos + 1);\n\t  if (next === 120 || next === 88) return readHexNumber();\n\tcase 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57:\n\t  return readNumber(false);\n\n\tcase 34: case 39:\n\t  return readString(code);\n\n\tcase 47:\n\t  return readToken_slash(code);\n\n\tcase 37: case 42:\n\t  return readToken_mult_modulo();\n\n\tcase 124: case 38:\n\t  return readToken_pipe_amp(code);\n\n\tcase 94:\n\t  return readToken_caret();\n\n\tcase 43: case 45:\n\t  return readToken_plus_min(code);\n\n\tcase 60: case 62:\n\t  return readToken_lt_gt(code);\n\n\tcase 61: case 33:\n\t  return readToken_eq_excl(code);\n\n\tcase 126:\n\t  return finishOp(_prefix, 1);\n\t}\n\n\treturn false;\n  }\n\n  function readToken(forceRegexp) {\n\tif (!forceRegexp) tokStart = tokPos;\n\telse tokPos = tokStart + 1;\n\tif (options.locations) tokStartLoc = new line_loc_t;\n\tif (forceRegexp) return readRegexp();\n\tif (tokPos >= inputLen) return finishToken(_eof);\n\n\tvar code = input.charCodeAt(tokPos);\n\tif (isIdentifierStart(code) || code === 92 ) return readWord();\n\n\tvar tok = getTokenFromCode(code);\n\n\tif (tok === false) {\n\t  var ch = String.fromCharCode(code);\n\t  if (ch === \"\\\\\" || nonASCIIidentifierStart.test(ch)) return readWord();\n\t  raise(tokPos, \"Unexpected character '\" + ch + \"'\");\n\t}\n\treturn tok;\n  }\n\n  function finishOp(type, size) {\n\tvar str = input.slice(tokPos, tokPos + size);\n\ttokPos += size;\n\tfinishToken(type, str);\n  }\n\n  function readRegexp() {\n\tvar content = \"\", escaped, inClass, start = tokPos;\n\tfor (;;) {\n\t  if (tokPos >= inputLen) raise(start, \"Unterminated regular expression\");\n\t  var ch = input.charAt(tokPos);\n\t  if (newline.test(ch)) raise(start, \"Unterminated regular expression\");\n\t  if (!escaped) {\n\t\tif (ch === \"[\") inClass = true;\n\t\telse if (ch === \"]\" && inClass) inClass = false;\n\t\telse if (ch === \"/\" && !inClass) break;\n\t\tescaped = ch === \"\\\\\";\n\t  } else escaped = false;\n\t  ++tokPos;\n\t}\n\tvar content = input.slice(start, tokPos);\n\t++tokPos;\n\tvar mods = readWord1();\n\tif (mods && !/^[gmsiy]*$/.test(mods)) raise(start, \"Invalid regexp flag\");\n\ttry {\n\t  var value = new RegExp(content, mods);\n\t} catch (e) {\n\t  if (e instanceof SyntaxError) raise(start, e.message);\n\t  raise(e);\n\t}\n\treturn finishToken(_regexp, value);\n  }\n\n  function readInt(radix, len) {\n\tvar start = tokPos, total = 0;\n\tfor (var i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n\t  var code = input.charCodeAt(tokPos), val;\n\t  if (code >= 97) val = code - 97 + 10;\n\t  else if (code >= 65) val = code - 65 + 10;\n\t  else if (code >= 48 && code <= 57) val = code - 48;\n\t  else val = Infinity;\n\t  if (val >= radix) break;\n\t  ++tokPos;\n\t  total = total * radix + val;\n\t}\n\tif (tokPos === start || len != null && tokPos - start !== len) return null;\n\n\treturn total;\n  }\n\n  function readHexNumber() {\n\ttokPos += 2;\n\tvar val = readInt(16);\n\tif (val == null) raise(tokStart + 2, \"Expected hexadecimal number\");\n\tif (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n\treturn finishToken(_num, val);\n  }\n\n  function readNumber(startsWithDot) {\n\tvar start = tokPos, isFloat = false, octal = input.charCodeAt(tokPos) === 48;\n\tif (!startsWithDot && readInt(10) === null) raise(start, \"Invalid number\");\n\tif (input.charCodeAt(tokPos) === 46) {\n\t  ++tokPos;\n\t  readInt(10);\n\t  isFloat = true;\n\t}\n\tvar next = input.charCodeAt(tokPos);\n\tif (next === 69 || next === 101) {\n\t  next = input.charCodeAt(++tokPos);\n\t  if (next === 43 || next === 45) ++tokPos;\n\t  if (readInt(10) === null) raise(start, \"Invalid number\");\n\t  isFloat = true;\n\t}\n\tif (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n\n\tvar str = input.slice(start, tokPos), val;\n\tif (isFloat) val = parseFloat(str);\n\telse if (!octal || str.length === 1) val = parseInt(str, 10);\n\telse if (/[89]/.test(str) || strict) raise(start, \"Invalid number\");\n\telse val = parseInt(str, 8);\n\treturn finishToken(_num, val);\n  }\n\n  function readString(quote) {\n\ttokPos++;\n\tvar out = \"\";\n\tfor (;;) {\n\t  if (tokPos >= inputLen) raise(tokStart, \"Unterminated string constant\");\n\t  var ch = input.charCodeAt(tokPos);\n\t  if (ch === quote) {\n\t\t++tokPos;\n\t\treturn finishToken(_string, out);\n\t  }\n\t  if (ch === 92) {\n\t\tch = input.charCodeAt(++tokPos);\n\t\tvar octal = /^[0-7]+/.exec(input.slice(tokPos, tokPos + 3));\n\t\tif (octal) octal = octal[0];\n\t\twhile (octal && parseInt(octal, 8) > 255) octal = octal.slice(0, -1);\n\t\tif (octal === \"0\") octal = null;\n\t\t++tokPos;\n\t\tif (octal) {\n\t\t  if (strict) raise(tokPos - 2, \"Octal literal in strict mode\");\n\t\t  out += String.fromCharCode(parseInt(octal, 8));\n\t\t  tokPos += octal.length - 1;\n\t\t} else {\n\t\t  switch (ch) {\n\t\t  case 110: out += \"\\n\"; break;\n\t\t  case 114: out += \"\\r\"; break;\n\t\t  case 120: out += String.fromCharCode(readHexChar(2)); break;\n\t\t  case 117: out += String.fromCharCode(readHexChar(4)); break;\n\t\t  case 85: out += String.fromCharCode(readHexChar(8)); break;\n\t\t  case 116: out += \"\\t\"; break;\n\t\t  case 98: out += \"\\b\"; break;\n\t\t  case 118: out += \"\\u000b\"; break;\n\t\t  case 102: out += \"\\f\"; break;\n\t\t  case 48: out += \"\\0\"; break;\n\t\t  case 13: if (input.charCodeAt(tokPos) === 10) ++tokPos;\n\t\t  case 10:\n\t\t\tif (options.locations) { tokLineStart = tokPos; ++tokCurLine; }\n\t\t\tbreak;\n\t\t  default: out += String.fromCharCode(ch); break;\n\t\t  }\n\t\t}\n\t  } else {\n\t\tif (ch === 13 || ch === 10 || ch === 8232 || ch === 8233) raise(tokStart, \"Unterminated string constant\");\n\t\tout += String.fromCharCode(ch);\n\t\t++tokPos;\n\t  }\n\t}\n  }\n\n  function readHexChar(len) {\n\tvar n = readInt(16, len);\n\tif (n === null) raise(tokStart, \"Bad character escape sequence\");\n\treturn n;\n  }\n\n  var containsEsc;\n\n  function readWord1() {\n\tcontainsEsc = false;\n\tvar word, first = true, start = tokPos;\n\tfor (;;) {\n\t  var ch = input.charCodeAt(tokPos);\n\t  if (isIdentifierChar(ch)) {\n\t\tif (containsEsc) word += input.charAt(tokPos);\n\t\t++tokPos;\n\t  } else if (ch === 92) {\n\t\tif (!containsEsc) word = input.slice(start, tokPos);\n\t\tcontainsEsc = true;\n\t\tif (input.charCodeAt(++tokPos) != 117)\n\t\t  raise(tokPos, \"Expecting Unicode escape sequence \\\\uXXXX\");\n\t\t++tokPos;\n\t\tvar esc = readHexChar(4);\n\t\tvar escStr = String.fromCharCode(esc);\n\t\tif (!escStr) raise(tokPos - 1, \"Invalid Unicode escape\");\n\t\tif (!(first ? isIdentifierStart(esc) : isIdentifierChar(esc)))\n\t\t  raise(tokPos - 4, \"Invalid Unicode escape\");\n\t\tword += escStr;\n\t  } else {\n\t\tbreak;\n\t  }\n\t  first = false;\n\t}\n\treturn containsEsc ? word : input.slice(start, tokPos);\n  }\n\n  function readWord() {\n\tvar word = readWord1();\n\tvar type = _name;\n\tif (!containsEsc && isKeyword(word))\n\t  type = keywordTypes[word];\n\treturn finishToken(type, word);\n  }\n\n  function next() {\n\tlastStart = tokStart;\n\tlastEnd = tokEnd;\n\tlastEndLoc = tokEndLoc;\n\treadToken();\n  }\n\n  function setStrict(strct) {\n\tstrict = strct;\n\ttokPos = tokStart;\n\tif (options.locations) {\n\t  while (tokPos < tokLineStart) {\n\t\ttokLineStart = input.lastIndexOf(\"\\n\", tokLineStart - 2) + 1;\n\t\t--tokCurLine;\n\t  }\n\t}\n\tskipSpace();\n\treadToken();\n  }\n\n  function node_t() {\n\tthis.type = null;\n\tthis.start = tokStart;\n\tthis.end = null;\n  }\n\n  function node_loc_t() {\n\tthis.start = tokStartLoc;\n\tthis.end = null;\n\tif (sourceFile !== null) this.source = sourceFile;\n  }\n\n  function startNode() {\n\tvar node = new node_t();\n\tif (options.locations)\n\t  node.loc = new node_loc_t();\n\tif (options.directSourceFile)\n\t  node.sourceFile = options.directSourceFile;\n\tif (options.ranges)\n\t  node.range = [tokStart, 0];\n\treturn node;\n  }\n\n  function startNodeFrom(other) {\n\tvar node = new node_t();\n\tnode.start = other.start;\n\tif (options.locations) {\n\t  node.loc = new node_loc_t();\n\t  node.loc.start = other.loc.start;\n\t}\n\tif (options.ranges)\n\t  node.range = [other.range[0], 0];\n\n\treturn node;\n  }\n\n  function finishNode(node, type) {\n\tnode.type = type;\n\tnode.end = lastEnd;\n\tif (options.locations)\n\t  node.loc.end = lastEndLoc;\n\tif (options.ranges)\n\t  node.range[1] = lastEnd;\n\treturn node;\n  }\n\n  function isUseStrict(stmt) {\n\treturn options.ecmaVersion >= 5 && stmt.type === \"ExpressionStatement\" &&\n\t  stmt.expression.type === \"Literal\" && stmt.expression.value === \"use strict\";\n  }\n\n  function eat(type) {\n\tif (tokType === type) {\n\t  next();\n\t  return true;\n\t}\n  }\n\n  function canInsertSemicolon() {\n\treturn !options.strictSemicolons &&\n\t  (tokType === _eof || tokType === _braceR || newline.test(input.slice(lastEnd, tokStart)));\n  }\n\n  function semicolon() {\n\tif (!eat(_semi) && !canInsertSemicolon()) unexpected();\n  }\n\n  function expect(type) {\n\tif (tokType === type) next();\n\telse unexpected();\n  }\n\n  function unexpected() {\n\traise(tokStart, \"Unexpected token\");\n  }\n\n  function checkLVal(expr) {\n\tif (expr.type !== \"Identifier\" && expr.type !== \"MemberExpression\")\n\t  raise(expr.start, \"Assigning to rvalue\");\n\tif (strict && expr.type === \"Identifier\" && isStrictBadIdWord(expr.name))\n\t  raise(expr.start, \"Assigning to \" + expr.name + \" in strict mode\");\n  }\n\n  function parseTopLevel(program) {\n\tlastStart = lastEnd = tokPos;\n\tif (options.locations) lastEndLoc = new line_loc_t;\n\tinFunction = strict = null;\n\tlabels = [];\n\treadToken();\n\n\tvar node = program || startNode(), first = true;\n\tif (!program) node.body = [];\n\twhile (tokType !== _eof) {\n\t  var stmt = parseStatement();\n\t  node.body.push(stmt);\n\t  if (first && isUseStrict(stmt)) setStrict(true);\n\t  first = false;\n\t}\n\treturn finishNode(node, \"Program\");\n  }\n\n  var loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\n  function parseStatement() {\n\tif (tokType === _slash || tokType === _assign && tokVal == \"/=\")\n\t  readToken(true);\n\n\tvar starttype = tokType, node = startNode();\n\n\tswitch (starttype) {\n\tcase _break: case _continue:\n\t  next();\n\t  var isBreak = starttype === _break;\n\t  if (eat(_semi) || canInsertSemicolon()) node.label = null;\n\t  else if (tokType !== _name) unexpected();\n\t  else {\n\t\tnode.label = parseIdent();\n\t\tsemicolon();\n\t  }\n\n\t  for (var i = 0; i < labels.length; ++i) {\n\t\tvar lab = labels[i];\n\t\tif (node.label == null || lab.name === node.label.name) {\n\t\t  if (lab.kind != null && (isBreak || lab.kind === \"loop\")) break;\n\t\t  if (node.label && isBreak) break;\n\t\t}\n\t  }\n\t  if (i === labels.length) raise(node.start, \"Unsyntactic \" + starttype.keyword);\n\t  return finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\");\n\n\tcase _debugger:\n\t  next();\n\t  semicolon();\n\t  return finishNode(node, \"DebuggerStatement\");\n\n\tcase _do:\n\t  next();\n\t  labels.push(loopLabel);\n\t  node.body = parseStatement();\n\t  labels.pop();\n\t  expect(_while);\n\t  node.test = parseParenExpression();\n\t  semicolon();\n\t  return finishNode(node, \"DoWhileStatement\");\n\n\tcase _for:\n\t  next();\n\t  labels.push(loopLabel);\n\t  expect(_parenL);\n\t  if (tokType === _semi) return parseFor(node, null);\n\t  if (tokType === _var) {\n\t\tvar init = startNode();\n\t\tnext();\n\t\tparseVar(init, true);\n\t\tfinishNode(init, \"VariableDeclaration\");\n\t\tif (init.declarations.length === 1 && eat(_in))\n\t\t  return parseForIn(node, init);\n\t\treturn parseFor(node, init);\n\t  }\n\t  var init = parseExpression(false, true);\n\t  if (eat(_in)) {checkLVal(init); return parseForIn(node, init);}\n\t  return parseFor(node, init);\n\n\tcase _function:\n\t  next();\n\t  return parseFunction(node, true);\n\n\tcase _if:\n\t  next();\n\t  node.test = parseParenExpression();\n\t  node.consequent = parseStatement();\n\t  node.alternate = eat(_else) ? parseStatement() : null;\n\t  return finishNode(node, \"IfStatement\");\n\n\tcase _return:\n\t  if (!inFunction && !options.allowReturnOutsideFunction)\n\t\traise(tokStart, \"'return' outside of function\");\n\t  next();\n\n\t  if (eat(_semi) || canInsertSemicolon()) node.argument = null;\n\t  else { node.argument = parseExpression(); semicolon(); }\n\t  return finishNode(node, \"ReturnStatement\");\n\n\tcase _switch:\n\t  next();\n\t  node.discriminant = parseParenExpression();\n\t  node.cases = [];\n\t  expect(_braceL);\n\t  labels.push(switchLabel);\n\n\t  for (var cur, sawDefault; tokType != _braceR;) {\n\t\tif (tokType === _case || tokType === _default) {\n\t\t  var isCase = tokType === _case;\n\t\t  if (cur) finishNode(cur, \"SwitchCase\");\n\t\t  node.cases.push(cur = startNode());\n\t\t  cur.consequent = [];\n\t\t  next();\n\t\t  if (isCase) cur.test = parseExpression();\n\t\t  else {\n\t\t\tif (sawDefault) raise(lastStart, \"Multiple default clauses\"); sawDefault = true;\n\t\t\tcur.test = null;\n\t\t  }\n\t\t  expect(_colon);\n\t\t} else {\n\t\t  if (!cur) unexpected();\n\t\t  cur.consequent.push(parseStatement());\n\t\t}\n\t  }\n\t  if (cur) finishNode(cur, \"SwitchCase\");\n\t  next();\n\t  labels.pop();\n\t  return finishNode(node, \"SwitchStatement\");\n\n\tcase _throw:\n\t  next();\n\t  if (newline.test(input.slice(lastEnd, tokStart)))\n\t\traise(lastEnd, \"Illegal newline after throw\");\n\t  node.argument = parseExpression();\n\t  semicolon();\n\t  return finishNode(node, \"ThrowStatement\");\n\n\tcase _try:\n\t  next();\n\t  node.block = parseBlock();\n\t  node.handler = null;\n\t  if (tokType === _catch) {\n\t\tvar clause = startNode();\n\t\tnext();\n\t\texpect(_parenL);\n\t\tclause.param = parseIdent();\n\t\tif (strict && isStrictBadIdWord(clause.param.name))\n\t\t  raise(clause.param.start, \"Binding \" + clause.param.name + \" in strict mode\");\n\t\texpect(_parenR);\n\t\tclause.guard = null;\n\t\tclause.body = parseBlock();\n\t\tnode.handler = finishNode(clause, \"CatchClause\");\n\t  }\n\t  node.guardedHandlers = empty;\n\t  node.finalizer = eat(_finally) ? parseBlock() : null;\n\t  if (!node.handler && !node.finalizer)\n\t\traise(node.start, \"Missing catch or finally clause\");\n\t  return finishNode(node, \"TryStatement\");\n\n\tcase _var:\n\t  next();\n\t  parseVar(node);\n\t  semicolon();\n\t  return finishNode(node, \"VariableDeclaration\");\n\n\tcase _while:\n\t  next();\n\t  node.test = parseParenExpression();\n\t  labels.push(loopLabel);\n\t  node.body = parseStatement();\n\t  labels.pop();\n\t  return finishNode(node, \"WhileStatement\");\n\n\tcase _with:\n\t  if (strict) raise(tokStart, \"'with' in strict mode\");\n\t  next();\n\t  node.object = parseParenExpression();\n\t  node.body = parseStatement();\n\t  return finishNode(node, \"WithStatement\");\n\n\tcase _braceL:\n\t  return parseBlock();\n\n\tcase _semi:\n\t  next();\n\t  return finishNode(node, \"EmptyStatement\");\n\n\tdefault:\n\t  var maybeName = tokVal, expr = parseExpression();\n\t  if (starttype === _name && expr.type === \"Identifier\" && eat(_colon)) {\n\t\tfor (var i = 0; i < labels.length; ++i)\n\t\t  if (labels[i].name === maybeName) raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n\t\tvar kind = tokType.isLoop ? \"loop\" : tokType === _switch ? \"switch\" : null;\n\t\tlabels.push({name: maybeName, kind: kind});\n\t\tnode.body = parseStatement();\n\t\tlabels.pop();\n\t\tnode.label = expr;\n\t\treturn finishNode(node, \"LabeledStatement\");\n\t  } else {\n\t\tnode.expression = expr;\n\t\tsemicolon();\n\t\treturn finishNode(node, \"ExpressionStatement\");\n\t  }\n\t}\n  }\n\n  function parseParenExpression() {\n\texpect(_parenL);\n\tvar val = parseExpression();\n\texpect(_parenR);\n\treturn val;\n  }\n\n  function parseBlock(allowStrict) {\n\tvar node = startNode(), first = true, strict = false, oldStrict;\n\tnode.body = [];\n\texpect(_braceL);\n\twhile (!eat(_braceR)) {\n\t  var stmt = parseStatement();\n\t  node.body.push(stmt);\n\t  if (first && allowStrict && isUseStrict(stmt)) {\n\t\toldStrict = strict;\n\t\tsetStrict(strict = true);\n\t  }\n\t  first = false;\n\t}\n\tif (strict && !oldStrict) setStrict(false);\n\treturn finishNode(node, \"BlockStatement\");\n  }\n\n  function parseFor(node, init) {\n\tnode.init = init;\n\texpect(_semi);\n\tnode.test = tokType === _semi ? null : parseExpression();\n\texpect(_semi);\n\tnode.update = tokType === _parenR ? null : parseExpression();\n\texpect(_parenR);\n\tnode.body = parseStatement();\n\tlabels.pop();\n\treturn finishNode(node, \"ForStatement\");\n  }\n\n  function parseForIn(node, init) {\n\tnode.left = init;\n\tnode.right = parseExpression();\n\texpect(_parenR);\n\tnode.body = parseStatement();\n\tlabels.pop();\n\treturn finishNode(node, \"ForInStatement\");\n  }\n\n  function parseVar(node, noIn) {\n\tnode.declarations = [];\n\tnode.kind = \"var\";\n\tfor (;;) {\n\t  var decl = startNode();\n\t  decl.id = parseIdent();\n\t  if (strict && isStrictBadIdWord(decl.id.name))\n\t\traise(decl.id.start, \"Binding \" + decl.id.name + \" in strict mode\");\n\t  decl.init = eat(_eq) ? parseExpression(true, noIn) : null;\n\t  node.declarations.push(finishNode(decl, \"VariableDeclarator\"));\n\t  if (!eat(_comma)) break;\n\t}\n\treturn node;\n  }\n\n  function parseExpression(noComma, noIn) {\n\tvar expr = parseMaybeAssign(noIn);\n\tif (!noComma && tokType === _comma) {\n\t  var node = startNodeFrom(expr);\n\t  node.expressions = [expr];\n\t  while (eat(_comma)) node.expressions.push(parseMaybeAssign(noIn));\n\t  return finishNode(node, \"SequenceExpression\");\n\t}\n\treturn expr;\n  }\n\n  function parseMaybeAssign(noIn) {\n\tvar left = parseMaybeConditional(noIn);\n\tif (tokType.isAssign) {\n\t  var node = startNodeFrom(left);\n\t  node.operator = tokVal;\n\t  node.left = left;\n\t  next();\n\t  node.right = parseMaybeAssign(noIn);\n\t  checkLVal(left);\n\t  return finishNode(node, \"AssignmentExpression\");\n\t}\n\treturn left;\n  }\n\n  function parseMaybeConditional(noIn) {\n\tvar expr = parseExprOps(noIn);\n\tif (eat(_question)) {\n\t  var node = startNodeFrom(expr);\n\t  node.test = expr;\n\t  node.consequent = parseExpression(true);\n\t  expect(_colon);\n\t  node.alternate = parseExpression(true, noIn);\n\t  return finishNode(node, \"ConditionalExpression\");\n\t}\n\treturn expr;\n  }\n\n  function parseExprOps(noIn) {\n\treturn parseExprOp(parseMaybeUnary(), -1, noIn);\n  }\n\n  function parseExprOp(left, minPrec, noIn) {\n\tvar prec = tokType.binop;\n\tif (prec != null && (!noIn || tokType !== _in)) {\n\t  if (prec > minPrec) {\n\t\tvar node = startNodeFrom(left);\n\t\tnode.left = left;\n\t\tnode.operator = tokVal;\n\t\tvar op = tokType;\n\t\tnext();\n\t\tnode.right = parseExprOp(parseMaybeUnary(), prec, noIn);\n\t\tvar exprNode = finishNode(node, (op === _logicalOR || op === _logicalAND) ? \"LogicalExpression\" : \"BinaryExpression\");\n\t\treturn parseExprOp(exprNode, minPrec, noIn);\n\t  }\n\t}\n\treturn left;\n  }\n\n  function parseMaybeUnary() {\n\tif (tokType.prefix) {\n\t  var node = startNode(), update = tokType.isUpdate;\n\t  node.operator = tokVal;\n\t  node.prefix = true;\n\t  tokRegexpAllowed = true;\n\t  next();\n\t  node.argument = parseMaybeUnary();\n\t  if (update) checkLVal(node.argument);\n\t  else if (strict && node.operator === \"delete\" &&\n\t\t\t   node.argument.type === \"Identifier\")\n\t\traise(node.start, \"Deleting local variable in strict mode\");\n\t  return finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n\t}\n\tvar expr = parseExprSubscripts();\n\twhile (tokType.postfix && !canInsertSemicolon()) {\n\t  var node = startNodeFrom(expr);\n\t  node.operator = tokVal;\n\t  node.prefix = false;\n\t  node.argument = expr;\n\t  checkLVal(expr);\n\t  next();\n\t  expr = finishNode(node, \"UpdateExpression\");\n\t}\n\treturn expr;\n  }\n\n  function parseExprSubscripts() {\n\treturn parseSubscripts(parseExprAtom());\n  }\n\n  function parseSubscripts(base, noCalls) {\n\tif (eat(_dot)) {\n\t  var node = startNodeFrom(base);\n\t  node.object = base;\n\t  node.property = parseIdent(true);\n\t  node.computed = false;\n\t  return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n\t} else if (eat(_bracketL)) {\n\t  var node = startNodeFrom(base);\n\t  node.object = base;\n\t  node.property = parseExpression();\n\t  node.computed = true;\n\t  expect(_bracketR);\n\t  return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n\t} else if (!noCalls && eat(_parenL)) {\n\t  var node = startNodeFrom(base);\n\t  node.callee = base;\n\t  node.arguments = parseExprList(_parenR, false);\n\t  return parseSubscripts(finishNode(node, \"CallExpression\"), noCalls);\n\t} else return base;\n  }\n\n  function parseExprAtom() {\n\tswitch (tokType) {\n\tcase _this:\n\t  var node = startNode();\n\t  next();\n\t  return finishNode(node, \"ThisExpression\");\n\tcase _name:\n\t  return parseIdent();\n\tcase _num: case _string: case _regexp:\n\t  var node = startNode();\n\t  node.value = tokVal;\n\t  node.raw = input.slice(tokStart, tokEnd);\n\t  next();\n\t  return finishNode(node, \"Literal\");\n\n\tcase _null: case _true: case _false:\n\t  var node = startNode();\n\t  node.value = tokType.atomValue;\n\t  node.raw = tokType.keyword;\n\t  next();\n\t  return finishNode(node, \"Literal\");\n\n\tcase _parenL:\n\t  var tokStartLoc1 = tokStartLoc, tokStart1 = tokStart;\n\t  next();\n\t  var val = parseExpression();\n\t  val.start = tokStart1;\n\t  val.end = tokEnd;\n\t  if (options.locations) {\n\t\tval.loc.start = tokStartLoc1;\n\t\tval.loc.end = tokEndLoc;\n\t  }\n\t  if (options.ranges)\n\t\tval.range = [tokStart1, tokEnd];\n\t  expect(_parenR);\n\t  return val;\n\n\tcase _bracketL:\n\t  var node = startNode();\n\t  next();\n\t  node.elements = parseExprList(_bracketR, true, true);\n\t  return finishNode(node, \"ArrayExpression\");\n\n\tcase _braceL:\n\t  return parseObj();\n\n\tcase _function:\n\t  var node = startNode();\n\t  next();\n\t  return parseFunction(node, false);\n\n\tcase _new:\n\t  return parseNew();\n\n\tdefault:\n\t  unexpected();\n\t}\n  }\n\n  function parseNew() {\n\tvar node = startNode();\n\tnext();\n\tnode.callee = parseSubscripts(parseExprAtom(), true);\n\tif (eat(_parenL)) node.arguments = parseExprList(_parenR, false);\n\telse node.arguments = empty;\n\treturn finishNode(node, \"NewExpression\");\n  }\n\n  function parseObj() {\n\tvar node = startNode(), first = true, sawGetSet = false;\n\tnode.properties = [];\n\tnext();\n\twhile (!eat(_braceR)) {\n\t  if (!first) {\n\t\texpect(_comma);\n\t\tif (options.allowTrailingCommas && eat(_braceR)) break;\n\t  } else first = false;\n\n\t  var prop = {key: parsePropertyName()}, isGetSet = false, kind;\n\t  if (eat(_colon)) {\n\t\tprop.value = parseExpression(true);\n\t\tkind = prop.kind = \"init\";\n\t  } else if (options.ecmaVersion >= 5 && prop.key.type === \"Identifier\" &&\n\t\t\t\t (prop.key.name === \"get\" || prop.key.name === \"set\")) {\n\t\tisGetSet = sawGetSet = true;\n\t\tkind = prop.kind = prop.key.name;\n\t\tprop.key = parsePropertyName();\n\t\tif (tokType !== _parenL) unexpected();\n\t\tprop.value = parseFunction(startNode(), false);\n\t  } else unexpected();\n\n\t  if (prop.key.type === \"Identifier\" && (strict || sawGetSet)) {\n\t\tfor (var i = 0; i < node.properties.length; ++i) {\n\t\t  var other = node.properties[i];\n\t\t  if (other.key.name === prop.key.name) {\n\t\t\tvar conflict = kind == other.kind || isGetSet && other.kind === \"init\" ||\n\t\t\t  kind === \"init\" && (other.kind === \"get\" || other.kind === \"set\");\n\t\t\tif (conflict && !strict && kind === \"init\" && other.kind === \"init\") conflict = false;\n\t\t\tif (conflict) raise(prop.key.start, \"Redefinition of property\");\n\t\t  }\n\t\t}\n\t  }\n\t  node.properties.push(prop);\n\t}\n\treturn finishNode(node, \"ObjectExpression\");\n  }\n\n  function parsePropertyName() {\n\tif (tokType === _num || tokType === _string) return parseExprAtom();\n\treturn parseIdent(true);\n  }\n\n  function parseFunction(node, isStatement) {\n\tif (tokType === _name) node.id = parseIdent();\n\telse if (isStatement) unexpected();\n\telse node.id = null;\n\tnode.params = [];\n\tvar first = true;\n\texpect(_parenL);\n\twhile (!eat(_parenR)) {\n\t  if (!first) expect(_comma); else first = false;\n\t  node.params.push(parseIdent());\n\t}\n\n\tvar oldInFunc = inFunction, oldLabels = labels;\n\tinFunction = true; labels = [];\n\tnode.body = parseBlock(true);\n\tinFunction = oldInFunc; labels = oldLabels;\n\n\tif (strict || node.body.body.length && isUseStrict(node.body.body[0])) {\n\t  for (var i = node.id ? -1 : 0; i < node.params.length; ++i) {\n\t\tvar id = i < 0 ? node.id : node.params[i];\n\t\tif (isStrictReservedWord(id.name) || isStrictBadIdWord(id.name))\n\t\t  raise(id.start, \"Defining '\" + id.name + \"' in strict mode\");\n\t\tif (i >= 0) for (var j = 0; j < i; ++j) if (id.name === node.params[j].name)\n\t\t  raise(id.start, \"Argument name clash in strict mode\");\n\t  }\n\t}\n\n\treturn finishNode(node, isStatement ? \"FunctionDeclaration\" : \"FunctionExpression\");\n  }\n\n  function parseExprList(close, allowTrailingComma, allowEmpty) {\n\tvar elts = [], first = true;\n\twhile (!eat(close)) {\n\t  if (!first) {\n\t\texpect(_comma);\n\t\tif (allowTrailingComma && options.allowTrailingCommas && eat(close)) break;\n\t  } else first = false;\n\n\t  if (allowEmpty && tokType === _comma) elts.push(null);\n\t  else elts.push(parseExpression(true));\n\t}\n\treturn elts;\n  }\n\n  function parseIdent(liberal) {\n\tvar node = startNode();\n\tif (liberal && options.forbidReserved == \"everywhere\") liberal = false;\n\tif (tokType === _name) {\n\t  if (!liberal &&\n\t\t  (options.forbidReserved &&\n\t\t   (options.ecmaVersion === 3 ? isReservedWord3 : isReservedWord5)(tokVal) ||\n\t\t   strict && isStrictReservedWord(tokVal)) &&\n\t\t  input.slice(tokStart, tokEnd).indexOf(\"\\\\\") == -1)\n\t\traise(tokStart, \"The keyword '\" + tokVal + \"' is reserved\");\n\t  node.name = tokVal;\n\t} else if (liberal && tokType.keyword) {\n\t  node.name = tokType.keyword;\n\t} else {\n\t  unexpected();\n\t}\n\ttokRegexpAllowed = false;\n\tnext();\n\treturn finishNode(node, \"Identifier\");\n  }\n\n});\n\n\t\tif (!acorn.version)\n\t\t\tacorn = null;\n\t}\n\n\tfunction parse(code, options) {\n\t\treturn (global.acorn || acorn).parse(code, options);\n\t}\n\n\tvar binaryOperators = {\n\t\t'+': '__add',\n\t\t'-': '__subtract',\n\t\t'*': '__multiply',\n\t\t'/': '__divide',\n\t\t'%': '__modulo',\n\t\t'==': '__equals',\n\t\t'!=': '__equals'\n\t};\n\n\tvar unaryOperators = {\n\t\t'-': '__negate',\n\t\t'+': '__self'\n\t};\n\n\tvar fields = Base.each(\n\t\t['add', 'subtract', 'multiply', 'divide', 'modulo', 'equals', 'negate'],\n\t\tfunction(name) {\n\t\t\tthis['__' + name] = '#' + name;\n\t\t},\n\t\t{\n\t\t\t__self: function() {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t);\n\tPoint.inject(fields);\n\tSize.inject(fields);\n\tColor.inject(fields);\n\n\tfunction __$__(left, operator, right) {\n\t\tvar handler = binaryOperators[operator];\n\t\tif (left && left[handler]) {\n\t\t\tvar res = left[handler](right);\n\t\t\treturn operator === '!=' ? !res : res;\n\t\t}\n\t\tswitch (operator) {\n\t\tcase '+': return left + right;\n\t\tcase '-': return left - right;\n\t\tcase '*': return left * right;\n\t\tcase '/': return left / right;\n\t\tcase '%': return left % right;\n\t\tcase '==': return left == right;\n\t\tcase '!=': return left != right;\n\t\t}\n\t}\n\n\tfunction $__(operator, value) {\n\t\tvar handler = unaryOperators[operator];\n\t\tif (value && value[handler])\n\t\t\treturn value[handler]();\n\t\tswitch (operator) {\n\t\tcase '+': return +value;\n\t\tcase '-': return -value;\n\t\t}\n\t}\n\n\tfunction compile(code, options) {\n\t\tif (!code)\n\t\t\treturn '';\n\t\toptions = options || {};\n\n\t\tvar insertions = [];\n\n\t\tfunction getOffset(offset) {\n\t\t\tfor (var i = 0, l = insertions.length; i < l; i++) {\n\t\t\t\tvar insertion = insertions[i];\n\t\t\t\tif (insertion[0] >= offset)\n\t\t\t\t\tbreak;\n\t\t\t\toffset += insertion[1];\n\t\t\t}\n\t\t\treturn offset;\n\t\t}\n\n\t\tfunction getCode(node) {\n\t\t\treturn code.substring(getOffset(node.range[0]),\n\t\t\t\t\tgetOffset(node.range[1]));\n\t\t}\n\n\t\tfunction getBetween(left, right) {\n\t\t\treturn code.substring(getOffset(left.range[1]),\n\t\t\t\t\tgetOffset(right.range[0]));\n\t\t}\n\n\t\tfunction replaceCode(node, str) {\n\t\t\tvar start = getOffset(node.range[0]),\n\t\t\t\tend = getOffset(node.range[1]),\n\t\t\t\tinsert = 0;\n\t\t\tfor (var i = insertions.length - 1; i >= 0; i--) {\n\t\t\t\tif (start > insertions[i][0]) {\n\t\t\t\t\tinsert = i + 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tinsertions.splice(insert, 0, [start, str.length - end + start]);\n\t\t\tcode = code.substring(0, start) + str + code.substring(end);\n\t\t}\n\n\t\tfunction handleOverloading(node, parent) {\n\t\t\tswitch (node.type) {\n\t\t\tcase 'UnaryExpression':\n\t\t\t\tif (node.operator in unaryOperators\n\t\t\t\t\t\t&& node.argument.type !== 'Literal') {\n\t\t\t\t\tvar arg = getCode(node.argument);\n\t\t\t\t\treplaceCode(node, '$__(\"' + node.operator + '\", '\n\t\t\t\t\t\t\t+ arg + ')');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'BinaryExpression':\n\t\t\t\tif (node.operator in binaryOperators\n\t\t\t\t\t\t&& node.left.type !== 'Literal') {\n\t\t\t\t\tvar left = getCode(node.left),\n\t\t\t\t\t\tright = getCode(node.right),\n\t\t\t\t\t\tbetween = getBetween(node.left, node.right),\n\t\t\t\t\t\toperator = node.operator;\n\t\t\t\t\treplaceCode(node, '__$__(' + left + ','\n\t\t\t\t\t\t\t+ between.replace(new RegExp('\\\\' + operator),\n\t\t\t\t\t\t\t\t'\"' + operator + '\"')\n\t\t\t\t\t\t\t+ ', ' + right + ')');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'UpdateExpression':\n\t\t\tcase 'AssignmentExpression':\n\t\t\t\tvar parentType = parent && parent.type;\n\t\t\t\tif (!(\n\t\t\t\t\t\tparentType === 'ForStatement'\n\t\t\t\t\t\t|| parentType === 'BinaryExpression'\n\t\t\t\t\t\t\t&& /^[=!<>]/.test(parent.operator)\n\t\t\t\t\t\t|| parentType === 'MemberExpression' && parent.computed\n\t\t\t\t)) {\n\t\t\t\t\tif (node.type === 'UpdateExpression') {\n\t\t\t\t\t\tvar arg = getCode(node.argument),\n\t\t\t\t\t\t\texp = '__$__(' + arg + ', \"' + node.operator[0]\n\t\t\t\t\t\t\t\t\t+ '\", 1)',\n\t\t\t\t\t\t\tstr = arg + ' = ' + exp;\n\t\t\t\t\t\tif (node.prefix) {\n\t\t\t\t\t\t\tstr = '(' + str + ')';\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tparentType === 'AssignmentExpression' ||\n\t\t\t\t\t\t\tparentType === 'VariableDeclarator' ||\n\t\t\t\t\t\t\tparentType === 'BinaryExpression'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (getCode(parent.left || parent.id) === arg)\n\t\t\t\t\t\t\t\tstr = exp;\n\t\t\t\t\t\t\tstr = arg + '; ' + str;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treplaceCode(node, str);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (/^.=$/.test(node.operator)\n\t\t\t\t\t\t\t\t&& node.left.type !== 'Literal') {\n\t\t\t\t\t\t\tvar left = getCode(node.left),\n\t\t\t\t\t\t\t\tright = getCode(node.right),\n\t\t\t\t\t\t\t\texp = left + ' = __$__(' + left + ', \"'\n\t\t\t\t\t\t\t\t\t+ node.operator[0] + '\", ' + right + ')';\n\t\t\t\t\t\t\treplaceCode(node, /^\\(.*\\)$/.test(getCode(node))\n\t\t\t\t\t\t\t\t\t? '(' + exp + ')' : exp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfunction handleExports(node) {\n\t\t\tswitch (node.type) {\n\t\t\tcase 'ExportDefaultDeclaration':\n\t\t\t\treplaceCode({\n\t\t\t\t\trange: [node.start, node.declaration.start]\n\t\t\t\t}, 'module.exports = ');\n\t\t\t\tbreak;\n\t\t\tcase 'ExportNamedDeclaration':\n\t\t\t\tvar declaration = node.declaration;\n\t\t\t\tvar specifiers = node.specifiers;\n\t\t\t\tif (declaration) {\n\t\t\t\t\tvar declarations = declaration.declarations;\n\t\t\t\t\tif (declarations) {\n\t\t\t\t\t\tdeclarations.forEach(function(dec) {\n\t\t\t\t\t\t\treplaceCode(dec, 'module.exports.' + getCode(dec));\n\t\t\t\t\t\t});\n\t\t\t\t\t\treplaceCode({\n\t\t\t\t\t\t\trange: [\n\t\t\t\t\t\t\t\tnode.start,\n\t\t\t\t\t\t\t\tdeclaration.start + declaration.kind.length\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}, '');\n\t\t\t\t\t}\n\t\t\t\t} else if (specifiers) {\n\t\t\t\t\tvar exports = specifiers.map(function(specifier) {\n\t\t\t\t\t\tvar name = getCode(specifier);\n\t\t\t\t\t\treturn 'module.exports.' + name + ' = ' + name + '; ';\n\t\t\t\t\t}).join('');\n\t\t\t\t\tif (exports) {\n\t\t\t\t\t\treplaceCode(node, exports);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfunction walkAST(node, parent, paperFeatures) {\n\t\t\tif (node) {\n\t\t\t\tfor (var key in node) {\n\t\t\t\t\tif (key !== 'range' && key !== 'loc') {\n\t\t\t\t\t\tvar value = node[key];\n\t\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\t\tfor (var i = 0, l = value.length; i < l; i++) {\n\t\t\t\t\t\t\t\twalkAST(value[i], node, paperFeatures);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (value && typeof value === 'object') {\n\t\t\t\t\t\t\twalkAST(value, node, paperFeatures);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (paperFeatures.operatorOverloading !== false) {\n\t\t\t\t\thandleOverloading(node, parent);\n\t\t\t\t}\n\t\t\t\tif (paperFeatures.moduleExports !== false) {\n\t\t\t\t\thandleExports(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction encodeVLQ(value) {\n\t\t\tvar res = '',\n\t\t\t\tbase64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t\t\tvalue = (Math.abs(value) << 1) + (value < 0 ? 1 : 0);\n\t\t\twhile (value || !res) {\n\t\t\t\tvar next = value & (32 - 1);\n\t\t\t\tvalue >>= 5;\n\t\t\t\tif (value)\n\t\t\t\t\tnext |= 32;\n\t\t\t\tres += base64[next];\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\n\t\tvar url = options.url || '',\n\t\t\tsourceMaps = options.sourceMaps,\n\t\t\tpaperFeatures = options.paperFeatures || {},\n\t\t\tsource = options.source || code,\n\t\t\toffset = options.offset || 0,\n\t\t\tagent = paper.agent,\n\t\t\tversion = agent.versionNumber,\n\t\t\toffsetCode = false,\n\t\t\tlineBreaks = /\\r\\n|\\n|\\r/mg,\n\t\t\tmap;\n\t\tif (sourceMaps && (agent.chrome && version >= 30\n\t\t\t\t|| agent.webkit && version >= 537.76\n\t\t\t\t|| agent.firefox && version >= 23\n\t\t\t\t|| agent.node)) {\n\t\t\tif (agent.node) {\n\t\t\t\toffset -= 2;\n\t\t\t} else if (window && url && !window.location.href.indexOf(url)) {\n\t\t\t\tvar html = document.getElementsByTagName('html')[0].innerHTML;\n\t\t\t\toffset = html.substr(0, html.indexOf(code) + 1).match(\n\t\t\t\t\t\tlineBreaks).length + 1;\n\t\t\t}\n\t\t\toffsetCode = offset > 0 && !(\n\t\t\t\t\tagent.chrome && version >= 36 ||\n\t\t\t\t\tagent.safari && version >= 600 ||\n\t\t\t\t\tagent.firefox && version >= 40 ||\n\t\t\t\t\tagent.node);\n\t\t\tvar mappings = ['AA' + encodeVLQ(offsetCode ? 0 : offset) + 'A'];\n\t\t\tmappings.length = (code.match(lineBreaks) || []).length + 1\n\t\t\t\t\t+ (offsetCode ? offset : 0);\n\t\t\tmap = {\n\t\t\t\tversion: 3,\n\t\t\t\tfile: url,\n\t\t\t\tnames:[],\n\t\t\t\tmappings: mappings.join(';AACA'),\n\t\t\t\tsourceRoot: '',\n\t\t\t\tsources: [url],\n\t\t\t\tsourcesContent: [source]\n\t\t\t};\n\t\t}\n\t\tif (\n\t\t\tpaperFeatures.operatorOverloading !== false ||\n\t\t\tpaperFeatures.moduleExports !== false\n\t\t) {\n\t\t\twalkAST(parse(code, {\n\t\t\t\tranges: true,\n\t\t\t\tpreserveParens: true,\n\t\t\t\tsourceType: 'module'\n\t\t\t}), null, paperFeatures);\n\t\t}\n\t\tif (map) {\n\t\t\tif (offsetCode) {\n\t\t\t\tcode = new Array(offset + 1).join('\\n') + code;\n\t\t\t}\n\t\t\tif (/^(inline|both)$/.test(sourceMaps)) {\n\t\t\t\tcode += \"\\n//# sourceMappingURL=data:application/json;base64,\"\n\t\t\t\t\t\t+ self.btoa(unescape(encodeURIComponent(\n\t\t\t\t\t\t\tJSON.stringify(map))));\n\t\t\t}\n\t\t\tcode += \"\\n//# sourceURL=\" + (url || 'paperscript');\n\t\t}\n\t\treturn {\n\t\t\turl: url,\n\t\t\tsource: source,\n\t\t\tcode: code,\n\t\t\tmap: map\n\t\t};\n\t}\n\n\tfunction execute(code, scope, options) {\n\t\tpaper = scope;\n\t\tvar view = scope.getView(),\n\t\t\ttool = /\\btool\\.\\w+|\\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\\b/\n\t\t\t\t\t.test(code) && !/\\bnew\\s+Tool\\b/.test(code)\n\t\t\t\t\t\t? new Tool() : null,\n\t\t\ttoolHandlers = tool ? tool._events : [],\n\t\t\thandlers = ['onFrame', 'onResize'].concat(toolHandlers),\n\t\t\tparams = [],\n\t\t\targs = [],\n\t\t\tfunc,\n\t\t\tcompiled = typeof code === 'object' ? code : compile(code, options);\n\t\tcode = compiled.code;\n\t\tfunction expose(scope, hidden) {\n\t\t\tfor (var key in scope) {\n\t\t\t\tif ((hidden || !/^_/.test(key)) && new RegExp('([\\\\b\\\\s\\\\W]|^)'\n\t\t\t\t\t\t+ key.replace(/\\$/g, '\\\\$') + '\\\\b').test(code)) {\n\t\t\t\t\tparams.push(key);\n\t\t\t\t\targs.push(scope[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\texpose({ __$__: __$__, $__: $__, paper: scope, tool: tool },\n\t\t\t\ttrue);\n\t\texpose(scope);\n\t\tcode = 'var module = { exports: {} }; ' + code;\n\t\tvar exports = Base.each(handlers, function(key) {\n\t\t\tif (new RegExp('\\\\s+' + key + '\\\\b').test(code)) {\n\t\t\t\tparams.push(key);\n\t\t\t\tthis.push('module.exports.' + key + ' = ' + key + ';');\n\t\t\t}\n\t\t}, []).join('\\n');\n\t\tif (exports) {\n\t\t\tcode += '\\n' + exports;\n\t\t}\n\t\tcode += '\\nreturn module.exports;';\n\t\tvar agent = paper.agent;\n\t\tif (document && (agent.chrome\n\t\t\t\t|| agent.firefox && agent.versionNumber < 40)) {\n\t\t\tvar script = document.createElement('script'),\n\t\t\t\thead = document.head || document.getElementsByTagName('head')[0];\n\t\t\tif (agent.firefox)\n\t\t\t\tcode = '\\n' + code;\n\t\t\tscript.appendChild(document.createTextNode(\n\t\t\t\t'document.__paperscript__ = function(' + params + ') {' +\n\t\t\t\t\tcode +\n\t\t\t\t'\\n}'\n\t\t\t));\n\t\t\thead.appendChild(script);\n\t\t\tfunc = document.__paperscript__;\n\t\t\tdelete document.__paperscript__;\n\t\t\thead.removeChild(script);\n\t\t} else {\n\t\t\tfunc = Function(params, code);\n\t\t}\n\t\tvar exports = func && func.apply(scope, args);\n\t\tvar obj = exports || {};\n\t\tBase.each(toolHandlers, function(key) {\n\t\t\tvar value = obj[key];\n\t\t\tif (value)\n\t\t\t\ttool[key] = value;\n\t\t});\n\t\tif (view) {\n\t\t\tif (obj.onResize)\n\t\t\t\tview.setOnResize(obj.onResize);\n\t\t\tview.emit('resize', {\n\t\t\t\tsize: view.size,\n\t\t\t\tdelta: new Point()\n\t\t\t});\n\t\t\tif (obj.onFrame)\n\t\t\t\tview.setOnFrame(obj.onFrame);\n\t\t\tview.requestUpdate();\n\t\t}\n\t\treturn exports;\n\t}\n\n\tfunction loadScript(script) {\n\t\tif (/^text\\/(?:x-|)paperscript$/.test(script.type)\n\t\t\t\t&& PaperScope.getAttribute(script, 'ignore') !== 'true') {\n\t\t\tvar canvasId = PaperScope.getAttribute(script, 'canvas'),\n\t\t\t\tcanvas = document.getElementById(canvasId),\n\t\t\t\tsrc = script.src || script.getAttribute('data-src'),\n\t\t\t\tasync = PaperScope.hasAttribute(script, 'async'),\n\t\t\t\tscopeAttribute = 'data-paper-scope';\n\t\t\tif (!canvas)\n\t\t\t\tthrow new Error('Unable to find canvas with id \"'\n\t\t\t\t\t\t+ canvasId + '\"');\n\t\t\tvar scope = PaperScope.get(canvas.getAttribute(scopeAttribute))\n\t\t\t\t\t\t|| new PaperScope().setup(canvas);\n\t\t\tcanvas.setAttribute(scopeAttribute, scope._id);\n\t\t\tif (src) {\n\t\t\t\tHttp.request({\n\t\t\t\t\turl: src,\n\t\t\t\t\tasync: async,\n\t\t\t\t\tmimeType: 'text/plain',\n\t\t\t\t\tonLoad: function(code) {\n\t\t\t\t\t\texecute(code, scope, src);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\texecute(script.innerHTML, scope, script.baseURI);\n\t\t\t}\n\t\t\tscript.setAttribute('data-paper-ignore', 'true');\n\t\t\treturn scope;\n\t\t}\n\t}\n\n\tfunction loadAll() {\n\t\tBase.each(document && document.getElementsByTagName('script'),\n\t\t\t\tloadScript);\n\t}\n\n\tfunction load(script) {\n\t\treturn script ? loadScript(script) : loadAll();\n\t}\n\n\tif (window) {\n\t\tif (document.readyState === 'complete') {\n\t\t\tsetTimeout(loadAll);\n\t\t} else {\n\t\t\tDomEvent.add(window, { load: loadAll });\n\t\t}\n\t}\n\n\treturn {\n\t\tcompile: compile,\n\t\texecute: execute,\n\t\tload: load,\n\t\tparse: parse,\n\t\tcalculateBinary: __$__,\n\t\tcalculateUnary: $__\n\t};\n\n}.call(this);\n\nvar paper = new (PaperScope.inject(Base.exports, {\n\tBase: Base,\n\tNumerical: Numerical,\n\tKey: Key,\n\tDomEvent: DomEvent,\n\tDomElement: DomElement,\n\tdocument: document,\n\twindow: window,\n\tSymbol: SymbolDefinition,\n\tPlacedSymbol: SymbolItem\n}))();\n\nif (paper.agent.node) {\n\trequire('./node/extend.js')(paper);\n}\n\nif (typeof define === 'function' && define.amd) {\n\tdefine('paper', paper);\n} else if (typeof module === 'object' && module) {\n\tmodule.exports = paper;\n}\n\nreturn paper;\n}.call(this, typeof self === 'object' ? self : null);\n","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from \"mitt\";\n\nconst emitter = mitt();\n\nexport default emitter;\n","import emitter from \"./mitt.js\";\n// electron交互\n\n/**\n * 将主进程处理后的Buffer数据转换为前端可以展示的base64字符串\n * @param {*} buffer - 图像数据\n * @returns\n */\nfunction bufferToBase64(buffer) {\n  const uint8Array = new Uint8Array(buffer);\n  let binary = \"\";\n  for (let i = 0; i < uint8Array.length; i++) {\n    binary += String.fromCharCode(uint8Array[i]);\n  }\n  const base64String = window.btoa(binary);\n  return `data:image/png;base64,${base64String}`;\n}\n\nconst electronAPI = window.electronAPI;\n\n/**\n * 获取图像数据\n */\nexport const getImage = () => {\n  electronAPI.sendImage((event, imageData) => {\n    emitter.emit(\"image\", {\n      base64: bufferToBase64(imageData),\n      imageData,\n    });\n  });\n};\n\n/**\n * 发送图像裁剪数据到渲染进程\n * @param info\n * @param imageData\n * @param isTop\n */\nexport const exportImageInfo = (info, imageData, isTop = false) => {\n  electronAPI.crop({\n    imageBuffer: imageData,\n    isTop,\n    // 这里传递的是设备像素比，用于解决高分屏下截图位置不准确的问题\n    devicePixelRatio: window.devicePixelRatio,\n    x: info.x,\n    y: info.y,\n    width: info.width,\n    height: info.height,\n  });\n};\n","<template>\n  <canvas id=\"paper\"></canvas>\n  <div\n    class=\"toolBar\"\n    v-show=\"toolBarVisible\"\n    :style=\"{\n      left: toolBarPosition.x + 'px',\n      top: toolBarPosition.y + 'px',\n    }\"\n    ref=\"toolBarRef\"\n  >\n    <div\n      v-for=\"item in toolBar\"\n      class=\"toolBar-item\"\n      :title=\"item.title\"\n      @click=\"item.func\"\n    >\n      <span :class=\"'ksdhy ' + item.icon\"></span>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport paper from \"paper\";\nimport { nextTick, onMounted, ref } from \"vue\";\nimport { exportImageInfo, getImage } from \"@/electron.js\";\nimport emitter from \"./mitt.js\";\n// 用于显示矩形大小的text\nlet text;\n\n// 框选的Path\nlet path;\n\n// 载入的图像\nlet raster;\n\n// 图像原始数据\nlet originalImageData;\n\n// 设置每个点移动限制条件，x，y为同步跟随移动的点，xHalf，yHalf为跟随移动一半的点\nlet moveConditions = {\n  0: {\n    x: [0, 1, 2],\n    y: [0, 6, 7],\n    xHalf: [3, 7],\n    yHalf: [1, 5],\n    cursor: \"ne-resize\",\n  },\n  1: {\n    x: [1, 0, 2],\n    y: [],\n    xHalf: [3, 7],\n    yHalf: [],\n    cursor: \"ew-resize\",\n  },\n  2: {\n    x: [2, 0, 1],\n    y: [2, 3, 4],\n    xHalf: [3, 7],\n    yHalf: [1, 5],\n    cursor: \"nw-resize\",\n  },\n  3: {\n    x: [],\n    y: [3, 2, 4],\n    xHalf: [],\n    yHalf: [1, 5],\n    cursor: \"ns-resize\",\n  },\n  4: {\n    x: [4, 5, 6],\n    y: [4, 2, 3],\n    xHalf: [3, 7],\n    yHalf: [1, 5],\n    cursor: \"ne-resize\",\n  },\n  5: {\n    x: [5, 4, 6],\n    y: [],\n    xHalf: [3, 7],\n    yHalf: [],\n    cursor: \"ew-resize\",\n  },\n  6: {\n    x: [6, 4, 5],\n    y: [6, 0, 7],\n    xHalf: [3, 7],\n    yHalf: [1, 5],\n    cursor: \"nw-resize\",\n  },\n  7: {\n    x: [],\n    y: [7, 0, 6],\n    xHalf: [],\n    yHalf: [1, 5],\n    cursor: \"ns-resize\",\n  },\n};\n\nconst toolBarPosition = ref({ x: 0, y: 0 });\nconst toolBarVisible = ref(false);\nconst toolBarRef = ref(null);\n\nconst toolBar = [\n  {\n    icon: \"icon-guding\",\n    title: \"置顶\",\n    func: () => {\n      exportImageInfo(path.bounds, originalImageData, true);\n    },\n  },\n  {\n    icon: \"icon-ai210\",\n    title: \"完成\",\n    func: () => {\n      exportImageInfo(path.bounds, originalImageData);\n    },\n  },\n];\n\n/**\n * 绘制矩形的宽高信息\n * @param path\n */\nconst printBoundsInfo = (path) => {\n  let leftTop = path.bounds.topLeft;\n  // 显示矩形大小\n  let content = `${path.bounds.width}x${path.bounds.height}`;\n  let fontsize = 16;\n  if (text) {\n    text.remove();\n  }\n  text = new paper.PointText({\n    point: [leftTop.x, leftTop.y - fontsize],\n    content,\n    fillColor: \"white\",\n    fontSize: fontsize,\n  });\n};\n\n/**\n * 根据path.RectAngle的segments插入control segment\n * @param path\n */\nconst insertControlSegment = (path) => {\n  //   在矩形各边的中间位置添加segment,并且插入到对应位置\n  let segments = path.segments;\n  let left = segments[0].point;\n  let right = segments[2].point;\n  let top = segments[1].point;\n  let bottom = segments[3].point;\n  let leftTop = new paper.Point((left.x + top.x) / 2, (left.y + top.y) / 2);\n  let rightTop = new paper.Point((right.x + top.x) / 2, (right.y + top.y) / 2);\n  let leftBottom = new paper.Point(\n    (left.x + bottom.x) / 2,\n    (left.y + bottom.y) / 2,\n  );\n  let rightBottom = new paper.Point(\n    (right.x + bottom.x) / 2,\n    (right.y + bottom.y) / 2,\n  );\n  path.insert(1, leftTop);\n  path.insert(3, rightTop);\n  path.insert(5, rightBottom);\n  path.insert(7, leftBottom);\n};\n\n/**\n * 创建control point\n * @param point\n * @return {paper.Item}\n */\nconst createControlPoint = (point) => {\n  const length = 6;\n  const color = new paper.Color(0, 0, 1);\n  return new paper.Path.Rectangle({\n    from: [point.x - length / 2, point.y - length / 2],\n    to: [point.x + length / 2, point.y + length / 2],\n    fillColor: color,\n  });\n};\n\n/**\n * 更新工具栏位置\n * @param path\n */\nconst updateToolBarPosition = (path) => {\n  let bottomRight = path.bounds.bottomRight;\n  let toolBarWidth = toolBarRef.value.getClientRects()[0].width;\n  let toolBarHeight = toolBarRef.value.getClientRects()[0].height;\n  let x = 0;\n  let y = 0;\n  // 纵向判断\n  let clientHeight = document.documentElement.clientHeight;\n  let pathBottom = bottomRight.y;\n  y =\n    clientHeight - pathBottom < toolBarHeight\n      ? bottomRight.y - toolBarHeight\n      : bottomRight.y;\n\n  // 横向判断\n  // 默认右对齐\n  x = path.bounds.right - toolBarWidth;\n  if (path.bounds.left < toolBarWidth) {\n    x = path.bounds.left;\n  }\n\n  toolBarPosition.value = { x, y };\n};\n\n/**\n * 创建工具栏\n * @param path\n */\nconst createToolBar = (path) => {\n  toolBarVisible.value = true;\n  nextTick(updateToolBarPosition.bind(null, path));\n};\n\n/**\n * 创建矩形框选以及相关移动逻辑\n */\nconst createClipRect = () => {\n  // 用于存储矩形初始位置的左顶点，便于后续拖拽时基于该点绘制矩形\n  let leftTop;\n  let tool = new paper.Tool();\n  tool.onMouseDown = function (event) {\n    leftTop = event.point;\n    path = new paper.Path.Rectangle({\n      from: event.point,\n      to: event.point,\n      strokeColor: \"blue\",\n    });\n  };\n  tool.onMouseDrag = function (event) {\n    path.remove();\n    path = new paper.Path.Rectangle({\n      from: leftTop,\n      to: event.point,\n      strokeColor: \"blue\",\n      strokeWidth: 1,\n    });\n    printBoundsInfo(path);\n  };\n  tool.onMouseUp = function (event) {\n    if (path.bounds.width < 3 || path.bounds.height < 3) {\n      text.remove();\n      path.remove();\n      return;\n    }\n    tool.remove();\n\n    // 绘制工具栏\n    createToolBar(path);\n\n    // 插入控制点\n    insertControlSegment(path);\n\n    // path整体加个拖拽\n    path.fillColor = new paper.Color(0, 0, 1, 0.00000001);\n    path.onMouseDrag = (event) => {\n      document.body.style.cursor = \"move\";\n      let delta = event.delta;\n      path.position.x += delta.x;\n      path.position.y += delta.y;\n\n      // 添加限制，禁止移动超出屏幕\n      if (path.bounds.topLeft.x <= 0) {\n        path.position.x = path.bounds.width / 2 + 1;\n      } else if (path.bounds.topLeft.y <= 0) {\n        path.position.y = path.bounds.height / 2 + 1;\n      } else if (path.bounds.bottomRight.x >= paper.view.bounds.width) {\n        path.position.x = paper.view.bounds.width - path.bounds.width / 2 - 1;\n      } else if (path.bounds.bottomRight.y >= paper.view.bounds.height) {\n        path.position.y = paper.view.bounds.height - path.bounds.height / 2 - 1;\n      }\n      controlPointSegmentMap.forEach((item) => {\n        item.controlPoint.position = item.segment.point;\n        item.controlPoint.position = item.segment.point;\n      });\n\n      printBoundsInfo(path); // 更新矩形大小信息\n      updateToolBarPosition(path); // 更新工具栏位置\n    };\n    path.onMouseEnter = () => {\n      document.body.style.cursor = \"move\";\n    };\n    path.onMouseLeave = () => {\n      document.body.style.cursor = \"default\";\n    };\n\n    // 存储control点和path的segments的对应关系，方便移动circle时同步移动对应的segment\n    let controlPointSegmentMap = [];\n\n    // 添加映射关系\n    path.segments.forEach((segment, index) => {\n      let controlPoint = createControlPoint(segment.point);\n      controlPointSegmentMap.push({\n        index,\n        controlPoint,\n        segment,\n      });\n    });\n\n    // 给每个点添加移动逻辑\n    controlPointSegmentMap.forEach((item, index) => {\n      item.controlPoint.onMouseDrag = (event) => {\n        let delta = event.delta;\n        let { x, y, xHalf, yHalf } = moveConditions[index];\n\n        x.forEach((i) => {\n          controlPointSegmentMap[i].controlPoint.position.x += delta.x;\n          controlPointSegmentMap[i].segment.point.x += delta.x;\n        });\n        y.forEach((i) => {\n          controlPointSegmentMap[i].controlPoint.position.y += delta.y;\n          controlPointSegmentMap[i].segment.point.y += delta.y;\n        });\n        xHalf.forEach((i) => {\n          controlPointSegmentMap[i].controlPoint.position.x += delta.x / 2;\n          controlPointSegmentMap[i].segment.point.x += delta.x / 2;\n        });\n        yHalf.forEach((i) => {\n          controlPointSegmentMap[i].controlPoint.position.y += delta.y / 2;\n          controlPointSegmentMap[i].segment.point.y += delta.y / 2;\n        });\n        // 移动点时更新矩形大小信息\n        printBoundsInfo(path);\n        // 更新工具栏位置\n        updateToolBarPosition(path);\n        document.body.style.cursor = moveConditions[index].cursor;\n      };\n      item.controlPoint.onMouseEnter = () => {\n        document.body.style.cursor = moveConditions[index].cursor;\n      };\n      item.controlPoint.onMouseLeave = () => {\n        document.body.style.cursor = \"default\";\n      };\n    });\n  };\n};\nemitter.on(\"image\", async ({ base64, imageData }) => {\n  console.log(\"imageData\", base64);\n  // 清空画布\n  paper.project.clear();\n  originalImageData = imageData;\n  raster = new paper.Raster(base64);\n  raster.onLoad = () => {\n    raster.fitBounds(paper.view.bounds);\n    createClipRect();\n  };\n});\nonMounted(async () => {\n  paper.setup(\"paper\");\n  getImage();\n});\n</script>\n\n<style>\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n  //overflow: hidden;\n  width: 100vw;\n  height: 100vh;\n}\ncanvas {\n  width: 100vw;\n  height: 100vh;\n  display: block;\n}\n.toolBar {\n  position: absolute;\n  top: -100px;\n  z-index: 10;\n  background: #f7f7f7;\n  display: flex;\n}\n.toolBar-item {\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 20;\n  cursor: pointer;\n  user-select: none;\n}\n</style>\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport \"./assets/font/iconfont.css\";\ncreateApp(App).mount(\"#app\");\n"],"names":["makeMap","str","expectsLowerCase","set","val","EMPTY_OBJ","EMPTY_ARR","NOOP","NO","isOn","key","isModelListener","extend","remove","arr","el","i","hasOwnProperty","hasOwn","isArray","isMap","toTypeString","isSet","isFunction","isString","isSymbol","isObject","isPromise","objectToString","value","toRawType","isPlainObject","isIntegerKey","isReservedProp","cacheStringFunction","fn","cache","camelizeRE","camelize","_","c","hyphenateRE","hyphenate","capitalize","toHandlerKey","hasChanged","oldValue","invokeArrayFns","fns","arg","def","obj","writable","looseToNumber","n","_globalThis","getGlobalThis","normalizeStyle","res","item","normalized","parseStringStyle","listDelimiterRE","propertyDelimiterRE","styleCommentRE","cssText","ret","tmp","normalizeClass","name","specialBooleanAttrs","isSpecialBooleanAttr","includeBooleanAttr","activeEffectScope","EffectScope","detached","currentEffectScope","fromParent","l","last","recordEffectScope","effect","scope","getCurrentScope","activeEffect","ReactiveEffect","trigger","scheduler","pauseTracking","dep","triggerComputed","resetTracking","v","lastShouldTrack","shouldTrack","lastEffect","preCleanupEffect","postCleanupEffect","computed","effect2","cleanupDepEffect","trackId","pauseScheduleStack","trackStack","pauseScheduling","resetScheduling","queueEffectSchedulers","trackEffect","debuggerEventExtraInfo","oldDep","triggerEffects","dirtyLevel","tracking","createDep","cleanup","targetMap","ITERATE_KEY","MAP_KEY_ITERATE_KEY","track","target","type","depsMap","newValue","oldTarget","deps","newLength","key2","isNonTrackableKeys","builtInSymbols","arrayInstrumentations","createArrayInstrumentations","instrumentations","args","toRaw","BaseReactiveHandler","_isReadonly","_isShallow","receiver","isReadonly2","isShallow2","shallowReadonlyMap","readonlyMap","shallowReactiveMap","reactiveMap","targetIsArray","isRef","readonly","reactive","MutableReactiveHandler","isOldValueReadonly","isReadonly","isShallow","hadKey","result","ReadonlyReactiveHandler","mutableHandlers","readonlyHandlers","shallowReactiveHandlers","toShallow","getProto","get","rawTarget","rawKey","has2","wrap","toReadonly","toReactive","has","size","add","get2","deleteEntry","clear","hadItems","createForEach","callback","thisArg","observed","createIterableMethod","method","targetIsMap","isPair","isKeyOnly","innerIterator","done","createReadonlyMethod","createInstrumentations","mutableInstrumentations2","shallowInstrumentations2","readonlyInstrumentations2","shallowReadonlyInstrumentations2","mutableInstrumentations","readonlyInstrumentations","shallowInstrumentations","shallowReadonlyInstrumentations","createInstrumentationGetter","shallow","mutableCollectionHandlers","shallowCollectionHandlers","readonlyCollectionHandlers","targetTypeMap","rawType","getTargetType","createReactiveObject","shallowReactive","baseHandlers","collectionHandlers","proxyMap","existingProxy","targetType","proxy","isReactive","isProxy","raw","markRaw","ComputedRefImpl","getter","_setter","isSSR","triggerRefValue","self","trackRefValue","getterOrOptions","debugOptions","setter","onlyGetter","ref2","_a","newVal","oldVal","ref","createRef","rawValue","RefImpl","__v_isShallow","useDirectValue","unref","shallowUnwrapHandlers","proxyRefs","objectWithRefs","callWithErrorHandling","instance","err","handleError","callWithAsyncErrorHandling","values","throwInDev","contextVNode","cur","exposedInstance","errorInfo","errorCapturedHooks","appErrorHandler","logError","isFlushing","isFlushPending","queue","flushIndex","pendingPostFlushCbs","activePostFlushCbs","postFlushIndex","resolvedPromise","currentFlushPromise","nextTick","p","findInsertionIndex","id","start","end","middle","middleJob","middleJobId","getId","queueJob","job","queueFlush","flushJobs","invalidateJob","queuePostFlushCb","cb","flushPreFlushCbs","seen","flushPostFlushCbs","deduped","a","b","comparator","diff","currentRenderingInstance","currentScopeId","setCurrentRenderingInstance","prev","withCtx","ctx","isNonScopedSlot","renderFnWithContext","setBlockTracking","prevInstance","withDirectives","vnode","directives","getComponentPublicInstance","bindings","dir","modifiers","traverse","invokeDirectiveHook","prevVNode","oldBindings","binding","hook","setTransitionHooks","hooks","isAsyncWrapper","isKeepAlive","onActivated","registerKeepAliveHook","onDeactivated","currentInstance","wrappedHook","current","injectHook","injectToKeepAliveRoot","keepAliveRoot","injected","onUnmounted","prepend","reset","setCurrentInstance","createHook","lifecycle","isInSSRComponentSetup","onBeforeMount","onMounted","onBeforeUpdate","onUpdated","onBeforeUnmount","onServerPrefetch","onRenderTriggered","onRenderTracked","onErrorCaptured","NULL_DYNAMIC_COMPONENT","renderList","source","renderItem","index","cached","keys","getPublicInstance","isStatefulComponent","publicPropertiesMap","resolveMergedOptions","instanceWatch","hasSetupBinding","state","PublicInstanceProxyHandlers","setupState","data","props","accessCache","appContext","normalizedProps","shouldCacheAccess","publicGetter","cssModule","globalProperties","propsOptions","descriptor","normalizePropsOrEmits","applyOptions","options","publicThis","callHook","dataOptions","computedOptions","methods","watchOptions","provideOptions","injectOptions","created","beforeMount","mounted","beforeUpdate","updated","activated","deactivated","beforeDestroy","beforeUnmount","destroyed","unmounted","render","renderTracked","renderTriggered","errorCaptured","serverPrefetch","expose","inheritAttrs","components","filters","resolveInjections","methodHandler","opt","createWatcher","provides","provide","registerLifecycleHook","register","_hook","exposed","checkDuplicateProperties","normalizeInject","inject","h","createPathGetter","handler","watch","r","base","mixins","extendsOptions","globalMixins","optionMergeStrategies","resolved","m","mergeOptions","to","from","strats","asMixin","strat","internalOptionMergeStrats","mergeDataFn","mergeEmitsOrPropsOptions","mergeObjectOptions","mergeAsArray","mergeWatchOptions","mergeInject","merged","createAppContext","uid$1","createAppAPI","hydrate","rootComponent","rootProps","context","installedPlugins","isMounted","app","version","plugin","mixin","component","directive","rootContainer","isHydrate","namespace","createVNode","lastApp","currentApp","parentProvides","defaultValue","treatDefaultAsFactory","internalObjectProto","createInternalObject","isInternalObject","initProps","rawProps","isStateful","attrs","setFullProps","updateProps","rawPrevProps","optimized","patchFlag","rawCurrentProps","hasAttrsChanged","propsToUpdate","isEmitListener","camelizedKey","resolvePropValue","kebabKey","needCastKeys","rawCastValues","camelKey","castValues","isAbsent","hasDefault","propsDefaults","mixinPropsCache","normalizePropsOptions","comp","hasExtends","extendProps","raw2","normalizedKey","validatePropName","prop","propType","shouldCast","shouldCastTrue","typeName","isInternalKey","normalizeSlotValue","normalizeVNode","normalizeSlot","rawSlot","normalizeObjectSlots","rawSlots","slots","normalizeVNodeSlots","children","assignSlots","initSlots","updateSlots","needDeletionCheck","deletionComparisonTarget","setRef","rawRef","oldRawRef","parentSuspense","isUnmount","refValue","owner","oldRef","refs","_isString","_isRef","doSet","existing","queuePostRenderEffect","TeleportEndKey","isTeleport","queueEffectWithSuspense","createRenderer","baseCreateRenderer","createHydrationFns","hostInsert","hostRemove","hostPatchProp","hostCreateElement","hostCreateText","hostCreateComment","hostSetText","hostSetElementText","hostParentNode","hostNextSibling","hostSetScopeId","hostInsertStaticContent","patch","n1","n2","container","anchor","parentComponent","slotScopeIds","isSameVNodeType","getNextHostNode","unmount","shapeFlag","Text","processText","Comment","processCommentNode","Static","mountStaticNode","Fragment","processFragment","processElement","processComponent","internals","moveStaticNode","nextSibling","next","removeStaticNode","mountElement","patchElement","vnodeHook","transition","dirs","mountChildren","resolveChildrenNamespace","setScopeId","invokeVNodeHook","needCallTransitionHooks","needTransition","scopeId","subTree","parentVNode","child","cloneIfMounted","dynamicChildren","oldProps","newProps","toggleRecurse","patchBlockChildren","patchChildren","patchProps","oldChildren","newChildren","fallbackContainer","oldVNode","newVNode","fragmentStartAnchor","fragmentEndAnchor","fragmentSlotScopeIds","traverseStaticChildren","mountComponent","updateComponent","initialVNode","createComponentInstance","setupComponent","setupRenderEffect","placeholder","shouldUpdateComponent","updateComponentPreRender","componentUpdateFn","bu","u","parent","nonHydratedAsyncRoot","locateNonHydratedAsyncRoot","originNext","nextTree","renderComponentRoot","prevTree","updateHOCHostEl","bm","isAsyncWrapperVNode","hydrateNode","hydrateSubTree","scopedInitialVNode","update","nextVNode","prevProps","c1","prevShapeFlag","c2","patchKeyedChildren","patchUnkeyedChildren","unmountChildren","oldLength","commonLength","nextChild","parentAnchor","l2","e1","e2","nextPos","s1","s2","keyToNewIndexMap","j","patched","toBePatched","moved","maxNewIndexSoFar","newIndexToOldIndexMap","prevChild","newIndex","increasingNewIndexSequence","getSequence","nextIndex","move","moveType","leave","delayLeave","afterLeave","remove2","performLeave","doRemove","cacheIndex","shouldInvokeDirs","shouldInvokeVnodeHook","unmountComponent","removeFragment","performRemove","bum","um","invalidateMount","teleportEnd","currentNamespace","allowed","ch1","ch2","len","arrI","subComponent","ssrContextKey","useSSRContext","INITIAL_WATCHER_VALUE","doWatch","immediate","deep","flush","once","onTrack","onTrigger","_cb","unwatch","reactiveGetter","source2","forceTrigger","isMultiSource","s","onCleanup","baseGetter","ssrCleanup","path","segments","depth","getModelModifiers","modelName","emit","event","rawArgs","handlerName","onceHandler","normalizeEmitsOptions","extendEmits","normalizedFromExtend","Component","withProxy","renderCache","fallthroughAttrs","proxyToUse","thisProxy","render2","getFunctionalFallthrough","blockStack","root","filterModelListeners","cloneVNode","prevChildren","nextProps","nextChildren","emits","hasPropsChanged","dynamicProps","emitsOptions","nextKeys","isSuspense","suspense","currentBlock","openBlock","disableTracking","closeBlock","isBlockTreeEnabled","setupBlock","createElementBlock","createBaseVNode","isVNode","normalizeKey","normalizeRef","ref_key","ref_for","ref3","isBlockNode","needFullChildrenNormalization","normalizeChildren","_createVNode","cloned","isClassComponent","guardReactiveProps","klass","style","extraProps","mergeRef","cloneTransition","mergedProps","mergeProps","createTextVNode","text","flag","slot","slotFlag","toMerge","incoming","emptyAppContext","uid","internalSetCurrentInstance","setInSSRSetupState","g","registerGlobalSetter","setters","unsetCurrentInstance","setupResult","setupStatefulComponent","setup","setupContext","createSetupContext","resolvedResult","handleSetupResult","e","finishComponentSetup","compile","skipOptions","template","isCustomElement","compilerOptions","delimiters","componentCompilerOptions","finalCompilerOptions","attrsProxyHandlers","computed$1","svgNS","mathmlNS","doc","templateContainer","nodeOps","tag","is","node","selector","content","before","wrapper","vtcKey","patchClass","isSVG","transitionClasses","vShowOriginalDisplay","vShowHidden","vShow","setDisplay","CSS_VAR_TEXT","displayRE","patchStyle","isCssString","hasControlledDisplay","prevStyle","setStyle","cssVarText","importantRE","prefixed","autoPrefix","prefixes","prefixCache","rawName","xlinkNS","patchAttr","isBoolean","patchDOMProp","needRemove","addEventListener","removeEventListener","veiKey","patchEvent","prevValue","nextValue","invokers","existingInvoker","parseName","invoker","createInvoker","optionsModifierRE","cachedNow","getNow","initialValue","patchStopImmediatePropagation","originalStop","isNativeOn","patchProp","shouldSetAsProp","rendererOptions","renderer","ensureRenderer","createApp","mount","containerOrSelector","normalizeContainer","resolveRootNamespace","__viteBrowserExternal","undefined","require$$0","window","document","Base","hidden","array","slice","create","describe","define","forEach","iter","bind","forIn","dst","src","each","desc","dest","enumerable","beans","preserve","beansNames","field","isFunc","bean","part","statics","ctor","proto","list","begin","module","Formatter","json","exclude","obj1","obj2","length","amount","readIndex","filtered","entry","hasValue","that","read","prioritize","processed","handleKey","asString","compact","dictionary","isRoot","_data","_setDictionary","_isRoot","isFirst","hasDictionary","isDictionary","useTarget","Item","Layer","items","itemsLength","startLength","append","removed","match","chr","Emitter","func","types","handlers","setTarget","install","events","PaperScope","paper","CanvasProvider","BlendMode","user","os","platform","agent","v1","v2","rv","project","code","exports","View","element","Project","width","height","projects","tools","handleAttribute","attr","PaperScopeItem","activate","CollisionDetection","items1","items2","tolerance","getBounds","bounds","rect","bounds1","bounds2","curves1","curves2","bothAxis","curves","min","max","hor","ver","boundsA","boundsB","sweepVertical","onlySweepAxisCollisions","allBounds","lengthA","lengthAll","binarySearch","indices","coord","lo","hi","mid","pri0","pri1","sec0","sec1","allIndicesByPri0","i1","i2","activeIndicesByPri1","allCollisions","curIndex","curBounds","origIndex","isCurrentA","isCurrentB","curCollisions","pruneCount","activeIndex","curSec1","curSec0","activeBounds","isActiveA","isActiveB","curPri1","collisions","precision","val1","val2","separator","Numerical","abscissas","weights","abs","sqrt","pow","log2","x","EPSILON","MACHINE_EPSILON","clamp","getDiscriminant","split","y","D","E","ad","bd","cd","dp","q","dq","getNormalizationFactor","norm","f","w","A","B","sum","Ax","df","fx","dx","nx","roots","x1","x2","Q","R","count","boundless","minB","maxB","d","b1","qd","evaluate","x0","t","td","rd","UID","pool","Point","arg0","arg1","reading","hasY","point","angle","scale","div","squared","center","sin","cos","matrix","Rectangle","isZero","point1","point2","y1","y2","op","LinkedPoint","_dontNotify","selected","Size","hasHeight","size1","size2","LinkedSize","arg2","arg3","frm","rt","_dontLink","sx","sy","left","top","right","bottom","epsilon","parts","xFirst","getX","getY","setX","setY","LinkedRectangle","internal","Matrix","ok","tx","ty","mx","recursively","_setApplyMatrix","shear","skew","toRadians","a1","d1","a2","b2","d2","tx2","ty2","tx1","ty1","det","coords","atan2","degrees","rotate","Line","arg4","asVector","line","isInfinite","p1x","p1y","v1x","v1y","p2x","p2y","v2x","v2y","cross","dy","u1","u2","uMin","uMax","px","py","vx","vy","ccw","Style","flags","view","changes","changesById","definitions","ids","SymbolItem","definition","selectionItems","selection","layer","_created","sets","other","pixelRatio","param","hasProps","settings","serialize","fields","Group","symbol","cacheParent","namedChildren","clipMask","position","pivot","hasMatrix","opts","_matrix","noInternal","cacheItem","cacheKey","nonscaling","decomposed","rotation","scaling","_dontClone","parents","apply","installEvents","_installEvents","copy","insert","orig","excludeMatrix","resolution","raster","Raster","topLeft","bottomRight","boundsSize","rasterSize","Path","hitTest","HitResult","hitTestAll","all","hitTestChildren","viewMatrix","_exclude","parentViewMatrix","tolerancePadding","checkSelf","filter","hit","checkPoint","pt","checkPosition","checkCenter","checkBounds","points","compare","matchObject","_getItems","firstOnly","overlapping","inside","childMatrix","inserted","notifySelf","offset","namedArray","notifyParent","numChildren","getList","list1","list2","_applyRecursively","transformMatrix","applyMatrix","fillColor","strokeColor","decomp","applyRecursively","setApplyMatrix","rectangle","fill","itemRatio","rectRatio","newBounds","strokeJoin","strokeCap","miterLimit","dashArray","dashOffset","blur","parentStrokeMatrix","matrices","globalMatrix","blendMode","opacity","normalBlend","nativeBlend","direct","mainCtx","itemOffset","prevOffset","strokeMatrix","clip","transform","updateVersion","CompoundPath","itemSelected","boundsSelected","positionSelected","color","half","pos","deltas","delta","hash","easing","duration","tween","Tween","onFrame","_changed","clipItem","clipped","_getBounds","_hitTestChildren","isInserted","Shape","rad","radius","hasFill","hasStroke","dontPaint","untransformed","isCircle","rx","ry","kappa","cx","cy","strokeWidth","getCornerCenter","expand","halfSize","corner","isOnEllipseStroke","padding","quadrant","vector","_contains","_hitTestSelf","hitStroke","hitFill","strokeRadius","strokePadding","outer","inner","createShape","ellipse","image","object","canvas","copyCanvas","_size","_clear","Event","DomEvent","_change","crossOrigin","smoothing","PathItem","sampleSize","pixels","channels","total","alpha","Color","imageData","disabled","DomElement","SymbolDefinition","dontCenter","_dontCenter","Segment","arg5","handleIn","handleOut","SegmentPoint","curve","oldSelection","CurveLocation","_first","_last","factor","p0","p1","p2","d1_a","d1_2a","d2_a","d2_2a","N","k","segment","handleIn1","handleIn2","handleOut2","handleOut1","change","Curve","arg6","arg7","seg1","seg2","handle1","handle2","segment2","location","time","_setHandles","tMin","tMax","setHandles","isTime","segment1","straight","h1","h2","y0","x3","y3","x4","y4","x5","y5","x6","y6","x7","y7","x8","y8","x9","y9","io","o0","o1","o2","o3","v0","v3","p3","geomEpsilon","minDist","minT","refine","dist","step","flip","flatness","ux","uy","minPad","maxPad","third","test","_isTime","tangent","loc","getLengthIntegrand","ax","bx","ay","by","getIterations","a3","d3","serpentine","t1","t2","hasRoots","t1Ok","t2Ok","f1","f2","ds","forward","rangeLength","guess","addLocation","locations","include","overlap","excludeStart","excludeEnd","loc1","loc2","addCurveIntersections","recursion","calls","fatLineEpsilon","q0x","q0y","q3x","q3y","getSignedDistance","dMin","dMax","dp0","dp1","dp2","dp3","hull","getConvexHull","tMinClip","tMaxClip","clipConvexHull","tMinNew","tMaxNew","uDiff","dq0","dq1","dq2","dq3","dist1","dist2","distRatio","hullTop","hullBottom","clipConvexHullPart","threshold","qx","qy","getCurveLineIntersections","addCurveLineIntersections","addLineIntersection","getCurveIntersections","overlaps","getOverlaps","straight1","straight2","getSelfIntersection","info","getIntersections","matrix1","matrix2","_returnFirst","length1","length2","values1","values2","boundsCollisions","index1","curve1","collisions1","index2","curve2","getSquaredLineLength","getDistance","timeEpsilon","straightBoth","l1","pairs","pair","getTimesWithTangent","den","times","num","t0","_overlap","_distance","trySegment","_ignoreOther","inter","t1Inside","t2Inside","c4","c3","offsets","addOffsets","isInRange","v4","a4","merge","search","found","path1","path2","expanded","compound","first","clockwise","relative","previous","control","getCoord","getPoint","command","lower","winding","minLoc","isPath","itemsFrom","itemsTo","paths1","paths2","matched","boundsOverlaps","pathBoundsOverlaps","fullySelected","closed","_precision","curX","curY","prevX","prevY","inX","inY","outX","outY","addSegment","skipLine","segs","_includeCurves","area","setSelection","newSelection","last1","last2","first2","first1","simplify","flattener","PathFlattener","PathFitter","getIndex","_default","loop","asymmetric","paddingLeft","paddingRight","knots","n_1","rf","hx","hy","topCenter","isCollinear","seg3","seg4","isOrthogonal","isArc","pt1","pt2","shape","pos1","pos2","end1","end2","start2","numSegments","join","cap","hitCurves","isCloseEnough","checkSegmentPoint","seg","checkSegmentPoints","ends","addToArea","checkSegmentStroke","isJoin","curveStart","curveTimes","drawHandles","miniSize","miniHalf","pX","pY","drawHandle","hX","hY","fillStyle","drawSegments","drawSegment","handle","dontStart","dashLength","getOffset","getCurrentSegment","through","peek","extent","large","rxSq","rySq","xSq","ySq","throughSide","centerSide","ext","inc","z","out","_in","parameter","prevCoords","processSegment","stroke","joinBounds","addPoint","addRound","addJoin","addCap","phi","tan","isArea","normal1","normal2","normal","joinPadding","joinRadius","paddingX","paddingY","xn","xx","yn","yx","ellipseSegments","createPath","createEllipse","bl","tl","tr","br","sides","three","radius1","radius2","insertChildren","reduce","paths","getCurrentPath","check","operators","getPaths","preparePath","resolve","createResult","filterIntersection","traceBoolean","operation","splitBoolean","_path1","_path2","operator","crossings","divideLocations","collectPaths","getCurves","curvesValues","curveCollisions","curveCollisionsMap","map","propagateWinding","tracePaths","reorientPaths","subtract","divide","added","addPath","linkIntersections","clearCurveHandles","isInside","lookup","sorted","entry1","containerWinding","entry2","clearLater","results","clearHandles","clearCurves","clearLookup","renormalizeLocs","prevCurve","prevTime","origTime","newCurve","getWinding","dontFlip","curvesList","ia","pv","pa","po","windingEpsilon","qualityEpsilon","paL","paR","windingL","windingR","pathWindingL","pathWindingR","onPath","onAnyPath","quality","vPrev","vClose","addWinding","a0","windingPrev","a3Prev","handleCurve","monoCurves","chain","totalLength","curveLength","operand","wind","otherPath","pathWinding","starts","isValid","isStart","visitPath","getCrossingSegments","collectStarts","collect","nextInter","inter1","inter2","over1","over2","valid","finished","branches","branch","visited","hasOverlap","hasOverlaps","hasCrossings","intersections","nonZero","intercepts","mv","mo0","mo3","maxRecursion","ignoreStraight","minSpan","addCurve","computeParts","halves","tMid","error","tan1","tan2","uPrime","maxError","parametersInOrder","tanCenter","C","X","b0","b3","detC0C1","alpha1","alpha2","detC0X","detXC1","c0","segLength","eps","degree","maxDist","P","TextItem","PointText","lines","leading","shadowColor","numLines","justification","componentParsers","namedColors","colorCtx","fromCSS","string","isHSL","unit","hsbIndices","converters","achromatic","t3s","t3","properties","parser","Gradient","argType","converted","parsers","converter","col","isGradient","hex","convert","gradient","stops","origin","destination","highlight","inverse","canvasGradient","stop","random","components1","components2","radial","_stops","GradientStop","stops1","stops2","itemDefaults","groupDefaults","textDefaults","_owner","_project","isColor","isPoint","applyToChildren","old","_dontMerge","childValue","isStyle","style1","style2","secondary","defaults2","value1","value2","fontSize","getLeading","handlePrefix","suffix","prefix","viewport","body","html","nativeRequest","requested","callbacks","timer","handleCallbacks","functions","getSize","getCanvasSize","none","stats","autoUpdate","now","animate","temp","font","zoom","CanvasView","prevFocus","tempFocus","dragging","mouseDown","getView","updateFocus","handleMouseMove","navigator","mousedown","mousemove","mouseup","viewEvents","docEvents","called","prevented","fallbacks","wasInView","downPoint","lastPoint","downItem","overItem","dragItem","clickItem","clickTime","dblClick","emitMouseEvent","prevPoint","stopItem","stopped","mouseEvent","MouseEvent","fallback","emitMouseEvents","hitItem","itemEventsMap","itemEvents","hitItems","nativeMove","tool","responds","inView","mouse","character","keyEvent","KeyEvent","sign","native","virtual","deviceRatio","backingStoreRatio","_setElementSize","getPixelSize","prevFont","Key","keyLookup","charLookup","keyMap","charMap","metaFixMap","downKey","getKey","down","ToolEvent","toolPoint","middlePoint","Tool","minDistance","maxDistance","distance","then","progress","getValue","startTime","parsed","Http","xhr","status","message","sr","sg","sb","sa","bg","bb","ba","dr","dg","db","getLum","setLum","mn","lmn","ln","mxl","getSat","setSat","md","modes","nativeModes","mode","darken","srcContext","dstContext","srcCanvas","process","dstData","SvgElement","svg","xmlns","xlink","attributeNamespace","attributes","formatter","SvgStyles","getTransform","coordinates","trans","exportGroup","childNode","exportSVG","setDefinition","exportRaster","exportPath","matchShapes","exportShape","exportCompoundPath","exportSymbolItem","getDefinition","definitionItem","exportGradient","gradientNode","stopColor","exportText","exporters","applyStyle","typeId","exportDefinitions","defs","exporter","onExport","setOptions","rootSize","allowNull","allowPercent","defaultX","defaultY","convertValue","importGroup","nodes","isClip","isDefs","currentStyle","applyAttributes","importNode","importPoly","importPath","importGradient","scaleToBounds","importers","applyTransform","transforms","applyOpacity","percent","styles","group","getAttribute","isElement","insertItems","importer","onImport","importSVG","onLoad","onError","reader","global","acorn","require","mod","input","inputLen","sourceFile","inpt","initTokenState","parseTopLevel","defaultOptions","getLineInfo","lineBreak","getToken","forceRegexp","lastEnd","tokEnd","readToken","tokStart","tokStartLoc","tokEndLoc","tokType","tokVal","reAllowed","tokPos","tokCurLine","tokLineStart","tokRegexpAllowed","skipSpace","lastStart","lastEndLoc","inFunction","labels","strict","raise","empty","_num","_regexp","_string","_name","_eof","_break","_case","_catch","_continue","_debugger","_do","_else","_finally","_for","_function","_if","_return","_switch","_throw","_try","_var","_while","_with","_new","_this","_null","_true","_false","keywordTypes","_bracketL","_bracketR","_braceL","_braceR","_parenL","_parenR","_comma","_semi","_colon","_dot","_question","_slash","_eq","_assign","_incDec","_prefix","_logicalOR","_logicalAND","_bitwiseOR","_bitwiseXOR","_bitwiseAND","_equality","_relational","_bitShift","_plusMin","_multiplyModulo","kw","makePredicate","words","cats","compareTo","cat","isReservedWord3","isReservedWord5","isStrictReservedWord","isStrictBadIdWord","isKeyword","nonASCIIwhitespace","nonASCIIidentifierStartChars","nonASCIIidentifierChars","nonASCIIidentifierStart","nonASCIIidentifier","newline","isIdentifierStart","isIdentifierChar","line_loc_t","finishToken","skipBlockComment","startLoc","skipLineComment","ch","readToken_dot","readNumber","readToken_slash","readRegexp","finishOp","readToken_mult_modulo","readToken_pipe_amp","readToken_caret","readToken_plus_min","readToken_lt_gt","readToken_eq_excl","getTokenFromCode","readHexNumber","readString","readWord","tok","escaped","inClass","mods","readWord1","readInt","radix","startsWithDot","isFloat","octal","quote","readHexChar","containsEsc","word","esc","escStr","setStrict","strct","node_t","node_loc_t","startNode","startNodeFrom","finishNode","isUseStrict","stmt","eat","canInsertSemicolon","semicolon","unexpected","expect","checkLVal","expr","program","parseStatement","loopLabel","switchLabel","starttype","isBreak","parseIdent","lab","parseParenExpression","parseFor","init","parseVar","parseForIn","parseExpression","parseFunction","sawDefault","isCase","parseBlock","clause","maybeName","kind","allowStrict","oldStrict","noIn","decl","noComma","parseMaybeAssign","parseMaybeConditional","parseExprOps","parseExprOp","parseMaybeUnary","minPrec","prec","exprNode","parseExprSubscripts","parseSubscripts","parseExprAtom","noCalls","parseExprList","tokStartLoc1","tokStart1","parseObj","parseNew","sawGetSet","parsePropertyName","isGetSet","conflict","isStatement","oldInFunc","oldLabels","close","allowTrailingComma","allowEmpty","elts","liberal","parse","binaryOperators","unaryOperators","__$__","$__","insertions","insertion","getCode","getBetween","replaceCode","handleOverloading","between","parentType","exp","handleExports","declaration","specifiers","declarations","dec","specifier","walkAST","paperFeatures","encodeVLQ","base64","url","sourceMaps","offsetCode","lineBreaks","mappings","execute","toolHandlers","params","compiled","script","head","loadScript","canvasId","async","scopeAttribute","loadAll","load","require$$2","this","mitt","emitter","bufferToBase64","buffer","uint8Array","binary","electronAPI","getImage","exportImageInfo","isTop","originalImageData","moveConditions","toolBarPosition","toolBarVisible","toolBarRef","toolBar","printBoundsInfo","leftTop","fontsize","insertControlSegment","rightTop","leftBottom","rightBottom","createControlPoint","updateToolBarPosition","toolBarWidth","toolBarHeight","clientHeight","pathBottom","createToolBar","createClipRect","controlPointSegmentMap","controlPoint","xHalf","yHalf","App"],"mappings":"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","x_google_ignoreList":[0,1,2,3,5,6]}